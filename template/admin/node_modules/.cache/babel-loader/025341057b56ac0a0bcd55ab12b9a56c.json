{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/pages/order/orderList/handle/orderSend.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/pages/order/orderList/handle/orderSend.vue","mtime":1689324015243},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/babel.config.js","mtime":1689324015052},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/.babelrc","mtime":1689324015050},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5hc3luYy1pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC50by1zdHJpbmctdGFnLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi50by1zdHJpbmctdGFnLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubWF0aC50by1zdHJpbmctdGFnLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1wcm90b3R5cGUtb2YuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5lcnJvci5jYXVzZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Quc2V0LXByb3RvdHlwZS1vZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0IF90eXBlb2YgZnJvbSAiL1ZvbHVtZXMvbWFjL3dlYndvcmsvMjAyMy9kYXRpL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AdnVlL2JhYmVsLXByZXNldC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZi5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVm9sdW1lcy9tYWMvd2Vid29yay8yMDIzL2RhdGkvdGVtcGxhdGUvYWRtaW4vbm9kZV9tb2R1bGVzL0B2dWUvYmFiZWwtcHJlc2V0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmZ1bmN0aW9uIF9yZWdlbmVyYXRvclJ1bnRpbWUoKSB7ICJ1c2Ugc3RyaWN0IjsgLyohIHJlZ2VuZXJhdG9yLXJ1bnRpbWUgLS0gQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuIC0tIGxpY2Vuc2UgKE1JVCk6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9ibG9iL21haW4vTElDRU5TRSAqLyBfcmVnZW5lcmF0b3JSdW50aW1lID0gZnVuY3Rpb24gX3JlZ2VuZXJhdG9yUnVudGltZSgpIHsgcmV0dXJuIGV4cG9ydHM7IH07IHZhciBleHBvcnRzID0ge30sIE9wID0gT2JqZWN0LnByb3RvdHlwZSwgaGFzT3duID0gT3AuaGFzT3duUHJvcGVydHksIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5IHx8IGZ1bmN0aW9uIChvYmosIGtleSwgZGVzYykgeyBvYmpba2V5XSA9IGRlc2MudmFsdWU7IH0sICRTeW1ib2wgPSAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgPyBTeW1ib2wgOiB7fSwgaXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLml0ZXJhdG9yIHx8ICJAQGl0ZXJhdG9yIiwgYXN5bmNJdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuYXN5bmNJdGVyYXRvciB8fCAiQEBhc3luY0l0ZXJhdG9yIiwgdG9TdHJpbmdUYWdTeW1ib2wgPSAkU3ltYm9sLnRvU3RyaW5nVGFnIHx8ICJAQHRvU3RyaW5nVGFnIjsgZnVuY3Rpb24gZGVmaW5lKG9iaiwga2V5LCB2YWx1ZSkgeyByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCB9KSwgb2JqW2tleV07IH0gdHJ5IHsgZGVmaW5lKHt9LCAiIik7IH0gY2F0Y2ggKGVycikgeyBkZWZpbmUgPSBmdW5jdGlvbiBkZWZpbmUob2JqLCBrZXksIHZhbHVlKSB7IHJldHVybiBvYmpba2V5XSA9IHZhbHVlOyB9OyB9IGZ1bmN0aW9uIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHsgdmFyIHByb3RvR2VuZXJhdG9yID0gb3V0ZXJGbiAmJiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvciA/IG91dGVyRm4gOiBHZW5lcmF0b3IsIGdlbmVyYXRvciA9IE9iamVjdC5jcmVhdGUocHJvdG9HZW5lcmF0b3IucHJvdG90eXBlKSwgY29udGV4dCA9IG5ldyBDb250ZXh0KHRyeUxvY3NMaXN0IHx8IFtdKTsgcmV0dXJuIGRlZmluZVByb3BlcnR5KGdlbmVyYXRvciwgIl9pbnZva2UiLCB7IHZhbHVlOiBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpIH0pLCBnZW5lcmF0b3I7IH0gZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIG9iaiwgYXJnKSB7IHRyeSB7IHJldHVybiB7IHR5cGU6ICJub3JtYWwiLCBhcmc6IGZuLmNhbGwob2JqLCBhcmcpIH07IH0gY2F0Y2ggKGVycikgeyByZXR1cm4geyB0eXBlOiAidGhyb3ciLCBhcmc6IGVyciB9OyB9IH0gZXhwb3J0cy53cmFwID0gd3JhcDsgdmFyIENvbnRpbnVlU2VudGluZWwgPSB7fTsgZnVuY3Rpb24gR2VuZXJhdG9yKCkge30gZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fSBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9IHZhciBJdGVyYXRvclByb3RvdHlwZSA9IHt9OyBkZWZpbmUoSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KTsgdmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mLCBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvICYmIGdldFByb3RvKGdldFByb3RvKHZhbHVlcyhbXSkpKTsgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgJiYgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgIT09IE9wICYmIGhhc093bi5jYWxsKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCkgJiYgKEl0ZXJhdG9yUHJvdG90eXBlID0gTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUpOyB2YXIgR3AgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPSBHZW5lcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSk7IGZ1bmN0aW9uIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhwcm90b3R5cGUpIHsgWyJuZXh0IiwgInRocm93IiwgInJldHVybiJdLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkgeyBkZWZpbmUocHJvdG90eXBlLCBtZXRob2QsIGZ1bmN0aW9uIChhcmcpIHsgcmV0dXJuIHRoaXMuX2ludm9rZShtZXRob2QsIGFyZyk7IH0pOyB9KTsgfSBmdW5jdGlvbiBBc3luY0l0ZXJhdG9yKGdlbmVyYXRvciwgUHJvbWlzZUltcGwpIHsgZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpIHsgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGdlbmVyYXRvclttZXRob2RdLCBnZW5lcmF0b3IsIGFyZyk7IGlmICgidGhyb3ciICE9PSByZWNvcmQudHlwZSkgeyB2YXIgcmVzdWx0ID0gcmVjb3JkLmFyZywgdmFsdWUgPSByZXN1bHQudmFsdWU7IHJldHVybiB2YWx1ZSAmJiAib2JqZWN0IiA9PSBfdHlwZW9mKHZhbHVlKSAmJiBoYXNPd24uY2FsbCh2YWx1ZSwgIl9fYXdhaXQiKSA/IFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUuX19hd2FpdCkudGhlbihmdW5jdGlvbiAodmFsdWUpIHsgaW52b2tlKCJuZXh0IiwgdmFsdWUsIHJlc29sdmUsIHJlamVjdCk7IH0sIGZ1bmN0aW9uIChlcnIpIHsgaW52b2tlKCJ0aHJvdyIsIGVyciwgcmVzb2x2ZSwgcmVqZWN0KTsgfSkgOiBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uICh1bndyYXBwZWQpIHsgcmVzdWx0LnZhbHVlID0gdW53cmFwcGVkLCByZXNvbHZlKHJlc3VsdCk7IH0sIGZ1bmN0aW9uIChlcnJvcikgeyByZXR1cm4gaW52b2tlKCJ0aHJvdyIsIGVycm9yLCByZXNvbHZlLCByZWplY3QpOyB9KTsgfSByZWplY3QocmVjb3JkLmFyZyk7IH0gdmFyIHByZXZpb3VzUHJvbWlzZTsgZGVmaW5lUHJvcGVydHkodGhpcywgIl9pbnZva2UiLCB7IHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShtZXRob2QsIGFyZykgeyBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHsgcmV0dXJuIG5ldyBQcm9taXNlSW1wbChmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KTsgfSk7IH0gcmV0dXJuIHByZXZpb3VzUHJvbWlzZSA9IHByZXZpb3VzUHJvbWlzZSA/IHByZXZpb3VzUHJvbWlzZS50aGVuKGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLCBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZykgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpOyB9IH0pOyB9IGZ1bmN0aW9uIG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCkgeyB2YXIgc3RhdGUgPSAic3VzcGVuZGVkU3RhcnQiOyByZXR1cm4gZnVuY3Rpb24gKG1ldGhvZCwgYXJnKSB7IGlmICgiZXhlY3V0aW5nIiA9PT0gc3RhdGUpIHRocm93IG5ldyBFcnJvcigiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZyIpOyBpZiAoImNvbXBsZXRlZCIgPT09IHN0YXRlKSB7IGlmICgidGhyb3ciID09PSBtZXRob2QpIHRocm93IGFyZzsgcmV0dXJuIGRvbmVSZXN1bHQoKTsgfSBmb3IgKGNvbnRleHQubWV0aG9kID0gbWV0aG9kLCBjb250ZXh0LmFyZyA9IGFyZzs7KSB7IHZhciBkZWxlZ2F0ZSA9IGNvbnRleHQuZGVsZWdhdGU7IGlmIChkZWxlZ2F0ZSkgeyB2YXIgZGVsZWdhdGVSZXN1bHQgPSBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTsgaWYgKGRlbGVnYXRlUmVzdWx0KSB7IGlmIChkZWxlZ2F0ZVJlc3VsdCA9PT0gQ29udGludWVTZW50aW5lbCkgY29udGludWU7IHJldHVybiBkZWxlZ2F0ZVJlc3VsdDsgfSB9IGlmICgibmV4dCIgPT09IGNvbnRleHQubWV0aG9kKSBjb250ZXh0LnNlbnQgPSBjb250ZXh0Ll9zZW50ID0gY29udGV4dC5hcmc7ZWxzZSBpZiAoInRocm93IiA9PT0gY29udGV4dC5tZXRob2QpIHsgaWYgKCJzdXNwZW5kZWRTdGFydCIgPT09IHN0YXRlKSB0aHJvdyBzdGF0ZSA9ICJjb21wbGV0ZWQiLCBjb250ZXh0LmFyZzsgY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZyk7IH0gZWxzZSAicmV0dXJuIiA9PT0gY29udGV4dC5tZXRob2QgJiYgY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGNvbnRleHQuYXJnKTsgc3RhdGUgPSAiZXhlY3V0aW5nIjsgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpOyBpZiAoIm5vcm1hbCIgPT09IHJlY29yZC50eXBlKSB7IGlmIChzdGF0ZSA9IGNvbnRleHQuZG9uZSA/ICJjb21wbGV0ZWQiIDogInN1c3BlbmRlZFlpZWxkIiwgcmVjb3JkLmFyZyA9PT0gQ29udGludWVTZW50aW5lbCkgY29udGludWU7IHJldHVybiB7IHZhbHVlOiByZWNvcmQuYXJnLCBkb25lOiBjb250ZXh0LmRvbmUgfTsgfSAidGhyb3ciID09PSByZWNvcmQudHlwZSAmJiAoc3RhdGUgPSAiY29tcGxldGVkIiwgY29udGV4dC5tZXRob2QgPSAidGhyb3ciLCBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmcpOyB9IH07IH0gZnVuY3Rpb24gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCkgeyB2YXIgbWV0aG9kTmFtZSA9IGNvbnRleHQubWV0aG9kLCBtZXRob2QgPSBkZWxlZ2F0ZS5pdGVyYXRvclttZXRob2ROYW1lXTsgaWYgKHVuZGVmaW5lZCA9PT0gbWV0aG9kKSByZXR1cm4gY29udGV4dC5kZWxlZ2F0ZSA9IG51bGwsICJ0aHJvdyIgPT09IG1ldGhvZE5hbWUgJiYgZGVsZWdhdGUuaXRlcmF0b3IucmV0dXJuICYmIChjb250ZXh0Lm1ldGhvZCA9ICJyZXR1cm4iLCBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZCwgbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCksICJ0aHJvdyIgPT09IGNvbnRleHQubWV0aG9kKSB8fCAicmV0dXJuIiAhPT0gbWV0aG9kTmFtZSAmJiAoY29udGV4dC5tZXRob2QgPSAidGhyb3ciLCBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJyIgKyBtZXRob2ROYW1lICsgIicgbWV0aG9kIikpLCBDb250aW51ZVNlbnRpbmVsOyB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2gobWV0aG9kLCBkZWxlZ2F0ZS5pdGVyYXRvciwgY29udGV4dC5hcmcpOyBpZiAoInRocm93IiA9PT0gcmVjb3JkLnR5cGUpIHJldHVybiBjb250ZXh0Lm1ldGhvZCA9ICJ0aHJvdyIsIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZywgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGwsIENvbnRpbnVlU2VudGluZWw7IHZhciBpbmZvID0gcmVjb3JkLmFyZzsgcmV0dXJuIGluZm8gPyBpbmZvLmRvbmUgPyAoY29udGV4dFtkZWxlZ2F0ZS5yZXN1bHROYW1lXSA9IGluZm8udmFsdWUsIGNvbnRleHQubmV4dCA9IGRlbGVnYXRlLm5leHRMb2MsICJyZXR1cm4iICE9PSBjb250ZXh0Lm1ldGhvZCAmJiAoY29udGV4dC5tZXRob2QgPSAibmV4dCIsIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkKSwgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGwsIENvbnRpbnVlU2VudGluZWwpIDogaW5mbyA6IChjb250ZXh0Lm1ldGhvZCA9ICJ0aHJvdyIsIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcigiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3QiKSwgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGwsIENvbnRpbnVlU2VudGluZWwpOyB9IGZ1bmN0aW9uIHB1c2hUcnlFbnRyeShsb2NzKSB7IHZhciBlbnRyeSA9IHsgdHJ5TG9jOiBsb2NzWzBdIH07IDEgaW4gbG9jcyAmJiAoZW50cnkuY2F0Y2hMb2MgPSBsb2NzWzFdKSwgMiBpbiBsb2NzICYmIChlbnRyeS5maW5hbGx5TG9jID0gbG9jc1syXSwgZW50cnkuYWZ0ZXJMb2MgPSBsb2NzWzNdKSwgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpOyB9IGZ1bmN0aW9uIHJlc2V0VHJ5RW50cnkoZW50cnkpIHsgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb24gfHwge307IHJlY29yZC50eXBlID0gIm5vcm1hbCIsIGRlbGV0ZSByZWNvcmQuYXJnLCBlbnRyeS5jb21wbGV0aW9uID0gcmVjb3JkOyB9IGZ1bmN0aW9uIENvbnRleHQodHJ5TG9jc0xpc3QpIHsgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiAicm9vdCIgfV0sIHRyeUxvY3NMaXN0LmZvckVhY2gocHVzaFRyeUVudHJ5LCB0aGlzKSwgdGhpcy5yZXNldCghMCk7IH0gZnVuY3Rpb24gdmFsdWVzKGl0ZXJhYmxlKSB7IGlmIChpdGVyYWJsZSkgeyB2YXIgaXRlcmF0b3JNZXRob2QgPSBpdGVyYWJsZVtpdGVyYXRvclN5bWJvbF07IGlmIChpdGVyYXRvck1ldGhvZCkgcmV0dXJuIGl0ZXJhdG9yTWV0aG9kLmNhbGwoaXRlcmFibGUpOyBpZiAoImZ1bmN0aW9uIiA9PSB0eXBlb2YgaXRlcmFibGUubmV4dCkgcmV0dXJuIGl0ZXJhYmxlOyBpZiAoIWlzTmFOKGl0ZXJhYmxlLmxlbmd0aCkpIHsgdmFyIGkgPSAtMSwgbmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7IGZvciAoOyArK2kgPCBpdGVyYWJsZS5sZW5ndGg7KSBpZiAoaGFzT3duLmNhbGwoaXRlcmFibGUsIGkpKSByZXR1cm4gbmV4dC52YWx1ZSA9IGl0ZXJhYmxlW2ldLCBuZXh0LmRvbmUgPSAhMSwgbmV4dDsgcmV0dXJuIG5leHQudmFsdWUgPSB1bmRlZmluZWQsIG5leHQuZG9uZSA9ICEwLCBuZXh0OyB9OyByZXR1cm4gbmV4dC5uZXh0ID0gbmV4dDsgfSB9IHJldHVybiB7IG5leHQ6IGRvbmVSZXN1bHQgfTsgfSBmdW5jdGlvbiBkb25lUmVzdWx0KCkgeyByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiAhMCB9OyB9IHJldHVybiBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgZGVmaW5lUHJvcGVydHkoR3AsICJjb25zdHJ1Y3RvciIsIHsgdmFsdWU6IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBjb25maWd1cmFibGU6ICEwIH0pLCBkZWZpbmVQcm9wZXJ0eShHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgImNvbnN0cnVjdG9yIiwgeyB2YWx1ZTogR2VuZXJhdG9yRnVuY3Rpb24sIGNvbmZpZ3VyYWJsZTogITAgfSksIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gZGVmaW5lKEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCB0b1N0cmluZ1RhZ1N5bWJvbCwgIkdlbmVyYXRvckZ1bmN0aW9uIiksIGV4cG9ydHMuaXNHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uIChnZW5GdW4pIHsgdmFyIGN0b3IgPSAiZnVuY3Rpb24iID09IHR5cGVvZiBnZW5GdW4gJiYgZ2VuRnVuLmNvbnN0cnVjdG9yOyByZXR1cm4gISFjdG9yICYmIChjdG9yID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fCAiR2VuZXJhdG9yRnVuY3Rpb24iID09PSAoY3Rvci5kaXNwbGF5TmFtZSB8fCBjdG9yLm5hbWUpKTsgfSwgZXhwb3J0cy5tYXJrID0gZnVuY3Rpb24gKGdlbkZ1bikgeyByZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKGdlbkZ1biwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpIDogKGdlbkZ1bi5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgZGVmaW5lKGdlbkZ1biwgdG9TdHJpbmdUYWdTeW1ib2wsICJHZW5lcmF0b3JGdW5jdGlvbiIpKSwgZ2VuRnVuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR3ApLCBnZW5GdW47IH0sIGV4cG9ydHMuYXdyYXAgPSBmdW5jdGlvbiAoYXJnKSB7IHJldHVybiB7IF9fYXdhaXQ6IGFyZyB9OyB9LCBkZWZpbmVJdGVyYXRvck1ldGhvZHMoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUpLCBkZWZpbmUoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUsIGFzeW5jSXRlcmF0b3JTeW1ib2wsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0pLCBleHBvcnRzLkFzeW5jSXRlcmF0b3IgPSBBc3luY0l0ZXJhdG9yLCBleHBvcnRzLmFzeW5jID0gZnVuY3Rpb24gKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0LCBQcm9taXNlSW1wbCkgeyB2b2lkIDAgPT09IFByb21pc2VJbXBsICYmIChQcm9taXNlSW1wbCA9IFByb21pc2UpOyB2YXIgaXRlciA9IG5ldyBBc3luY0l0ZXJhdG9yKHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpLCBQcm9taXNlSW1wbCk7IHJldHVybiBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24ob3V0ZXJGbikgPyBpdGVyIDogaXRlci5uZXh0KCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7IHJldHVybiByZXN1bHQuZG9uZSA/IHJlc3VsdC52YWx1ZSA6IGl0ZXIubmV4dCgpOyB9KTsgfSwgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEdwKSwgZGVmaW5lKEdwLCB0b1N0cmluZ1RhZ1N5bWJvbCwgIkdlbmVyYXRvciIpLCBkZWZpbmUoR3AsIGl0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KSwgZGVmaW5lKEdwLCAidG9TdHJpbmciLCBmdW5jdGlvbiAoKSB7IHJldHVybiAiW29iamVjdCBHZW5lcmF0b3JdIjsgfSksIGV4cG9ydHMua2V5cyA9IGZ1bmN0aW9uICh2YWwpIHsgdmFyIG9iamVjdCA9IE9iamVjdCh2YWwpLCBrZXlzID0gW107IGZvciAodmFyIGtleSBpbiBvYmplY3QpIGtleXMucHVzaChrZXkpOyByZXR1cm4ga2V5cy5yZXZlcnNlKCksIGZ1bmN0aW9uIG5leHQoKSB7IGZvciAoOyBrZXlzLmxlbmd0aDspIHsgdmFyIGtleSA9IGtleXMucG9wKCk7IGlmIChrZXkgaW4gb2JqZWN0KSByZXR1cm4gbmV4dC52YWx1ZSA9IGtleSwgbmV4dC5kb25lID0gITEsIG5leHQ7IH0gcmV0dXJuIG5leHQuZG9uZSA9ICEwLCBuZXh0OyB9OyB9LCBleHBvcnRzLnZhbHVlcyA9IHZhbHVlcywgQ29udGV4dC5wcm90b3R5cGUgPSB7IGNvbnN0cnVjdG9yOiBDb250ZXh0LCByZXNldDogZnVuY3Rpb24gcmVzZXQoc2tpcFRlbXBSZXNldCkgeyBpZiAodGhpcy5wcmV2ID0gMCwgdGhpcy5uZXh0ID0gMCwgdGhpcy5zZW50ID0gdGhpcy5fc2VudCA9IHVuZGVmaW5lZCwgdGhpcy5kb25lID0gITEsIHRoaXMuZGVsZWdhdGUgPSBudWxsLCB0aGlzLm1ldGhvZCA9ICJuZXh0IiwgdGhpcy5hcmcgPSB1bmRlZmluZWQsIHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpLCAhc2tpcFRlbXBSZXNldCkgZm9yICh2YXIgbmFtZSBpbiB0aGlzKSAidCIgPT09IG5hbWUuY2hhckF0KDApICYmIGhhc093bi5jYWxsKHRoaXMsIG5hbWUpICYmICFpc05hTigrbmFtZS5zbGljZSgxKSkgJiYgKHRoaXNbbmFtZV0gPSB1bmRlZmluZWQpOyB9LCBzdG9wOiBmdW5jdGlvbiBzdG9wKCkgeyB0aGlzLmRvbmUgPSAhMDsgdmFyIHJvb3RSZWNvcmQgPSB0aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjsgaWYgKCJ0aHJvdyIgPT09IHJvb3RSZWNvcmQudHlwZSkgdGhyb3cgcm9vdFJlY29yZC5hcmc7IHJldHVybiB0aGlzLnJ2YWw7IH0sIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbiBkaXNwYXRjaEV4Y2VwdGlvbihleGNlcHRpb24pIHsgaWYgKHRoaXMuZG9uZSkgdGhyb3cgZXhjZXB0aW9uOyB2YXIgY29udGV4dCA9IHRoaXM7IGZ1bmN0aW9uIGhhbmRsZShsb2MsIGNhdWdodCkgeyByZXR1cm4gcmVjb3JkLnR5cGUgPSAidGhyb3ciLCByZWNvcmQuYXJnID0gZXhjZXB0aW9uLCBjb250ZXh0Lm5leHQgPSBsb2MsIGNhdWdodCAmJiAoY29udGV4dC5tZXRob2QgPSAibmV4dCIsIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkKSwgISFjYXVnaHQ7IH0gZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkgeyB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV0sIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247IGlmICgicm9vdCIgPT09IGVudHJ5LnRyeUxvYykgcmV0dXJuIGhhbmRsZSgiZW5kIik7IGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7IHZhciBoYXNDYXRjaCA9IGhhc093bi5jYWxsKGVudHJ5LCAiY2F0Y2hMb2MiKSwgaGFzRmluYWxseSA9IGhhc093bi5jYWxsKGVudHJ5LCAiZmluYWxseUxvYyIpOyBpZiAoaGFzQ2F0Y2ggJiYgaGFzRmluYWxseSkgeyBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsICEwKTsgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7IH0gZWxzZSBpZiAoaGFzQ2F0Y2gpIHsgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCAhMCk7IH0gZWxzZSB7IGlmICghaGFzRmluYWxseSkgdGhyb3cgbmV3IEVycm9yKCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseSIpOyBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTsgfSB9IH0gfSwgYWJydXB0OiBmdW5jdGlvbiBhYnJ1cHQodHlwZSwgYXJnKSB7IGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHsgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldOyBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldiAmJiBoYXNPd24uY2FsbChlbnRyeSwgImZpbmFsbHlMb2MiKSAmJiB0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7IHZhciBmaW5hbGx5RW50cnkgPSBlbnRyeTsgYnJlYWs7IH0gfSBmaW5hbGx5RW50cnkgJiYgKCJicmVhayIgPT09IHR5cGUgfHwgImNvbnRpbnVlIiA9PT0gdHlwZSkgJiYgZmluYWxseUVudHJ5LnRyeUxvYyA8PSBhcmcgJiYgYXJnIDw9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jICYmIChmaW5hbGx5RW50cnkgPSBudWxsKTsgdmFyIHJlY29yZCA9IGZpbmFsbHlFbnRyeSA/IGZpbmFsbHlFbnRyeS5jb21wbGV0aW9uIDoge307IHJldHVybiByZWNvcmQudHlwZSA9IHR5cGUsIHJlY29yZC5hcmcgPSBhcmcsIGZpbmFsbHlFbnRyeSA/ICh0aGlzLm1ldGhvZCA9ICJuZXh0IiwgdGhpcy5uZXh0ID0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2MsIENvbnRpbnVlU2VudGluZWwpIDogdGhpcy5jb21wbGV0ZShyZWNvcmQpOyB9LCBjb21wbGV0ZTogZnVuY3Rpb24gY29tcGxldGUocmVjb3JkLCBhZnRlckxvYykgeyBpZiAoInRocm93IiA9PT0gcmVjb3JkLnR5cGUpIHRocm93IHJlY29yZC5hcmc7IHJldHVybiAiYnJlYWsiID09PSByZWNvcmQudHlwZSB8fCAiY29udGludWUiID09PSByZWNvcmQudHlwZSA/IHRoaXMubmV4dCA9IHJlY29yZC5hcmcgOiAicmV0dXJuIiA9PT0gcmVjb3JkLnR5cGUgPyAodGhpcy5ydmFsID0gdGhpcy5hcmcgPSByZWNvcmQuYXJnLCB0aGlzLm1ldGhvZCA9ICJyZXR1cm4iLCB0aGlzLm5leHQgPSAiZW5kIikgOiAibm9ybWFsIiA9PT0gcmVjb3JkLnR5cGUgJiYgYWZ0ZXJMb2MgJiYgKHRoaXMubmV4dCA9IGFmdGVyTG9jKSwgQ29udGludWVTZW50aW5lbDsgfSwgZmluaXNoOiBmdW5jdGlvbiBmaW5pc2goZmluYWxseUxvYykgeyBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7IHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTsgaWYgKGVudHJ5LmZpbmFsbHlMb2MgPT09IGZpbmFsbHlMb2MpIHJldHVybiB0aGlzLmNvbXBsZXRlKGVudHJ5LmNvbXBsZXRpb24sIGVudHJ5LmFmdGVyTG9jKSwgcmVzZXRUcnlFbnRyeShlbnRyeSksIENvbnRpbnVlU2VudGluZWw7IH0gfSwgY2F0Y2g6IGZ1bmN0aW9uIF9jYXRjaCh0cnlMb2MpIHsgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkgeyB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07IGlmIChlbnRyeS50cnlMb2MgPT09IHRyeUxvYykgeyB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjsgaWYgKCJ0aHJvdyIgPT09IHJlY29yZC50eXBlKSB7IHZhciB0aHJvd24gPSByZWNvcmQuYXJnOyByZXNldFRyeUVudHJ5KGVudHJ5KTsgfSByZXR1cm4gdGhyb3duOyB9IH0gdGhyb3cgbmV3IEVycm9yKCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHQiKTsgfSwgZGVsZWdhdGVZaWVsZDogZnVuY3Rpb24gZGVsZWdhdGVZaWVsZChpdGVyYWJsZSwgcmVzdWx0TmFtZSwgbmV4dExvYykgeyByZXR1cm4gdGhpcy5kZWxlZ2F0ZSA9IHsgaXRlcmF0b3I6IHZhbHVlcyhpdGVyYWJsZSksIHJlc3VsdE5hbWU6IHJlc3VsdE5hbWUsIG5leHRMb2M6IG5leHRMb2MgfSwgIm5leHQiID09PSB0aGlzLm1ldGhvZCAmJiAodGhpcy5hcmcgPSB1bmRlZmluZWQpLCBDb250aW51ZVNlbnRpbmVsOyB9IH0sIGV4cG9ydHM7IH0KaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRlc3QuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldEV4cHJlc3NEYXRhLCBwdXREZWxpdmVyeSwgc3BsaXREZWxpdmVyeSwgb3JkZXJFeHByZXNzVGVtcCwgb3JkZXJEZWxpdmVyeUxpc3QsIG9yZGVyU2hlZXRJbmZvLCBzcGxpdENhcnRJbmZvIH0gZnJvbSAnQC9hcGkvb3JkZXInOwppbXBvcnQgcHJpbnRKUyBmcm9tICdwcmludC1qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnb3JkZXJTZW5kJywKICBwcm9wczogewogICAgb3JkZXJJZDogTnVtYmVyLAogICAgc3RhdHVzOiBOdW1iZXIsCiAgICAvLyB0b3RhbF9udW06IE51bWJlciwKICAgIHBheV90eXBlOiBTdHJpbmcsCiAgICB2aXJ0dWFsX3R5cGU6IE51bWJlcgogIH0sCiAgd2F0Y2g6IHsKICAgIG9yZGVySWQ6IGZ1bmN0aW9uIG9yZGVySWQodmFsKSB7CiAgICAgIGlmICh0aGlzLnZpcnR1YWxfdHlwZSA9PSAzKSB0aGlzLmZvcm1JdGVtLnR5cGUgPSAnMyc7CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIHJldHVybiB7CiAgICAgIG9yZGVyU3RhdHVzOiAwLAogICAgICB0b3RhbF9udW06IDAsCiAgICAgIHNwbGl0U3dpdGNoOiB0cnVlLAogICAgICBmb3JtSXRlbTogewogICAgICAgIHR5cGU6ICcxJywKICAgICAgICBleHByZXNzX3JlY29yZF90eXBlOiAnMScsCiAgICAgICAgZGVsaXZlcnlfbmFtZTogJycsCiAgICAgICAgZGVsaXZlcnlfaWQ6ICcnLAogICAgICAgIGV4cHJlc3NfdGVtcF9pZDogJycsCiAgICAgICAgdG9fbmFtZTogJycsCiAgICAgICAgdG9fdGVsOiAnJywKICAgICAgICB0b19hZGRyOiAnJywKICAgICAgICBzaF9kZWxpdmVyeTogJycsCiAgICAgICAgZmljdGl0aW91c19jb250ZW50OiAnJwogICAgICB9LAogICAgICBtb2RhbHM6IGZhbHNlLAogICAgICBleHByZXNzOiBbXSwKICAgICAgZXhwcmVzc1RlbXA6IFtdLAogICAgICBkZWxpdmVyeUxpc3Q6IFtdLAogICAgICB0ZW1wOiB7fSwKICAgICAgZXhwb3J0X29wZW46IGZhbHNlLAogICAgICBtYW55Rm9ybVZhbGlkYXRlOiBbXSwKICAgICAgaGVhZGVyOiBbewogICAgICAgIHR5cGU6ICdzZWxlY3Rpb24nLAogICAgICAgIHdpZHRoOiA2MCwKICAgICAgICBhbGlnbjogJ2NlbnRlcicKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAn5ZWG5ZOB5L+h5oGvJywKICAgICAgICBzbG90OiAnaW1hZ2UnLAogICAgICAgIHdpZHRoOiAyMDAsCiAgICAgICAgYWxpZ246ICdjZW50ZXInCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogJ+inhOagvCcsCiAgICAgICAgc2xvdDogJ3ZhbHVlJywKICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgbWluV2lkdGg6IDEyMAogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICfku7fmoLwnLAogICAgICAgIHNsb3Q6ICdwcmljZScsCiAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgIG1pbldpZHRoOiAxMjAKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAn5oC75pWwJywKICAgICAgICBrZXk6ICdjYXJ0X251bScsCiAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgIG1pbldpZHRoOiAxMjAKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAn5b6F5Y+R5pWw6YePJywKICAgICAgICBrZXk6ICdzdXJwbHVzX251bScsCiAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgIHdpZHRoOiAxODAsCiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCwgcGFyYW1zKSB7CiAgICAgICAgICByZXR1cm4gaCgnZGl2JywgW2goJ0lucHV0TnVtYmVyJywgewogICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgIG1pbjogMSwKICAgICAgICAgICAgICBtYXg6IHBhcmFtcy5yb3cuc3VycGx1c19udW0sCiAgICAgICAgICAgICAgdmFsdWU6IHBhcmFtcy5yb3cubnVtIHx8IHBhcmFtcy5yb3cuc3VycGx1c19udW0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAnb24tY2hhbmdlJzogZnVuY3Rpb24gb25DaGFuZ2UoZSkgewogICAgICAgICAgICAgICAgLy8gcGFyYW1zLnJvdy5zdXJwbHVzX251bSA9IGUgfHwgMTsKICAgICAgICAgICAgICAgIHBhcmFtcy5yb3cubnVtID0gZSB8fCAxOwogICAgICAgICAgICAgICAgX3RoaXMubWFueUZvcm1WYWxpZGF0ZVtwYXJhbXMuaW5kZXhdID0gcGFyYW1zLnJvdzsKICAgICAgICAgICAgICAgIF90aGlzLnNlbGVjdERhdGEuZm9yRWFjaChmdW5jdGlvbiAodiwgaW5kZXgpIHsKICAgICAgICAgICAgICAgICAgaWYgKHYuY2FydF9pZCA9PT0gcGFyYW1zLnJvdy5jYXJ0X2lkKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2VsZWN0RGF0YS5zcGxpY2UoaW5kZXgsIDEsIHBhcmFtcy5yb3cpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pXSk7CiAgICAgICAgfQogICAgICB9XSwKICAgICAgc2VsZWN0RGF0YTogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZWxlY3RPbmU6IGZ1bmN0aW9uIHNlbGVjdE9uZShkYXRhKSB7CiAgICAgIHRoaXMuc2VsZWN0RGF0YSA9IGRhdGE7CiAgICB9LAogICAgY2hhbmdlTW9kYWw6IGZ1bmN0aW9uIGNoYW5nZU1vZGFsKHN0YXR1cykgewogICAgICBpZiAoIXN0YXR1cykgewogICAgICAgIHRoaXMuY2FuY2VsKCk7CiAgICAgIH0KICAgIH0sCiAgICBjaGFuZ2VTcGxpdFN0YXR1czogZnVuY3Rpb24gY2hhbmdlU3BsaXRTdGF0dXMoc3RhdHVzKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICAvLyB0aGlzLnNwbGl0U3dpdGNoID0gc3RhdHVzOwogICAgICBpZiAoc3RhdHVzKSB7CiAgICAgICAgc3BsaXRDYXJ0SW5mbyh0aGlzLm9yZGVySWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXMyLm1hbnlGb3JtVmFsaWRhdGUgPSBbXTsKICAgICAgICAgIE9iamVjdC5rZXlzKHJlcy5kYXRhKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAgICAgX3RoaXMyLm1hbnlGb3JtVmFsaWRhdGUucHVzaChyZXMuZGF0YVtrZXldKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgY2hhbmdlUmFkaW86IGZ1bmN0aW9uIGNoYW5nZVJhZGlvKG8pIHsKICAgICAgdGhpcy4kcmVmcy5mb3JtSXRlbS5yZXNldEZpZWxkcygpOwogICAgICBzd2l0Y2ggKG8pIHsKICAgICAgICBjYXNlICcxJzoKICAgICAgICAgIHRoaXMuZm9ybUl0ZW0uZGVsaXZlcnlfbmFtZSA9ICcnOwogICAgICAgICAgdGhpcy5mb3JtSXRlbS5kZWxpdmVyeV9pZCA9ICcnOwogICAgICAgICAgdGhpcy5mb3JtSXRlbS5leHByZXNzX3RlbXBfaWQgPSAnJzsKICAgICAgICAgIHRoaXMuZm9ybUl0ZW0uZXhwcmVzc19yZWNvcmRfdHlwZSA9ICcxJzsKICAgICAgICAgIHRoaXMuZXhwcmVzc1RlbXAgPSBbXTsKICAgICAgICAgIHRoaXMuZ2V0TGlzdCgxKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJzInOgogICAgICAgICAgdGhpcy5mb3JtSXRlbS5zaF9kZWxpdmVyeSA9ICcnOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnMyc6CiAgICAgICAgICB0aGlzLmZvcm1JdGVtLmZpY3RpdGlvdXNfY29udGVudCA9ICcnOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIC8vIHRoaXMuZm9ybUl0ZW0gPSB7CiAgICAgICAgICAvLyAgICAgdHlwZTogJzMnLAogICAgICAgICAgLy8gICAgIGV4cHJlc3NfcmVjb3JkX3R5cGU6ICcxJywKICAgICAgICAgIC8vICAgICBkZWxpdmVyeV9uYW1lOiAnJywKICAgICAgICAgIC8vICAgICBkZWxpdmVyeV9pZDogJycsCiAgICAgICAgICAvLyAgICAgZXhwcmVzc190ZW1wX2lkOiAnJywKICAgICAgICAgIC8vICAgICB0b19uYW1lOiAnJywKICAgICAgICAgIC8vICAgICB0b190ZWw6ICcnLAogICAgICAgICAgLy8gICAgIHRvX2FkZHI6ICcnLAogICAgICAgICAgLy8gICAgIHNoX2RlbGl2ZXJ5OiAnJwogICAgICAgICAgLy8gfTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9LAogICAgY2hhbmdlRXhwcmVzczogZnVuY3Rpb24gY2hhbmdlRXhwcmVzcyhqKSB7CiAgICAgIHN3aXRjaCAoaikgewogICAgICAgIGNhc2UgJzInOgogICAgICAgICAgdGhpcy5mb3JtSXRlbS5kZWxpdmVyeV9uYW1lID0gJyc7CiAgICAgICAgICB0aGlzLmZvcm1JdGVtLmV4cHJlc3NfdGVtcF9pZCA9ICcnOwogICAgICAgICAgdGhpcy5leHByZXNzVGVtcCA9IFtdOwogICAgICAgICAgdGhpcy5nZXRMaXN0KDIpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnMSc6CiAgICAgICAgICB0aGlzLmZvcm1JdGVtLmRlbGl2ZXJ5X25hbWUgPSAnJzsKICAgICAgICAgIHRoaXMuZm9ybUl0ZW0uZGVsaXZlcnlfaWQgPSAnJzsKICAgICAgICAgIHRoaXMuZ2V0TGlzdCgxKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfSwKICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHsKICAgICAgdGhpcy5mb3JtSXRlbSA9IHsKICAgICAgICB0eXBlOiAnMScsCiAgICAgICAgZXhwcmVzc19yZWNvcmRfdHlwZTogJzEnLAogICAgICAgIGRlbGl2ZXJ5X25hbWU6ICcnLAogICAgICAgIGRlbGl2ZXJ5X2lkOiAnJywKICAgICAgICBleHByZXNzX3RlbXBfaWQ6ICcnLAogICAgICAgIGV4cHJlc3NUZW1wOiBbXSwKICAgICAgICB0b19uYW1lOiAnJywKICAgICAgICB0b190ZWw6ICcnLAogICAgICAgIHRvX2FkZHI6ICcnLAogICAgICAgIHNoX2RlbGl2ZXJ5OiAnJywKICAgICAgICBmaWN0aXRpb3VzX2NvbnRlbnQ6ICcnCiAgICAgIH07CiAgICB9LAogICAgLy8g54mp5rWB5YWs5Y+45YiX6KGoCiAgICBnZXRMaXN0OiBmdW5jdGlvbiBnZXRMaXN0KHR5cGUpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHZhciBzdGF0dXMgPSB0eXBlID09PSAyID8gMSA6ICcnOwogICAgICBnZXRFeHByZXNzRGF0YShzdGF0dXMpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUocmVzKSB7CiAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczMuZXhwcmVzcyA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgX3RoaXMzLmdldFNoZWV0SW5mbygpOwogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgfSkpOwogICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKS5jYXRjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICBfdGhpczMuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgIH0pOwogICAgfSwKICAgIHByaW50SW1nOiBmdW5jdGlvbiBwcmludEltZyh1cmwpIHsKICAgICAgcHJpbnRKUyh7CiAgICAgICAgcHJpbnRhYmxlOiB1cmwsCiAgICAgICAgdHlwZTogJ2ltYWdlJywKICAgICAgICBkb2N1bWVudFRpdGxlOiAn5b+r6YCS5L+h5oGvJywKICAgICAgICBzdHlsZTogImltZ3tcbiAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICBoZWlnaHQ6IDQ3NnB4O1xuICAgICAgICB9IgogICAgICB9KTsKICAgIH0sCiAgICAvLyDmj5DkuqQKICAgIHB1dFNlbmQ6IGZ1bmN0aW9uIHB1dFNlbmQobmFtZSkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgaWQ6IHRoaXMub3JkZXJJZCwKICAgICAgICBkYXRhczogdGhpcy5mb3JtSXRlbQogICAgICB9OwogICAgICBpZiAodGhpcy5mb3JtSXRlbS50eXBlID09PSAnMScgJiYgdGhpcy5mb3JtSXRlbS5leHByZXNzX3JlY29yZF90eXBlID09PSAnMicpIHsKICAgICAgICBpZiAodGhpcy5mb3JtSXRlbS5kZWxpdmVyeV9uYW1lID09PSAnJykgewogICAgICAgICAgcmV0dXJuIHRoaXMuJE1lc3NhZ2UuZXJyb3IoJ+W/q+mAkuWFrOWPuOS4jeiDveS4uuepuicpOwogICAgICAgIH0gZWxzZSBpZiAodGhpcy5mb3JtSXRlbS5leHByZXNzX3RlbXBfaWQgPT09ICcnKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy4kTWVzc2FnZS5lcnJvcign55S15a2Q6Z2i5Y2V5LiN6IO95Li656m6Jyk7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmZvcm1JdGVtLnRvX25hbWUgPT09ICcnKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy4kTWVzc2FnZS5lcnJvcign5a+E5Lu25Lq65aeT5ZCN5LiN6IO95Li656m6Jyk7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmZvcm1JdGVtLnRvX3RlbCA9PT0gJycpIHsKICAgICAgICAgIHJldHVybiB0aGlzLiRNZXNzYWdlLmVycm9yKCflr4Tku7bkurrnlLXor53kuI3og73kuLrnqbonKTsKICAgICAgICB9IGVsc2UgaWYgKCEvXjEoM3w0fDV8N3w4fDl8NilcZHs5fSQvaS50ZXN0KHRoaXMuZm9ybUl0ZW0udG9fdGVsKSkgewogICAgICAgICAgcmV0dXJuIHRoaXMuJE1lc3NhZ2UuZXJyb3IoJ+ivt+i+k+WFpeato+ehrueahOaJi+acuuWPt+eggScpOwogICAgICAgIH0gZWxzZSBpZiAodGhpcy5mb3JtSXRlbS50b19hZGRyID09PSAnJykgewogICAgICAgICAgcmV0dXJuIHRoaXMuJE1lc3NhZ2UuZXJyb3IoJ+WvhOS7tuS6uuWcsOWdgOS4jeiDveS4uuepuicpOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAodGhpcy5mb3JtSXRlbS50eXBlID09PSAnMScgJiYgdGhpcy5mb3JtSXRlbS5leHByZXNzX3JlY29yZF90eXBlID09PSAnMScpIHsKICAgICAgICBpZiAodGhpcy5mb3JtSXRlbS5kZWxpdmVyeV9uYW1lID09PSAnJykgewogICAgICAgICAgcmV0dXJuIHRoaXMuJE1lc3NhZ2UuZXJyb3IoJ+W/q+mAkuWFrOWPuOS4jeiDveS4uuepuicpOwogICAgICAgIH0gZWxzZSBpZiAodGhpcy5mb3JtSXRlbS5kZWxpdmVyeV9pZCA9PT0gJycpIHsKICAgICAgICAgIHJldHVybiB0aGlzLiRNZXNzYWdlLmVycm9yKCflv6vpgJLljZXlj7fkuI3og73kuLrnqbonKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKHRoaXMuZm9ybUl0ZW0udHlwZSA9PT0gJzInKSB7CiAgICAgICAgaWYgKHRoaXMuZm9ybUl0ZW0uc2hfZGVsaXZlcnkgPT09ICcnKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy4kTWVzc2FnZS5lcnJvcign6YCB6LSn5Lq65LiN6IO95Li656m6Jyk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICh0aGlzLnNwbGl0U3dpdGNoKSB7CiAgICAgICAgZGF0YS5kYXRhcy5jYXJ0X2lkcyA9IFtdOwogICAgICAgIHRoaXMuc2VsZWN0RGF0YS5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgICBkYXRhLmRhdGFzLmNhcnRfaWRzLnB1c2goewogICAgICAgICAgICBjYXJ0X2lkOiB2LmNhcnRfaWQsCiAgICAgICAgICAgIGNhcnRfbnVtOiB2Lm51bSB8fCB2LnN1cnBsdXNfbnVtCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgICBzcGxpdERlbGl2ZXJ5KGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXM0Lm1vZGFscyA9IGZhbHNlOwogICAgICAgICAgX3RoaXM0LiRNZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICBfdGhpczQuJGVtaXQoJ3N1Ym1pdEZhaWwnKTsKICAgICAgICAgIF90aGlzNC5yZXNldCgpOwogICAgICAgICAgX3RoaXM0LnNwbGl0U3dpdGNoID0gZmFsc2U7CiAgICAgICAgICBpZiAocmVzLmRhdGEubGFiZWwpIF90aGlzNC5wcmludEltZyhyZXMuZGF0YS5sYWJlbCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXM0LiRNZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHB1dERlbGl2ZXJ5KGRhdGEpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKHJlcykgewogICAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgX3RoaXM0Lm1vZGFscyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICBfdGhpczQuJE1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICAgICAgICAgICAgX3RoaXM0LnNwbGl0U3dpdGNoID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIF90aGlzNC4kZW1pdCgnc3VibWl0RmFpbCcpOwogICAgICAgICAgICAgICAgICBfdGhpczQucmVzZXQoKTsKICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmxhYmVsKSBfdGhpczQucHJpbnRJbWcocmVzLmRhdGEubGFiZWwpOwogICAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgICAgICB9KSk7CiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MikgewogICAgICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgIH07CiAgICAgICAgfSgpKS5jYXRjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBfdGhpczQuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbChuYW1lKSB7CiAgICAgIHRoaXMubW9kYWxzID0gZmFsc2U7CiAgICAgIHRoaXMub3JkZXJTdGF0dXMgPSAwOwogICAgICB0aGlzLnNwbGl0U3dpdGNoID0gZmFsc2U7CiAgICAgIHRoaXMuc2VsZWN0RGF0YSA9IFtdOwogICAgICB0aGlzLmZvcm1JdGVtLnR5cGUgPSAnMSc7CiAgICAgIHRoaXMuJGVtaXQoJ2NsZWFySWQnKTsKICAgICAgdGhpcy5yZXNldCgpOwogICAgICAvLyB0aGlzLiRyZWZzW25hbWVdLnJlc2V0RmllbGRzKCk7CiAgICAgIC8vIHRoaXMuZm9ybUl0ZW0udHlwZSA9ICcxJzsKICAgIH0sCiAgICAvLyDnlLXlrZDpnaLljZXliJfooagKICAgIGV4cHJlc3NDaGFuZ2U6IGZ1bmN0aW9uIGV4cHJlc3NDaGFuZ2UodmFsdWUpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CiAgICAgIHZhciBleHByZXNzSXRlbSA9IHRoaXMuZXhwcmVzcy5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0udmFsdWUgPT09IHZhbHVlOwogICAgICB9KTsKICAgICAgaWYgKGV4cHJlc3NJdGVtID09PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5mb3JtSXRlbS5kZWxpdmVyeV9jb2RlID0gZXhwcmVzc0l0ZW0uY29kZTsKICAgICAgaWYgKHRoaXMuZm9ybUl0ZW0uZXhwcmVzc19yZWNvcmRfdHlwZSA9PT0gJzInKSB7CiAgICAgICAgdGhpcy5leHByZXNzVGVtcCA9IFtdOwogICAgICAgIHRoaXMuZm9ybUl0ZW0uZXhwcmVzc190ZW1wX2lkID0gJyc7CiAgICAgICAgb3JkZXJFeHByZXNzVGVtcCh7CiAgICAgICAgICBjb206IHRoaXMuZm9ybUl0ZW0uZGVsaXZlcnlfY29kZQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXM1LmV4cHJlc3NUZW1wID0gcmVzLmRhdGE7CiAgICAgICAgICBpZiAoIXJlcy5kYXRhLmxlbmd0aCkgewogICAgICAgICAgICBfdGhpczUuJE1lc3NhZ2UuZXJyb3IoJ+ivt+mFjee9ruS9oOaJgOmAieW/q+mAkuWFrOWPuOeahOeUteWtkOmdouWNlScpOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIF90aGlzNS4kTWVzc2FnZS5lcnJvcihlcnIubXNnKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGdldENhcnRJbmZvOiBmdW5jdGlvbiBnZXRDYXJ0SW5mbyhkYXRhLCBvcmRlcmlkKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwogICAgICB0aGlzLiRzZXQodGhpcywgJ29yZGVyU3RhdHVzJywgZGF0YSk7CiAgICAgIHRoaXMuJHNldCh0aGlzLCAnc3BsaXRTd2l0Y2gnLCBkYXRhID09PSA4IHx8IGRhdGEgPT09IDExID8gdHJ1ZSA6IGZhbHNlKTsKICAgICAgc3BsaXRDYXJ0SW5mbyh0aGlzLm9yZGVySWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNi5tYW55Rm9ybVZhbGlkYXRlID0gW107CiAgICAgICAgT2JqZWN0LmtleXMocmVzLmRhdGEpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgICAgX3RoaXM2Lm1hbnlGb3JtVmFsaWRhdGUucHVzaChyZXMuZGF0YVtrZXldKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0RGVsaXZlcnlMaXN0OiBmdW5jdGlvbiBnZXREZWxpdmVyeUxpc3QoKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwogICAgICBvcmRlckRlbGl2ZXJ5TGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNy5kZWxpdmVyeUxpc3QgPSByZXMuZGF0YS5saXN0OwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgX3RoaXM3LiRNZXNzYWdlLmVycm9yKGVyci5tc2cpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRTaGVldEluZm86IGZ1bmN0aW9uIGdldFNoZWV0SW5mbygpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CiAgICAgIG9yZGVyU2hlZXRJbmZvKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YTsKICAgICAgICBmb3IgKHZhciBrZXkgaW4gZGF0YSkgewogICAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoa2V5KSkgewogICAgICAgICAgICBfdGhpczguZm9ybUl0ZW1ba2V5XSA9IGRhdGFba2V5XTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgX3RoaXM4LmV4cG9ydF9vcGVuID0gZGF0YS5leHBvcnRfb3BlbiA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGRhdGEuZXhwb3J0X29wZW47CiAgICAgICAgaWYgKCFfdGhpczguZXhwb3J0X29wZW4pIHsKICAgICAgICAgIF90aGlzOC5mb3JtSXRlbS5leHByZXNzX3JlY29yZF90eXBlID0gJzEnOwogICAgICAgIH0KICAgICAgICBfdGhpczguZm9ybUl0ZW0udG9fYWRkciA9IGRhdGEudG9fYWRkOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgX3RoaXM4LiRNZXNzYWdlLmVycm9yKGVyci5tc2cpOwogICAgICB9KTsKICAgIH0sCiAgICBzaERlbGl2ZXJ5Q2hhbmdlOiBmdW5jdGlvbiBzaERlbGl2ZXJ5Q2hhbmdlKHZhbHVlKSB7CiAgICAgIGlmICghdmFsdWUpIHJldHVybjsKICAgICAgdmFyIGRlbGl2ZXJ5SXRlbSA9IHRoaXMuZGVsaXZlcnlMaXN0LmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5pZCA9PT0gdmFsdWU7CiAgICAgIH0pOwogICAgICB0aGlzLmZvcm1JdGVtLnNoX2RlbGl2ZXJ5X25hbWUgPSBkZWxpdmVyeUl0ZW0ud3hfbmFtZTsKICAgICAgdGhpcy5mb3JtSXRlbS5zaF9kZWxpdmVyeV9pZCA9IGRlbGl2ZXJ5SXRlbS5waG9uZTsKICAgICAgdGhpcy5mb3JtSXRlbS5zaF9kZWxpdmVyeV91aWQgPSBkZWxpdmVyeUl0ZW0udWlkOwogICAgfSwKICAgIGV4cHJlc3NUZW1wQ2hhbmdlOiBmdW5jdGlvbiBleHByZXNzVGVtcENoYW5nZSh0ZW1wSWQpIHsKICAgICAgdGhpcy50ZW1wID0gdGhpcy5leHByZXNzVGVtcC5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIHRlbXBJZCA9PT0gaXRlbS50ZW1wX2lkOwogICAgICB9KTsKICAgICAgaWYgKHRoaXMudGVtcCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdGhpcy50ZW1wID0ge307CiAgICAgIH0KICAgIH0sCiAgICAvLyBpbml0ZWQgKHZpZXdlcikgewogICAgLy8gICAgIHRoaXMuJHZpZXdlciA9IHZpZXdlcjsKICAgIC8vIH0sCiAgICBwcmV2aWV3OiBmdW5jdGlvbiBwcmV2aWV3KCkgewogICAgICB0aGlzLiRyZWZzLnZpZXdlci4kdmlld2VyLnNob3coKTsKICAgICAgLy8gdGhpcy4kdmlld2VyLnNob3coKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["getExpressData","putDelivery","splitDelivery","orderExpressTemp","orderDeliveryList","orderSheetInfo","splitCartInfo","printJS","name","props","orderId","Number","status","pay_type","String","virtual_type","watch","val","formItem","type","data","_this","orderStatus","total_num","splitSwitch","express_record_type","delivery_name","delivery_id","express_temp_id","to_name","to_tel","to_addr","sh_delivery","fictitious_content","modals","express","expressTemp","deliveryList","temp","export_open","manyFormValidate","header","width","align","title","slot","minWidth","key","render","h","params","min","max","row","surplus_num","value","num","on","onChange","e","index","selectData","forEach","v","cart_id","splice","methods","selectOne","changeModal","cancel","changeSplitStatus","_this2","then","res","Object","keys","push","changeRadio","o","$refs","resetFields","getList","changeExpress","j","reset","_this3","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","getSheetInfo","stop","_x","apply","arguments","catch","loading","$Message","error","msg","printImg","url","printable","documentTitle","style","putSend","_this4","id","datas","test","cart_ids","cart_num","success","$emit","label","_ref2","_callee2","_callee2$","_context2","_x2","expressChange","_this5","expressItem","find","item","undefined","delivery_code","code","com","length","err","getCartInfo","orderid","_this6","$set","getDeliveryList","_this7","list","_this8","hasOwnProperty","to_add","shDeliveryChange","deliveryItem","sh_delivery_name","wx_name","sh_delivery_id","phone","sh_delivery_uid","uid","expressTempChange","tempId","temp_id","preview","viewer","$viewer","show"],"sources":["src/pages/order/orderList/handle/orderSend.vue"],"sourcesContent":["<template>\n  <Modal\n    v-model=\"modals\"\n    scrollable\n    title=\"订单发送货\"\n    class=\"order_box\"\n    :closable=\"false\"\n    width=\"1000\"\n    @on-visible-change=\"changeModal\"\n  >\n    <Form v-if=\"modals\" ref=\"formItem\" :model=\"formItem\" :label-width=\"100\" @submit.native.prevent>\n      <FormItem label=\"选择类型：\">\n        <RadioGroup v-model=\"formItem.type\" @on-change=\"changeRadio\">\n          <Radio label=\"1\" v-if=\"virtual_type !== 3\">发货</Radio>\n          <Radio label=\"2\" v-if=\"virtual_type !== 3\">送货</Radio>\n          <Radio label=\"3\">无需配送</Radio>\n        </RadioGroup>\n      </FormItem>\n      <FormItem v-if=\"formItem.type == 1\" v-show=\"export_open\" label=\"发货类型：\">\n        <RadioGroup v-model=\"formItem.express_record_type\" @on-change=\"changeExpress\">\n          <Radio label=\"1\">手动填写</Radio>\n          <Radio label=\"2\">电子面单打印</Radio>\n        </RadioGroup>\n      </FormItem>\n      <div>\n        <FormItem label=\"快递公司：\" v-if=\"formItem.type == 1\">\n          <Select\n            v-model=\"formItem.delivery_name\"\n            filterable\n            placeholder=\"请选择快递公司\"\n            style=\"width: 80%\"\n            @on-change=\"expressChange\"\n          >\n            <Option v-for=\"(item, i) in express\" :value=\"item.value\" :key=\"item.value\">{{ item.value }}</Option>\n          </Select>\n        </FormItem>\n        <FormItem v-if=\"formItem.express_record_type === '1' && formItem.type == 1\" label=\"快递单号：\">\n          <Input v-model=\"formItem.delivery_id\" placeholder=\"请输入快递单号\" style=\"width: 80%\"></Input>\n          <div class=\"trips\" v-if=\"formItem.delivery_name == '顺丰速运'\">\n            <p>顺丰请输入单号 :收件人或寄件人手机号后四位，</p>\n            <p>例如：SF000000000000:3941</p>\n          </div>\n        </FormItem>\n        <template v-if=\"formItem.express_record_type === '2' && formItem.type == 1\">\n          <FormItem label=\"电子面单：\" class=\"express_temp_id\">\n            <Select\n              v-model=\"formItem.express_temp_id\"\n              placeholder=\"请选择电子面单\"\n              style=\"width: 80%\"\n              @on-change=\"expressTempChange\"\n            >\n              <Option v-for=\"(item, i) in expressTemp\" :value=\"item.temp_id\" :key=\"i\">{{ item.title }}</Option>\n            </Select>\n            <Button v-if=\"formItem.express_temp_id\" type=\"text\" @click=\"preview\">预览</Button>\n          </FormItem>\n          <FormItem label=\"寄件人姓名：\">\n            <Input v-model=\"formItem.to_name\" placeholder=\"请输入寄件人姓名\" style=\"width: 80%\"></Input>\n          </FormItem>\n          <FormItem label=\"寄件人电话：\">\n            <Input v-model=\"formItem.to_tel\" placeholder=\"请输入寄件人电话\" style=\"width: 80%\"></Input>\n          </FormItem>\n          <FormItem label=\"寄件人地址：\">\n            <Input v-model=\"formItem.to_addr\" placeholder=\"请输入寄件人地址\" style=\"width: 80%\"></Input>\n          </FormItem>\n        </template>\n      </div>\n      <div v-show=\"formItem.type === '2'\">\n        <FormItem label=\"送货人：\">\n          <Select\n            v-model=\"formItem.sh_delivery\"\n            placeholder=\"请选择送货人\"\n            style=\"width: 80%\"\n            @on-change=\"shDeliveryChange\"\n          >\n            <Option v-for=\"(item, i) in deliveryList\" :value=\"item.id\" :key=\"i\"\n              >{{ item.wx_name }}（{{ item.phone }}）</Option\n            >\n          </Select>\n        </FormItem>\n      </div>\n      <div v-show=\"formItem.type === '3'\">\n        <FormItem label=\"备注：\">\n          <Input\n            v-model=\"formItem.fictitious_content\"\n            type=\"textarea\"\n            :autosize=\"{ minRows: 2, maxRows: 5 }\"\n            placeholder=\"备注\"\n            style=\"width: 80%\"\n          ></Input>\n        </FormItem>\n      </div>\n      <div v-if=\"total_num > 1\">\n        <FormItem label=\"分单发货：\">\n          <i-switch\n            size=\"large\"\n            v-model=\"splitSwitch\"\n            :disabled=\"orderStatus === 8 || orderStatus === 11\"\n            @on-change=\"changeSplitStatus\"\n          >\n            <span slot=\"open\">开启</span>\n            <span slot=\"close\">关闭</span>\n          </i-switch>\n          <div class=\"trips\">\n            <p>可选择表格中的商品单独发货，发货后会生成新的订单且不能撤回，请谨慎操作！</p>\n          </div>\n          <i-table\n            v-if=\"splitSwitch && manyFormValidate.length\"\n            :data=\"manyFormValidate\"\n            @on-selection-change=\"selectOne\"\n            :columns=\"header\"\n          >\n            <template slot-scope=\"{ row, index }\" slot=\"image\">\n              <div class=\"product-data\">\n                <img class=\"image\" :src=\"row.cart_info.productInfo.image\" />\n                <div class=\"line2\">\n                  {{ row.cart_info.productInfo.store_name }}\n                </div>\n              </div>\n            </template>\n            <template slot-scope=\"{ row, index }\" slot=\"value\">\n              <div class=\"product-data\">\n                <div>{{ row.cart_info.productInfo.attrInfo.suk }}</div>\n              </div>\n            </template>\n            <template slot-scope=\"{ row, index }\" slot=\"price\">\n              <div class=\"product-data\">\n                <div>{{ row.cart_info.truePrice }}</div>\n              </div>\n            </template>\n          </i-table>\n        </FormItem>\n      </div>\n    </Form>\n    <div slot=\"footer\">\n      <Button @click=\"cancel\">取消</Button>\n      <Button type=\"primary\" @click=\"putSend\">提交</Button>\n    </div>\n    <!-- <viewer @inited=\"inited\">\n            <img :src=\"temp.pic\" style=\"display:none\" />\n        </viewer> -->\n    <div ref=\"viewer\" v-viewer v-show=\"temp\">\n      <img :src=\"temp.pic\" style=\"display: none\" />\n    </div>\n  </Modal>\n</template>\n\n<script>\nimport {\n  getExpressData,\n  putDelivery,\n  splitDelivery,\n  orderExpressTemp,\n  orderDeliveryList,\n  orderSheetInfo,\n  splitCartInfo,\n} from '@/api/order';\nimport printJS from 'print-js';\nexport default {\n  name: 'orderSend',\n  props: {\n    orderId: Number,\n    status: Number,\n    // total_num: Number,\n    pay_type: String,\n    virtual_type: Number,\n  },\n  watch: {\n    orderId(val) {\n      if (this.virtual_type == 3) this.formItem.type = '3';\n    },\n  },\n  data() {\n    return {\n      orderStatus: 0,\n      total_num: 0,\n      splitSwitch: true,\n      formItem: {\n        type: '1',\n        express_record_type: '1',\n        delivery_name: '',\n        delivery_id: '',\n        express_temp_id: '',\n        to_name: '',\n        to_tel: '',\n        to_addr: '',\n        sh_delivery: '',\n        fictitious_content: '',\n      },\n      modals: false,\n      express: [],\n      expressTemp: [],\n      deliveryList: [],\n      temp: {},\n      export_open: false,\n      manyFormValidate: [],\n      header: [\n        {\n          type: 'selection',\n          width: 60,\n          align: 'center',\n        },\n        {\n          title: '商品信息',\n          slot: 'image',\n          width: 200,\n          align: 'center',\n        },\n        {\n          title: '规格',\n          slot: 'value',\n          align: 'center',\n          minWidth: 120,\n        },\n        {\n          title: '价格',\n          slot: 'price',\n          align: 'center',\n          minWidth: 120,\n        },\n        {\n          title: '总数',\n          key: 'cart_num',\n          align: 'center',\n          minWidth: 120,\n        },\n        {\n          title: '待发数量',\n          key: 'surplus_num',\n          align: 'center',\n          width: 180,\n          render: (h, params) => {\n            return h('div', [\n              h('InputNumber', {\n                props: {\n                  min: 1,\n                  max: params.row.surplus_num,\n                  value: params.row.num || params.row.surplus_num,\n                },\n                on: {\n                  'on-change': (e) => {\n                    // params.row.surplus_num = e || 1;\n                    params.row.num = e || 1;\n                    this.manyFormValidate[params.index] = params.row;\n                    this.selectData.forEach((v, index) => {\n                      if (v.cart_id === params.row.cart_id) {\n                        this.selectData.splice(index, 1, params.row);\n                      }\n                    });\n                  },\n                },\n              }),\n            ]);\n          },\n        },\n      ],\n      selectData: [],\n    };\n  },\n  methods: {\n    selectOne(data) {\n      this.selectData = data;\n    },\n    changeModal(status) {\n      if (!status) {\n        this.cancel();\n      }\n    },\n    changeSplitStatus(status) {\n      // this.splitSwitch = status;\n      if (status) {\n        splitCartInfo(this.orderId).then((res) => {\n          this.manyFormValidate = [];\n          Object.keys(res.data).forEach((key) => {\n            this.manyFormValidate.push(res.data[key]);\n          });\n        });\n      }\n    },\n    changeRadio(o) {\n      this.$refs.formItem.resetFields();\n      switch (o) {\n        case '1':\n          this.formItem.delivery_name = '';\n          this.formItem.delivery_id = '';\n          this.formItem.express_temp_id = '';\n          this.formItem.express_record_type = '1';\n          this.expressTemp = [];\n          this.getList(1);\n          break;\n        case '2':\n          this.formItem.sh_delivery = '';\n          break;\n        case '3':\n          this.formItem.fictitious_content = '';\n          break;\n        default:\n          // this.formItem = {\n          //     type: '3',\n          //     express_record_type: '1',\n          //     delivery_name: '',\n          //     delivery_id: '',\n          //     express_temp_id: '',\n          //     to_name: '',\n          //     to_tel: '',\n          //     to_addr: '',\n          //     sh_delivery: ''\n          // };\n          break;\n      }\n    },\n    changeExpress(j) {\n      switch (j) {\n        case '2':\n          this.formItem.delivery_name = '';\n          this.formItem.express_temp_id = '';\n          this.expressTemp = [];\n          this.getList(2);\n          break;\n        case '1':\n          this.formItem.delivery_name = '';\n          this.formItem.delivery_id = '';\n          this.getList(1);\n          break;\n        default:\n          break;\n      }\n    },\n    reset() {\n      this.formItem = {\n        type: '1',\n        express_record_type: '1',\n        delivery_name: '',\n        delivery_id: '',\n        express_temp_id: '',\n        expressTemp: [],\n        to_name: '',\n        to_tel: '',\n        to_addr: '',\n        sh_delivery: '',\n        fictitious_content: '',\n      };\n    },\n    // 物流公司列表\n    getList(type) {\n      let status = type === 2 ? 1 : '';\n      getExpressData(status)\n        .then(async (res) => {\n          this.express = res.data;\n          this.getSheetInfo();\n        })\n        .catch((res) => {\n          this.loading = false;\n          this.$Message.error(res.msg);\n        });\n    },\n    printImg(url) {\n      printJS({\n        printable: url,\n        type: 'image',\n        documentTitle: '快递信息',\n        style: `img{\n          width: 100%;\n          height: 476px;\n        }`,\n      });\n    },\n\n    // 提交\n    putSend(name) {\n      let data = {\n        id: this.orderId,\n        datas: this.formItem,\n      };\n      if (this.formItem.type === '1' && this.formItem.express_record_type === '2') {\n        if (this.formItem.delivery_name === '') {\n          return this.$Message.error('快递公司不能为空');\n        } else if (this.formItem.express_temp_id === '') {\n          return this.$Message.error('电子面单不能为空');\n        } else if (this.formItem.to_name === '') {\n          return this.$Message.error('寄件人姓名不能为空');\n        } else if (this.formItem.to_tel === '') {\n          return this.$Message.error('寄件人电话不能为空');\n        } else if (!/^1(3|4|5|7|8|9|6)\\d{9}$/i.test(this.formItem.to_tel)) {\n          return this.$Message.error('请输入正确的手机号码');\n        } else if (this.formItem.to_addr === '') {\n          return this.$Message.error('寄件人地址不能为空');\n        }\n      }\n      if (this.formItem.type === '1' && this.formItem.express_record_type === '1') {\n        if (this.formItem.delivery_name === '') {\n          return this.$Message.error('快递公司不能为空');\n        } else if (this.formItem.delivery_id === '') {\n          return this.$Message.error('快递单号不能为空');\n        }\n      }\n      if (this.formItem.type === '2') {\n        if (this.formItem.sh_delivery === '') {\n          return this.$Message.error('送货人不能为空');\n        }\n      }\n      if (this.splitSwitch) {\n        data.datas.cart_ids = [];\n        this.selectData.forEach((v) => {\n          data.datas.cart_ids.push({\n            cart_id: v.cart_id,\n            cart_num: v.num || v.surplus_num,\n          });\n        });\n        splitDelivery(data)\n          .then((res) => {\n            this.modals = false;\n            this.$Message.success(res.msg);\n            this.$emit('submitFail');\n            this.reset();\n            this.splitSwitch = false;\n            if (res.data.label) this.printImg(res.data.label);\n          })\n          .catch((res) => {\n            this.$Message.error(res.msg);\n          });\n      } else {\n        putDelivery(data)\n          .then(async (res) => {\n            this.modals = false;\n            this.$Message.success(res.msg);\n            this.splitSwitch = false;\n            this.$emit('submitFail');\n            this.reset();\n            if (res.data.label) this.printImg(res.data.label);\n          })\n          .catch((res) => {\n            this.$Message.error(res.msg);\n          });\n      }\n    },\n    cancel(name) {\n      this.modals = false;\n      this.orderStatus = 0;\n      this.splitSwitch = false;\n      this.selectData = [];\n      this.formItem.type = '1';\n      this.$emit('clearId');\n      this.reset();\n      // this.$refs[name].resetFields();\n      // this.formItem.type = '1';\n    },\n    // 电子面单列表\n    expressChange(value) {\n      let expressItem = this.express.find((item) => {\n        return item.value === value;\n      });\n      if (expressItem === undefined) {\n        return;\n      }\n      this.formItem.delivery_code = expressItem.code;\n      if (this.formItem.express_record_type === '2') {\n        this.expressTemp = [];\n        this.formItem.express_temp_id = '';\n        orderExpressTemp({\n          com: this.formItem.delivery_code,\n        })\n          .then((res) => {\n            this.expressTemp = res.data;\n            if (!res.data.length) {\n              this.$Message.error('请配置你所选快递公司的电子面单');\n            }\n          })\n          .catch((err) => {\n            this.$Message.error(err.msg);\n          });\n      }\n    },\n    getCartInfo(data, orderid) {\n      this.$set(this, 'orderStatus', data);\n      this.$set(this, 'splitSwitch', data === 8 || data === 11 ? true : false);\n      splitCartInfo(this.orderId).then((res) => {\n        this.manyFormValidate = [];\n        Object.keys(res.data).forEach((key) => {\n          this.manyFormValidate.push(res.data[key]);\n        });\n      });\n    },\n    getDeliveryList() {\n      orderDeliveryList()\n        .then((res) => {\n          this.deliveryList = res.data.list;\n        })\n        .catch((err) => {\n          this.$Message.error(err.msg);\n        });\n    },\n    getSheetInfo() {\n      orderSheetInfo()\n        .then((res) => {\n          const data = res.data;\n          for (const key in data) {\n            if (data.hasOwnProperty(key)) {\n              this.formItem[key] = data[key];\n            }\n          }\n          this.export_open = data.export_open === undefined ? true : data.export_open;\n          if (!this.export_open) {\n            this.formItem.express_record_type = '1';\n          }\n          this.formItem.to_addr = data.to_add;\n        })\n        .catch((err) => {\n          this.$Message.error(err.msg);\n        });\n    },\n    shDeliveryChange(value) {\n      if (!value) return;\n      let deliveryItem = this.deliveryList.find((item) => {\n        return item.id === value;\n      });\n      this.formItem.sh_delivery_name = deliveryItem.wx_name;\n      this.formItem.sh_delivery_id = deliveryItem.phone;\n      this.formItem.sh_delivery_uid = deliveryItem.uid;\n    },\n    expressTempChange(tempId) {\n      this.temp = this.expressTemp.find((item) => {\n        return tempId === item.temp_id;\n      });\n      if (this.temp === undefined) {\n        this.temp = {};\n      }\n    },\n    // inited (viewer) {\n    //     this.$viewer = viewer;\n    // },\n    preview() {\n      this.$refs.viewer.$viewer.show();\n      // this.$viewer.show();\n    },\n  },\n};\n</script>\n\n<style scoped>\n.express_temp_id {\n  position: relative;\n}\n\n.express_temp_id button {\n  position: absolute;\n  top: 50%;\n  right: 110px;\n  padding: 0;\n  border: none;\n  background: none;\n  transform: translateY(-50%);\n  color: #57a3f3;\n}\n\n.ivu-btn-text:focus {\n  box-shadow: none;\n}\n.trips {\n  color: #ccc;\n}\n.product-data {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.product-data .image {\n  width: 50px !important;\n  height: 50px !important;\n}\n.line2 {\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n</style>\n"],"mappings":"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"}]}