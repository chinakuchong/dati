{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/layout/navBars/tagsView/contextmenu.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/layout/navBars/tagsView/contextmenu.vue","mtime":1689324015186},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/babel.config.js","mtime":1689324015052},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/.babelrc","mtime":1689324015050},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnbGF5b3V0VGFnc1ZpZXdDb250ZXh0bWVudScsCiAgcHJvcHM6IHsKICAgIGRyb3Bkb3duOiB7CiAgICAgIHR5cGU6IE9iamVjdAogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzU2hvdzogZmFsc2UsCiAgICAgIGRyb3Bkb3duTGlzdDogW3sKICAgICAgICBpZDogMCwKICAgICAgICB0eHQ6ICdtZXNzYWdlLnRhZ3NWaWV3LnJlZnJlc2gnLAogICAgICAgIGFmZml4OiBmYWxzZSwKICAgICAgICBpY29uOiAnZWwtaWNvbi1yZWZyZXNoLXJpZ2h0JwogICAgICB9LCB7CiAgICAgICAgaWQ6IDEsCiAgICAgICAgdHh0OiAnbWVzc2FnZS50YWdzVmlldy5jbG9zZScsCiAgICAgICAgYWZmaXg6IGZhbHNlLAogICAgICAgIGljb246ICdlbC1pY29uLWNsb3NlJwogICAgICB9LCB7CiAgICAgICAgaWQ6IDIsCiAgICAgICAgdHh0OiAnbWVzc2FnZS50YWdzVmlldy5jbG9zZU90aGVyJywKICAgICAgICBhZmZpeDogZmFsc2UsCiAgICAgICAgaWNvbjogJ2VsLWljb24tY2lyY2xlLWNsb3NlJwogICAgICB9LCB7CiAgICAgICAgaWQ6IDMsCiAgICAgICAgdHh0OiAnbWVzc2FnZS50YWdzVmlldy5jbG9zZUFsbCcsCiAgICAgICAgYWZmaXg6IGZhbHNlLAogICAgICAgIGljb246ICdlbC1pY29uLWZvbGRlci1kZWxldGUnCiAgICAgIH1dLAogICAgICBwYXRoOiB7fSwKICAgICAgYXJyb3dMZWZ0OiA1CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGRyb3Bkb3duczogZnVuY3Rpb24gZHJvcGRvd25zKCkgewogICAgICAvLyA5OSDkuLogYERyb3Bkb3duIOS4i+aLieiPnOWNlWAg55qE5a695bqmCiAgICAgIGlmICh0aGlzLmRyb3Bkb3duLnggKyA5OSA+IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB4OiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggLSA5OSAtIDUsCiAgICAgICAgICB5OiB0aGlzLmRyb3Bkb3duLnkKICAgICAgICB9OwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB0aGlzLmRyb3Bkb3duOwogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgLy8g55uR5ZCs6aG16Z2i55uR5ZCs6L+b6KGM5Y+z6ZSu6I+c5Y2V55qE5YWz6ZetCiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZUNvbnRleHRtZW51KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOW9k+WJjemhueiPnOWNleeCueWHuwogICAgb25DdXJyZW50Q29udGV4dG1lbnVDbGljazogZnVuY3Rpb24gb25DdXJyZW50Q29udGV4dG1lbnVDbGljayhpZCkgewogICAgICB0aGlzLiRlbWl0KCdjdXJyZW50Q29udGV4dG1lbnVDbGljaycsIHsKICAgICAgICBpZDogaWQsCiAgICAgICAgcGF0aDogdGhpcy5wYXRoCiAgICAgIH0pOwogICAgfSwKICAgIC8vIOaJk+W8gOWPs+mUruiPnOWNle+8muWIpOaWreaYr+WQpuWbuuWumu+8jOWbuuWumuWImeS4jeaYvuekuuWFs+mXreaMiemSrgogICAgb3BlbkNvbnRleHRtZW51OiBmdW5jdGlvbiBvcGVuQ29udGV4dG1lbnUoaXRlbSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB0aGlzLnBhdGggPSBpdGVtLnBhdGg7CiAgICAgIGl0ZW0ubWV0YS5pc0FmZml4ID8gdGhpcy5kcm9wZG93bkxpc3RbMV0uYWZmaXggPSB0cnVlIDogdGhpcy5kcm9wZG93bkxpc3RbMV0uYWZmaXggPSBmYWxzZTsKICAgICAgdGhpcy5jbG9zZUNvbnRleHRtZW51KCk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLmlzU2hvdyA9IHRydWU7CiAgICAgIH0sIDgwKTsKICAgIH0sCiAgICAvLyDlhbPpl63lj7PplK7oj5zljZUKICAgIGNsb3NlQ29udGV4dG1lbnU6IGZ1bmN0aW9uIGNsb3NlQ29udGV4dG1lbnUoKSB7CiAgICAgIHRoaXMuaXNTaG93ID0gZmFsc2U7CiAgICB9CiAgfSwKICBkZXN0cm95ZWQ6IGZ1bmN0aW9uIGRlc3Ryb3llZCgpIHsKICAgIC8vIOmhtemdouWNuOi9veaXtu+8jOenu+mZpOWPs+mUruiPnOWNleebkeWQrOS6i+S7tgogICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2VDb250ZXh0bWVudSk7CiAgfSwKICAvLyDnm5HlkKzkuIvmi4noj5zljZXkvY3nva4KICB3YXRjaDogewogICAgZHJvcGRvd246IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihfcmVmKSB7CiAgICAgICAgdmFyIHggPSBfcmVmLng7CiAgICAgICAgaWYgKHggKyA5OSA+IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCkgdGhpcy5hcnJvd0xlZnQgPSA5OSAtIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggLSB4KTtlbHNlIHRoaXMuYXJyb3dMZWZ0ID0gMTA7CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUKICAgIH0KICB9Cn07"},{"version":3,"names":["name","props","dropdown","type","Object","data","isShow","dropdownList","id","txt","affix","icon","path","arrowLeft","computed","dropdowns","x","document","documentElement","clientWidth","y","mounted","body","addEventListener","closeContextmenu","methods","onCurrentContextmenuClick","$emit","openContextmenu","item","_this","meta","isAffix","setTimeout","destroyed","removeEventListener","watch","handler","_ref","deep"],"sources":["src/layout/navBars/tagsView/contextmenu.vue"],"sourcesContent":["<template>\n  <div>\n    <transition name=\"el-zoom-in-center\">\n      <ul\n        class=\"el-dropdown-menu el-popper el-dropdown-menu--medium custom-contextmenu\"\n        :style=\"`top: ${dropdowns.y}px;left: ${dropdowns.x}px;`\"\n        x-placement=\"bottom-end\"\n        id=\"contextmenu\"\n        v-show=\"isShow\"\n      >\n        <li\n          class=\"el-dropdown-menu__item\"\n          v-for=\"(v, k) in dropdownList\"\n          :key=\"k\"\n          @click=\"onCurrentContextmenuClick(v.id)\"\n        >\n          <template v-if=\"!v.affix\">\n            <i :class=\"v.icon\"></i>\n            <span>{{ $t(v.txt) }}</span>\n          </template>\n        </li>\n        <div x-arrow class=\"popper__arrow\" :style=\"{ left: `${arrowLeft}px` }\"></div>\n      </ul>\n    </transition>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'layoutTagsViewContextmenu',\n  props: {\n    dropdown: {\n      type: Object,\n    },\n  },\n  data() {\n    return {\n      isShow: false,\n      dropdownList: [\n        { id: 0, txt: 'message.tagsView.refresh', affix: false, icon: 'el-icon-refresh-right' },\n        { id: 1, txt: 'message.tagsView.close', affix: false, icon: 'el-icon-close' },\n        { id: 2, txt: 'message.tagsView.closeOther', affix: false, icon: 'el-icon-circle-close' },\n        { id: 3, txt: 'message.tagsView.closeAll', affix: false, icon: 'el-icon-folder-delete' },\n      ],\n      path: {},\n      arrowLeft: 5,\n    };\n  },\n  computed: {\n    dropdowns() {\n      // 99 为 `Dropdown 下拉菜单` 的宽度\n      if (this.dropdown.x + 99 > document.documentElement.clientWidth) {\n        return {\n          x: document.documentElement.clientWidth - 99 - 5,\n          y: this.dropdown.y,\n        };\n      } else {\n        return this.dropdown;\n      }\n    },\n  },\n  mounted() {\n    // 监听页面监听进行右键菜单的关闭\n    document.body.addEventListener('click', this.closeContextmenu);\n  },\n  methods: {\n    // 当前项菜单点击\n    onCurrentContextmenuClick(id) {\n      this.$emit('currentContextmenuClick', { id, path: this.path });\n    },\n    // 打开右键菜单：判断是否固定，固定则不显示关闭按钮\n    openContextmenu(item) {\n      this.path = item.path;\n      item.meta.isAffix ? (this.dropdownList[1].affix = true) : (this.dropdownList[1].affix = false);\n      this.closeContextmenu();\n      setTimeout(() => {\n        this.isShow = true;\n      }, 80);\n    },\n    // 关闭右键菜单\n    closeContextmenu() {\n      this.isShow = false;\n    },\n  },\n  destroyed() {\n    // 页面卸载时，移除右键菜单监听事件\n    document.body.removeEventListener('click', this.closeContextmenu);\n  },\n  // 监听下拉菜单位置\n  watch: {\n    dropdown: {\n      handler({ x }) {\n        if (x + 99 > document.documentElement.clientWidth)\n          this.arrowLeft = 99 - (document.documentElement.clientWidth - x);\n        else this.arrowLeft = 10;\n      },\n      deep: true,\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.custom-contextmenu {\n  transform-origin: center top;\n  z-index: 2190;\n  position: fixed;\n  .el-dropdown-menu__item {\n    font-size: 12px !important;\n    white-space: nowrap;\n    i {\n      font-size: 12px !important;\n    }\n  }\n}\n</style>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;EACAA,IAAA;EACAC,KAAA;IACAC,QAAA;MACAC,IAAA,EAAAC;IACA;EACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,MAAA;MACAC,YAAA,GACA;QAAAC,EAAA;QAAAC,GAAA;QAAAC,KAAA;QAAAC,IAAA;MAAA,GACA;QAAAH,EAAA;QAAAC,GAAA;QAAAC,KAAA;QAAAC,IAAA;MAAA,GACA;QAAAH,EAAA;QAAAC,GAAA;QAAAC,KAAA;QAAAC,IAAA;MAAA,GACA;QAAAH,EAAA;QAAAC,GAAA;QAAAC,KAAA;QAAAC,IAAA;MAAA,EACA;MACAC,IAAA;MACAC,SAAA;IACA;EACA;EACAC,QAAA;IACAC,SAAA,WAAAA,UAAA;MACA;MACA,SAAAb,QAAA,CAAAc,CAAA,QAAAC,QAAA,CAAAC,eAAA,CAAAC,WAAA;QACA;UACAH,CAAA,EAAAC,QAAA,CAAAC,eAAA,CAAAC,WAAA;UACAC,CAAA,OAAAlB,QAAA,CAAAkB;QACA;MACA;QACA,YAAAlB,QAAA;MACA;IACA;EACA;EACAmB,OAAA,WAAAA,QAAA;IACA;IACAJ,QAAA,CAAAK,IAAA,CAAAC,gBAAA,eAAAC,gBAAA;EACA;EACAC,OAAA;IACA;IACAC,yBAAA,WAAAA,0BAAAlB,EAAA;MACA,KAAAmB,KAAA;QAAAnB,EAAA,EAAAA,EAAA;QAAAI,IAAA,OAAAA;MAAA;IACA;IACA;IACAgB,eAAA,WAAAA,gBAAAC,IAAA;MAAA,IAAAC,KAAA;MACA,KAAAlB,IAAA,GAAAiB,IAAA,CAAAjB,IAAA;MACAiB,IAAA,CAAAE,IAAA,CAAAC,OAAA,QAAAzB,YAAA,IAAAG,KAAA,eAAAH,YAAA,IAAAG,KAAA;MACA,KAAAc,gBAAA;MACAS,UAAA;QACAH,KAAA,CAAAxB,MAAA;MACA;IACA;IACA;IACAkB,gBAAA,WAAAA,iBAAA;MACA,KAAAlB,MAAA;IACA;EACA;EACA4B,SAAA,WAAAA,UAAA;IACA;IACAjB,QAAA,CAAAK,IAAA,CAAAa,mBAAA,eAAAX,gBAAA;EACA;EACA;EACAY,KAAA;IACAlC,QAAA;MACAmC,OAAA,WAAAA,QAAAC,IAAA;QAAA,IAAAtB,CAAA,GAAAsB,IAAA,CAAAtB,CAAA;QACA,IAAAA,CAAA,QAAAC,QAAA,CAAAC,eAAA,CAAAC,WAAA,EACA,KAAAN,SAAA,SAAAI,QAAA,CAAAC,eAAA,CAAAC,WAAA,GAAAH,CAAA,OACA,KAAAH,SAAA;MACA;MACA0B,IAAA;IACA;EACA;AACA"}]}