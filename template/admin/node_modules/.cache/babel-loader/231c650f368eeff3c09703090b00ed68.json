{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/pages/system/maintain/systemCleardata/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/pages/system/maintain/systemCleardata/index.vue","mtime":1689324015278},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/babel.config.js","mtime":1689324015052},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/.babelrc","mtime":1689324015050},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHJlcGxhY2VTaXRlVXJsQXBpIH0gZnJvbSAnQC9hcGkvc3lzdGVtJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdzeXN0ZW1DbGVhcmRhdGEnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB2YWx1ZTY6ICcnLAogICAgICBtb2RhbHM6IGZhbHNlLAogICAgICBncmlkOiB7CiAgICAgICAgeGw6IDYsCiAgICAgICAgbGc6IDgsCiAgICAgICAgbWQ6IDEyLAogICAgICAgIHNtOiAyNCwKICAgICAgICB4czogMjQKICAgICAgfSwKICAgICAgdGFiTGlzdDogW3sKICAgICAgICB0aXRsZTogJ+abtOaNouWfn+WQjScsCiAgICAgICAgdGx0OiAn5pu/5o2i5omA5pyJ5pys5Zyw5LiK5Lyg55qE5Zu+54mH5Z+f5ZCNJywKICAgICAgICB0eXBlTmFtZTogJ3ByaW1hcnknLAogICAgICAgIHR5cGU6ICcxMScKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAn5riF6Zmk55So5oi355Sf5oiQ55qE5Li05pe26ZmE5Lu2JywKICAgICAgICB0bHQ6ICfmuIXpmaTnlKjmiLfnlJ/miJDnmoTkuLTml7bpmYTku7bvvIzkuI3kvJrlvbHlk43llYblk4Hlm74nLAogICAgICAgIHR5cGVOYW1lOiAnZXJyb3InLAogICAgICAgIHR5cGU6ICd0ZW1wJwogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICfmuIXpmaTlm57mlLbnq5nllYblk4EnLAogICAgICAgIHRsdDogJ+a4hemZpOWbnuaUtuermeWVhuWTge+8jOiwqOaFjuaTjeS9nCcsCiAgICAgICAgdHlwZU5hbWU6ICdlcnJvcicsCiAgICAgICAgdHlwZTogJ3JlY3ljbGUnCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogJ+a4hemZpOeUqOaIt+aVsOaNricsCiAgICAgICAgdGx0OiAn55So5oi355u45YWz55qE5omA5pyJ6KGo6YO95bCG6KKr5riF6Zmk77yM6LCo5oWO5pON5L2cJywKICAgICAgICB0eXBlTmFtZTogJ2Vycm9yJywKICAgICAgICB0eXBlOiAndXNlcicKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAn5riF6Zmk5ZWG5Z+O5pWw5o2uJywKICAgICAgICB0bHQ6ICfmuIXpmaTmiYDmnInllYbln47mlbDmja7vvIzosKjmhY7mk43kvZwnLAogICAgICAgIHR5cGVOYW1lOiAnZXJyb3InLAogICAgICAgIHR5cGU6ICdzdG9yZScKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAn5riF6Zmk5ZWG5ZOB5YiG57G7JywKICAgICAgICB0bHQ6ICfkvJrmuIXpmaTmiYDmnInllYblk4HliIbnsbvvvIzosKjmhY7mk43kvZwnLAogICAgICAgIHR5cGVOYW1lOiAnZXJyb3InLAogICAgICAgIHR5cGU6ICdjYXRlZ29yeScKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAn5riF6Zmk6K6i5Y2V5pWw5o2uJywKICAgICAgICB0bHQ6ICfmuIXpmaTnlKjmiLfmiYDmnInorqLljZXmlbDmja7vvIzosKjmhY7mk43kvZwnLAogICAgICAgIHR5cGVOYW1lOiAnZXJyb3InLAogICAgICAgIHR5cGU6ICdvcmRlcicKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAn5riF6Zmk5a6i5pyN5pWw5o2uJywKICAgICAgICB0bHQ6ICfmuIXpmaTmt7vliqDnmoTlrqLmnI3mlbDmja7vvIzosKjmhY7mk43kvZwnLAogICAgICAgIHR5cGVOYW1lOiAnZXJyb3InLAogICAgICAgIHR5cGU6ICdrZWZ1JwogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICfmuIXpmaTlvq7kv6HmlbDmja4nLAogICAgICAgIHRsdDogJ+a4hemZpOW+ruS/oeiPnOWNleS/neWtmOaVsOaNru+8jOW+ruS/oeWFs+mUruWtl+aXoOaViOWbnuWkjScsCiAgICAgICAgdHlwZU5hbWU6ICdlcnJvcicsCiAgICAgICAgdHlwZTogJ3dlY2hhdCcKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAn5riF6Zmk5YaF5a655YiG57G7JywKICAgICAgICB0bHQ6ICfmuIXpmaTmt7vliqDnmoTmlofnq6Dlkozmlofnq6DliIbnsbss6LCo5oWO5pON5L2cJywKICAgICAgICB0eXBlTmFtZTogJ2Vycm9yJywKICAgICAgICB0eXBlOiAnYXJ0aWNsZScKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAn5riF6Zmk5omA5pyJ6ZmE5Lu2JywKICAgICAgICB0bHQ6ICfmuIXpmaTmiYDmnInpmYTku7bnlKjmiLfnlJ/miJDlkozlkI7lj7DkuIrkvKAs6LCo5oWO5pON5L2cJywKICAgICAgICB0eXBlTmFtZTogJ2Vycm9yJywKICAgICAgICB0eXBlOiAnYXR0YWNobWVudCcKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAn5riF6Zmk57O757uf6K6w5b2VJywKICAgICAgICB0bHQ6ICfmuIXpmaTns7vnu5/orrDlvZUs6LCo5oWO5pON5L2cJywKICAgICAgICB0eXBlTmFtZTogJ2Vycm9yJywKICAgICAgICB0eXBlOiAnc3lzdGVtJwogICAgICB9XQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOa4hemZpOaVsOaNrgogICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGl0ZW0pIHsKICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJzExJykgewogICAgICAgIHRoaXMubW9kYWxzID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmNsZWFyRnJvbXMoaXRlbSk7CiAgICAgIH0KICAgIH0sCiAgICBjbGVhckZyb21zOiBmdW5jdGlvbiBjbGVhckZyb21zKGl0ZW0pIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdmFyIGRlbGZyb21EYXRhID0gewogICAgICAgIHRpdGxlOiBpdGVtLnRpdGxlLAogICAgICAgIHVybDogInN5c3RlbS9jbGVhci8iLmNvbmNhdChpdGVtLnR5cGUpLAogICAgICAgIG1ldGhvZDogJ2dldCcsCiAgICAgICAgaWRzOiAnJwogICAgICB9OwogICAgICB0aGlzLiRtb2RhbFN1cmUoZGVsZnJvbURhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLiRNZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy4kTWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5pu05o2i5Z+f5ZCNCiAgICBjaGFuZ2VZVTogZnVuY3Rpb24gY2hhbmdlWVUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICByZXBsYWNlU2l0ZVVybEFwaSh7CiAgICAgICAgdXJsOiB0aGlzLnZhbHVlNgogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIubW9kYWxzID0gZmFsc2U7CiAgICAgICAgX3RoaXMyLiRNZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["replaceSiteUrlApi","name","data","value6","modals","grid","xl","lg","md","sm","xs","tabList","title","tlt","typeName","type","methods","onChange","item","clearFroms","_this","delfromData","url","concat","method","ids","$modalSure","then","res","$Message","success","msg","catch","error","changeYU","_this2"],"sources":["src/pages/system/maintain/systemCleardata/index.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"i-layout-page-header header-title\">\n      <span class=\"ivu-page-header-title\">{{ $route.meta.title }}</span>\n      <span class=\"clear_tit\">\n        <Icon type=\"md-information-circle\" color=\"#ED4014\" />\n        <span>清除数据请谨慎，清除就无法恢复哦！</span>\n      </span>\n    </div>\n    <Card :bordered=\"false\" dis-hover class=\"ivu-mt\">\n      <Row type=\"flex\" :gutter=\"24\">\n        <Col v-bind=\"grid\" class=\"mb20\" v-for=\"(item, index) in tabList\" :key=\"index\">\n          <div class=\"clear_box\">\n            <span class=\"clear_box_sp1\" v-text=\"item.title\"></span>\n            <span class=\"clear_box_sp2\" v-text=\"item.tlt\"></span>\n            <Button\n              :type=\"item.typeName\"\n              v-text=\"item.typeName === 'primary' ? '立即更换' : '立即清理'\"\n              @click=\"onChange(item)\"\n            ></Button>\n          </div>\n        </Col>\n      </Row>\n    </Card>\n    <!-- 更换域名-->\n    <Modal v-model=\"modals\" class=\"tableBox\" scrollable closable title=\"更换域名\" :mask-closable=\"false\">\n      <div class=\"acea-row row-column\">\n        <span>请输入需要替换的域名，格式为：http://域名。</span>\n        <span>替换规则：会使用当前[设置]里面的[网站域名]去替换成当前您输入的域名。</span>\n        <span class=\"mb15\">替换成功后再去更换[网站域名]。</span>\n        <Input v-model=\"value6\" type=\"textarea\" :rows=\"4\" placeholder=\"请输入网站域名...\" />\n      </div>\n      <div slot=\"footer\">\n        <Button type=\"primary\" size=\"large\" long @click=\"changeYU\">确定</Button>\n      </div>\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport { replaceSiteUrlApi } from '@/api/system';\nexport default {\n  name: 'systemCleardata',\n  data() {\n    return {\n      value6: '',\n      modals: false,\n      grid: {\n        xl: 6,\n        lg: 8,\n        md: 12,\n        sm: 24,\n        xs: 24,\n      },\n      tabList: [\n        {\n          title: '更换域名',\n          tlt: '替换所有本地上传的图片域名',\n          typeName: 'primary',\n          type: '11',\n        },\n        {\n          title: '清除用户生成的临时附件',\n          tlt: '清除用户生成的临时附件，不会影响商品图',\n          typeName: 'error',\n          type: 'temp',\n        },\n        {\n          title: '清除回收站商品',\n          tlt: '清除回收站商品，谨慎操作',\n          typeName: 'error',\n          type: 'recycle',\n        },\n        {\n          title: '清除用户数据',\n          tlt: '用户相关的所有表都将被清除，谨慎操作',\n          typeName: 'error',\n          type: 'user',\n        },\n        {\n          title: '清除商城数据',\n          tlt: '清除所有商城数据，谨慎操作',\n          typeName: 'error',\n          type: 'store',\n        },\n        {\n          title: '清除商品分类',\n          tlt: '会清除所有商品分类，谨慎操作',\n          typeName: 'error',\n          type: 'category',\n        },\n        {\n          title: '清除订单数据',\n          tlt: '清除用户所有订单数据，谨慎操作',\n          typeName: 'error',\n          type: 'order',\n        },\n        {\n          title: '清除客服数据',\n          tlt: '清除添加的客服数据，谨慎操作',\n          typeName: 'error',\n          type: 'kefu',\n        },\n        {\n          title: '清除微信数据',\n          tlt: '清除微信菜单保存数据，微信关键字无效回复',\n          typeName: 'error',\n          type: 'wechat',\n        },\n        {\n          title: '清除内容分类',\n          tlt: '清除添加的文章和文章分类,谨慎操作',\n          typeName: 'error',\n          type: 'article',\n        },\n        {\n          title: '清除所有附件',\n          tlt: '清除所有附件用户生成和后台上传,谨慎操作',\n          typeName: 'error',\n          type: 'attachment',\n        },\n        {\n          title: '清除系统记录',\n          tlt: '清除系统记录,谨慎操作',\n          typeName: 'error',\n          type: 'system',\n        },\n      ],\n    };\n  },\n  methods: {\n    // 清除数据\n    onChange(item) {\n      if (item.type === '11') {\n        this.modals = true;\n      } else {\n        this.clearFroms(item);\n      }\n    },\n    clearFroms(item) {\n      let delfromData = {\n        title: item.title,\n        url: `system/clear/${item.type}`,\n        method: 'get',\n        ids: '',\n      };\n      this.$modalSure(delfromData)\n        .then((res) => {\n          this.$Message.success(res.msg);\n        })\n        .catch((res) => {\n          this.$Message.error(res.msg);\n        });\n    },\n    // 更换域名\n    changeYU() {\n      replaceSiteUrlApi({ url: this.value6 })\n        .then((res) => {\n          this.modals = false;\n          this.$Message.success(res.msg);\n        })\n        .catch((res) => {\n          this.$Message.error(res.msg);\n        });\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"stylus\">\n.clear_tit\n    align-items center\n    margin: 15px\n    span\n        font-size 14px\n        color #ED4014\n.clear_box\n    border 1px solid #DADFE6\n    border-radius 3px\n    display flex\n    flex-direction column\n    align-items: center\n    padding 30px 10px\n    box-sizing border-box\n    .clear_box_sp1\n        font-size 16px\n        color #000000\n        display block\n    .clear_box_sp2\n        font-size 14px\n        color #808695\n        display block\n        margin: 12px 0\n.clear_box >>> .ivu-btn-error\n    color: #fff;\n    background-color: #ED4014;\n    border-color: #ED4014;\n.product_tabs >>> .ivu-page-header-title\n    margin-bottom 0!important\n</style>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA,SAAAA,iBAAA;AACA;EACAC,IAAA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,MAAA;MACAC,MAAA;MACAC,IAAA;QACAC,EAAA;QACAC,EAAA;QACAC,EAAA;QACAC,EAAA;QACAC,EAAA;MACA;MACAC,OAAA,GACA;QACAC,KAAA;QACAC,GAAA;QACAC,QAAA;QACAC,IAAA;MACA,GACA;QACAH,KAAA;QACAC,GAAA;QACAC,QAAA;QACAC,IAAA;MACA,GACA;QACAH,KAAA;QACAC,GAAA;QACAC,QAAA;QACAC,IAAA;MACA,GACA;QACAH,KAAA;QACAC,GAAA;QACAC,QAAA;QACAC,IAAA;MACA,GACA;QACAH,KAAA;QACAC,GAAA;QACAC,QAAA;QACAC,IAAA;MACA,GACA;QACAH,KAAA;QACAC,GAAA;QACAC,QAAA;QACAC,IAAA;MACA,GACA;QACAH,KAAA;QACAC,GAAA;QACAC,QAAA;QACAC,IAAA;MACA,GACA;QACAH,KAAA;QACAC,GAAA;QACAC,QAAA;QACAC,IAAA;MACA,GACA;QACAH,KAAA;QACAC,GAAA;QACAC,QAAA;QACAC,IAAA;MACA,GACA;QACAH,KAAA;QACAC,GAAA;QACAC,QAAA;QACAC,IAAA;MACA,GACA;QACAH,KAAA;QACAC,GAAA;QACAC,QAAA;QACAC,IAAA;MACA,GACA;QACAH,KAAA;QACAC,GAAA;QACAC,QAAA;QACAC,IAAA;MACA;IAEA;EACA;EACAC,OAAA;IACA;IACAC,QAAA,WAAAA,SAAAC,IAAA;MACA,IAAAA,IAAA,CAAAH,IAAA;QACA,KAAAX,MAAA;MACA;QACA,KAAAe,UAAA,CAAAD,IAAA;MACA;IACA;IACAC,UAAA,WAAAA,WAAAD,IAAA;MAAA,IAAAE,KAAA;MACA,IAAAC,WAAA;QACAT,KAAA,EAAAM,IAAA,CAAAN,KAAA;QACAU,GAAA,kBAAAC,MAAA,CAAAL,IAAA,CAAAH,IAAA;QACAS,MAAA;QACAC,GAAA;MACA;MACA,KAAAC,UAAA,CAAAL,WAAA,EACAM,IAAA,WAAAC,GAAA;QACAR,KAAA,CAAAS,QAAA,CAAAC,OAAA,CAAAF,GAAA,CAAAG,GAAA;MACA,GACAC,KAAA,WAAAJ,GAAA;QACAR,KAAA,CAAAS,QAAA,CAAAI,KAAA,CAAAL,GAAA,CAAAG,GAAA;MACA;IACA;IACA;IACAG,QAAA,WAAAA,SAAA;MAAA,IAAAC,MAAA;MACAnC,iBAAA;QAAAsB,GAAA,OAAAnB;MAAA,GACAwB,IAAA,WAAAC,GAAA;QACAO,MAAA,CAAA/B,MAAA;QACA+B,MAAA,CAAAN,QAAA,CAAAC,OAAA,CAAAF,GAAA,CAAAG,GAAA;MACA,GACAC,KAAA,WAAAJ,GAAA;QACAO,MAAA,CAAAN,QAAA,CAAAI,KAAA,CAAAL,GAAA,CAAAG,GAAA;MACA;IACA;EACA;AACA"}]}