{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/pages/product/productAdd/taoBao.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/pages/product/productAdd/taoBao.vue","mtime":1689324015246},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/babel.config.js","mtime":1689324015052},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/.babelrc","mtime":1689324015050},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudGVzdC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgppbXBvcnQgeyBjcmF3bEZyb21BcGksIGNvcHlDb25maWdBcGkgfSBmcm9tICdAL2FwaS9wcm9kdWN0JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICd0YW9CYW8nLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzb3VyZV9saW5rOiAnJywKICAgICAgc3BpblNob3c6IGZhbHNlLAogICAgICBncmlkOiB7CiAgICAgICAgeGw6IDgsCiAgICAgICAgbGc6IDgsCiAgICAgICAgbWQ6IDEyLAogICAgICAgIHNtOiAyNCwKICAgICAgICB4czogMjQKICAgICAgfSwKICAgICAgZ3JpZDI6IHsKICAgICAgICB4bDogMTIsCiAgICAgICAgbGc6IDEyLAogICAgICAgIG1kOiAxMiwKICAgICAgICBzbTogMjQsCiAgICAgICAgeHM6IDI0CiAgICAgIH0sCiAgICAgIGNvcHlDb25maWc6IHsKICAgICAgICBjb3B5X3R5cGU6IDIsCiAgICAgICAgY29weV9udW06IDAKICAgICAgfSwKICAgICAgYXJ0RnJvbTogewogICAgICAgIHR5cGU6ICd0YW9iYW8nLAogICAgICAgIHVybDogJycKICAgICAgfQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7fSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge30sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0Q29weUNvbmZpZygpOwogIH0sCiAgbWV0aG9kczogewogICAgbWVhbFBheTogZnVuY3Rpb24gbWVhbFBheSh2YWwpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6IHRoaXMuJHJvdXRlUHJvU3RyICsgJy9zZXR0aW5nL3Ntcy9zbXNfcGF5L2luZGV4JywKICAgICAgICBxdWVyeTogewogICAgICAgICAgdHlwZTogdmFsCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBnZXRDb3B5Q29uZmlnOiBmdW5jdGlvbiBnZXRDb3B5Q29uZmlnKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICBjb3B5Q29uZmlnQXBpKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMuY29weUNvbmZpZy5jb3B5X3R5cGUgPSByZXMuZGF0YS5jb3B5X3R5cGU7CiAgICAgICAgX3RoaXMuY29weUNvbmZpZy5jb3B5X251bSA9IHJlcy5kYXRhLmNvcHlfbnVtOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDnlJ/miJDooajljZUKICAgIGFkZDogZnVuY3Rpb24gYWRkKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgaWYgKHRoaXMuc291cmVfbGluaykgewogICAgICAgIHZhciByZWcgPSAvKGh0dHB8ZnRwfGh0dHBzKTpcL1wvW1x3XC1fXSsoXC5bXHdcLV9dKykrKFtcd1wtXC4sQD9ePSUmOi9+XCsjXSpbXHdcLVxAP149JSYvflwrI10pPy87CiAgICAgICAgaWYgKCFyZWcudGVzdCh0aGlzLnNvdXJlX2xpbmspKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy4kTWVzc2FnZS53YXJuaW5nKCfor7fovpPlhaXku6VodHRw5byA5aS055qE5Zyw5Z2A77yBJyk7CiAgICAgICAgfQogICAgICAgIHRoaXMuc3BpblNob3cgPSB0cnVlOwogICAgICAgIHRoaXMuYXJ0RnJvbS51cmwgPSB0aGlzLnNvdXJlX2xpbms7CiAgICAgICAgY3Jhd2xGcm9tQXBpKHRoaXMuYXJ0RnJvbSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICB2YXIgaW5mbyA9IHJlcy5kYXRhLnByb2R1Y3RJbmZvOwogICAgICAgICAgX3RoaXMyLiRlbWl0KCdvbi1jbG9zZScsIGluZm8pOwogICAgICAgICAgX3RoaXMyLnNwaW5TaG93ID0gZmFsc2U7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXMyLnNwaW5TaG93ID0gZmFsc2U7CiAgICAgICAgICBfdGhpczIuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kTWVzc2FnZS53YXJuaW5nKCfor7fovpPlhaXpk77mjqXlnLDlnYDvvIEnKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"names":["crawlFromApi","copyConfigApi","name","data","soure_link","spinShow","grid","xl","lg","md","sm","xs","grid2","copyConfig","copy_type","copy_num","artFrom","type","url","computed","created","mounted","getCopyConfig","methods","mealPay","val","$router","push","path","$routeProStr","query","_this","then","res","add","_this2","reg","test","$Message","warning","info","productInfo","$emit","catch","error","msg"],"sources":["src/pages/product/productAdd/taoBao.vue"],"sourcesContent":["<template>\n  <div class=\"Box\">\n    <Card>\n      <div>\n        生成的商品默认是没有上架的，请手动上架商品！\n        <a href=\"http://help.crmeb.net/crmeb-v4/1863579\" v-if=\"copyConfig.copy_type == 2\" target=\"_blank\"\n          >如何配置密钥</a\n        >\n        <span v-else\n          >您当前剩余{{ copyConfig.copy_num }}条采集次数，<span class=\"add\" @click=\"mealPay('copy')\"\n            >增加采集次数</span\n          ></span\n        >\n      </div>\n      <div>商品采集设置：设置 > 系统设置 > 第三方接口设置 > 采集商品配置</div>\n    </Card>\n    <Form class=\"formValidate mt20\" ref=\"formValidate\" :label-width=\"120\" label-position=\"right\" @submit.native.prevent>\n      <Row :gutter=\"24\" type=\"flex\">\n        <Col span=\"18\">\n          <FormItem label=\"链接地址：\">\n            <Input\n              search\n              enter-button=\"确定\"\n              v-model=\"soure_link\"\n              placeholder=\"请输入链接地址\"\n              class=\"numPut\"\n              @on-search=\"add\"\n            />\n          </FormItem>\n        </Col>\n      </Row>\n    </Form>\n    <Spin size=\"large\" fix v-if=\"spinShow\"></Spin>\n  </div>\n</template>\n\n<script>\nimport { crawlFromApi, copyConfigApi } from '@/api/product';\n\nexport default {\n  name: 'taoBao',\n  data() {\n    return {\n      soure_link: '',\n      spinShow: false,\n      grid: {\n        xl: 8,\n        lg: 8,\n        md: 12,\n        sm: 24,\n        xs: 24,\n      },\n      grid2: {\n        xl: 12,\n        lg: 12,\n        md: 12,\n        sm: 24,\n        xs: 24,\n      },\n      copyConfig: {\n        copy_type: 2,\n        copy_num: 0,\n      },\n      artFrom: {\n        type: 'taobao',\n        url: '',\n      },\n    };\n  },\n  computed: {},\n  created() {},\n  mounted() {\n    this.getCopyConfig();\n  },\n  methods: {\n    mealPay(val) {\n      this.$router.push({ path: this.$routeProStr + '/setting/sms/sms_pay/index', query: { type: val } });\n    },\n    getCopyConfig() {\n      copyConfigApi().then((res) => {\n        this.copyConfig.copy_type = res.data.copy_type;\n        this.copyConfig.copy_num = res.data.copy_num;\n      });\n    },\n    // 生成表单\n    add() {\n      if (this.soure_link) {\n        var reg = /(http|ftp|https):\\/\\/[\\w\\-_]+(\\.[\\w\\-_]+)+([\\w\\-\\.,@?^=%&:/~\\+#]*[\\w\\-\\@?^=%&/~\\+#])?/;\n        if (!reg.test(this.soure_link)) {\n          return this.$Message.warning('请输入以http开头的地址！');\n        }\n        this.spinShow = true;\n        this.artFrom.url = this.soure_link;\n        crawlFromApi(this.artFrom)\n          .then((res) => {\n            let info = res.data.productInfo;\n            this.$emit('on-close', info);\n            this.spinShow = false;\n          })\n          .catch((res) => {\n            this.spinShow = false;\n            this.$Message.error(res.msg);\n          });\n      } else {\n        this.$Message.warning('请输入链接地址！');\n      }\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"stylus\">\n/deep/ .ivu-form-item-content {\n    line-height unset !important;\n}\n\n.Box .ivu-radio-wrapper {\n    margin-right: 25px;\n}\n.add{\n  color: #2D8cF0;\n  cursor pointer\n}\n.Box .numPut {\n    width: 100% !important;\n}\n</style>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA,SAAAA,YAAA,EAAAC,aAAA;AAEA;EACAC,IAAA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,UAAA;MACAC,QAAA;MACAC,IAAA;QACAC,EAAA;QACAC,EAAA;QACAC,EAAA;QACAC,EAAA;QACAC,EAAA;MACA;MACAC,KAAA;QACAL,EAAA;QACAC,EAAA;QACAC,EAAA;QACAC,EAAA;QACAC,EAAA;MACA;MACAE,UAAA;QACAC,SAAA;QACAC,QAAA;MACA;MACAC,OAAA;QACAC,IAAA;QACAC,GAAA;MACA;IACA;EACA;EACAC,QAAA;EACAC,OAAA,WAAAA,QAAA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAC,aAAA;EACA;EACAC,OAAA;IACAC,OAAA,WAAAA,QAAAC,GAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;QAAAC,IAAA,OAAAC,YAAA;QAAAC,KAAA;UAAAb,IAAA,EAAAQ;QAAA;MAAA;IACA;IACAH,aAAA,WAAAA,cAAA;MAAA,IAAAS,KAAA;MACA9B,aAAA,GAAA+B,IAAA,WAAAC,GAAA;QACAF,KAAA,CAAAlB,UAAA,CAAAC,SAAA,GAAAmB,GAAA,CAAA9B,IAAA,CAAAW,SAAA;QACAiB,KAAA,CAAAlB,UAAA,CAAAE,QAAA,GAAAkB,GAAA,CAAA9B,IAAA,CAAAY,QAAA;MACA;IACA;IACA;IACAmB,GAAA,WAAAA,IAAA;MAAA,IAAAC,MAAA;MACA,SAAA/B,UAAA;QACA,IAAAgC,GAAA;QACA,KAAAA,GAAA,CAAAC,IAAA,MAAAjC,UAAA;UACA,YAAAkC,QAAA,CAAAC,OAAA;QACA;QACA,KAAAlC,QAAA;QACA,KAAAW,OAAA,CAAAE,GAAA,QAAAd,UAAA;QACAJ,YAAA,MAAAgB,OAAA,EACAgB,IAAA,WAAAC,GAAA;UACA,IAAAO,IAAA,GAAAP,GAAA,CAAA9B,IAAA,CAAAsC,WAAA;UACAN,MAAA,CAAAO,KAAA,aAAAF,IAAA;UACAL,MAAA,CAAA9B,QAAA;QACA,GACAsC,KAAA,WAAAV,GAAA;UACAE,MAAA,CAAA9B,QAAA;UACA8B,MAAA,CAAAG,QAAA,CAAAM,KAAA,CAAAX,GAAA,CAAAY,GAAA;QACA;MACA;QACA,KAAAP,QAAA,CAAAC,OAAA;MACA;IACA;EACA;AACA"}]}