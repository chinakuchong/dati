{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/pages/product/productAdd/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/pages/product/productAdd/index.vue","mtime":1689324015246},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/babel.config.js","mtime":1689324015052},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/.babelrc","mtime":1689324015050},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmFzeW5jLWl0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLnRvLXN0cmluZy10YWcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnRvLXN0cmluZy10YWcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5tYXRoLnRvLXN0cmluZy10YWcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmVycm9yLmNhdXNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnNldC1wcm90b3R5cGUtb2YuanMiOwppbXBvcnQgX3R5cGVvZiBmcm9tICIvVm9sdW1lcy9tYWMvd2Vid29yay8yMDIzL2RhdGkvdGVtcGxhdGUvYWRtaW4vbm9kZV9tb2R1bGVzL0B2dWUvYmFiZWwtcHJlc2V0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mLmpzIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVm9sdW1lcy9tYWMvd2Vid29yay8yMDIzL2RhdGkvdGVtcGxhdGUvYWRtaW4vbm9kZV9tb2R1bGVzL0B2dWUvYmFiZWwtcHJlc2V0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1ZvbHVtZXMvbWFjL3dlYndvcmsvMjAyMy9kYXRpL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AdnVlL2JhYmVsLXByZXNldC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIgZnJvbSAiL1ZvbHVtZXMvbWFjL3dlYndvcmsvMjAyMy9kYXRpL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AdnVlL2JhYmVsLXByZXNldC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIuanMiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVm9sdW1lcy9tYWMvd2Vid29yay8yMDIzL2RhdGkvdGVtcGxhdGUvYWRtaW4vbm9kZV9tb2R1bGVzL0B2dWUvYmFiZWwtcHJlc2V0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmZ1bmN0aW9uIF9yZWdlbmVyYXRvclJ1bnRpbWUoKSB7ICJ1c2Ugc3RyaWN0IjsgLyohIHJlZ2VuZXJhdG9yLXJ1bnRpbWUgLS0gQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuIC0tIGxpY2Vuc2UgKE1JVCk6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9ibG9iL21haW4vTElDRU5TRSAqLyBfcmVnZW5lcmF0b3JSdW50aW1lID0gZnVuY3Rpb24gX3JlZ2VuZXJhdG9yUnVudGltZSgpIHsgcmV0dXJuIGV4cG9ydHM7IH07IHZhciBleHBvcnRzID0ge30sIE9wID0gT2JqZWN0LnByb3RvdHlwZSwgaGFzT3duID0gT3AuaGFzT3duUHJvcGVydHksIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5IHx8IGZ1bmN0aW9uIChvYmosIGtleSwgZGVzYykgeyBvYmpba2V5XSA9IGRlc2MudmFsdWU7IH0sICRTeW1ib2wgPSAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgPyBTeW1ib2wgOiB7fSwgaXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLml0ZXJhdG9yIHx8ICJAQGl0ZXJhdG9yIiwgYXN5bmNJdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuYXN5bmNJdGVyYXRvciB8fCAiQEBhc3luY0l0ZXJhdG9yIiwgdG9TdHJpbmdUYWdTeW1ib2wgPSAkU3ltYm9sLnRvU3RyaW5nVGFnIHx8ICJAQHRvU3RyaW5nVGFnIjsgZnVuY3Rpb24gZGVmaW5lKG9iaiwga2V5LCB2YWx1ZSkgeyByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCB9KSwgb2JqW2tleV07IH0gdHJ5IHsgZGVmaW5lKHt9LCAiIik7IH0gY2F0Y2ggKGVycikgeyBkZWZpbmUgPSBmdW5jdGlvbiBkZWZpbmUob2JqLCBrZXksIHZhbHVlKSB7IHJldHVybiBvYmpba2V5XSA9IHZhbHVlOyB9OyB9IGZ1bmN0aW9uIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHsgdmFyIHByb3RvR2VuZXJhdG9yID0gb3V0ZXJGbiAmJiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvciA/IG91dGVyRm4gOiBHZW5lcmF0b3IsIGdlbmVyYXRvciA9IE9iamVjdC5jcmVhdGUocHJvdG9HZW5lcmF0b3IucHJvdG90eXBlKSwgY29udGV4dCA9IG5ldyBDb250ZXh0KHRyeUxvY3NMaXN0IHx8IFtdKTsgcmV0dXJuIGRlZmluZVByb3BlcnR5KGdlbmVyYXRvciwgIl9pbnZva2UiLCB7IHZhbHVlOiBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpIH0pLCBnZW5lcmF0b3I7IH0gZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIG9iaiwgYXJnKSB7IHRyeSB7IHJldHVybiB7IHR5cGU6ICJub3JtYWwiLCBhcmc6IGZuLmNhbGwob2JqLCBhcmcpIH07IH0gY2F0Y2ggKGVycikgeyByZXR1cm4geyB0eXBlOiAidGhyb3ciLCBhcmc6IGVyciB9OyB9IH0gZXhwb3J0cy53cmFwID0gd3JhcDsgdmFyIENvbnRpbnVlU2VudGluZWwgPSB7fTsgZnVuY3Rpb24gR2VuZXJhdG9yKCkge30gZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fSBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9IHZhciBJdGVyYXRvclByb3RvdHlwZSA9IHt9OyBkZWZpbmUoSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KTsgdmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mLCBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvICYmIGdldFByb3RvKGdldFByb3RvKHZhbHVlcyhbXSkpKTsgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgJiYgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgIT09IE9wICYmIGhhc093bi5jYWxsKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCkgJiYgKEl0ZXJhdG9yUHJvdG90eXBlID0gTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUpOyB2YXIgR3AgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPSBHZW5lcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSk7IGZ1bmN0aW9uIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhwcm90b3R5cGUpIHsgWyJuZXh0IiwgInRocm93IiwgInJldHVybiJdLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkgeyBkZWZpbmUocHJvdG90eXBlLCBtZXRob2QsIGZ1bmN0aW9uIChhcmcpIHsgcmV0dXJuIHRoaXMuX2ludm9rZShtZXRob2QsIGFyZyk7IH0pOyB9KTsgfSBmdW5jdGlvbiBBc3luY0l0ZXJhdG9yKGdlbmVyYXRvciwgUHJvbWlzZUltcGwpIHsgZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpIHsgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGdlbmVyYXRvclttZXRob2RdLCBnZW5lcmF0b3IsIGFyZyk7IGlmICgidGhyb3ciICE9PSByZWNvcmQudHlwZSkgeyB2YXIgcmVzdWx0ID0gcmVjb3JkLmFyZywgdmFsdWUgPSByZXN1bHQudmFsdWU7IHJldHVybiB2YWx1ZSAmJiAib2JqZWN0IiA9PSBfdHlwZW9mKHZhbHVlKSAmJiBoYXNPd24uY2FsbCh2YWx1ZSwgIl9fYXdhaXQiKSA/IFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUuX19hd2FpdCkudGhlbihmdW5jdGlvbiAodmFsdWUpIHsgaW52b2tlKCJuZXh0IiwgdmFsdWUsIHJlc29sdmUsIHJlamVjdCk7IH0sIGZ1bmN0aW9uIChlcnIpIHsgaW52b2tlKCJ0aHJvdyIsIGVyciwgcmVzb2x2ZSwgcmVqZWN0KTsgfSkgOiBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uICh1bndyYXBwZWQpIHsgcmVzdWx0LnZhbHVlID0gdW53cmFwcGVkLCByZXNvbHZlKHJlc3VsdCk7IH0sIGZ1bmN0aW9uIChlcnJvcikgeyByZXR1cm4gaW52b2tlKCJ0aHJvdyIsIGVycm9yLCByZXNvbHZlLCByZWplY3QpOyB9KTsgfSByZWplY3QocmVjb3JkLmFyZyk7IH0gdmFyIHByZXZpb3VzUHJvbWlzZTsgZGVmaW5lUHJvcGVydHkodGhpcywgIl9pbnZva2UiLCB7IHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShtZXRob2QsIGFyZykgeyBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHsgcmV0dXJuIG5ldyBQcm9taXNlSW1wbChmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KTsgfSk7IH0gcmV0dXJuIHByZXZpb3VzUHJvbWlzZSA9IHByZXZpb3VzUHJvbWlzZSA/IHByZXZpb3VzUHJvbWlzZS50aGVuKGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLCBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZykgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpOyB9IH0pOyB9IGZ1bmN0aW9uIG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCkgeyB2YXIgc3RhdGUgPSAic3VzcGVuZGVkU3RhcnQiOyByZXR1cm4gZnVuY3Rpb24gKG1ldGhvZCwgYXJnKSB7IGlmICgiZXhlY3V0aW5nIiA9PT0gc3RhdGUpIHRocm93IG5ldyBFcnJvcigiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZyIpOyBpZiAoImNvbXBsZXRlZCIgPT09IHN0YXRlKSB7IGlmICgidGhyb3ciID09PSBtZXRob2QpIHRocm93IGFyZzsgcmV0dXJuIGRvbmVSZXN1bHQoKTsgfSBmb3IgKGNvbnRleHQubWV0aG9kID0gbWV0aG9kLCBjb250ZXh0LmFyZyA9IGFyZzs7KSB7IHZhciBkZWxlZ2F0ZSA9IGNvbnRleHQuZGVsZWdhdGU7IGlmIChkZWxlZ2F0ZSkgeyB2YXIgZGVsZWdhdGVSZXN1bHQgPSBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTsgaWYgKGRlbGVnYXRlUmVzdWx0KSB7IGlmIChkZWxlZ2F0ZVJlc3VsdCA9PT0gQ29udGludWVTZW50aW5lbCkgY29udGludWU7IHJldHVybiBkZWxlZ2F0ZVJlc3VsdDsgfSB9IGlmICgibmV4dCIgPT09IGNvbnRleHQubWV0aG9kKSBjb250ZXh0LnNlbnQgPSBjb250ZXh0Ll9zZW50ID0gY29udGV4dC5hcmc7ZWxzZSBpZiAoInRocm93IiA9PT0gY29udGV4dC5tZXRob2QpIHsgaWYgKCJzdXNwZW5kZWRTdGFydCIgPT09IHN0YXRlKSB0aHJvdyBzdGF0ZSA9ICJjb21wbGV0ZWQiLCBjb250ZXh0LmFyZzsgY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZyk7IH0gZWxzZSAicmV0dXJuIiA9PT0gY29udGV4dC5tZXRob2QgJiYgY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGNvbnRleHQuYXJnKTsgc3RhdGUgPSAiZXhlY3V0aW5nIjsgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpOyBpZiAoIm5vcm1hbCIgPT09IHJlY29yZC50eXBlKSB7IGlmIChzdGF0ZSA9IGNvbnRleHQuZG9uZSA/ICJjb21wbGV0ZWQiIDogInN1c3BlbmRlZFlpZWxkIiwgcmVjb3JkLmFyZyA9PT0gQ29udGludWVTZW50aW5lbCkgY29udGludWU7IHJldHVybiB7IHZhbHVlOiByZWNvcmQuYXJnLCBkb25lOiBjb250ZXh0LmRvbmUgfTsgfSAidGhyb3ciID09PSByZWNvcmQudHlwZSAmJiAoc3RhdGUgPSAiY29tcGxldGVkIiwgY29udGV4dC5tZXRob2QgPSAidGhyb3ciLCBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmcpOyB9IH07IH0gZnVuY3Rpb24gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCkgeyB2YXIgbWV0aG9kTmFtZSA9IGNvbnRleHQubWV0aG9kLCBtZXRob2QgPSBkZWxlZ2F0ZS5pdGVyYXRvclttZXRob2ROYW1lXTsgaWYgKHVuZGVmaW5lZCA9PT0gbWV0aG9kKSByZXR1cm4gY29udGV4dC5kZWxlZ2F0ZSA9IG51bGwsICJ0aHJvdyIgPT09IG1ldGhvZE5hbWUgJiYgZGVsZWdhdGUuaXRlcmF0b3IucmV0dXJuICYmIChjb250ZXh0Lm1ldGhvZCA9ICJyZXR1cm4iLCBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZCwgbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCksICJ0aHJvdyIgPT09IGNvbnRleHQubWV0aG9kKSB8fCAicmV0dXJuIiAhPT0gbWV0aG9kTmFtZSAmJiAoY29udGV4dC5tZXRob2QgPSAidGhyb3ciLCBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJyIgKyBtZXRob2ROYW1lICsgIicgbWV0aG9kIikpLCBDb250aW51ZVNlbnRpbmVsOyB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2gobWV0aG9kLCBkZWxlZ2F0ZS5pdGVyYXRvciwgY29udGV4dC5hcmcpOyBpZiAoInRocm93IiA9PT0gcmVjb3JkLnR5cGUpIHJldHVybiBjb250ZXh0Lm1ldGhvZCA9ICJ0aHJvdyIsIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZywgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGwsIENvbnRpbnVlU2VudGluZWw7IHZhciBpbmZvID0gcmVjb3JkLmFyZzsgcmV0dXJuIGluZm8gPyBpbmZvLmRvbmUgPyAoY29udGV4dFtkZWxlZ2F0ZS5yZXN1bHROYW1lXSA9IGluZm8udmFsdWUsIGNvbnRleHQubmV4dCA9IGRlbGVnYXRlLm5leHRMb2MsICJyZXR1cm4iICE9PSBjb250ZXh0Lm1ldGhvZCAmJiAoY29udGV4dC5tZXRob2QgPSAibmV4dCIsIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkKSwgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGwsIENvbnRpbnVlU2VudGluZWwpIDogaW5mbyA6IChjb250ZXh0Lm1ldGhvZCA9ICJ0aHJvdyIsIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcigiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3QiKSwgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGwsIENvbnRpbnVlU2VudGluZWwpOyB9IGZ1bmN0aW9uIHB1c2hUcnlFbnRyeShsb2NzKSB7IHZhciBlbnRyeSA9IHsgdHJ5TG9jOiBsb2NzWzBdIH07IDEgaW4gbG9jcyAmJiAoZW50cnkuY2F0Y2hMb2MgPSBsb2NzWzFdKSwgMiBpbiBsb2NzICYmIChlbnRyeS5maW5hbGx5TG9jID0gbG9jc1syXSwgZW50cnkuYWZ0ZXJMb2MgPSBsb2NzWzNdKSwgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpOyB9IGZ1bmN0aW9uIHJlc2V0VHJ5RW50cnkoZW50cnkpIHsgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb24gfHwge307IHJlY29yZC50eXBlID0gIm5vcm1hbCIsIGRlbGV0ZSByZWNvcmQuYXJnLCBlbnRyeS5jb21wbGV0aW9uID0gcmVjb3JkOyB9IGZ1bmN0aW9uIENvbnRleHQodHJ5TG9jc0xpc3QpIHsgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiAicm9vdCIgfV0sIHRyeUxvY3NMaXN0LmZvckVhY2gocHVzaFRyeUVudHJ5LCB0aGlzKSwgdGhpcy5yZXNldCghMCk7IH0gZnVuY3Rpb24gdmFsdWVzKGl0ZXJhYmxlKSB7IGlmIChpdGVyYWJsZSkgeyB2YXIgaXRlcmF0b3JNZXRob2QgPSBpdGVyYWJsZVtpdGVyYXRvclN5bWJvbF07IGlmIChpdGVyYXRvck1ldGhvZCkgcmV0dXJuIGl0ZXJhdG9yTWV0aG9kLmNhbGwoaXRlcmFibGUpOyBpZiAoImZ1bmN0aW9uIiA9PSB0eXBlb2YgaXRlcmFibGUubmV4dCkgcmV0dXJuIGl0ZXJhYmxlOyBpZiAoIWlzTmFOKGl0ZXJhYmxlLmxlbmd0aCkpIHsgdmFyIGkgPSAtMSwgbmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7IGZvciAoOyArK2kgPCBpdGVyYWJsZS5sZW5ndGg7KSBpZiAoaGFzT3duLmNhbGwoaXRlcmFibGUsIGkpKSByZXR1cm4gbmV4dC52YWx1ZSA9IGl0ZXJhYmxlW2ldLCBuZXh0LmRvbmUgPSAhMSwgbmV4dDsgcmV0dXJuIG5leHQudmFsdWUgPSB1bmRlZmluZWQsIG5leHQuZG9uZSA9ICEwLCBuZXh0OyB9OyByZXR1cm4gbmV4dC5uZXh0ID0gbmV4dDsgfSB9IHJldHVybiB7IG5leHQ6IGRvbmVSZXN1bHQgfTsgfSBmdW5jdGlvbiBkb25lUmVzdWx0KCkgeyByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiAhMCB9OyB9IHJldHVybiBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgZGVmaW5lUHJvcGVydHkoR3AsICJjb25zdHJ1Y3RvciIsIHsgdmFsdWU6IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBjb25maWd1cmFibGU6ICEwIH0pLCBkZWZpbmVQcm9wZXJ0eShHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgImNvbnN0cnVjdG9yIiwgeyB2YWx1ZTogR2VuZXJhdG9yRnVuY3Rpb24sIGNvbmZpZ3VyYWJsZTogITAgfSksIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gZGVmaW5lKEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCB0b1N0cmluZ1RhZ1N5bWJvbCwgIkdlbmVyYXRvckZ1bmN0aW9uIiksIGV4cG9ydHMuaXNHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uIChnZW5GdW4pIHsgdmFyIGN0b3IgPSAiZnVuY3Rpb24iID09IHR5cGVvZiBnZW5GdW4gJiYgZ2VuRnVuLmNvbnN0cnVjdG9yOyByZXR1cm4gISFjdG9yICYmIChjdG9yID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fCAiR2VuZXJhdG9yRnVuY3Rpb24iID09PSAoY3Rvci5kaXNwbGF5TmFtZSB8fCBjdG9yLm5hbWUpKTsgfSwgZXhwb3J0cy5tYXJrID0gZnVuY3Rpb24gKGdlbkZ1bikgeyByZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKGdlbkZ1biwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpIDogKGdlbkZ1bi5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgZGVmaW5lKGdlbkZ1biwgdG9TdHJpbmdUYWdTeW1ib2wsICJHZW5lcmF0b3JGdW5jdGlvbiIpKSwgZ2VuRnVuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR3ApLCBnZW5GdW47IH0sIGV4cG9ydHMuYXdyYXAgPSBmdW5jdGlvbiAoYXJnKSB7IHJldHVybiB7IF9fYXdhaXQ6IGFyZyB9OyB9LCBkZWZpbmVJdGVyYXRvck1ldGhvZHMoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUpLCBkZWZpbmUoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUsIGFzeW5jSXRlcmF0b3JTeW1ib2wsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0pLCBleHBvcnRzLkFzeW5jSXRlcmF0b3IgPSBBc3luY0l0ZXJhdG9yLCBleHBvcnRzLmFzeW5jID0gZnVuY3Rpb24gKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0LCBQcm9taXNlSW1wbCkgeyB2b2lkIDAgPT09IFByb21pc2VJbXBsICYmIChQcm9taXNlSW1wbCA9IFByb21pc2UpOyB2YXIgaXRlciA9IG5ldyBBc3luY0l0ZXJhdG9yKHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpLCBQcm9taXNlSW1wbCk7IHJldHVybiBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24ob3V0ZXJGbikgPyBpdGVyIDogaXRlci5uZXh0KCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7IHJldHVybiByZXN1bHQuZG9uZSA/IHJlc3VsdC52YWx1ZSA6IGl0ZXIubmV4dCgpOyB9KTsgfSwgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEdwKSwgZGVmaW5lKEdwLCB0b1N0cmluZ1RhZ1N5bWJvbCwgIkdlbmVyYXRvciIpLCBkZWZpbmUoR3AsIGl0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KSwgZGVmaW5lKEdwLCAidG9TdHJpbmciLCBmdW5jdGlvbiAoKSB7IHJldHVybiAiW29iamVjdCBHZW5lcmF0b3JdIjsgfSksIGV4cG9ydHMua2V5cyA9IGZ1bmN0aW9uICh2YWwpIHsgdmFyIG9iamVjdCA9IE9iamVjdCh2YWwpLCBrZXlzID0gW107IGZvciAodmFyIGtleSBpbiBvYmplY3QpIGtleXMucHVzaChrZXkpOyByZXR1cm4ga2V5cy5yZXZlcnNlKCksIGZ1bmN0aW9uIG5leHQoKSB7IGZvciAoOyBrZXlzLmxlbmd0aDspIHsgdmFyIGtleSA9IGtleXMucG9wKCk7IGlmIChrZXkgaW4gb2JqZWN0KSByZXR1cm4gbmV4dC52YWx1ZSA9IGtleSwgbmV4dC5kb25lID0gITEsIG5leHQ7IH0gcmV0dXJuIG5leHQuZG9uZSA9ICEwLCBuZXh0OyB9OyB9LCBleHBvcnRzLnZhbHVlcyA9IHZhbHVlcywgQ29udGV4dC5wcm90b3R5cGUgPSB7IGNvbnN0cnVjdG9yOiBDb250ZXh0LCByZXNldDogZnVuY3Rpb24gcmVzZXQoc2tpcFRlbXBSZXNldCkgeyBpZiAodGhpcy5wcmV2ID0gMCwgdGhpcy5uZXh0ID0gMCwgdGhpcy5zZW50ID0gdGhpcy5fc2VudCA9IHVuZGVmaW5lZCwgdGhpcy5kb25lID0gITEsIHRoaXMuZGVsZWdhdGUgPSBudWxsLCB0aGlzLm1ldGhvZCA9ICJuZXh0IiwgdGhpcy5hcmcgPSB1bmRlZmluZWQsIHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpLCAhc2tpcFRlbXBSZXNldCkgZm9yICh2YXIgbmFtZSBpbiB0aGlzKSAidCIgPT09IG5hbWUuY2hhckF0KDApICYmIGhhc093bi5jYWxsKHRoaXMsIG5hbWUpICYmICFpc05hTigrbmFtZS5zbGljZSgxKSkgJiYgKHRoaXNbbmFtZV0gPSB1bmRlZmluZWQpOyB9LCBzdG9wOiBmdW5jdGlvbiBzdG9wKCkgeyB0aGlzLmRvbmUgPSAhMDsgdmFyIHJvb3RSZWNvcmQgPSB0aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjsgaWYgKCJ0aHJvdyIgPT09IHJvb3RSZWNvcmQudHlwZSkgdGhyb3cgcm9vdFJlY29yZC5hcmc7IHJldHVybiB0aGlzLnJ2YWw7IH0sIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbiBkaXNwYXRjaEV4Y2VwdGlvbihleGNlcHRpb24pIHsgaWYgKHRoaXMuZG9uZSkgdGhyb3cgZXhjZXB0aW9uOyB2YXIgY29udGV4dCA9IHRoaXM7IGZ1bmN0aW9uIGhhbmRsZShsb2MsIGNhdWdodCkgeyByZXR1cm4gcmVjb3JkLnR5cGUgPSAidGhyb3ciLCByZWNvcmQuYXJnID0gZXhjZXB0aW9uLCBjb250ZXh0Lm5leHQgPSBsb2MsIGNhdWdodCAmJiAoY29udGV4dC5tZXRob2QgPSAibmV4dCIsIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkKSwgISFjYXVnaHQ7IH0gZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkgeyB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV0sIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247IGlmICgicm9vdCIgPT09IGVudHJ5LnRyeUxvYykgcmV0dXJuIGhhbmRsZSgiZW5kIik7IGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7IHZhciBoYXNDYXRjaCA9IGhhc093bi5jYWxsKGVudHJ5LCAiY2F0Y2hMb2MiKSwgaGFzRmluYWxseSA9IGhhc093bi5jYWxsKGVudHJ5LCAiZmluYWxseUxvYyIpOyBpZiAoaGFzQ2F0Y2ggJiYgaGFzRmluYWxseSkgeyBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsICEwKTsgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7IH0gZWxzZSBpZiAoaGFzQ2F0Y2gpIHsgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCAhMCk7IH0gZWxzZSB7IGlmICghaGFzRmluYWxseSkgdGhyb3cgbmV3IEVycm9yKCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseSIpOyBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTsgfSB9IH0gfSwgYWJydXB0OiBmdW5jdGlvbiBhYnJ1cHQodHlwZSwgYXJnKSB7IGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHsgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldOyBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldiAmJiBoYXNPd24uY2FsbChlbnRyeSwgImZpbmFsbHlMb2MiKSAmJiB0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7IHZhciBmaW5hbGx5RW50cnkgPSBlbnRyeTsgYnJlYWs7IH0gfSBmaW5hbGx5RW50cnkgJiYgKCJicmVhayIgPT09IHR5cGUgfHwgImNvbnRpbnVlIiA9PT0gdHlwZSkgJiYgZmluYWxseUVudHJ5LnRyeUxvYyA8PSBhcmcgJiYgYXJnIDw9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jICYmIChmaW5hbGx5RW50cnkgPSBudWxsKTsgdmFyIHJlY29yZCA9IGZpbmFsbHlFbnRyeSA/IGZpbmFsbHlFbnRyeS5jb21wbGV0aW9uIDoge307IHJldHVybiByZWNvcmQudHlwZSA9IHR5cGUsIHJlY29yZC5hcmcgPSBhcmcsIGZpbmFsbHlFbnRyeSA/ICh0aGlzLm1ldGhvZCA9ICJuZXh0IiwgdGhpcy5uZXh0ID0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2MsIENvbnRpbnVlU2VudGluZWwpIDogdGhpcy5jb21wbGV0ZShyZWNvcmQpOyB9LCBjb21wbGV0ZTogZnVuY3Rpb24gY29tcGxldGUocmVjb3JkLCBhZnRlckxvYykgeyBpZiAoInRocm93IiA9PT0gcmVjb3JkLnR5cGUpIHRocm93IHJlY29yZC5hcmc7IHJldHVybiAiYnJlYWsiID09PSByZWNvcmQudHlwZSB8fCAiY29udGludWUiID09PSByZWNvcmQudHlwZSA/IHRoaXMubmV4dCA9IHJlY29yZC5hcmcgOiAicmV0dXJuIiA9PT0gcmVjb3JkLnR5cGUgPyAodGhpcy5ydmFsID0gdGhpcy5hcmcgPSByZWNvcmQuYXJnLCB0aGlzLm1ldGhvZCA9ICJyZXR1cm4iLCB0aGlzLm5leHQgPSAiZW5kIikgOiAibm9ybWFsIiA9PT0gcmVjb3JkLnR5cGUgJiYgYWZ0ZXJMb2MgJiYgKHRoaXMubmV4dCA9IGFmdGVyTG9jKSwgQ29udGludWVTZW50aW5lbDsgfSwgZmluaXNoOiBmdW5jdGlvbiBmaW5pc2goZmluYWxseUxvYykgeyBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7IHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTsgaWYgKGVudHJ5LmZpbmFsbHlMb2MgPT09IGZpbmFsbHlMb2MpIHJldHVybiB0aGlzLmNvbXBsZXRlKGVudHJ5LmNvbXBsZXRpb24sIGVudHJ5LmFmdGVyTG9jKSwgcmVzZXRUcnlFbnRyeShlbnRyeSksIENvbnRpbnVlU2VudGluZWw7IH0gfSwgY2F0Y2g6IGZ1bmN0aW9uIF9jYXRjaCh0cnlMb2MpIHsgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkgeyB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07IGlmIChlbnRyeS50cnlMb2MgPT09IHRyeUxvYykgeyB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjsgaWYgKCJ0aHJvdyIgPT09IHJlY29yZC50eXBlKSB7IHZhciB0aHJvd24gPSByZWNvcmQuYXJnOyByZXNldFRyeUVudHJ5KGVudHJ5KTsgfSByZXR1cm4gdGhyb3duOyB9IH0gdGhyb3cgbmV3IEVycm9yKCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHQiKTsgfSwgZGVsZWdhdGVZaWVsZDogZnVuY3Rpb24gZGVsZWdhdGVZaWVsZChpdGVyYWJsZSwgcmVzdWx0TmFtZSwgbmV4dExvYykgeyByZXR1cm4gdGhpcy5kZWxlZ2F0ZSA9IHsgaXRlcmF0b3I6IHZhbHVlcyhpdGVyYWJsZSksIHJlc3VsdE5hbWU6IHJlc3VsdE5hbWUsIG5leHRMb2M6IG5leHRMb2MgfSwgIm5leHQiID09PSB0aGlzLm1ldGhvZCAmJiAodGhpcy5hcmcgPSB1bmRlZmluZWQpLCBDb250aW51ZVNlbnRpbmVsOyB9IH0sIGV4cG9ydHM7IH0KaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKaW1wb3J0IHVzZXJMYWJlbCBmcm9tICdAL2NvbXBvbmVudHMvbGFiZWxMaXN0JzsKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHZ1ZWRyYWdnYWJsZSBmcm9tICd2dWVkcmFnZ2FibGUnOwppbXBvcnQgdXBsb2FkUGljdHVyZXMgZnJvbSAnQC9jb21wb25lbnRzL3VwbG9hZFBpY3R1cmVzJzsKaW1wb3J0IGZyZWlnaHRUZW1wbGF0ZSBmcm9tICdAL2NvbXBvbmVudHMvZnJlaWdodFRlbXBsYXRlJzsKaW1wb3J0IGNvdXBvbkxpc3QgZnJvbSAnQC9jb21wb25lbnRzL2NvdXBvbkxpc3QnOwppbXBvcnQgYWRkQXR0ciBmcm9tICcuLi9wcm9kdWN0QXR0ci9hZGRBdHRyJzsKaW1wb3J0IGdvb2RzTGlzdCBmcm9tICdAL2NvbXBvbmVudHMvZ29vZHNMaXN0L2luZGV4JzsKaW1wb3J0IHRhb0JhbyBmcm9tICcuL3Rhb0Jhbyc7CmltcG9ydCBXYW5nRWRpdG9yIGZyb20gJ0AvY29tcG9uZW50cy93YW5nRWRpdG9yL2luZGV4LnZ1ZSc7CmltcG9ydCB7IHVzZXJMYWJlbEFkZEFwaSB9IGZyb20gJ0AvYXBpL3VzZXInOwppbXBvcnQgeyBwcm9kdWN0SW5mb0FwaSwgY2FzY2FkZXJMaXN0QXBpLCBwcm9kdWN0QWRkQXBpLCBnZW5lcmF0ZUF0dHJBcGksIHByb2R1Y3RHZXRSdWxlQXBpLCBwcm9kdWN0R2V0VGVtcGxhdGVBcGksIHByb2R1Y3RHZXRUZW1wS2V5c0FwaSwgY2hlY2tBY3Rpdml0eUFwaSwgcHJvZHVjdENhY2hlLCBjYWNoZURlbGV0ZSwgdXBsb2FkVHlwZSBhcyBfdXBsb2FkVHlwZSwgaW1wb3J0Q2FyZCwgcHJvZHVjdENyZWF0ZUFwaSB9IGZyb20gJ0AvYXBpL3Byb2R1Y3QnOwppbXBvcnQgU2V0dGluZyBmcm9tICdAL3NldHRpbmcnOwppbXBvcnQgeyBnZXRDb29raWVzIH0gZnJvbSAnQC9saWJzL3V0aWwnOwppbXBvcnQgeyB1cGxvYWRCeVBpZWNlcyB9IGZyb20gJ0AvdXRpbHMvdXBsb2FkJzsgLy/lvJXlhaV1cGxvYWRCeVBpZWNlc+aWueazlQoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdwcm9kdWN0X3Byb2R1Y3RBZGQnLAogIGNvbXBvbmVudHM6IHsKICAgIC8vIFZ1ZVVlZGl0b3JXcmFwLAogICAgdXBsb2FkUGljdHVyZXM6IHVwbG9hZFBpY3R1cmVzLAogICAgZnJlaWdodFRlbXBsYXRlOiBmcmVpZ2h0VGVtcGxhdGUsCiAgICBhZGRBdHRyOiBhZGRBdHRyLAogICAgY291cG9uTGlzdDogY291cG9uTGlzdCwKICAgIHRhb0JhbzogdGFvQmFvLAogICAgZHJhZ2dhYmxlOiB2dWVkcmFnZ2FibGUsCiAgICBnb29kc0xpc3Q6IGdvb2RzTGlzdCwKICAgIFdhbmdFZGl0b3I6IFdhbmdFZGl0b3IsCiAgICB1c2VyTGFiZWw6IHVzZXJMYWJlbAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxhYmVsU2hvdzogZmFsc2UsCiAgICAgIGRhdGFMYWJlbDogW10sCiAgICAgIGhlYWRUYWI6IFt7CiAgICAgICAgdGl0OiAn5Z+656GA5L+h5oGvJywKICAgICAgICBuYW1lOiAnMScKICAgICAgfSwgewogICAgICAgIHRpdDogJ+inhOagvOW6k+WtmCcsCiAgICAgICAgbmFtZTogJzInCiAgICAgIH0sIHsKICAgICAgICB0aXQ6ICfllYblk4Hor6bmg4UnLAogICAgICAgIG5hbWU6ICczJwogICAgICB9LCB7CiAgICAgICAgdGl0OiAn54mp5rWB6K6+572uJywKICAgICAgICBuYW1lOiAnNCcKICAgICAgfSwgewogICAgICAgIHRpdDogJ+iQpemUgOiuvue9ricsCiAgICAgICAgbmFtZTogJzUnCiAgICAgIH0sIHsKICAgICAgICB0aXQ6ICflhbbku5borr7nva4nLAogICAgICAgIG5hbWU6ICc2JwogICAgICB9XSwKICAgICAgdmlydHVhbDogW3sKICAgICAgICB0aXQ6ICfmma7pgJrllYblk4EnLAogICAgICAgIGlkOiAwLAogICAgICAgIHRpdDI6ICfnianmtYHlj5HotKcnCiAgICAgIH0sIHsKICAgICAgICB0aXQ6ICfljaHlr4Yv572R55uYJywKICAgICAgICBpZDogMSwKICAgICAgICB0aXQyOiAn6Ieq5Yqo5Y+R6LSnJwogICAgICB9LCB7CiAgICAgICAgdGl0OiAn5LyY5oOg5Yi4JywKICAgICAgICBpZDogMiwKICAgICAgICB0aXQyOiAn6Ieq5Yqo5Y+R6LSnJwogICAgICB9LCB7CiAgICAgICAgdGl0OiAn6Jma5ouf5ZWG5ZOBJywKICAgICAgICBpZDogMywKICAgICAgICB0aXQyOiAn6Jma5ouf5Y+R6LSnJwogICAgICB9XSwKICAgICAgc2VsZXRWaWRlbzogMCwKICAgICAgLy/pgInmi6nop4bpopHnsbvlnosKICAgICAgY3VzdG9tQnRuOiBmYWxzZSwKICAgICAgLy/oh6rlrprkuYnnlZnoqIDlvIDlhbMKICAgICAgY29udGVudDogJycsCiAgICAgIGNvbnRlbnRzOiAnJywKICAgICAgZmlsZVVybDogU2V0dGluZy5hcGlCYXNlVVJMICsgJy9maWxlL3VwbG9hZCcsCiAgICAgIGZpbGVVcmwyOiBTZXR0aW5nLmFwaUJhc2VVUkwgKyAnL2ZpbGUvdmlkZW9fdXBsb2FkJywKICAgICAgY2FyZFVybDogU2V0dGluZy5hcGlCYXNlVVJMICsgJy9maWxlL3VwbG9hZC8xJywKICAgICAgdXBsb2FkX3R5cGU6ICcnLAogICAgICAvL+inhumikeS4iuS8oOexu+WeiyAxIOacrOWcsOS4iuS8oCAyIDMgNCBPU1PkuIrkvKAKICAgICAgdXBsb2FkRGF0YToge30sCiAgICAgIC8vIOS4iuS8oOWPguaVsAogICAgICBoZWFkZXI6IHt9LAogICAgICB0eXBlOiAwLAogICAgICBtb2RhbHM6IGZhbHNlLAogICAgICBnb29kc19tb2RhbHM6IGZhbHNlLAogICAgICBzcGluU2hvdzogZmFsc2UsCiAgICAgIG9wZW5TdWJpbWl0OiBmYWxzZSwKICAgICAgdmlydHVhbERhdGE6ICcnLAogICAgICB2aXJ0dWFsTGlzdDogW3sKICAgICAgICBrZXk6ICcnLAogICAgICAgIHZhbHVlOiAnJwogICAgICB9XSwKICAgICAgZ3JpZDI6IHsKICAgICAgICB4bDogMTAsCiAgICAgICAgbGc6IDEyLAogICAgICAgIG1kOiAxMiwKICAgICAgICBzbTogMjQsCiAgICAgICAgeHM6IDI0CiAgICAgIH0sCiAgICAgIGdyaWQzOiB7CiAgICAgICAgeGw6IDE4LAogICAgICAgIGxnOiAxOCwKICAgICAgICBtZDogMjAsCiAgICAgICAgc206IDI0LAogICAgICAgIHhzOiAyNAogICAgICB9LAogICAgICAvLyDmibnph4/orr7nva7ooajmoLxkYXRhCiAgICAgIG9uZUZvcm1CYXRjaDogW3sKICAgICAgICBwaWM6ICcnLAogICAgICAgIHByaWNlOiAwLAogICAgICAgIGNvc3Q6IDAsCiAgICAgICAgb3RfcHJpY2U6IDAsCiAgICAgICAgc3RvY2s6IDAsCiAgICAgICAgYmFyX2NvZGU6ICcnLAogICAgICAgIHdlaWdodDogMCwKICAgICAgICB2b2x1bWU6IDAKICAgICAgfV0sCiAgICAgIC8vIOinhOagvOaVsOaNrgogICAgICBmb3JtRHluYW1pYzogewogICAgICAgIGF0dHJzTmFtZTogJycsCiAgICAgICAgYXR0cnNWYWw6ICcnCiAgICAgIH0sCiAgICAgIGRpc2tfdHlwZTogMSwKICAgICAgLy/ljaHlr4bnsbvlnosKICAgICAgdGFiSW5kZXg6IDAsCiAgICAgIHRhYk5hbWU6ICcnLAogICAgICBmb3JtRHluYW1pY05hbWVEYXRhOiBbXSwKICAgICAgaXNCdG46IGZhbHNlLAogICAgICBjb2x1bW5zMjogW3sKICAgICAgICB0aXRsZTogJ+WbvueJhycsCiAgICAgICAgc2xvdDogJ3BpYycsCiAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgIG1pbldpZHRoOiA4MAogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICfllK7ku7cnLAogICAgICAgIHNsb3Q6ICdwcmljZScsCiAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgIG1pbldpZHRoOiA5NQogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICfmiJDmnKzku7cnLAogICAgICAgIHNsb3Q6ICdjb3N0JywKICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgbWluV2lkdGg6IDk1CiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogJ+WOn+S7tycsCiAgICAgICAgc2xvdDogJ290X3ByaWNlJywKICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgbWluV2lkdGg6IDk1CiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogJ+W6k+WtmCcsCiAgICAgICAgc2xvdDogJ3N0b2NrJywKICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgbWluV2lkdGg6IDk1CiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogJ+WVhuWTgee8luWPtycsCiAgICAgICAgc2xvdDogJ2Jhcl9jb2RlJywKICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgbWluV2lkdGg6IDEyMAogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICfph43ph4/vvIhLR++8iScsCiAgICAgICAgc2xvdDogJ3dlaWdodCcsCiAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgIG1pbldpZHRoOiA5NQogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICfkvZPnp68obcKzKScsCiAgICAgICAgc2xvdDogJ3ZvbHVtZScsCiAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgIG1pbldpZHRoOiA5NQogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICfmk43kvZwnLAogICAgICAgIHNsb3Q6ICdhY3Rpb24nLAogICAgICAgIGZpeGVkOiAncmlnaHQnLAogICAgICAgIGFsaWduOiAnY2VudGVyJywKICAgICAgICBtaW5XaWR0aDogMTQwCiAgICAgIH1dLAogICAgICBjb2x1bW5zMzogW3sKICAgICAgICB0aXRsZTogJ+WbvueJhycsCiAgICAgICAgc2xvdDogJ3BpYycsCiAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgIG1pbldpZHRoOiA4MAogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICfllK7ku7cnLAogICAgICAgIHNsb3Q6ICdwcmljZScsCiAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgIG1pbldpZHRoOiA5NQogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICfmiJDmnKzku7cnLAogICAgICAgIHNsb3Q6ICdjb3N0JywKICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgbWluV2lkdGg6IDk1CiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogJ+WOn+S7tycsCiAgICAgICAgc2xvdDogJ290X3ByaWNlJywKICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgbWluV2lkdGg6IDk1CiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogJ+W6k+WtmCcsCiAgICAgICAgc2xvdDogJ3N0b2NrJywKICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgbWluV2lkdGg6IDk1CiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogJ+WVhuWTgee8luWPtycsCiAgICAgICAgc2xvdDogJ2Jhcl9jb2RlJywKICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgbWluV2lkdGg6IDEyMAogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICfomZrmi5/llYblk4EnLAogICAgICAgIHNsb3Q6ICdmaWN0aXRpb3VzJywKICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgbWluV2lkdGg6IDk1CiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogJ+aTjeS9nCcsCiAgICAgICAgc2xvdDogJ2FjdGlvbicsCiAgICAgICAgZml4ZWQ6ICdyaWdodCcsCiAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgIG1pbldpZHRoOiAxNDAKICAgICAgfV0sCiAgICAgIGNvbHVtbnM6IFtdLAogICAgICBjb2x1bW5zSW5zdGFsbDogW10sCiAgICAgIGNvbHVtbnNJbnN0YWwyOiBbXSwKICAgICAgZ3JpZFBpYzogewogICAgICAgIHhsOiA2LAogICAgICAgIGxnOiA4LAogICAgICAgIG1kOiAxMiwKICAgICAgICBzbTogMTIsCiAgICAgICAgeHM6IDEyCiAgICAgIH0sCiAgICAgIGdyaWRCdG46IHsKICAgICAgICB4bDogNCwKICAgICAgICBsZzogOCwKICAgICAgICBtZDogOCwKICAgICAgICBzbTogOCwKICAgICAgICB4czogOAogICAgICB9LAogICAgICAvL+iHquWumuS5ieeVmeiogOS4i+aLiemAieaLqQogICAgICBDdXN0b21MaXN0OiBbewogICAgICAgIHZhbHVlOiAndGV4dCcsCiAgICAgICAgbGFiZWw6ICfmlofmnKzmoYYnCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogJ251bWJlcicsCiAgICAgICAgbGFiZWw6ICfmlbDlrZcnCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogJ2VtYWlsJywKICAgICAgICBsYWJlbDogJ+mCruS7ticKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAnZGF0YScsCiAgICAgICAgbGFiZWw6ICfml6XmnJ8nCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogJ3RpbWUnLAogICAgICAgIGxhYmVsOiAn5pe26Ze0JwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6ICdpZCcsCiAgICAgICAgbGFiZWw6ICfouqvku73or4EnCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogJ3Bob25lJywKICAgICAgICBsYWJlbDogJ+aJi+acuuWPtycKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAnaW1nJywKICAgICAgICBsYWJlbDogJ+WbvueJhycKICAgICAgfV0sCiAgICAgIGN1c3RvbWVzczogewogICAgICAgIGNvbnRlbnQ6IFtdCiAgICAgIH0sCiAgICAgIC8v6Ieq5a6a5LmJ55WZ6KiA5YaF5a65CgogICAgICBmb3JtVmFsaWRhdGU6IHsKICAgICAgICBkaXNrX2luZm86ICcnLAogICAgICAgIC8v5Y2h5a+G57G75Z6LCiAgICAgICAgbG9naXN0aWNzOiBbJzEnXSwKICAgICAgICAvL+mAieaLqeeJqea1geaWueW8jwogICAgICAgIGZyZWlnaHQ6IDIsCiAgICAgICAgLy/ov5DotLnorr7nva4KICAgICAgICBwb3N0YWdlOiAwLAogICAgICAgIC8v6K6+572u6L+Q6LS56YeR6aKdCiAgICAgICAgcmVjb21tZW5kOiBbXSwKICAgICAgICAvL+WVhuWTgeaOqOiNkAogICAgICAgIHByZXNhbGVfZGF5OiAxLAogICAgICAgIC8v6aKE5ZSu5Y+R6LSn5pe26Ze0Lee7k+adnwogICAgICAgIHByZXNhbGU6IGZhbHNlLAogICAgICAgIC8v6aKE5ZSu5ZWG5ZOB5byA5YWzCiAgICAgICAgaXNfbGltaXQ6IGZhbHNlLAogICAgICAgIGxpbWl0X3R5cGU6IDAsCiAgICAgICAgbGltaXRfbnVtOiAwLAogICAgICAgIHZpZGVvX29wZW46IGZhbHNlLAogICAgICAgIC8v6KeG6aKR5oyJ6ZKu5piv5ZCm5pi+56S6CiAgICAgICAgdmlwX3Byb2R1Y3Q6IGZhbHNlLAogICAgICAgIC8v5LuY6LS55Lya5ZGY5LiT5bGe5byA5YWzCiAgICAgICAgY3VzdG9tX2Zvcm06IFtdLAogICAgICAgIC8v6Ieq5a6a5LmJ55WZ6KiACiAgICAgICAgc3RvcmVfbmFtZTogJycsCiAgICAgICAgY2F0ZV9pZDogW10sCiAgICAgICAgbGFiZWxfaWQ6IFtdLAogICAgICAgIGtleXdvcmQ6ICcnLAogICAgICAgIHVuaXRfbmFtZTogJycsCiAgICAgICAgc3RvcmVfaW5mbzogJycsCiAgICAgICAgaW1hZ2U6ICcnLAogICAgICAgIHJlY29tbWVuZF9pbWFnZTogJycsCiAgICAgICAgc2xpZGVyX2ltYWdlOiBbXSwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgZmljdGk6IDAsCiAgICAgICAgZ2l2ZV9pbnRlZ3JhbDogMCwKICAgICAgICBzb3J0OiAwLAogICAgICAgIGlzX3Nob3c6IDEsCiAgICAgICAgaXNfaG90OiAwLAogICAgICAgIGlzX2JlbmVmaXQ6IDAsCiAgICAgICAgaXNfYmVzdDogMCwKICAgICAgICBpc19uZXc6IDAsCiAgICAgICAgaXNfZ29vZDogMCwKICAgICAgICBpc19wb3N0YWdlOiAwLAogICAgICAgIGlzX3N1YjogW10sCiAgICAgICAgcmVjb21tZW5kX2xpc3Q6IFtdLAogICAgICAgIHZpcnR1YWxfdHlwZTogMCwKICAgICAgICAvLyBpc19zdWI6IDAsCiAgICAgICAgaWQ6IDAsCiAgICAgICAgc3BlY190eXBlOiAwLAogICAgICAgIGlzX3ZpcnR1YWw6IDAsCiAgICAgICAgdmlkZW9fbGluazogJycsCiAgICAgICAgLy8gcG9zdGFnZTogMCwKICAgICAgICB0ZW1wX2lkOiAnJywKICAgICAgICBhdHRyczogW10sCiAgICAgICAgaXRlbXM6IFt7CiAgICAgICAgICBwaWM6ICcnLAogICAgICAgICAgcHJpY2U6IDAsCiAgICAgICAgICBjb3N0OiAwLAogICAgICAgICAgb3RfcHJpY2U6IDAsCiAgICAgICAgICBzdG9jazogMCwKICAgICAgICAgIGJhcl9jb2RlOiAnJwogICAgICAgIH1dLAogICAgICAgIGFjdGl2aXR5OiBbJ+m7mOiupCcsICfnp5LmnYAnLCAn56CN5Lu3JywgJ+aLvOWboiddLAogICAgICAgIGNvdXBvbk5hbWU6IFtdLAogICAgICAgIGhlYWRlcjogW10sCiAgICAgICAgc2VsZWN0UnVsZTogJycsCiAgICAgICAgY291cG9uX2lkczogW10sCiAgICAgICAgY29tbWFuZF93b3JkOiAnJwogICAgICB9LAogICAgICBydWxlTGlzdDogW10sCiAgICAgIHRlbXBsYXRlTGlzdDogW10sCiAgICAgIGNyZWF0ZUJudDogdHJ1ZSwKICAgICAgc2hvd0lwdXQ6IGZhbHNlLAogICAgICBtYW55Rm9ybVZhbGlkYXRlOiBbXSwKICAgICAgLy8g5Y2V6KeE5qC86KGo5qC8ZGF0YQogICAgICBvbmVGb3JtVmFsaWRhdGU6IFt7CiAgICAgICAgcGljOiAnJywKICAgICAgICBwcmljZTogMCwKICAgICAgICBjb3N0OiAwLAogICAgICAgIG90X3ByaWNlOiAwLAogICAgICAgIHN0b2NrOiAwLAogICAgICAgIGJhcl9jb2RlOiAnJywKICAgICAgICB3ZWlnaHQ6IDAsCiAgICAgICAgdm9sdW1lOiAwLAogICAgICAgIGJyb2tlcmFnZTogMCwKICAgICAgICBicm9rZXJhZ2VfdHdvOiAwLAogICAgICAgIHZpcF9wcmljZTogMCwKICAgICAgICB2aXJ0dWFsX2xpc3Q6IFtdLAogICAgICAgIGNvdXBvbl9pZDogMAogICAgICB9XSwKICAgICAgaW1hZ2VzOiBbXSwKICAgICAgaW1hZ2VzVGFibGU6ICcnLAogICAgICBjdXJyZW50VGFiOiAnMScsCiAgICAgIGlzQ2hvaWNlOiAnJywKICAgICAgZ3JpZDogewogICAgICAgIHhsOiA4LAogICAgICAgIGxnOiA4LAogICAgICAgIG1kOiAxMiwKICAgICAgICBzbTogMjQsCiAgICAgICAgeHM6IDI0CiAgICAgIH0sCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBtb2RhbFBpYzogZmFsc2UsCiAgICAgIGFkZFZpcnR1YWxNb2RlbDogZmFsc2UsCiAgICAgIHRlbXBsYXRlOiBmYWxzZSwKICAgICAgdXBsb2FkTGlzdDogW10sCiAgICAgIHRyZWVTZWxlY3Q6IFtdLAogICAgICBwaWNUaXQ6ICcnLAogICAgICB0YWJsZUluZGV4OiAwLAogICAgICBydWxlVmFsaWRhdGU6IHsKICAgICAgICBzdG9yZV9uYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5ZWG5ZOB5ZCN56ewJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIGNhdGVfaWQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6nllYblk4HliIbnsbsnLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScsCiAgICAgICAgICB0eXBlOiAnYXJyYXknLAogICAgICAgICAgbWluOiAnMScKICAgICAgICB9XSwKICAgICAgICB1bml0X25hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXljZXkvY0nLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgLy8gaW1hZ2U6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+35LiK5Lyg5ZWG5ZOB5Zu+IiwgdHJpZ2dlcjogImNoYW5nZSIgfV0sCiAgICAgICAgc2xpZGVyX2ltYWdlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+35LiK5Lyg5ZWG5ZOB6L2u5pKt5Zu+JywKICAgICAgICAgIHR5cGU6ICdhcnJheScsCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICAgIH1dLAogICAgICAgIHNwZWNfdHlwZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+mAieaLqeWVhuWTgeinhOagvCcsCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICAgIH1dLAogICAgICAgIGlzX3ZpcnR1YWw6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6nllYblk4HnsbvlnosnLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICB9XSwKICAgICAgICBzZWxlY3RSdWxlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup5ZWG5ZOB6KeE5qC85bGe5oCnJywKICAgICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgICAgfV0sCiAgICAgICAgdGVtcF9pZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+mAieaLqei/kOi0ueaooeadvycsCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJywKICAgICAgICAgIHR5cGU6ICdudW1iZXInCiAgICAgICAgfV0sCiAgICAgICAgcHJlc2FsZV90aW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICB0eXBlOiAnYXJyYXknLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+mAieaLqea0u+WKqOaXtumXtCcsCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICAgIH1dLAogICAgICAgIGxvZ2lzdGljczogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgdHlwZTogJ2FycmF5JywKICAgICAgICAgIG1pbjogMSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6nnianmtYHmlrnlvI8nLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICB9LCB7CiAgICAgICAgICB0eXBlOiAnYXJyYXknLAogICAgICAgICAgbWF4OiAyLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+mAieaLqeeJqea1geaWueW8jycsCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICAgIH1dLAogICAgICAgIGdpdmVfaW50ZWdyYWw6IFt7CiAgICAgICAgICB0eXBlOiAnaW50ZWdlcicsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5pW05pWwJwogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIG1hbnlCcm9rZXJhZ2U6IDAsCiAgICAgIG1hbnlCcm9rZXJhZ2VUd286IDAsCiAgICAgIG1hbnlWaXBQcmljZTogMCwKICAgICAgdXBsb2FkOiB7CiAgICAgICAgdmlkZW9Jbmc6IGZhbHNlIC8vIOaYr+WQpuaYvuekuui/m+W6puadoe+8mwogICAgICB9LAoKICAgICAgdmlkZW9Jbmc6IGZhbHNlLAogICAgICAvLyDmmK/lkKbmmL7npLrov5vluqbmnaHvvJsKICAgICAgcHJvZ3Jlc3M6IDAsCiAgICAgIC8vIOi/m+W6puadoem7mOiupDAKICAgICAgc3RvY2s6IDAsCiAgICAgIGRpc2tfaW5mbzogJycsCiAgICAgIHZpZGVvTGluazogJycsCiAgICAgIGF0dHJzOiBbXSwKICAgICAgYWN0aXZpdHk6IHsKICAgICAgICDpu5jorqQ6ICdyZWQnLAogICAgICAgIOenkuadgDogJ2JsdWUnLAogICAgICAgIOegjeS7tzogJ2dyZWVuJywKICAgICAgICDmi7zlm6I6ICd5ZWxsb3cnCiAgICAgIH0sCiAgICAgIGNvdXBvbk5hbWU6IFtdLAogICAgICB1cGRhdGVJZHM6IFtdLAogICAgICB1cGRhdGVOYW1lOiBbXSwKICAgICAgY291cG9uSWRzOiAnJywKICAgICAgY291cG9uTmFtZXM6IFtdLAogICAgICByYWtlQmFjazogW3sKICAgICAgICB0aXRsZTogJ+S4gOe6p+i/lOS9oycsCiAgICAgICAgc2xvdDogJ2Jyb2tlcmFnZScsCiAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgIHdpZHRoOiA5NQogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICfkuoznuqfov5TkvaMnLAogICAgICAgIHNsb3Q6ICdicm9rZXJhZ2VfdHdvJywKICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgd2lkdGg6IDk1CiAgICAgIH1dLAogICAgICBtZW1iZXI6IFt7CiAgICAgICAgdGl0bGU6ICfkvJrlkZjku7cnLAogICAgICAgIHNsb3Q6ICd2aXBfcHJpY2UnLAogICAgICAgIGFsaWduOiAnY2VudGVyJywKICAgICAgICB3aWR0aDogOTUKICAgICAgfV0sCiAgICAgIGNvbHVtbnNJbnN0YWxNOiBbXSwKICAgICAgbW92ZUluZGV4OiAnJwogICAgICAvLyBhYTogW10sCiAgICAgIC8vIG9wZW5TdWJpbWl0OiBmYWxzZQogICAgfTsKICB9LAoKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZSgnbWVkaWEnLCBbJ2lzTW9iaWxlJ10pKSwge30sIHsKICAgIGxhYmVsV2lkdGg6IGZ1bmN0aW9uIGxhYmVsV2lkdGgoKSB7CiAgICAgIHJldHVybiB0aGlzLmlzTW9iaWxlID8gdW5kZWZpbmVkIDogMTIwOwogICAgfSwKICAgIGxhYmVsUG9zaXRpb246IGZ1bmN0aW9uIGxhYmVsUG9zaXRpb24oKSB7CiAgICAgIHJldHVybiB0aGlzLmlzTW9iaWxlID8gJ3RvcCcgOiAncmlnaHQnOwogICAgfSwKICAgIGxhYmVsQm90dG9tOiBmdW5jdGlvbiBsYWJlbEJvdHRvbSgpIHsKICAgICAgcmV0dXJuIHRoaXMuaXNNb2JpbGUgPyB1bmRlZmluZWQgOiAxNTsKICAgIH0KICB9KSwKICBiZWZvcmVSb3V0ZVVwZGF0ZTogZnVuY3Rpb24gYmVmb3JlUm91dGVVcGRhdGUodG8sIGZyb20sIG5leHQpIHsKICAgIHRoaXMuYnVzLiRlbWl0KCdvblRhZ3NWaWV3UmVmcmVzaFJvdXRlclZpZXcnLCB0aGlzLiRyb3V0ZS5wYXRoKTsKICAgIG5leHQoKTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmNvbHVtbnMgPSB0aGlzLmNvbHVtbnMyLnNsaWNlKDAsIDgpOwogICAgdGhpcy5nZXRUb2tlbigpOwoKICAgIC8vIHRoaXMuY29sdW1uc0luc3RhbGwgPSB0aGlzLmNvbHVtbnMyLnNsaWNlKDAsIDQpLmNvbmNhdCh0aGlzLmNvbHVtbnNJbnN0YWxsKTsKICAgIC8vIHRoaXMuY29sdW1uc0luc3RhOCA9IHRoaXMuY29sdW1uczIuc2xpY2UoMCwgNCkuY29uY2F0KHRoaXMuY29sdW1uc0luc3RhOCk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgIT09ICcwJyAmJiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpIHsKICAgICAgdGhpcy5nZXRJbmZvKCk7CiAgICB9IGVsc2UgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCA9PT0gJzAnKSB7CiAgICAgIHByb2R1Y3RDYWNoZSgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGEuaW5mbzsKICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZGF0YSkpIHsKICAgICAgICAgIHZhciBjYXRlX2lkID0gZGF0YS5jYXRlX2lkLm1hcChOdW1iZXIpOwogICAgICAgICAgdmFyIGxhYmVsX2lkID0gZGF0YS5sYWJlbF9pZC5tYXAoTnVtYmVyKTsKICAgICAgICAgIF90aGlzLmF0dHJzID0gZGF0YS5pdGVtcyB8fCBbXTsKICAgICAgICAgIHZhciBpZHMgPSBbXTsKICAgICAgICAgIC8vIGxldCBuYW1lcyA9IFtdOwogICAgICAgICAgaWYgKGRhdGEuY291cG9ucykgewogICAgICAgICAgICBkYXRhLmNvdXBvbnMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgaWRzLnB1c2goaXRlbS5pZCk7CiAgICAgICAgICAgICAgLy8gbmFtZXMucHVzaChpdGVtLnRpdGxlKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBfdGhpcy5jb3Vwb25OYW1lID0gZGF0YS5jb3Vwb25zOwogICAgICAgICAgfQogICAgICAgICAgX3RoaXMuZm9ybVZhbGlkYXRlID0gZGF0YTsKICAgICAgICAgIC8vIHRoaXMuY291cG9uTmFtZSA9IGRhdGEuY291cG9uczsKICAgICAgICAgIC8vIHRoYXQuY291cG9uTmFtZSA9IG5hbWVzOwogICAgICAgICAgX3RoaXMuZGF0YUxhYmVsID0gZGF0YS5sYWJlbF9pZDsKICAgICAgICAgIF90aGlzLmZvcm1WYWxpZGF0ZS5jb3Vwb25faWRzID0gaWRzOwogICAgICAgICAgX3RoaXMudXBkYXRlSWRzID0gaWRzOwogICAgICAgICAgX3RoaXMudXBkYXRlTmFtZSA9IGRhdGEuY291cG9uczsKICAgICAgICAgIF90aGlzLmZvcm1WYWxpZGF0ZS5jYXRlX2lkID0gY2F0ZV9pZDsKICAgICAgICAgIC8vIHRoaXMuZm9ybVZhbGlkYXRlLmxhYmVsX2lkID0gbGFiZWxfaWQ7CiAgICAgICAgICBfdGhpcy5vbmVGb3JtVmFsaWRhdGUgPSBkYXRhLmF0dHJzOwogICAgICAgICAgX3RoaXMuZm9ybVZhbGlkYXRlLmxvZ2lzdGljcyA9IGRhdGEubG9naXN0aWNzIHx8IFsnMSddOwogICAgICAgICAgX3RoaXMuZm9ybVZhbGlkYXRlLmhlYWRlciA9IFtdOwogICAgICAgICAgX3RoaXMuZ2VuZXJhdGUoMCk7CiAgICAgICAgICBfdGhpcy5tYW55Rm9ybVZhbGlkYXRlID0gZGF0YS5hdHRyczsKICAgICAgICAgIF90aGlzLnNwZWNfdHlwZSA9IGRhdGEuc3BlY190eXBlOwogICAgICAgICAgX3RoaXMuZm9ybVZhbGlkYXRlLmlzX3ZpcnR1YWwgPSBkYXRhLmlzX3ZpcnR1YWw7CiAgICAgICAgICBfdGhpcy5mb3JtVmFsaWRhdGUuY3VzdG9tX2Zvcm0gPSBkYXRhLmN1c3RvbV9mb3JtIHx8IFtdOwogICAgICAgICAgaWYgKF90aGlzLmZvcm1WYWxpZGF0ZS5jdXN0b21fZm9ybS5sZW5ndGggIT0gMCkgewogICAgICAgICAgICBfdGhpcy5jdXN0b21CdG4gPSB0cnVlOwogICAgICAgICAgfQogICAgICAgICAgX3RoaXMudmlydHVhbGJ0bihkYXRhLnZpcnR1YWxfdHlwZSwgMSk7CiAgICAgICAgICBpZiAoZGF0YS5zcGVjX3R5cGUgPT09IDApIHsKICAgICAgICAgICAgX3RoaXMubWFueUZvcm1WYWxpZGF0ZSA9IFtdOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMuY3JlYXRlQm50ID0gdHJ1ZTsKICAgICAgICAgICAgX3RoaXMub25lRm9ybVZhbGlkYXRlID0gW3sKICAgICAgICAgICAgICBwaWM6IGRhdGEuaW1hZ2UsCiAgICAgICAgICAgICAgcHJpY2U6IDAsCiAgICAgICAgICAgICAgY29zdDogMCwKICAgICAgICAgICAgICBvdF9wcmljZTogMCwKICAgICAgICAgICAgICBzdG9jazogMCwKICAgICAgICAgICAgICBiYXJfY29kZTogJycsCiAgICAgICAgICAgICAgd2VpZ2h0OiAwLAogICAgICAgICAgICAgIHZvbHVtZTogMCwKICAgICAgICAgICAgICBicm9rZXJhZ2U6IDAsCiAgICAgICAgICAgICAgYnJva2VyYWdlX3R3bzogMCwKICAgICAgICAgICAgICB2aXBfcHJpY2U6IDAsCiAgICAgICAgICAgICAgdmlydHVhbF9saXN0OiBbXSwKICAgICAgICAgICAgICBjb3Vwb25faWQ6IDAKICAgICAgICAgICAgfV07CiAgICAgICAgICB9CiAgICAgICAgICBfdGhpcy5zcGluU2hvdyA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIF90aGlzLiRNZXNzYWdlLmVycm9yKGVyci5tc2cpOwogICAgICB9KTsKICAgIH0KICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS50eXBlKSB7CiAgICAgIHRoaXMubW9kYWxzID0gdHJ1ZTsKICAgICAgdGhpcy50eXBlID0gdGhpcy4kcm91dGUucXVlcnkudHlwZTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMudHlwZSA9IDA7CiAgICB9CiAgICB0aGlzLmdvb2RzQ2F0ZWdvcnkoKTsKICAgIHRoaXMucHJvZHVjdEdldFJ1bGUoKTsKICAgIHRoaXMucHJvZHVjdEdldFRlbXBsYXRlKCk7CiAgICAvLyB0aGlzLnVzZXJMYWJlbCgpOwogICAgdGhpcy51cGxvYWRUeXBlKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDliIbniYfkuIrkvKAKICAgIHZpZGVvU2F2ZVRvVXJsOiBmdW5jdGlvbiB2aWRlb1NhdmVUb1VybChmaWxlKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB1cGxvYWRCeVBpZWNlcyh7CiAgICAgICAgZmlsZTogZmlsZSwKICAgICAgICAvLyDop4bpopHlrp7kvZMKICAgICAgICBwaWVjZVNpemU6IDMsCiAgICAgICAgLy8g5YiG54mH5aSn5bCPCiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhkYXRhKSB7CiAgICAgICAgICBfdGhpczIuZm9ybVZhbGlkYXRlLnZpZGVvX2xpbmsgPSBkYXRhLmZpbGVfcGF0aDsKICAgICAgICAgIF90aGlzMi5wcm9ncmVzcyA9IDEwMDsKICAgICAgICB9LAogICAgICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcihlKSB7CiAgICAgICAgICBfdGhpczIuJE1lc3NhZ2UuZXJyb3IoZS5tc2cpOwogICAgICAgIH0sCiAgICAgICAgdXBsb2FkaW5nOiBmdW5jdGlvbiB1cGxvYWRpbmcoY2h1bmssIGFsbENodW5rKSB7CiAgICAgICAgICBfdGhpczIudmlkZW9JbmcgPSB0cnVlOwogICAgICAgICAgdmFyIHN0ID0gTWF0aC5mbG9vcihjaHVuayAvIGFsbENodW5rICogMTAwKTsKICAgICAgICAgIF90aGlzMi5wcm9ncmVzcyA9IHN0OwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sCiAgICAvLyDnsbvlnovpgInmi6kv5aGr5YWl5YaF5a655Yik5patCiAgICB2aXJ0dWFsYnRuOiBmdW5jdGlvbiB2aXJ0dWFsYnRuKGluZGV4LCB0eXBlKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICBpZiAodHlwZSAhPSAxKSB7CiAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuaXNfc3ViID0gW107CiAgICAgICAgdmFyIGlkID0gdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgICAgIGlmIChpZCkgewogICAgICAgICAgY2hlY2tBY3Rpdml0eUFwaShpZCkudGhlbihmdW5jdGlvbiAocmVzKSB7fSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBfdGhpczMuZm9ybVZhbGlkYXRlLnNwZWNfdHlwZSA9IF90aGlzMy5zcGVjX3R5cGU7CiAgICAgICAgICAgIF90aGlzMy4kTWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAodGhpcy5mb3JtVmFsaWRhdGUuc3BlY190eXBlID09IDEpIHsKICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZSgxKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgc3dpdGNoIChpbmRleCkgewogICAgICAgIGNhc2UgMDoKICAgICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLnZpcnR1YWxfdHlwZSA9IDA7CiAgICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5pc192aXJ0dWFsID0gMDsKICAgICAgICAgIHRoaXMuaGVhZFRhYiA9IFt7CiAgICAgICAgICAgIHRpdDogJ+WfuuehgOS/oeaBrycsCiAgICAgICAgICAgIG5hbWU6ICcxJwogICAgICAgICAgfSwgewogICAgICAgICAgICB0aXQ6ICfop4TmoLzlupPlrZgnLAogICAgICAgICAgICBuYW1lOiAnMicKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgdGl0OiAn5ZWG5ZOB6K+m5oOFJywKICAgICAgICAgICAgbmFtZTogJzMnCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHRpdDogJ+eJqea1geiuvue9ricsCiAgICAgICAgICAgIG5hbWU6ICc0JwogICAgICAgICAgfSwgewogICAgICAgICAgICB0aXQ6ICfokKXplIDorr7nva4nLAogICAgICAgICAgICBuYW1lOiAnNScKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgdGl0OiAn5YW25LuW6K6+572uJywKICAgICAgICAgICAgbmFtZTogJzYnCiAgICAgICAgICB9XTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgMToKICAgICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLnZpcnR1YWxfdHlwZSA9IDE7CiAgICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5wb3N0YWdlID0gMDsKICAgICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmlzX3ZpcnR1YWwgPSAxOwogICAgICAgICAgdGhpcy5oZWFkVGFiID0gW3sKICAgICAgICAgICAgdGl0OiAn5Z+656GA5L+h5oGvJywKICAgICAgICAgICAgbmFtZTogJzEnCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHRpdDogJ+inhOagvOW6k+WtmCcsCiAgICAgICAgICAgIG5hbWU6ICcyJwogICAgICAgICAgfSwgewogICAgICAgICAgICB0aXQ6ICfllYblk4Hor6bmg4UnLAogICAgICAgICAgICBuYW1lOiAnMycKICAgICAgICAgIH0sCiAgICAgICAgICAvLyB7IHRpdDogIueJqea1geiuvue9riIsIG5hbWU6ICI0IiB9LAogICAgICAgICAgewogICAgICAgICAgICB0aXQ6ICfokKXplIDorr7nva4nLAogICAgICAgICAgICBuYW1lOiAnNCcKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgdGl0OiAn5YW25LuW6K6+572uJywKICAgICAgICAgICAgbmFtZTogJzUnCiAgICAgICAgICB9XTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgMjoKICAgICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLnZpcnR1YWxfdHlwZSA9IDI7CiAgICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5pc192aXJ0dWFsID0gMTsKICAgICAgICAgIHRoaXMuaGVhZFRhYiA9IFt7CiAgICAgICAgICAgIHRpdDogJ+WfuuehgOS/oeaBrycsCiAgICAgICAgICAgIG5hbWU6ICcxJwogICAgICAgICAgfSwgewogICAgICAgICAgICB0aXQ6ICfop4TmoLzlupPlrZgnLAogICAgICAgICAgICBuYW1lOiAnMicKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgdGl0OiAn5ZWG5ZOB6K+m5oOFJywKICAgICAgICAgICAgbmFtZTogJzMnCiAgICAgICAgICB9LAogICAgICAgICAgLy8geyB0aXQ6ICLnianmtYHorr7nva4iLCBuYW1lOiAiNCIgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgdGl0OiAn6JCl6ZSA6K6+572uJywKICAgICAgICAgICAgbmFtZTogJzQnCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHRpdDogJ+WFtuS7luiuvue9ricsCiAgICAgICAgICAgIG5hbWU6ICc1JwogICAgICAgICAgfV07CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDM6CiAgICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZS52aXJ0dWFsX3R5cGUgPSAzOwogICAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuaXNfdmlydHVhbCA9IDE7CiAgICAgICAgICB0aGlzLmhlYWRUYWIgPSBbewogICAgICAgICAgICB0aXQ6ICfln7rnoYDkv6Hmga8nLAogICAgICAgICAgICBuYW1lOiAnMScKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgdGl0OiAn6KeE5qC85bqT5a2YJywKICAgICAgICAgICAgbmFtZTogJzInCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHRpdDogJ+WVhuWTgeivpuaDhScsCiAgICAgICAgICAgIG5hbWU6ICczJwogICAgICAgICAgfSwKICAgICAgICAgIC8vIHsgdGl0OiAi54mp5rWB6K6+572uIiwgbmFtZTogIjQiIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIHRpdDogJ+iQpemUgOiuvue9ricsCiAgICAgICAgICAgIG5hbWU6ICc0JwogICAgICAgICAgfSwgewogICAgICAgICAgICB0aXQ6ICflhbbku5borr7nva4nLAogICAgICAgICAgICBuYW1lOiAnNScKICAgICAgICAgIH1dOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0sCiAgICAvLyDmlrDlop7liIbnsbsKICAgIGFkZENhdGU6IGZ1bmN0aW9uIGFkZENhdGUoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICB0aGlzLiRtb2RhbEZvcm0ocHJvZHVjdENyZWF0ZUFwaSgpKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX3RoaXM0Lmdvb2RzQ2F0ZWdvcnkoKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g54mp5rWB5pa55byP6YCJ5oupCiAgICBsb2dpc3RpY3NCdG46IGZ1bmN0aW9uIGxvZ2lzdGljc0J0bihlKSB7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmxvZ2lzdGljcyA9IGU7CiAgICB9LAogICAgLy8g5paw5aKe5qCH562+CiAgICBhZGRMYWJlbDogZnVuY3Rpb24gYWRkTGFiZWwoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICB0aGlzLiRtb2RhbEZvcm0odXNlckxhYmVsQWRkQXBpKDApKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX3RoaXM1LnVzZXJMYWJlbCgpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDoh6rlrprkuYnnlZnoqIAg5byA5ZCv5YWz6ZetCiAgICBjdXN0b21NZXNzQnRuOiBmdW5jdGlvbiBjdXN0b21NZXNzQnRuKGUpIHsKICAgICAgaWYgKCFlKSB7CiAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuY3VzdG9tX2Zvcm0gPSBbXTsKICAgICAgfQogICAgfSwKICAgIC8vIOiHquWumuS5ieeVmeiogCDmlrDlop7ooajljZUKICAgIGFkZGN1c3RvbTogZnVuY3Rpb24gYWRkY3VzdG9tKCkgewogICAgICBpZiAodGhpcy5mb3JtVmFsaWRhdGUuY3VzdG9tX2Zvcm0ubGVuZ3RoID4gOSkgewogICAgICAgIHRoaXMuJE1lc3NhZ2Uud2FybmluZygn5pyA5aSa5re75YqgMTDmnaEnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5jdXN0b21fZm9ybS5wdXNoKHsKICAgICAgICAgIHRpdGxlOiAnJywKICAgICAgICAgIGxhYmVsOiAndGV4dCcsCiAgICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgICBzdGF0dXM6IGZhbHNlCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDliKDpmaQKICAgIGRlbGN1c3RvbTogZnVuY3Rpb24gZGVsY3VzdG9tKGluZGV4KSB7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmN1c3RvbV9mb3JtLnNwbGljZShpbmRleCwgMSk7CiAgICB9LAogICAgLy8g6aKE5ZSu5YW35L2T5pel5pyfCiAgICBvbmNoYW5nZVRpbWU6IGZ1bmN0aW9uIG9uY2hhbmdlVGltZShlKSB7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLnByZXNhbGVfdGltZSA9IGU7CiAgICB9LAogICAgLy8g5ZWG5ZOB6K+m5oOFCiAgICBnZXRFZGl0b3JDb250ZW50OiBmdW5jdGlvbiBnZXRFZGl0b3JDb250ZW50KGRhdGEpIHsKICAgICAgdGhpcy5jb250ZW50ID0gZGF0YTsKICAgIH0sCiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6IHRoaXMuJHJvdXRlUHJvU3RyICsgJy9wcm9kdWN0L3Byb2R1Y3RfbGlzdCcKICAgICAgfSk7CiAgICB9LAogICAgLy8g5LiK5Lyg5aS06YOodG9rZW4KICAgIGdldFRva2VuOiBmdW5jdGlvbiBnZXRUb2tlbigpIHsKICAgICAgdGhpcy5oZWFkZXJbJ0F1dGhvcmktemF0aW9uJ10gPSAnQmVhcmVyICcgKyBnZXRDb29raWVzKCd0b2tlbicpOwogICAgfSwKICAgIC8vIOWvvOWFpeWNoeWvhgogICAgdXBGaWxlOiBmdW5jdGlvbiB1cEZpbGUocmVzKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwogICAgICBpbXBvcnRDYXJkKHsKICAgICAgICBmaWxlOiByZXMuZGF0YS5zcmMKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM2LnZpcnR1YWxMaXN0ID0gX3RoaXM2LnZpcnR1YWxMaXN0LmNvbmNhdChyZXMuZGF0YSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8v6I635Y+W6KeG6aKR5LiK5Lyg57G75Z6LCiAgICB1cGxvYWRUeXBlOiBmdW5jdGlvbiB1cGxvYWRUeXBlKCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKICAgICAgX3VwbG9hZFR5cGUoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczcudXBsb2FkX3R5cGUgPSByZXMuZGF0YS51cGxvYWRfdHlwZTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5Yid5aeL5YyW5pWw5o2u5bGV56S6CiAgICBpbmZvRGF0YTogZnVuY3Rpb24gaW5mb0RhdGEoZGF0YSkgewogICAgICB2YXIgY2F0ZV9pZCA9IGRhdGEuY2F0ZV9pZC5tYXAoTnVtYmVyKTsKICAgICAgdmFyIGxhYmVsX2lkID0gZGF0YS5sYWJlbF9pZC5tYXAoTnVtYmVyKTsKICAgICAgdGhpcy5hdHRycyA9IGRhdGEuaXRlbXMgfHwgW107CiAgICAgIHZhciBpZHMgPSBbXTsKICAgICAgZGF0YS5jb3Vwb25zLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGlkcy5wdXNoKGl0ZW0uaWQpOwogICAgICB9KTsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGUgPSBkYXRhOwogICAgICB0aGlzLnNlbGV0VmlkZW8gPSBkYXRhLnNlbGV0VmlkZW87CiAgICAgIHRoaXMuY29udGVudHMgPSBkYXRhLmRlc2NyaXB0aW9uOwogICAgICB0aGlzLmNvdXBvbk5hbWUgPSBkYXRhLmNvdXBvbnM7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmNvdXBvbl9pZHMgPSBpZHM7CiAgICAgIHRoaXMudXBkYXRlSWRzID0gaWRzOwogICAgICB0aGlzLmRhdGFMYWJlbCA9IGRhdGEubGFiZWxfaWQ7CiAgICAgIHRoaXMudXBkYXRlTmFtZSA9IGRhdGEuY291cG9uczsKICAgICAgdGhpcy52aXJ0dWFsYnRuKGRhdGEudmlydHVhbF90eXBlLCAxKTsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGUubG9naXN0aWNzID0gZGF0YS5sb2dpc3RpY3MgfHwgWycxJ107CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmN1c3RvbV9mb3JtID0gZGF0YS5jdXN0b21fZm9ybSB8fCBbXTsKICAgICAgaWYgKHRoaXMuZm9ybVZhbGlkYXRlLmN1c3RvbV9mb3JtLmxlbmd0aCAhPSAwKSB7CiAgICAgICAgdGhpcy5jdXN0b21CdG4gPSB0cnVlOwogICAgICB9CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmNhdGVfaWQgPSBjYXRlX2lkOwogICAgICBpZiAoZGF0YS5hdHRyKSB7CiAgICAgICAgdGhpcy5vbmVGb3JtVmFsaWRhdGUgPSBbZGF0YS5hdHRyXTsKICAgICAgfQogICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5oZWFkZXIgPSBbXTsKICAgICAgdGhpcy5nZW5lcmF0ZSgwKTsKICAgICAgLy8gdGhpcy5tYW55Rm9ybVZhbGlkYXRlID0gZGF0YS5hdHRyczsKICAgICAgdGhpcy4kc2V0KHRoaXMsICdtYW55Rm9ybVZhbGlkYXRlJywgZGF0YS5hdHRycyk7CiAgICAgIHRoaXMuc3BlY190eXBlID0gZGF0YS5zcGVjX3R5cGU7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmlzX3ZpcnR1YWwgPSBkYXRhLmlzX3ZpcnR1YWw7CiAgICAgIGlmIChkYXRhLnNwZWNfdHlwZSA9PT0gMCkgewogICAgICAgIHRoaXMubWFueUZvcm1WYWxpZGF0ZSA9IFtdOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY3JlYXRlQm50ID0gdHJ1ZTsKICAgICAgICB0aGlzLm9uZUZvcm1WYWxpZGF0ZSA9IFt7CiAgICAgICAgICBwaWM6ICcnLAogICAgICAgICAgcHJpY2U6IDAsCiAgICAgICAgICBjb3N0OiAwLAogICAgICAgICAgb3RfcHJpY2U6IDAsCiAgICAgICAgICBzdG9jazogMCwKICAgICAgICAgIGJhcl9jb2RlOiAnJywKICAgICAgICAgIHdlaWdodDogMCwKICAgICAgICAgIHZvbHVtZTogMCwKICAgICAgICAgIGJyb2tlcmFnZTogMCwKICAgICAgICAgIGJyb2tlcmFnZV90d286IDAsCiAgICAgICAgICB2aXBfcHJpY2U6IDAsCiAgICAgICAgICB2aXJ0dWFsX2xpc3Q6IFtdLAogICAgICAgICAgY291cG9uX2lkOiAwCiAgICAgICAgfV07CiAgICAgIH0KICAgIH0sCiAgICAvL+WFs+mXrea3mOWuneW8ueeql+W5tueUn+aIkOaVsOaNru+8mwogICAgb25DbG9zZTogZnVuY3Rpb24gb25DbG9zZShkYXRhKSB7CiAgICAgIHRoaXMubW9kYWxzID0gZmFsc2U7CiAgICAgIHRoaXMuaW5mb0RhdGEoZGF0YSk7CiAgICB9LAogICAgY2hlY2tNb3ZlOiBmdW5jdGlvbiBjaGVja01vdmUoZXZ0KSB7CiAgICAgIHRoaXMubW92ZUluZGV4ID0gZXZ0LmRyYWdnZWRDb250ZXh0LmluZGV4OwogICAgfSwKICAgIGVuZDogZnVuY3Rpb24gZW5kKCkgewogICAgICB0aGlzLm1vdmVJbmRleCA9ICcnOwogICAgICB0aGlzLmdlbmVyYXRlKDEpOwogICAgfSwKICAgIC8vIOWNleeLrOiuvue9ruS8muWRmOiuvue9rgogICAgY2hlY2tBbGxHcm91cENoYW5nZTogZnVuY3Rpb24gY2hlY2tBbGxHcm91cENoYW5nZShkYXRhKSB7CiAgICAgIHRoaXMuY2hlY2tBbGxHcm91cChkYXRhKTsKICAgIH0sCiAgICBjaGVja0FsbEdyb3VwOiBmdW5jdGlvbiBjaGVja0FsbEdyb3VwKGRhdGEpIHsKICAgICAgaWYgKHRoaXMuZm9ybVZhbGlkYXRlLnNwZWNfdHlwZSA9PT0gMCkgewogICAgICAgIGlmIChkYXRhLmluZGV4T2YoMCkgPiAtMSkgewogICAgICAgICAgdGhpcy5jb2x1bW5zSW5zdGFsbCA9IHRoaXMuY29sdW1uczIuc2xpY2UoMCwgNCkuY29uY2F0KHRoaXMubWVtYmVyKTsKICAgICAgICB9IGVsc2UgaWYgKGRhdGEuaW5kZXhPZigxKSA+IC0xKSB7CiAgICAgICAgICB0aGlzLmNvbHVtbnNJbnN0YWxsID0gdGhpcy5jb2x1bW5zMi5zbGljZSgwLCA0KS5jb25jYXQodGhpcy5yYWtlQmFjayk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuY29sdW1uc0luc3RhbGwgPSB0aGlzLmNvbHVtbnMyLnNsaWNlKDAsIDQpOwogICAgICAgIH0KICAgICAgICBpZiAoZGF0YS5sZW5ndGggPT09IDIpIHsKICAgICAgICAgIHRoaXMuY29sdW1uc0luc3RhbGwgPSB0aGlzLmNvbHVtbnMyLnNsaWNlKDAsIDQpLmNvbmNhdCh0aGlzLnJha2VCYWNrKS5jb25jYXQodGhpcy5tZW1iZXIpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoZGF0YS5pbmRleE9mKDApID4gLTEpIHsKICAgICAgICAgIHRoaXMuY29sdW1uc0luc3RhbDIgPSB0aGlzLmNvbHVtbnNJbnN0YWxNLnNsaWNlKDAsIDQpLmNvbmNhdCh0aGlzLm1lbWJlcik7CiAgICAgICAgfSBlbHNlIGlmIChkYXRhLmluZGV4T2YoMSkgPiAtMSkgewogICAgICAgICAgdGhpcy5jb2x1bW5zSW5zdGFsMiA9IHRoaXMuY29sdW1uc0luc3RhbE0uc2xpY2UoMCwgNCkuY29uY2F0KHRoaXMucmFrZUJhY2spOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmNvbHVtbnNJbnN0YWwyID0gdGhpcy5jb2x1bW5zSW5zdGFsTS5zbGljZSgwLCA0KTsKICAgICAgICB9CiAgICAgICAgaWYgKGRhdGEubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICB0aGlzLmNvbHVtbnNJbnN0YWwyID0gdGhpcy5jb2x1bW5zSW5zdGFsTS5zbGljZSgwLCA0KS5jb25jYXQodGhpcy5yYWtlQmFjaykuY29uY2F0KHRoaXMubWVtYmVyKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvLyDmt7vliqDkvJjmg6DliLgKICAgIGFkZENvdXBvbjogZnVuY3Rpb24gYWRkQ291cG9uKCkgewogICAgICB0aGlzLiRyZWZzLmNvdXBvblRlbXBsYXRlcy5pc1RlbXBsYXRlID0gdHJ1ZTsKICAgICAgdGhpcy4kcmVmcy5jb3Vwb25UZW1wbGF0ZXMudGFibGVMaXN0KCk7CiAgICB9LAogICAgLy8g6KeE5qC85Lit5LyY5oOg5Yi45p+l55yLCiAgICBzZWU6IGZ1bmN0aW9uIHNlZShkYXRhLCBuYW1lLCBpbmRleCkgewogICAgICB0aGlzLnRhYk5hbWUgPSBuYW1lOwogICAgICB0aGlzLnRhYkluZGV4ID0gaW5kZXg7CiAgICAgIGlmICh0aGlzLmZvcm1WYWxpZGF0ZS52aXJ0dWFsX3R5cGUgPT09IDEpIHsKICAgICAgICBpZiAoZGF0YS5kaXNrX2luZm8gIT0gJycpIHsKICAgICAgICAgIHRoaXMuZGlza190eXBlID0gMTsKICAgICAgICAgIHRoaXMuZGlza19pbmZvID0gZGF0YS5kaXNrX2luZm87CiAgICAgICAgICB0aGlzLnN0b2NrID0gZGF0YS5zdG9jazsKICAgICAgICB9IGVsc2UgaWYgKGRhdGEudmlydHVhbF9saXN0Lmxlbmd0aCkgewogICAgICAgICAgdGhpcy5kaXNrX3R5cGUgPSAyOwogICAgICAgICAgdGhpcy52aXJ0dWFsTGlzdCA9IGRhdGEudmlydHVhbF9saXN0OwogICAgICAgIH0KICAgICAgICB0aGlzLmFkZFZpcnR1YWxNb2RlbCA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kcmVmcy5nb29kc0NvdXBvbi5pc1RlbXBsYXRlID0gdHJ1ZTsKICAgICAgICB0aGlzLiRyZWZzLmdvb2RzQ291cG9uLnRhYmxlTGlzdCgzKTsKICAgICAgfQogICAgfSwKICAgIC8vIOa3u+WKoOS8mOaDoOWIuAogICAgYWRkR29vZHNDb3Vwb246IGZ1bmN0aW9uIGFkZEdvb2RzQ291cG9uKGluZGV4LCBuYW1lKSB7CiAgICAgIHRoaXMudGFiSW5kZXggPSBpbmRleDsKICAgICAgdGhpcy50YWJOYW1lID0gbmFtZTsKICAgICAgdGhpcy4kcmVmcy5nb29kc0NvdXBvbi5pc1RlbXBsYXRlID0gdHJ1ZTsKICAgICAgdGhpcy4kcmVmcy5nb29kc0NvdXBvbi50YWJsZUxpc3QoMyk7CiAgICB9LAogICAgYWRkVmlydHVhbDogZnVuY3Rpb24gYWRkVmlydHVhbChpbmRleCwgbmFtZSkgewogICAgICB0aGlzLnRhYkluZGV4ID0gaW5kZXg7CiAgICAgIHRoaXMudGFiTmFtZSA9IG5hbWU7CiAgICAgIHRoaXMuYWRkVmlydHVhbE1vZGVsID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDmj5DkuqTljaHlr4bkv6Hmga8KICAgIHVwVmlydHVhbDogZnVuY3Rpb24gdXBWaXJ0dWFsKCkgewogICAgICBpZiAodGhpcy5kaXNrX3R5cGUgPT0gMikgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy52aXJ0dWFsTGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLnZpcnR1YWxMaXN0W2ldOwogICAgICAgICAgaWYgKCFlbGVtZW50LnZhbHVlKSB7CiAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IoJ+ivt+i+k+WFpeaJgOacieWNoeWvhicpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHRoaXMuJHNldCh0aGlzW3RoaXMudGFiTmFtZV1bdGhpcy50YWJJbmRleF0sICd2aXJ0dWFsX2xpc3QnLCB0aGlzLnZpcnR1YWxMaXN0KTsKICAgICAgICB0aGlzLiRzZXQodGhpc1t0aGlzLnRhYk5hbWVdW3RoaXMudGFiSW5kZXhdLCAnc3RvY2snLCB0aGlzLnZpcnR1YWxMaXN0Lmxlbmd0aCk7CiAgICAgICAgdGhpcy52aXJ0dWFsTGlzdCA9IFt7CiAgICAgICAgICBrZXk6ICcnLAogICAgICAgICAgdmFsdWU6ICcnCiAgICAgICAgfV07CiAgICAgICAgdGhpcy4kc2V0KHRoaXNbdGhpcy50YWJOYW1lXVt0aGlzLnRhYkluZGV4XSwgJ2Rpc2tfaW5mbycsICcnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoIXRoaXMuZGlza19pbmZvLmxlbmd0aCkgewogICAgICAgICAgcmV0dXJuIHRoaXMuJE1lc3NhZ2UuZXJyb3IoJ+ivt+Whq+WGmeWNoeWvhuS/oeaBrycpOwogICAgICAgIH0KICAgICAgICBpZiAoIXRoaXMuc3RvY2spIHsKICAgICAgICAgIHJldHVybiB0aGlzLiRNZXNzYWdlLmVycm9yKCfor7floavlhpnlupPlrZjmlbDph48nKTsKICAgICAgICB9CiAgICAgICAgdGhpcy4kc2V0KHRoaXNbdGhpcy50YWJOYW1lXVt0aGlzLnRhYkluZGV4XSwgJ3N0b2NrJywgTnVtYmVyKHRoaXMuc3RvY2spKTsKICAgICAgICB0aGlzLiRzZXQodGhpc1t0aGlzLnRhYk5hbWVdW3RoaXMudGFiSW5kZXhdLCAnc3RvY2snLCBOdW1iZXIodGhpcy5zdG9jaykpOwogICAgICAgIHRoaXMuJHNldCh0aGlzW3RoaXMudGFiTmFtZV1bdGhpcy50YWJJbmRleF0sICdkaXNrX2luZm8nLCB0aGlzLmRpc2tfaW5mbyk7CiAgICAgICAgdGhpcy4kc2V0KHRoaXNbdGhpcy50YWJOYW1lXVt0aGlzLnRhYkluZGV4XSwgJ3ZpcnR1YWxfbGlzdCcsIFtdKTsKICAgICAgfQogICAgICB0aGlzLmFkZFZpcnR1YWxNb2RlbCA9IGZhbHNlOwogICAgICB0aGlzLmNsb3NlVmlydHVhbCgpOwogICAgfSwKICAgIC8vICDliJ3lp4vljJbljaHlr4bmlbDmja7kv6Hmga8KICAgIGNsb3NlVmlydHVhbDogZnVuY3Rpb24gY2xvc2VWaXJ0dWFsKCkgewogICAgICB0aGlzLmFkZFZpcnR1YWxNb2RlbCA9IGZhbHNlOwogICAgICB0aGlzLnZpcnR1YWxMaXN0ID0gW3sKICAgICAgICBrZXk6ICcnLAogICAgICAgIHZhbHVlOiAnJwogICAgICB9XTsKICAgICAgdGhpcy5kaXNrX2luZm8gPSAnJzsKICAgICAgdGhpcy5zdG9jayA9IDA7CiAgICB9LAogICAgLy/lr7nosaHmlbDnu4Tljrvph43vvJsKICAgIHVuaXF1ZTogZnVuY3Rpb24gdW5pcXVlKGFycikgewogICAgICB2YXIgcmVzID0gbmV3IE1hcCgpOwogICAgICByZXR1cm4gYXJyLmZpbHRlcihmdW5jdGlvbiAoYXJyKSB7CiAgICAgICAgcmV0dXJuICFyZXMuaGFzKGFyci5pZCkgJiYgcmVzLnNldChhcnIuaWQsIDEpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDojrflj5bkvJjmg6DliLhpZOaVsOaNrgogICAgbmFtZUlkOiBmdW5jdGlvbiBuYW1lSWQoaWQsIG5hbWVzKSB7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmNvdXBvbl9pZHMgPSBpZDsKICAgICAgdGhpcy5jb3Vwb25OYW1lID0gdGhpcy51bmlxdWUobmFtZXMpOwogICAgfSwKICAgIC8vIOiOt+WPluS8mOaDoOWIuOS/oeaBrwogICAgZ29vZHNDb3Vwb25JZDogZnVuY3Rpb24gZ29vZHNDb3Vwb25JZChkYXRhKSB7CiAgICAgIC8vIHRoaXNbdGhpcy50YWJOYW1lXVt0aGlzLnRhYkluZGV4XS5jb3Vwb25faWQgPSBkYXRhLmlkOwogICAgICAvLyB0aGlzW3RoaXMudGFiTmFtZV1bdGhpcy50YWJJbmRleF0uY291cG9uX25hbWUgPSBkYXRhLnRpdGxlOwogICAgICB0aGlzLiRzZXQodGhpc1t0aGlzLnRhYk5hbWVdW3RoaXMudGFiSW5kZXhdLCAnY291cG9uX2lkJywgZGF0YS5pZCk7CiAgICAgIHRoaXMuJHNldCh0aGlzW3RoaXMudGFiTmFtZV1bdGhpcy50YWJJbmRleF0sICdjb3Vwb25fbmFtZScsIGRhdGEudGl0bGUpOwogICAgICB0aGlzLiRyZWZzLmdvb2RzQ291cG9uLmlzVGVtcGxhdGUgPSBmYWxzZTsKICAgIH0sCiAgICBoYW5kbGVDbG9zZTogZnVuY3Rpb24gaGFuZGxlQ2xvc2UobmFtZSkgewogICAgICB2YXIgaW5kZXggPSB0aGlzLmNvdXBvbk5hbWUuaW5kZXhPZihuYW1lKTsKICAgICAgdGhpcy5jb3Vwb25OYW1lLnNwbGljZShpbmRleCwgMSk7CiAgICAgIHZhciBjb3Vwb25JZHMgPSB0aGlzLmZvcm1WYWxpZGF0ZS5jb3Vwb25faWRzOwogICAgICBjb3Vwb25JZHMuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgdGhpcy51cGRhdGVJZHMgPSBjb3Vwb25JZHM7CiAgICAgIHRoaXMudXBkYXRlTmFtZSA9IHRoaXMuY291cG9uTmFtZTsKICAgIH0sCiAgICAvLyDov5DotLnmqKHmnb8KICAgIGdldExpc3Q6IGZ1bmN0aW9uIGdldExpc3QoKSB7CiAgICAgIHRoaXMucHJvZHVjdEdldFRlbXBsYXRlKCk7CiAgICB9LAogICAgLy8g5re75Yqg6L+Q6LS55qih5p2/CiAgICBhZGRUZW1wOiBmdW5jdGlvbiBhZGRUZW1wKCkgewogICAgICB0aGlzLiRyZWZzLnRlbXBsYXRlcy5pc1RlbXBsYXRlID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDliKDpmaTop4bpopHvvJsKICAgIGRlbFZpZGVvOiBmdW5jdGlvbiBkZWxWaWRlbygpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICB0aGF0LiRzZXQodGhhdC5mb3JtVmFsaWRhdGUsICd2aWRlb19saW5rJywgJycpOwogICAgICB0aGF0LiRzZXQodGhhdCwgJ3Byb2dyZXNzJywgMCk7CiAgICAgIHRoYXQudmlkZW9JbmcgPSBmYWxzZTsKICAgICAgdGhhdC51cGxvYWQudmlkZW9JbmcgPSBmYWxzZTsKICAgIH0sCiAgICB6aF91cGxvYWRGaWxlOiBmdW5jdGlvbiB6aF91cGxvYWRGaWxlKCkgewogICAgICBpZiAodGhpcy5zZWxldFZpZGVvID09IDEpIHsKICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZS52aWRlb19saW5rID0gdGhpcy52aWRlb0xpbms7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kcmVmcy5yZWZpZC5jbGljaygpOwogICAgICB9CiAgICB9LAogICAgLy8g5LiK5Lyg6KeG6aKRCiAgICB6aF91cGxvYWRGaWxlX2NoYW5nZTogZnVuY3Rpb24gemhfdXBsb2FkRmlsZV9jaGFuZ2UoZXZmaWxlKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgdmFyIHN1ZmZpeCA9IGV2ZmlsZS50YXJnZXQuZmlsZXNbMF0ubmFtZS5zdWJzdHIoZXZmaWxlLnRhcmdldC5maWxlc1swXS5uYW1lLmluZGV4T2YoJy4nKSk7CiAgICAgIGlmIChzdWZmaXguaW5kZXhPZignLm1wNCcpID09PSAtMSkgewogICAgICAgIHJldHVybiB0aGF0LiRNZXNzYWdlLmVycm9yKCflj6rog73kuIrkvKBNUDTmlofku7YnKTsKICAgICAgfQogICAgICBwcm9kdWN0R2V0VGVtcEtleXNBcGkoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICB0aGF0LiR2aWRlb0Nsb3VkLnZpZGVvVXBsb2FkKHsKICAgICAgICAgIHR5cGU6IHJlcy5kYXRhLnR5cGUsCiAgICAgICAgICBldmZpbGU6IGV2ZmlsZSwKICAgICAgICAgIHJlczogcmVzLAogICAgICAgICAgdXBsb2FkaW5nOiBmdW5jdGlvbiB1cGxvYWRpbmcoc3RhdHVzLCBwcm9ncmVzcykgewogICAgICAgICAgICB0aGF0LnVwbG9hZC52aWRlb0luZyA9IHN0YXR1czsKICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgICAgdGhhdC5wcm9ncmVzcyA9IDEwMDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgdGhhdC5mb3JtVmFsaWRhdGUudmlkZW9fbGluayA9IHJlcy51cmw7CiAgICAgICAgICB0aGF0LiRNZXNzYWdlLnN1Y2Nlc3MoJ+inhumikeS4iuS8oOaIkOWKnycpOwogICAgICAgICAgdGhhdC51cGxvYWQudmlkZW9JbmcgPSBmYWxzZTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICB0aGF0LiRNZXNzYWdlLmVycm9yKHJlcyk7CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICB0aGF0LiRNZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDkuIrkuIDpobXvvJsKICAgIHVwVGFiOiBmdW5jdGlvbiB1cFRhYigpIHsKICAgICAgdGhpcy5jdXJyZW50VGFiID0gKE51bWJlcih0aGlzLmN1cnJlbnRUYWIpIC0gMSkudG9TdHJpbmcoKTsKICAgIH0sCiAgICAvLyDkuIvkuIDpobXvvJsKICAgIGRvd25UYWI6IGZ1bmN0aW9uIGRvd25UYWIoKSB7CiAgICAgIHRoaXMuY3VycmVudFRhYiA9IChOdW1iZXIodGhpcy5jdXJyZW50VGFiKSArIDEpLnRvU3RyaW5nKCk7CiAgICB9LAogICAgLy8g5bGe5oCn5by556qX5Zue6LCD5Ye95pWw77ybCiAgICB1c2VyU2VhcmNoczogZnVuY3Rpb24gdXNlclNlYXJjaHMoKSB7CiAgICAgIHRoaXMucHJvZHVjdEdldFJ1bGUoKTsKICAgIH0sCiAgICAvLyDmt7vliqDop4TliJnvvJsKICAgIGFkZFJ1bGU6IGZ1bmN0aW9uIGFkZFJ1bGUoKSB7CiAgICAgIHRoaXMuJHJlZnMuYWRkYXR0ci5tb2RhbCA9IHRydWU7CiAgICB9LAogICAgLy8g5om56YeP6K6+572u5YiG5L2j77ybCiAgICBicm9rZXJhZ2VTZXRVcDogZnVuY3Rpb24gYnJva2VyYWdlU2V0VXAoKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgaWYgKHRoYXQuZm9ybVZhbGlkYXRlLmlzX3N1Yi5pbmRleE9mKDEpID4gLTEpIHsKICAgICAgICBpZiAodGhhdC5tYW55QnJva2VyYWdlIDw9IDAgfHwgdGhhdC5tYW55QnJva2VyYWdlVHdvIDw9IDApIHsKICAgICAgICAgIHJldHVybiB0aGF0LiRNZXNzYWdlLmVycm9yKCfor7floavlhpnov5TkvaPph5Hpop3lkI7ov5vooYzmibnph4/mt7vliqAnKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAodGhhdC5mb3JtVmFsaWRhdGUuaXNfc3ViLmluZGV4T2YoMCkgPiAtMSkgewogICAgICAgIGlmICh0aGF0Lm1hbnlWaXBQcmljZSA8PSAwKSB7CiAgICAgICAgICByZXR1cm4gdGhhdC4kTWVzc2FnZS5lcnJvcign6K+35aGr5YaZ5Lya5ZGY5Lu35ZCO6L+b6KGM5om56YeP5re75YqgJyk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICh0aGlzLmZvcm1WYWxpZGF0ZS5pc19zdWIubGVuZ3RoID09PSAyKSB7CiAgICAgICAgaWYgKHRoYXQubWFueUJyb2tlcmFnZSA8PSAwIHx8IHRoYXQubWFueUJyb2tlcmFnZVR3byA8PSAwIHx8IHRoYXQubWFueVZpcFByaWNlIDw9IDApIHsKICAgICAgICAgIHJldHVybiB0aGF0LiRNZXNzYWdlLmVycm9yKCfor7floavlhpnlrozph5Hpop3lkI7ov5vooYzmibnph4/mt7vliqAnKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoYXQubWFueUZvcm1WYWxpZGF0ZSksCiAgICAgICAgX3N0ZXA7CiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciB2YWwgPSBfc3RlcC52YWx1ZTsKICAgICAgICAgIHRoaXMuJHNldCh2YWwsICdicm9rZXJhZ2UnLCB0aGF0Lm1hbnlCcm9rZXJhZ2UpOwogICAgICAgICAgdGhpcy4kc2V0KHZhbCwgJ2Jyb2tlcmFnZV90d28nLCB0aGF0Lm1hbnlCcm9rZXJhZ2VUd28pOwogICAgICAgICAgdGhpcy4kc2V0KHZhbCwgJ3ZpcF9wcmljZScsIHRoYXQubWFueVZpcFByaWNlKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgfQogICAgfSwKICAgIC8vIOaJuemHj+iuvue9ruS8muWRmOS7twogICAgdmlwUHJpY2VTZXRVcDogZnVuY3Rpb24gdmlwUHJpY2VTZXRVcCgpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICBpZiAodGhhdC5tYW55VmlwUHJpY2UgPD0gMCkgewogICAgICAgIHJldHVybiB0aGF0LiRNZXNzYWdlLmVycm9yKCfor7floavlhpnkvJrlkZjku7flnKjov5vooYzmibnph4/mt7vliqAnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoYXQubWFueUZvcm1WYWxpZGF0ZSksCiAgICAgICAgICBfc3RlcDI7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgIHZhciB2YWwgPSBfc3RlcDIudmFsdWU7CiAgICAgICAgICAgIHRoaXMuJHNldCh2YWwsICd2aXBfcHJpY2UnLCB0aGF0Lm1hbnlWaXBQcmljZSk7CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgX2l0ZXJhdG9yMi5mKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLy8g5paw5aKe5Y2h5a+GCiAgICBoYW5kbGVBZGQ6IGZ1bmN0aW9uIGhhbmRsZUFkZCgpIHsKICAgICAgdGhpcy52aXJ0dWFsTGlzdC5wdXNoKHsKICAgICAgICBrZXk6ICcnLAogICAgICAgIHZhbHVlOiAnJwogICAgICB9KTsKICAgIH0sCiAgICAvLyDliJ3lp4vljJbljaHlr4bkv6Hmga8KICAgIGluaXRWaXJ0dWFsRGF0YTogZnVuY3Rpb24gaW5pdFZpcnR1YWxEYXRhKHN0YXR1cykgewogICAgICBpZiAoIXN0YXR1cykgewogICAgICAgIHRoaXMudmlydHVhbExpc3QgPSBbewogICAgICAgICAga2V5OiAnJywKICAgICAgICAgIHZhbHVlOiAnJwogICAgICAgIH1dOwogICAgICB9CiAgICB9LAogICAgcmVtb3ZlVmlydHVhbDogZnVuY3Rpb24gcmVtb3ZlVmlydHVhbChpbmRleCkgewogICAgICB0aGlzLnZpcnR1YWxMaXN0LnNwbGljZShpbmRleCwgMSk7CiAgICB9LAogICAgLy8g5riF56m65om56YeP6KeE5qC85L+h5oGvCiAgICBiYXRjaERlbDogZnVuY3Rpb24gYmF0Y2hEZWwoKSB7CiAgICAgIHRoaXMub25lRm9ybUJhdGNoID0gW3sKICAgICAgICBwaWM6ICcnLAogICAgICAgIHByaWNlOiAwLAogICAgICAgIGNvc3Q6IDAsCiAgICAgICAgb3RfcHJpY2U6IDAsCiAgICAgICAgc3RvY2s6IDAsCiAgICAgICAgYmFyX2NvZGU6ICcnLAogICAgICAgIHdlaWdodDogMCwKICAgICAgICB2b2x1bWU6IDAKICAgICAgfV07CiAgICB9LAogICAgY29uZmlybTogZnVuY3Rpb24gY29uZmlybSgpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICB0aGF0LmNyZWF0ZUJudCA9IHRydWU7CiAgICAgIGlmICh0aGF0LmZvcm1WYWxpZGF0ZS5zZWxlY3RSdWxlLnRyaW0oKS5sZW5ndGggPD0gMCkgewogICAgICAgIHJldHVybiB0aGF0LiRNZXNzYWdlLmVycm9yKCfor7fpgInmi6nlsZ7mgKcnKTsKICAgICAgfQogICAgICB0aGF0LnJ1bGVMaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgaWYgKGl0ZW0ucnVsZV9uYW1lID09PSB0aGF0LmZvcm1WYWxpZGF0ZS5zZWxlY3RSdWxlKSB7CiAgICAgICAgICB0aGF0LmF0dHJzID0gaXRlbS5ydWxlX3ZhbHVlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g6I635Y+W5ZWG5ZOB5bGe5oCn5qih5p2/77ybCiAgICBwcm9kdWN0R2V0UnVsZTogZnVuY3Rpb24gcHJvZHVjdEdldFJ1bGUoKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwogICAgICBwcm9kdWN0R2V0UnVsZUFwaSgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzOC5ydWxlTGlzdCA9IHJlcy5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDojrflj5bov5DotLnmqKHmnb/vvJsKICAgIHByb2R1Y3RHZXRUZW1wbGF0ZTogZnVuY3Rpb24gcHJvZHVjdEdldFRlbXBsYXRlKCkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKICAgICAgcHJvZHVjdEdldFRlbXBsYXRlQXBpKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM5LnRlbXBsYXRlTGlzdCA9IHJlcy5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDliKDpmaTooajmoLzkuK3nmoTlsZ7mgKcKICAgIGRlbEF0dHJUYWJsZTogZnVuY3Rpb24gZGVsQXR0clRhYmxlKGluZGV4KSB7CiAgICAgIHZhciBfdGhpczEwID0gdGhpczsKICAgICAgdmFyIGlkID0gdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgICBpZiAoaWQpIHsKICAgICAgICBjaGVja0FjdGl2aXR5QXBpKGlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzMTAubWFueUZvcm1WYWxpZGF0ZS5zcGxpY2UoaW5kZXgsIDEpOwogICAgICAgICAgX3RoaXMxMC4kTWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzMTAuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5tYW55Rm9ybVZhbGlkYXRlLnNwbGljZShpbmRleCwgMSk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDmibnph4/mt7vliqAKICAgIGJhdGNoQWRkOiBmdW5jdGlvbiBiYXRjaEFkZCgpIHsKICAgICAgdmFyIF9pdGVyYXRvcjMgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLm1hbnlGb3JtVmFsaWRhdGUpLAogICAgICAgIF9zdGVwMzsKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjMucygpOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMubigpKS5kb25lOykgewogICAgICAgICAgdmFyIHZhbCA9IF9zdGVwMy52YWx1ZTsKICAgICAgICAgIGlmICh0aGlzLm9uZUZvcm1CYXRjaFswXS5waWMpIHsKICAgICAgICAgICAgdGhpcy4kc2V0KHZhbCwgJ3BpYycsIHRoaXMub25lRm9ybUJhdGNoWzBdLnBpYyk7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodGhpcy5vbmVGb3JtQmF0Y2hbMF0ucHJpY2UgPiAwKSB7CiAgICAgICAgICAgIHRoaXMuJHNldCh2YWwsICdwcmljZScsIHRoaXMub25lRm9ybUJhdGNoWzBdLnByaWNlKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICh0aGlzLm9uZUZvcm1CYXRjaFswXS5jb3N0ID4gMCkgewogICAgICAgICAgICB0aGlzLiRzZXQodmFsLCAnY29zdCcsIHRoaXMub25lRm9ybUJhdGNoWzBdLmNvc3QpOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHRoaXMub25lRm9ybUJhdGNoWzBdLm90X3ByaWNlID4gMCkgewogICAgICAgICAgICB0aGlzLiRzZXQodmFsLCAnb3RfcHJpY2UnLCB0aGlzLm9uZUZvcm1CYXRjaFswXS5vdF9wcmljZSk7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodGhpcy5vbmVGb3JtQmF0Y2hbMF0uc3RvY2sgPiAwKSB7CiAgICAgICAgICAgIHRoaXMuJHNldCh2YWwsICdzdG9jaycsIHRoaXMub25lRm9ybUJhdGNoWzBdLnN0b2NrKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICh0aGlzLm9uZUZvcm1CYXRjaFswXS5iYXJfY29kZSAhPT0gJycpIHsKICAgICAgICAgICAgdGhpcy4kc2V0KHZhbCwgJ2Jhcl9jb2RlJywgdGhpcy5vbmVGb3JtQmF0Y2hbMF0uYmFyX2NvZGUpOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHRoaXMub25lRm9ybUJhdGNoWzBdLndlaWdodCA+IDApIHsKICAgICAgICAgICAgdGhpcy4kc2V0KHZhbCwgJ3dlaWdodCcsIHRoaXMub25lRm9ybUJhdGNoWzBdLndlaWdodCk7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodGhpcy5vbmVGb3JtQmF0Y2hbMF0udm9sdW1lID4gMCkgewogICAgICAgICAgICB0aGlzLiRzZXQodmFsLCAndm9sdW1lJywgdGhpcy5vbmVGb3JtQmF0Y2hbMF0udm9sdW1lKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjMuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjMuZigpOwogICAgICB9CiAgICB9LAogICAgLy8g5re75Yqg5oyJ6ZKuCiAgICBhZGRCdG46IGZ1bmN0aW9uIGFkZEJ0bigpIHsKICAgICAgdGhpcy5jbGVhckF0dHIoKTsKICAgICAgdGhpcy5jcmVhdGVCbnQgPSBmYWxzZTsKICAgICAgdGhpcy5zaG93SXB1dCA9IHRydWU7CiAgICB9LAogICAgLy8g56uL5Y2z55Sf5oiQCiAgICBnZW5lcmF0ZTogZnVuY3Rpb24gZ2VuZXJhdGUodHlwZSkgewogICAgICB2YXIgX3RoaXMxMSA9IHRoaXM7CiAgICAgIGdlbmVyYXRlQXR0ckFwaSh7CiAgICAgICAgYXR0cnM6IHRoaXMuYXR0cnMsCiAgICAgICAgaXNfdmlydHVhbDogWzEsIDJdLmluY2x1ZGVzKHRoaXMuZm9ybVZhbGlkYXRlLnZpcnR1YWxfdHlwZSkgPyAxIDogMCwKICAgICAgICB2aXJ0dWFsX3R5cGU6IHRoaXMuZm9ybVZhbGlkYXRlLnZpcnR1YWxfdHlwZQogICAgICB9LCB0aGlzLmZvcm1WYWxpZGF0ZS5pZCwgdHlwZSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIGluZm8gPSByZXMuZGF0YS5pbmZvLAogICAgICAgICAgaGVhZGVyMSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoaW5mby5oZWFkZXIpKTsKICAgICAgICBpZiAoX3RoaXMxMS4kcm91dGUucGFyYW1zLmlkICE9PSAnMCcgJiYgKF90aGlzMTEuJHJvdXRlLnF1ZXJ5LnR5cGUgIT0gLTEgfHwgdHlwZSkpIHsKICAgICAgICAgIF90aGlzMTEubWFueUZvcm1WYWxpZGF0ZSA9IGluZm8udmFsdWU7CiAgICAgICAgfQogICAgICAgIHZhciBoZWFkZXIgPSBpbmZvLmhlYWRlcjsKICAgICAgICBpZiAoWzEsIDJdLmluY2x1ZGVzKF90aGlzMTEuZm9ybVZhbGlkYXRlLnZpcnR1YWxfdHlwZSkpIHsKICAgICAgICAgIF90aGlzMTEuY29sdW1uc0luc3RhbE0gPSBoZWFkZXI7CiAgICAgICAgICBfdGhpczExLmZvcm1WYWxpZGF0ZS5oZWFkZXIgPSBoZWFkZXI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMTEuZm9ybVZhbGlkYXRlLmhlYWRlciA9IGhlYWRlcjE7CiAgICAgICAgICBfdGhpczExLmNvbHVtbnNJbnN0YWxNID0gaW5mby5oZWFkZXI7CiAgICAgICAgfQogICAgICAgIF90aGlzMTEuY2hlY2tBbGxHcm91cChfdGhpczExLmZvcm1WYWxpZGF0ZS5pc19zdWIpOwogICAgICAgIGlmICghX3RoaXMxMS4kcm91dGUucGFyYW1zLmlkICYmIF90aGlzMTEuZm9ybVZhbGlkYXRlLnNwZWNfdHlwZSA9PT0gMSkgewogICAgICAgICAgX3RoaXMxMS5tYW55Rm9ybVZhbGlkYXRlLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICBpdGVtLnBpYyA9IF90aGlzMTEuZm9ybVZhbGlkYXRlLmltYWdlOwogICAgICAgICAgfSk7CiAgICAgICAgICBfdGhpczExLm9uZUZvcm1CYXRjaFswXS5waWMgPSBfdGhpczExLmZvcm1WYWxpZGF0ZS5pbWFnZTsKICAgICAgICB9IGVsc2UgaWYgKF90aGlzMTEuJHJvdXRlLnBhcmFtcy5pZCkgewogICAgICAgICAgX3RoaXMxMS5tYW55Rm9ybVZhbGlkYXRlLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICBpZiAoIWl0ZW0ucGljKSB7CiAgICAgICAgICAgICAgaXRlbS5waWMgPSBfdGhpczExLmZvcm1WYWxpZGF0ZS5pbWFnZTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICBfdGhpczExLm9uZUZvcm1CYXRjaFswXS5waWMgPSBfdGhpczExLmZvcm1WYWxpZGF0ZS5pbWFnZTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczExLiRNZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDlj5bmtogKICAgIG9mZkF0dHJOYW1lOiBmdW5jdGlvbiBvZmZBdHRyTmFtZSgpIHsKICAgICAgdGhpcy5zaG93SXB1dCA9IGZhbHNlOwogICAgICB0aGlzLmNyZWF0ZUJudCA9IHRydWU7CiAgICB9LAogICAgY2xlYXJBdHRyOiBmdW5jdGlvbiBjbGVhckF0dHIoKSB7CiAgICAgIHRoaXMuZm9ybUR5bmFtaWMuYXR0cnNOYW1lID0gJyc7CiAgICAgIHRoaXMuZm9ybUR5bmFtaWMuYXR0cnNWYWwgPSAnJzsKICAgIH0sCiAgICAvLyDliKDpmaTop4TmoLwKICAgIGhhbmRsZVJlbW92ZVJvbGU6IGZ1bmN0aW9uIGhhbmRsZVJlbW92ZVJvbGUoaW5kZXgpIHsKICAgICAgdGhpcy5hdHRycy5zcGxpY2UoaW5kZXgsIDEpOwogICAgICB0aGlzLm1hbnlGb3JtVmFsaWRhdGUuc3BsaWNlKGluZGV4LCAxKTsKICAgIH0sCiAgICAvLyDliKDpmaTlsZ7mgKcKICAgIGhhbmRsZVJlbW92ZTI6IGZ1bmN0aW9uIGhhbmRsZVJlbW92ZTIoaXRlbSwgaW5kZXgpIHsKICAgICAgaXRlbS5zcGxpY2UoaW5kZXgsIDEpOwogICAgfSwKICAgIC8vIOa3u+WKoOinhOWImeWQjeensAogICAgY3JlYXRlQXR0ck5hbWU6IGZ1bmN0aW9uIGNyZWF0ZUF0dHJOYW1lKCkgewogICAgICBpZiAodGhpcy5mb3JtRHluYW1pYy5hdHRyc05hbWUgJiYgdGhpcy5mb3JtRHluYW1pYy5hdHRyc1ZhbCkgewogICAgICAgIHZhciBkYXRhID0gewogICAgICAgICAgdmFsdWU6IHRoaXMuZm9ybUR5bmFtaWMuYXR0cnNOYW1lLAogICAgICAgICAgZGV0YWlsOiBbdGhpcy5mb3JtRHluYW1pYy5hdHRyc1ZhbF0KICAgICAgICB9OwogICAgICAgIHRoaXMuYXR0cnMucHVzaChkYXRhKTsKICAgICAgICB2YXIgaGFzaCA9IHt9OwogICAgICAgIHRoaXMuYXR0cnMgPSB0aGlzLmF0dHJzLnJlZHVjZShmdW5jdGlvbiAoaXRlbSwgbmV4dCkgewogICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgKi8KICAgICAgICAgIGhhc2hbbmV4dC52YWx1ZV0gPyAnJyA6IGhhc2hbbmV4dC52YWx1ZV0gPSB0cnVlICYmIGl0ZW0ucHVzaChuZXh0KTsKICAgICAgICAgIHJldHVybiBpdGVtOwogICAgICAgIH0sIFtdKTsKICAgICAgICB0aGlzLmNsZWFyQXR0cigpOwogICAgICAgIHRoaXMuc2hvd0lwdXQgPSBmYWxzZTsKICAgICAgICB0aGlzLmNyZWF0ZUJudCA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kTWVzc2FnZS53YXJuaW5nKCfor7fmt7vliqDlrozmlbTnmoTop4TmoLzvvIEnKTsKICAgICAgfQogICAgfSwKICAgIC8vIOa3u+WKoOWxnuaApwogICAgY3JlYXRlQXR0cjogZnVuY3Rpb24gY3JlYXRlQXR0cihudW0sIGlkeCkgewogICAgICBpZiAobnVtKSB7CiAgICAgICAgdGhpcy5hdHRyc1tpZHhdLmRldGFpbC5wdXNoKG51bSk7CiAgICAgICAgdmFyIGhhc2ggPSB7fTsKICAgICAgICB0aGlzLmF0dHJzW2lkeF0uZGV0YWlsID0gdGhpcy5hdHRyc1tpZHhdLmRldGFpbC5yZWR1Y2UoZnVuY3Rpb24gKGl0ZW0sIG5leHQpIHsKICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlICovCiAgICAgICAgICBoYXNoW25leHRdID8gJycgOiBoYXNoW25leHRdID0gdHJ1ZSAmJiBpdGVtLnB1c2gobmV4dCk7CiAgICAgICAgICByZXR1cm4gaXRlbTsKICAgICAgICB9LCBbXSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kTWVzc2FnZS53YXJuaW5nKCfor7fmt7vliqDlsZ7mgKcnKTsKICAgICAgfQogICAgfSwKICAgIC8vIOWVhuWTgeWIhuexu++8mwogICAgZ29vZHNDYXRlZ29yeTogZnVuY3Rpb24gZ29vZHNDYXRlZ29yeSgpIHsKICAgICAgdmFyIF90aGlzMTIgPSB0aGlzOwogICAgICBjYXNjYWRlckxpc3RBcGkoMSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMxMi50cmVlU2VsZWN0ID0gcmVzLmRhdGE7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczEyLiRNZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICB9KTsKICAgIH0sCiAgICAvL+inhuinhuS4iuS8oOexu+WeiwogICAgY2hhbmdlVmlkZW86IGZ1bmN0aW9uIGNoYW5nZVZpZGVvKGUpIHsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGUudmlkZW9fbGluayA9ICcnOwogICAgICB0aGlzLnZpZGVvTGluayA9ICcnOwogICAgfSwKICAgIC8vIOaUueWPmOinhOagvAogICAgY2hhbmdlU3BlYzogZnVuY3Rpb24gY2hhbmdlU3BlYygpIHsKICAgICAgdmFyIF90aGlzMTMgPSB0aGlzOwogICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5pc19zdWIgPSBbXTsKICAgICAgdmFyIGlkID0gdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgICBpZiAoaWQpIHsKICAgICAgICBjaGVja0FjdGl2aXR5QXBpKGlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHt9KS5jYXRjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBfdGhpczEzLmZvcm1WYWxpZGF0ZS5zcGVjX3R5cGUgPSBfdGhpczEzLnNwZWNfdHlwZTsKICAgICAgICAgIF90aGlzMTMuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDor6bmg4UKICAgIGdldEluZm86IGZ1bmN0aW9uIGdldEluZm8oKSB7CiAgICAgIHZhciBfdGhpczE0ID0gdGhpczsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICB0aGF0LnNwaW5TaG93ID0gdHJ1ZTsKICAgICAgcHJvZHVjdEluZm9BcGkodGhhdC4kcm91dGUucGFyYW1zLmlkKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKHJlcykgewogICAgICAgICAgdmFyIGRhdGE7CiAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkYXRhID0gcmVzLmRhdGEucHJvZHVjdEluZm87CiAgICAgICAgICAgICAgICBfdGhpczE0LmluZm9EYXRhKGRhdGEpOwogICAgICAgICAgICAgICAgX3RoaXMxNC5zcGluU2hvdyA9IGZhbHNlOwogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgfSkpOwogICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKS5jYXRjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMxNC5zcGluU2hvdyA9IGZhbHNlOwogICAgICAgIF90aGlzMTQuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIHRhYuWIh+aNogogICAgb25oYW5nZVRhYjogZnVuY3Rpb24gb25oYW5nZVRhYihuYW1lKSB7CiAgICAgIHRoaXMuY3VycmVudFRhYiA9IG5hbWU7CiAgICB9LAogICAgaGFuZGxlUmVtb3ZlOiBmdW5jdGlvbiBoYW5kbGVSZW1vdmUoaSkgewogICAgICB0aGlzLmltYWdlcy5zcGxpY2UoaSwgMSk7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLnNsaWRlcl9pbWFnZS5zcGxpY2UoaSwgMSk7CiAgICAgIHRoaXMub25lRm9ybVZhbGlkYXRlWzBdLnBpYyA9IHRoaXMuZm9ybVZhbGlkYXRlLnNsaWRlcl9pbWFnZVswXTsKICAgIH0sCiAgICAvLyDlhbPpl63lm77niYfkuIrkvKDmqKHmgIHmoYYKICAgIGNoYW5nZUNhbmNlbDogZnVuY3Rpb24gY2hhbmdlQ2FuY2VsKG1zZykgewogICAgICB0aGlzLm1vZGFsUGljID0gZmFsc2U7CiAgICB9LAogICAgLy8g54K55Ye75ZWG5ZOB5Zu+CiAgICBtb2RhbFBpY1RhcDogZnVuY3Rpb24gbW9kYWxQaWNUYXAodGl0LCBwaWNUaXQsIGluZGV4KSB7CiAgICAgIHRoaXMubW9kYWxQaWMgPSB0cnVlOwogICAgICB0aGlzLmlzQ2hvaWNlID0gdGl0ID09PSAnZGFuJyA/ICfljZXpgIknIDogJ+WkmumAiSc7CiAgICAgIHRoaXMucGljVGl0ID0gcGljVGl0OwogICAgICB0aGlzLnRhYmxlSW5kZXggPSBpbmRleDsKICAgIH0sCiAgICAvLyDojrflj5bljZXlvKDlm77niYfkv6Hmga8KICAgIGdldFBpYzogZnVuY3Rpb24gZ2V0UGljKHBjKSB7CiAgICAgIHN3aXRjaCAodGhpcy5waWNUaXQpIHsKICAgICAgICBjYXNlICdkYW5Gcm9tJzoKICAgICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmltYWdlID0gcGMuYXR0X2RpcjsKICAgICAgICAgIGlmICghdGhpcy4kcm91dGUucGFyYW1zLmlkKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmZvcm1WYWxpZGF0ZS5zcGVjX3R5cGUgPT09IDApIHsKICAgICAgICAgICAgICB0aGlzLm9uZUZvcm1WYWxpZGF0ZVswXS5waWMgPSBwYy5hdHRfZGlyOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMubWFueUZvcm1WYWxpZGF0ZS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgIGl0ZW0ucGljID0gcGMuYXR0X2RpcjsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB0aGlzLm9uZUZvcm1CYXRjaFswXS5waWMgPSBwYy5hdHRfZGlyOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdkYW5UYWJsZSc6CiAgICAgICAgICB0aGlzLm9uZUZvcm1WYWxpZGF0ZVt0aGlzLnRhYmxlSW5kZXhdLnBpYyA9IHBjLmF0dF9kaXI7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdkdW9waSc6CiAgICAgICAgICB0aGlzLm9uZUZvcm1CYXRjaFt0aGlzLnRhYmxlSW5kZXhdLnBpYyA9IHBjLmF0dF9kaXI7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdyZWNvbW1lbmRfaW1hZ2UnOgogICAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUucmVjb21tZW5kX2ltYWdlID0gcGMuYXR0X2RpcjsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICB0aGlzLm1hbnlGb3JtVmFsaWRhdGVbdGhpcy50YWJsZUluZGV4XS5waWMgPSBwYy5hdHRfZGlyOwogICAgICB9CiAgICAgIHRoaXMubW9kYWxQaWMgPSBmYWxzZTsKICAgIH0sCiAgICAvLyDojrflj5blpJrlvKDlm77kv6Hmga8KICAgIGdldFBpY0Q6IGZ1bmN0aW9uIGdldFBpY0QocGMpIHsKICAgICAgdmFyIF90aGlzMTUgPSB0aGlzOwogICAgICB0aGlzLmltYWdlcyA9IHBjOwogICAgICB0aGlzLmltYWdlcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBfdGhpczE1LmZvcm1WYWxpZGF0ZS5zbGlkZXJfaW1hZ2UucHVzaChpdGVtLmF0dF9kaXIpOwogICAgICAgIF90aGlzMTUuZm9ybVZhbGlkYXRlLnNsaWRlcl9pbWFnZSA9IF90aGlzMTUuZm9ybVZhbGlkYXRlLnNsaWRlcl9pbWFnZS5zcGxpY2UoMCwgMTApOwogICAgICB9KTsKICAgICAgdGhpcy5vbmVGb3JtVmFsaWRhdGVbMF0ucGljID0gdGhpcy5mb3JtVmFsaWRhdGUuc2xpZGVyX2ltYWdlWzBdOwogICAgICB0aGlzLm1vZGFsUGljID0gZmFsc2U7CiAgICB9LAogICAgLy8g5o+Q5LqkCiAgICBoYW5kbGVTdWJtaXQ6IGZ1bmN0aW9uIGhhbmRsZVN1Ym1pdChuYW1lKSB7CiAgICAgIHZhciBfdGhpczE2ID0gdGhpczsKICAgICAgdGhpcy4kcmVmc1tuYW1lXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIF90aGlzMTYuZm9ybVZhbGlkYXRlLnR5cGUgPSBfdGhpczE2LnR5cGU7CiAgICAgICAgICBpZiAoX3RoaXMxNi5mb3JtVmFsaWRhdGUuc3BlY190eXBlID09PSAwKSB7CiAgICAgICAgICAgIF90aGlzMTYuZm9ybVZhbGlkYXRlLmF0dHJzID0gX3RoaXMxNi5vbmVGb3JtVmFsaWRhdGU7CiAgICAgICAgICAgIF90aGlzMTYuZm9ybVZhbGlkYXRlLmhlYWRlciA9IFtdOwogICAgICAgICAgICBfdGhpczE2LmZvcm1WYWxpZGF0ZS5pdGVtcyA9IFtdOwogICAgICAgICAgICBfdGhpczE2LmZvcm1WYWxpZGF0ZS5pc19jb3B5ID0gMDsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzMTYuZm9ybVZhbGlkYXRlLml0ZW1zID0gX3RoaXMxNi5hdHRyczsKICAgICAgICAgICAgX3RoaXMxNi5mb3JtVmFsaWRhdGUuYXR0cnMgPSBfdGhpczE2Lm1hbnlGb3JtVmFsaWRhdGU7CiAgICAgICAgICAgIF90aGlzMTYuZm9ybVZhbGlkYXRlLmlzX2NvcHkgPSAxOwogICAgICAgICAgfQogICAgICAgICAgaWYgKF90aGlzMTYuZm9ybVZhbGlkYXRlLnNwZWNfdHlwZSA9PT0gMSAmJiBfdGhpczE2Lm1hbnlGb3JtVmFsaWRhdGUubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpczE2LiRNZXNzYWdlLndhcm5pbmcoJ+WVhuWTgeS/oeaBry3or7fngrnlh7vnlJ/miJDlpJrop4TmoLwnKTsKICAgICAgICAgICAgLy8gcmV0dXJuIHRoaXMuJE1lc3NhZ2Uud2FybmluZygn6K+354K55Ye755Sf5oiQ6KeE5qC877yBJyk7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIGl0ZW0gPSBfdGhpczE2LmZvcm1WYWxpZGF0ZS5hdHRyczsKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAoaXRlbVtpXS5zdG9jayA+IDEwMDAwMDApIHsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxNi4kTWVzc2FnZS5lcnJvcign6KeE5qC85bqT5a2YLeW6k+WtmOi2heWHuuezu+e7n+iMg+WbtCgxMDAwMDAwKScpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoX3RoaXMxNi5mb3JtVmFsaWRhdGUuaXNfc3ViWzBdID09PSAxKSB7CiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBpdGVtLmxlbmd0aDsgX2krKykgewogICAgICAgICAgICAgIGlmIChpdGVtW19pXS5icm9rZXJhZ2UgPT09IG51bGwgfHwgaXRlbVtfaV0uYnJva2VyYWdlX3R3byA9PT0gbnVsbCkgewogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTYuJE1lc3NhZ2UuZXJyb3IoJ+iQpemUgOiuvue9ri0g5LiA5LqM57qn6L+U5L2j5LiN6IO95Li656m6Jyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBpdGVtLmxlbmd0aDsgX2kyKyspIHsKICAgICAgICAgICAgICBpZiAoaXRlbVtfaTJdLnZpcF9wcmljZSA9PT0gbnVsbCkgewogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTYuJE1lc3NhZ2UuZXJyb3IoJ+iQpemUgOiuvue9ri3kvJrlkZjku7fkuI3og73kuLrnqbonKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGlmIChfdGhpczE2LmZvcm1WYWxpZGF0ZS5pc19zdWIubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgIGZvciAodmFyIF9pMyA9IDA7IF9pMyA8IGl0ZW0ubGVuZ3RoOyBfaTMrKykgewogICAgICAgICAgICAgIGlmIChpdGVtW19pM10uYnJva2VyYWdlID09PSBudWxsIHx8IGl0ZW1bX2kzXS5icm9rZXJhZ2VfdHdvID09PSBudWxsIHx8IGl0ZW1bX2kzXS52aXBfcHJpY2UgPT09IG51bGwpIHsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczE2LiRNZXNzYWdlLmVycm9yKCfokKXplIDorr7nva4tIOS4gOS6jOe6p+i/lOS9o+WSjOS8muWRmOS7t+S4jeiDveS4uuepuicpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgaWYgKF90aGlzMTYuZm9ybVZhbGlkYXRlLmZyZWlnaHQgPT0gMyAmJiAhX3RoaXMxNi5mb3JtVmFsaWRhdGUudGVtcF9pZCkgewogICAgICAgICAgICByZXR1cm4gX3RoaXMxNi4kTWVzc2FnZS53YXJuaW5nKCfllYblk4Hkv6Hmga8t6L+Q6LS55qih5p2/5LiN6IO95Li656m6Jyk7CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgYWN0aXZlSWRzID0gW107CiAgICAgICAgICBfdGhpczE2LmRhdGFMYWJlbC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIGFjdGl2ZUlkcy5wdXNoKGl0ZW0uaWQpOwogICAgICAgICAgfSk7CiAgICAgICAgICBfdGhpczE2LmZvcm1WYWxpZGF0ZS5sYWJlbF9pZCA9IGFjdGl2ZUlkczsKICAgICAgICAgIF90aGlzMTYub3BlblN1YmltaXQgPSB0cnVlOwogICAgICAgICAgX3RoaXMxNi5mb3JtVmFsaWRhdGUuZGVzY3JpcHRpb24gPSBfdGhpczE2LmZvcm1hdFJpY2hUZXh0KF90aGlzMTYuY29udGVudCk7CiAgICAgICAgICBwcm9kdWN0QWRkQXBpKF90aGlzMTYuZm9ybVZhbGlkYXRlKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKHJlcykgewogICAgICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICBfdGhpczE2Lm9wZW5TdWJpbWl0ID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxNi4kTWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczE2LiRyb3V0ZS5wYXJhbXMuaWQgPT09ICcwJykgewogICAgICAgICAgICAgICAgICAgICAgY2FjaGVEZWxldGUoKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTYuJE1lc3NhZ2UuZXJyb3IoZXJyLm1zZyk7CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczE2Lm9wZW5TdWJpbWl0ID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczE2LiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IF90aGlzMTYuJHJvdXRlUHJvU3RyICsgJy9wcm9kdWN0L3Byb2R1Y3RfbGlzdCcKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDIpIHsKICAgICAgICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgfTsKICAgICAgICAgIH0oKSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgX3RoaXMxNi5vcGVuU3ViaW1pdCA9IGZhbHNlOwogICAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICAgICAgX3RoaXMxNi4kTWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoIV90aGlzMTYuZm9ybVZhbGlkYXRlLnN0b3JlX25hbWUpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzMTYuJE1lc3NhZ2Uud2FybmluZygn5ZWG5ZOB5L+h5oGvLeWVhuWTgeWQjeensOS4jeiDveS4uuepuicpOwogICAgICAgICAgfSBlbHNlIGlmICghX3RoaXMxNi5mb3JtVmFsaWRhdGUuY2F0ZV9pZC5sZW5ndGgpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzMTYuJE1lc3NhZ2Uud2FybmluZygn5ZWG5ZOB5L+h5oGvLeWVhuWTgeWIhuexu+S4jeiDveS4uuepuicpOwogICAgICAgICAgfSBlbHNlIGlmICghX3RoaXMxNi5mb3JtVmFsaWRhdGUudW5pdF9uYW1lKSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpczE2LiRNZXNzYWdlLndhcm5pbmcoJ+WVhuWTgeS/oeaBry3llYblk4HljZXkvY3kuI3og73kuLrnqbonKTsKICAgICAgICAgIH0gZWxzZSBpZiAoIV90aGlzMTYuZm9ybVZhbGlkYXRlLnNsaWRlcl9pbWFnZS5sZW5ndGgpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzMTYuJE1lc3NhZ2Uud2FybmluZygn5ZWG5ZOB5L+h5oGvLeWVhuWTgei9ruaSreWbvuS4jeiDveS4uuepuicpOwogICAgICAgICAgfSBlbHNlIGlmICghX3RoaXMxNi5mb3JtVmFsaWRhdGUubG9naXN0aWNzLmxlbmd0aCAmJiAhX3RoaXMxNi5mb3JtVmFsaWRhdGUudmlydHVhbF90eXBlKSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpczE2LiRNZXNzYWdlLndhcm5pbmcoJ+eJqea1geiuvue9ri3oh7PlsJHpgInmi6nkuIDnp43nianmtYHmlrnlvI8nKTsKICAgICAgICAgIH0gZWxzZSBpZiAoIV90aGlzMTYuZm9ybVZhbGlkYXRlLnRlbXBfaWQgJiYgX3RoaXMxNi5mb3JtVmFsaWRhdGUuZnJlaWdodCA9PSAzKSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpczE2LiRNZXNzYWdlLndhcm5pbmcoJ+WVhuWTgeS/oeaBry3ov5DotLnmqKHmnb/kuI3og73kuLrnqbonKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGNoYW5nZVRlbXBsYXRlOiBmdW5jdGlvbiBjaGFuZ2VUZW1wbGF0ZShtc2cpIHsKICAgICAgdGhpcy50ZW1wbGF0ZSA9IG1zZzsKICAgIH0sCiAgICAvLyDooajljZXpqozor4EKICAgIHZhbGlkYXRlOiBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wLCBzdGF0dXMsIGVycm9yKSB7CiAgICAgIGlmIChzdGF0dXMgPT09IGZhbHNlKSB7CiAgICAgICAgdGhpcy4kTWVzc2FnZS53YXJuaW5nKGVycm9yKTsKICAgICAgfQogICAgfSwKICAgIC8vIOenu+WKqAogICAgaGFuZGxlRHJhZ1N0YXJ0OiBmdW5jdGlvbiBoYW5kbGVEcmFnU3RhcnQoZSwgaXRlbSkgewogICAgICB0aGlzLmRyYWdnaW5nID0gaXRlbTsKICAgIH0sCiAgICBoYW5kbGVEcmFnRW5kOiBmdW5jdGlvbiBoYW5kbGVEcmFnRW5kKGUsIGl0ZW0pIHsKICAgICAgdGhpcy5kcmFnZ2luZyA9IG51bGw7CiAgICB9LAogICAgaGFuZGxlRHJhZ092ZXI6IGZ1bmN0aW9uIGhhbmRsZURyYWdPdmVyKGUpIHsKICAgICAgZS5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICdtb3ZlJzsKICAgIH0sCiAgICBoYW5kbGVEcmFnRW50ZXI6IGZ1bmN0aW9uIGhhbmRsZURyYWdFbnRlcihlLCBpdGVtKSB7CiAgICAgIGUuZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQgPSAnbW92ZSc7CiAgICAgIGlmIChpdGVtID09PSB0aGlzLmRyYWdnaW5nKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHZhciBuZXdJdGVtcyA9IF90b0NvbnN1bWFibGVBcnJheSh0aGlzLmZvcm1WYWxpZGF0ZS5zbGlkZXJfaW1hZ2UpOwogICAgICB2YXIgc3JjID0gbmV3SXRlbXMuaW5kZXhPZih0aGlzLmRyYWdnaW5nKTsKICAgICAgdmFyIGRzdCA9IG5ld0l0ZW1zLmluZGV4T2YoaXRlbSk7CiAgICAgIG5ld0l0ZW1zLnNwbGljZS5hcHBseShuZXdJdGVtcywgW2RzdCwgMF0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShuZXdJdGVtcy5zcGxpY2Uoc3JjLCAxKSkpKTsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuc2xpZGVyX2ltYWdlID0gbmV3SXRlbXM7CiAgICB9LAogICAgLy8g6L+H5ruk6K+m5oOF5YaF5a65CiAgICBmb3JtYXRSaWNoVGV4dDogZnVuY3Rpb24gZm9ybWF0UmljaFRleHQoaHRtbCkgewogICAgICB2YXIgbmV3Q29udGVudCA9IGh0bWwucmVwbGFjZSgvPGltZ1tePl0qPi9naSwgZnVuY3Rpb24gKG1hdGNoLCBjYXB0dXJlKSB7CiAgICAgICAgbWF0Y2ggPSBtYXRjaC5yZXBsYWNlKC9zdHlsZT0iW14iXSsiL2dpLCAnJykucmVwbGFjZSgvc3R5bGU9J1teJ10rJy9naSwgJycpOwogICAgICAgIG1hdGNoID0gbWF0Y2gucmVwbGFjZSgvd2lkdGg9IlteIl0rIi9naSwgJycpLnJlcGxhY2UoL3dpZHRoPSdbXiddKycvZ2ksICcnKTsKICAgICAgICBtYXRjaCA9IG1hdGNoLnJlcGxhY2UoL2hlaWdodD0iW14iXSsiL2dpLCAnJykucmVwbGFjZSgvaGVpZ2h0PSdbXiddKycvZ2ksICcnKTsKICAgICAgICByZXR1cm4gbWF0Y2g7CiAgICAgIH0pOwogICAgICBuZXdDb250ZW50ID0gbmV3Q29udGVudC5yZXBsYWNlKC9zdHlsZT0iW14iXSsiL2dpLCBmdW5jdGlvbiAobWF0Y2gsIGNhcHR1cmUpIHsKICAgICAgICBtYXRjaCA9IG1hdGNoLnJlcGxhY2UoL3dpZHRoOlteO10rOy9naSwgJ21heC13aWR0aDoxMDAlOycpLnJlcGxhY2UoL3dpZHRoOlteO10rOy9naSwgJ21heC13aWR0aDoxMDAlOycpOwogICAgICAgIHJldHVybiBtYXRjaDsKICAgICAgfSk7CiAgICAgIG5ld0NvbnRlbnQgPSBuZXdDb250ZW50LnJlcGxhY2UoLzxicltePl0qXC8+L2dpLCAnJyk7CiAgICAgIG5ld0NvbnRlbnQgPSBuZXdDb250ZW50LnJlcGxhY2UoL1w8aW1nL2dpLCAnPGltZyBzdHlsZT0ibWF4LXdpZHRoOjEwMCU7aGVpZ2h0OmF1dG87ZGlzcGxheTpibG9jazttYXJnaW4tdG9wOjA7bWFyZ2luLWJvdHRvbTowOyInKTsKICAgICAgcmV0dXJuIG5ld0NvbnRlbnQ7CiAgICB9LAogICAgLy8g5ZWG5ZOBaWQKICAgIGdldFByb2R1Y3RJZDogZnVuY3Rpb24gZ2V0UHJvZHVjdElkKHJvdykgewogICAgICB0aGlzLmdvb2RzX21vZGFscyA9IGZhbHNlOwogICAgICB2YXIgYXJyID0gdGhpcy5mb3JtVmFsaWRhdGUucmVjb21tZW5kX2xpc3QuY29uY2F0KHJvdyk7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLnJlY29tbWVuZF9saXN0ID0gdGhpcy51bmlxdWVzKGFycik7CiAgICB9LAogICAgLy8g6YCJ5oup5o6o6I2Q5ZWG5ZOBCiAgICBjaGFuZ2VHb29kczogZnVuY3Rpb24gY2hhbmdlR29vZHMoKSB7CiAgICAgIHRoaXMuZ29vZHNfbW9kYWxzID0gdHJ1ZTsKICAgICAgdGhpcy4kcmVmcy5nb29kc2xpc3QuZ2V0TGlzdCgpOwogICAgICB0aGlzLiRyZWZzLmdvb2RzbGlzdC5nb29kc0NhdGVnb3J5KCk7CiAgICB9LAogICAgLy8g6YCJ5oup55So5oi35qCH562+CiAgICBhY3RpdmVEYXRhOiBmdW5jdGlvbiBhY3RpdmVEYXRhKGRhdGFMYWJlbCkgewogICAgICB0aGlzLmxhYmVsU2hvdyA9IGZhbHNlOwogICAgICB0aGlzLmRhdGFMYWJlbCA9IGRhdGFMYWJlbDsKICAgIH0sCiAgICAvLyDmoIfnrb7lvLnnqpflhbPpl60KICAgIGxhYmVsQ2xvc2U6IGZ1bmN0aW9uIGxhYmVsQ2xvc2UoKSB7CiAgICAgIHRoaXMubGFiZWxTaG93ID0gZmFsc2U7CiAgICB9LAogICAgLy8g5Yig6Zmk55So5oi35qCH562+CiAgICBjbG9zZUxhYmVsOiBmdW5jdGlvbiBjbG9zZUxhYmVsKGxhYmVsKSB7CiAgICAgIHZhciBpbmRleCA9IHRoaXMuZGF0YUxhYmVsLmluZGV4T2YodGhpcy5kYXRhTGFiZWwuZmlsdGVyKGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIGQuaWQgPT0gbGFiZWwuaWQ7CiAgICAgIH0pWzBdKTsKICAgICAgdGhpcy5kYXRhTGFiZWwuc3BsaWNlKGluZGV4LCAxKTsKICAgIH0sCiAgICAvLyDmiZPlvIDpgInmi6nnlKjmiLfmoIfnrb4KICAgIG9wZW5MYWJlbDogZnVuY3Rpb24gb3BlbkxhYmVsKHJvdykgewogICAgICB0aGlzLmxhYmVsU2hvdyA9IHRydWU7CiAgICAgIHRoaXMuJHJlZnMudXNlckxhYmVsLnVzZXJMYWJlbChKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuZGF0YUxhYmVsKSkpOwogICAgfSwKICAgIHVuaXF1ZXM6IGZ1bmN0aW9uIHVuaXF1ZXMoc29uZ3MpIHsKICAgICAgdmFyIHJlc3VsdCA9IHt9OwogICAgICB2YXIgZmluYWxSZXN1bHQgPSBbXTsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb25ncy5sZW5ndGg7IGkrKykgewogICAgICAgIHJlc3VsdFtzb25nc1tpXS5wcm9kdWN0X2lkXSA9IHNvbmdzW2ldOwogICAgICB9CiAgICAgIGZvciAodmFyIGl0ZW0gaW4gcmVzdWx0KSB7CiAgICAgICAgZmluYWxSZXN1bHQucHVzaChyZXN1bHRbaXRlbV0pOwogICAgICB9CiAgICAgIHJldHVybiBmaW5hbFJlc3VsdDsKICAgIH0sCiAgICBoYW5kbGVSZW1vdmVSZWNvbW1lbmQ6IGZ1bmN0aW9uIGhhbmRsZVJlbW92ZVJlY29tbWVuZChpKSB7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLnJlY29tbWVuZF9saXN0LnNwbGljZShpLCAxKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["userLabel","mapState","vuedraggable","uploadPictures","freightTemplate","couponList","addAttr","goodsList","taoBao","WangEditor","userLabelAddApi","productInfoApi","cascaderListApi","productAddApi","generateAttrApi","productGetRuleApi","productGetTemplateApi","productGetTempKeysApi","checkActivityApi","productCache","cacheDelete","uploadType","importCard","productCreateApi","Setting","getCookies","uploadByPieces","name","components","draggable","data","labelShow","dataLabel","headTab","tit","virtual","id","tit2","seletVideo","customBtn","content","contents","fileUrl","apiBaseURL","fileUrl2","cardUrl","upload_type","uploadData","header","type","modals","goods_modals","spinShow","openSubimit","virtualData","virtualList","key","value","grid2","xl","lg","md","sm","xs","grid3","oneFormBatch","pic","price","cost","ot_price","stock","bar_code","weight","volume","formDynamic","attrsName","attrsVal","disk_type","tabIndex","tabName","formDynamicNameData","isBtn","columns2","title","slot","align","minWidth","fixed","columns3","columns","columnsInstall","columnsInstal2","gridPic","gridBtn","CustomList","label","customess","formValidate","disk_info","logistics","freight","postage","recommend","presale_day","presale","is_limit","limit_type","limit_num","video_open","vip_product","custom_form","store_name","cate_id","label_id","keyword","unit_name","store_info","image","recommend_image","slider_image","description","ficti","give_integral","sort","is_show","is_hot","is_benefit","is_best","is_new","is_good","is_postage","is_sub","recommend_list","virtual_type","spec_type","is_virtual","video_link","temp_id","attrs","items","activity","couponName","selectRule","coupon_ids","command_word","ruleList","templateList","createBnt","showIput","manyFormValidate","oneFormValidate","brokerage","brokerage_two","vip_price","virtual_list","coupon_id","images","imagesTable","currentTab","isChoice","grid","loading","modalPic","addVirtualModel","template","uploadList","treeSelect","picTit","tableIndex","ruleValidate","required","message","trigger","min","presale_time","max","manyBrokerage","manyBrokerageTwo","manyVipPrice","upload","videoIng","progress","videoLink","默认","秒杀","砍价","拼团","updateIds","updateName","couponIds","couponNames","rakeBack","width","member","columnsInstalM","moveIndex","computed","_objectSpread","labelWidth","isMobile","undefined","labelPosition","labelBottom","beforeRouteUpdate","to","from","next","bus","$emit","$route","path","created","slice","getToken","mounted","_this","params","getInfo","then","res","info","Array","isArray","map","Number","ids","coupons","item","push","generate","length","virtualbtn","catch","err","$Message","error","msg","query","goodsCategory","productGetRule","productGetTemplate","methods","videoSaveToUrl","file","_this2","pieceSize","success","file_path","e","uploading","chunk","allChunk","st","Math","floor","index","_this3","addCate","_this4","$modalForm","logisticsBtn","addLabel","_this5","customMessBtn","addcustom","warning","status","delcustom","splice","onchangeTime","getEditorContent","cancel","$router","$routeProStr","upFile","_this6","src","concat","_this7","infoData","attr","$set","onClose","checkMove","evt","draggedContext","end","checkAllGroupChange","checkAllGroup","indexOf","addCoupon","$refs","couponTemplates","isTemplate","tableList","see","goodsCoupon","addGoodsCoupon","addVirtual","upVirtual","i","element","closeVirtual","unique","arr","Map","filter","has","set","nameId","names","goodsCouponId","handleClose","getList","addTemp","templates","delVideo","that","zh_uploadFile","refid","click","zh_uploadFile_change","evfile","suffix","target","files","substr","$videoCloud","videoUpload","url","upTab","toString","downTab","userSearchs","addRule","addattr","modal","brokerageSetUp","_iterator","_createForOfIteratorHelper","_step","s","n","done","val","f","vipPriceSetUp","_iterator2","_step2","handleAdd","initVirtualData","removeVirtual","batchDel","confirm","trim","forEach","rule_name","rule_value","_this8","_this9","delAttrTable","_this10","batchAdd","_iterator3","_step3","addBtn","clearAttr","_this11","includes","header1","JSON","parse","stringify","offAttrName","handleRemoveRole","handleRemove2","createAttrName","detail","hash","reduce","createAttr","num","idx","_this12","changeVideo","changeSpec","_this13","_this14","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","productInfo","stop","_x","apply","arguments","onhangeTab","handleRemove","changeCancel","modalPicTap","getPic","pc","att_dir","getPicD","_this15","handleSubmit","_this16","validate","valid","is_copy","activeIds","formatRichText","_ref2","_callee2","_callee2$","_context2","setTimeout","_x2","changeTemplate","prop","handleDragStart","dragging","handleDragEnd","handleDragOver","dataTransfer","dropEffect","handleDragEnter","effectAllowed","newItems","_toConsumableArray","dst","html","newContent","replace","match","capture","getProductId","row","uniques","changeGoods","goodslist","activeData","labelClose","closeLabel","d","openLabel","songs","result","finalResult","product_id","handleRemoveRecommend"],"sources":["src/pages/product/productAdd/index.vue"],"sourcesContent":["<template>\n  <div class=\"\" id=\"shopp-manager\">\n    <div class=\"i-layout-page-header header-title\">\n      <div class=\"fl_header\">\n        <router-link :to=\"{ path: $routeProStr + '/product/product_list' }\"\n          ><Button icon=\"ios-arrow-back\" size=\"small\" type=\"text\">返回</Button></router-link\n        >\n        <Divider type=\"vertical\" />\n        <span\n          class=\"ivu-page-header-title mr20\"\n          style=\"padding: 0\"\n          v-text=\"$route.params.id ? '编辑商品' : '添加商品'\"\n        ></span>\n      </div>\n    </div>\n    <Card :bordered=\"false\" dis-hover class=\"ivu-mt\">\n      <Tabs v-model=\"currentTab\" @on-click=\"onhangeTab\">\n        <TabPane v-for=\"(item, index) in headTab\" :key=\"index\" :label=\"item.tit\" :name=\"item.name\"></TabPane>\n      </Tabs>\n      <Form\n        class=\"formValidate mt20\"\n        ref=\"formValidate\"\n        :rules=\"ruleValidate\"\n        :model=\"formValidate\"\n        :label-width=\"labelWidth\"\n        :label-position=\"labelPosition\"\n        @submit.native.prevent\n      >\n        <!-- 基础信息-->\n        <Row :gutter=\"24\" type=\"flex\" v-show=\"currentTab === '1'\">\n          <Col span=\"24\">\n            <FormItem label=\"商品类型：\" props=\"is_virtual\">\n              <div\n                class=\"virtual\"\n                :class=\"formValidate.virtual_type == item.id ? 'virtual_boder' : 'virtual_boder2'\"\n                v-for=\"(item, index) in virtual\"\n                :key=\"index\"\n                @click=\"virtualbtn(item.id, 2)\"\n              >\n                <div class=\"virtual_top\">{{ item.tit }}</div>\n                <div class=\"virtual_bottom\">({{ item.tit2 }})</div>\n                <div v-if=\"formValidate.virtual_type == item.id\" class=\"virtual_san\"></div>\n                <div v-if=\"formValidate.virtual_type == item.id\" class=\"virtual_dui\">✓</div>\n              </div>\n            </FormItem>\n          </Col>\n          <Col span=\"24\">\n            <FormItem label=\"商品分类：\" prop=\"cate_id\">\n              <!-- {{ formValidate.cate_id }}\n              <Select v-model=\"formValidate.cate_id\" placeholder=\"请选择商品分类\" multiple class=\"perW30\">\n                <Option v-for=\"item in treeSelect\" :disabled=\"item.pid === 0\" :value=\"item.id\" :key=\"item.id\">{{\n                  item.html + item.cate_name\n                }}</Option>\n              </Select>\n              {{ formValidate.cate_id }} -->\n              <el-cascader\n                class=\"perW30\"\n                v-model=\"formValidate.cate_id\"\n                size=\"small\"\n                :options=\"treeSelect\"\n                :props=\"{ multiple: true, emitPath: false }\"\n                clearable\n              ></el-cascader>\n              <span class=\"addfont\" @click=\"addCate\">新增分类</span>\n            </FormItem>\n          </Col>\n          <Col span=\"24\">\n            <FormItem label=\"商品名称：\" prop=\"store_name\">\n              <Input class=\"perW30\" v-model.trim=\"formValidate.store_name\" placeholder=\"请输入商品名称\" />\n            </FormItem>\n          </Col>\n\n          <Col span=\"24\">\n            <FormItem label=\"单位：\" prop=\"unit_name\">\n              <Input class=\"perW30\" v-model=\"formValidate.unit_name\" placeholder=\"请输入单位\" />\n            </FormItem>\n          </Col>\n          <Col span=\"24\">\n            <FormItem label=\"商品轮播图：\" prop=\"slider_image\">\n              <div class=\"acea-row\">\n                <div\n                  class=\"pictrue\"\n                  v-for=\"(item, index) in formValidate.slider_image\"\n                  :key=\"index\"\n                  draggable=\"true\"\n                  @dragstart=\"handleDragStart($event, item)\"\n                  @dragover.prevent=\"handleDragOver($event, item)\"\n                  @dragenter=\"handleDragEnter($event, item)\"\n                  @dragend=\"handleDragEnd($event, item)\"\n                >\n                  <img v-lazy=\"item\" />\n                  <Button shape=\"circle\" icon=\"md-close\" @click.native=\"handleRemove(index)\" class=\"btndel\"></Button>\n                </div>\n                <div\n                  v-if=\"formValidate.slider_image.length < 10\"\n                  class=\"upLoad acea-row row-center-wrapper\"\n                  @click=\"modalPicTap('duo')\"\n                >\n                  <Icon type=\"ios-camera-outline\" size=\"26\" />\n                </div>\n                <Input v-model=\"formValidate.slider_image[0]\" style=\"display: none\"></Input>\n              </div>\n\n              <div class=\"titTip\">建议尺寸：800*800，可拖拽改变图片顺序，默认首张图为主图，最多上传10张</div>\n\n              <!-- <div class=\"tips\">(最多10张<br />750*750)</div> -->\n            </FormItem>\n          </Col>\n          <Col span=\"24\">\n            <FormItem label=\"添加视频：\">\n              <i-switch v-model=\"formValidate.video_open\" size=\"large\">\n                <span slot=\"open\">开启</span>\n                <span slot=\"close\">关闭</span>\n              </i-switch>\n            </FormItem>\n          </Col>\n          <Col span=\"24\" v-if=\"formValidate.video_open\">\n            <FormItem label=\"视频类型：\">\n              <RadioGroup v-model=\"seletVideo\" @on-change=\"changeVideo\">\n                <Radio :label=\"0\" class=\"radio\">本地视频</Radio>\n                <Radio :label=\"1\">视频链接</Radio>\n              </RadioGroup>\n            </FormItem>\n          </Col>\n          <Col span=\"24\" v-if=\"formValidate.video_open\" id=\"selectvideo\">\n            <FormItem label=\"\" prop=\"video_link\">\n              <Input\n                v-if=\"seletVideo == 1 && !formValidate.video_link\"\n                class=\"perW30\"\n                v-model=\"videoLink\"\n                placeholder=\"请输入视频链接\"\n              />\n              <input type=\"file\" ref=\"refid\" @change=\"zh_uploadFile_change\" style=\"display: none\" />\n              <div\n                v-if=\"seletVideo == 0 && (upload_type !== '1' || videoLink) && !formValidate.video_link\"\n                class=\"ml10 videbox\"\n                @click=\"zh_uploadFile\"\n              >\n                +\n              </div>\n              <Button\n                v-if=\"seletVideo == 1 && (upload_type !== '1' || videoLink) && !formValidate.video_link\"\n                type=\"primary\"\n                icon=\"ios-cloud-upload-outline\"\n                class=\"ml10\"\n                @click=\"zh_uploadFile\"\n                >确认添加</Button\n              >\n              <Upload\n                v-if=\"upload_type === '1' && !videoLink\"\n                :show-upload-list=\"false\"\n                :action=\"fileUrl2\"\n                :before-upload=\"videoSaveToUrl\"\n                :data=\"uploadData\"\n                :headers=\"header\"\n                :multiple=\"true\"\n                style=\"display: inline-block\"\n              >\n                <div v-if=\"seletVideo === 0 && !formValidate.video_link\" class=\"videbox\">+</div>\n              </Upload>\n              <div class=\"iview-video-style\" v-if=\"formValidate.video_link\">\n                <video\n                  style=\"width: 100%; height: 100% !important; border-radius: 10px\"\n                  :src=\"formValidate.video_link\"\n                  controls=\"controls\"\n                >\n                  您的浏览器不支持 video 标签。\n                </video>\n                <div class=\"mark\"></div>\n                <Icon type=\"ios-trash-outline\" class=\"iconv\" @click=\"delVideo\" />\n              </div>\n              <Progress class=\"progress\" :percent=\"progress\" :stroke-width=\"5\" v-if=\"upload.videoIng || videoIng\" />\n              <div class=\"titTip\">建议时长：9～30秒，视频宽高比16:9</div>\n            </FormItem>\n          </Col>\n          <Col v-bind=\"grid\">\n            <FormItem label=\"商品状态：\">\n              <RadioGroup v-model=\"formValidate.is_show\">\n                <Radio :label=\"1\" class=\"radio\">上架</Radio>\n                <Radio :label=\"0\">下架</Radio>\n              </RadioGroup>\n            </FormItem>\n          </Col>\n\n          <!-- <Col span=\"24\">\n                        <FormItem label=\"商品标签：\" prop=\"label_id\">\n                            <Select v-model=\"formValidate.label_id\" multiple v-width=\"'50%'\">\n                                <Option v-for=\"item in dataLabel\" :value=\"item.id\" :key=\"item.id\">{{ item.label_name }}</Option>\n                            </Select>\n                        </FormItem>\n                    </Col> -->\n        </Row>\n        <!-- 规格库存-->\n        <Row :gutter=\"24\" type=\"flex\" v-show=\"currentTab === '2'\">\n          <Col span=\"24\">\n            <FormItem label=\"商品规格：\" props=\"spec_type\">\n              <RadioGroup v-model=\"formValidate.spec_type\" @on-change=\"changeSpec\">\n                <Radio :label=\"0\" class=\"radio\">单规格</Radio>\n                <Radio :label=\"1\">多规格</Radio>\n              </RadioGroup>\n            </FormItem>\n          </Col>\n          <!-- 多规格添加-->\n          <Col span=\"24\" v-if=\"formValidate.spec_type === 1\" class=\"noForm\">\n            <Col span=\"24\">\n              <FormItem label=\"选择规格：\" prop=\"\">\n                <div class=\"acea-row row-middle\">\n                  <Select v-model=\"formValidate.selectRule\" class=\"perW30\">\n                    <Option v-for=\"(item, index) in ruleList\" :value=\"item.rule_name\" :key=\"index\">{{\n                      item.rule_name\n                    }}</Option>\n                  </Select>\n                  <Button type=\"primary\" class=\"mr20\" @click=\"confirm\">确认</Button>\n                  <Button @click=\"addRule\">添加规格模板</Button>\n                </div>\n              </FormItem>\n            </Col>\n            <Col span=\"24\">\n              <FormItem v-if=\"attrs.length !== 0\">\n                <draggable\n                  class=\"dragArea list-group\"\n                  :list=\"attrs\"\n                  group=\"peoples\"\n                  handle=\".move-icon\"\n                  :move=\"checkMove\"\n                  @end=\"end\"\n                >\n                  <div v-for=\"(item, index) in attrs\" :key=\"index\" class=\"acea-row row-middle mb10\">\n                    <div class=\"move-icon\">\n                      <span class=\"iconfont icondrag2\"></span>\n                    </div>\n                    <div style=\"width: 90%\" :class=\"moveIndex === index ? 'borderStyle' : ''\">\n                      <div class=\"acea-row row-middle\">\n                        <span class=\"mr5\">{{ item.value }}</span\n                        ><Icon type=\"ios-close-circle\" size=\"14\" class=\"curs\" @click=\"handleRemoveRole(index)\" />\n                      </div>\n                      <div class=\"rulesBox\">\n                        <draggable :list=\"item.detail\" handle=\".drag\">\n                          <Tag\n                            type=\"dot\"\n                            closable\n                            color=\"primary\"\n                            v-for=\"(j, indexn) in item.detail\"\n                            :key=\"indexn\"\n                            :name=\"j\"\n                            class=\"mr20 drag\"\n                            @on-close=\"handleRemove2(item.detail, indexn)\"\n                            >{{ j }}</Tag\n                          >\n                        </draggable>\n                        <Input\n                          search\n                          enter-button=\"添加\"\n                          placeholder=\"请输入属性名称\"\n                          v-model=\"item.detail.attrsVal\"\n                          @on-search=\"createAttr(item.detail.attrsVal, index)\"\n                          style=\"width: 150px\"\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </draggable>\n                <!-- <div  v-for=\"(item, index) in attrs\" :key=\"index\">\n                                    <div class=\"acea-row row-middle\"><span class=\"mr5\">{{item.value}}</span><Icon type=\"ios-close-circle\" size=\"14\" class=\"curs\" @click=\"handleRemoveRole(index)\"/></div>\n                                    <div class=\"rulesBox\">\n                                        <Tag type=\"dot\" closable color=\"primary\" v-for=\"(j, indexn) in item.detail\" :key=\"indexn\" :name=\"j\" class=\"mr20\" @on-close=\"handleRemove2(item.detail,indexn)\">{{j}}</Tag>\n                                        <Input search enter-button=\"添加\" placeholder=\"请输入属性名称\" v-model=\"item.detail.attrsVal\" @on-search=\"createAttr(item.detail.attrsVal,index)\" style=\"width: 150px\"/>\n                                    </div>\n                                </div> -->\n              </FormItem>\n            </Col>\n            <Col span=\"24\" v-if=\"createBnt\">\n              <FormItem>\n                <Button type=\"primary\" icon=\"md-add\" @click=\"addBtn\" class=\"mr15\">添加新规格</Button>\n                <Button type=\"success\" @click=\"generate(1)\">立即生成</Button>\n              </FormItem>\n            </Col>\n            <Col span=\"24\" v-if=\"showIput\">\n              <Col :xl=\"6\" :lg=\"9\" :md=\"10\" :sm=\"24\" :xs=\"24\">\n                <FormItem label=\"规格：\">\n                  <Input placeholder=\"请输入规格\" v-model=\"formDynamic.attrsName\" />\n                </FormItem>\n              </Col>\n              <Col :xl=\"6\" :lg=\"9\" :md=\"10\" :sm=\"24\" :xs=\"24\">\n                <FormItem label=\"规格值：\">\n                  <Input v-model=\"formDynamic.attrsVal\" placeholder=\"请输入规格值\" />\n                </FormItem>\n              </Col>\n              <Col :xl=\"6\" :lg=\"5\" :md=\"10\" :sm=\"24\" :xs=\"24\">\n                <FormItem>\n                  <Button type=\"primary\" class=\"mr15\" @click=\"createAttrName\">确定</Button>\n                  <Button @click=\"offAttrName\">取消</Button>\n                </FormItem>\n              </Col>\n            </Col>\n            <!-- 多规格设置-->\n            <Col\n              :xl=\"24\"\n              :lg=\"24\"\n              :md=\"24\"\n              :sm=\"24\"\n              :xs=\"24\"\n              v-if=\"manyFormValidate.length && formValidate.header.length !== 0 && attrs.length !== 0\"\n            >\n              <!-- 批量设置-->\n\n              <Col span=\"24\" v-if=\"[0, 3].includes(formValidate.virtual_type)\">\n                <FormItem label=\"批量设置：\" class=\"labeltop\">\n                  <Table :data=\"oneFormBatch\" :columns=\"formValidate.is_virtual ? columns3 : columns2\" border>\n                    <template slot-scope=\"{ row, index }\" slot=\"pic\">\n                      <div class=\"acea-row row-middle row-center-wrapper\" @click=\"modalPicTap('dan', 'duopi', index)\">\n                        <div class=\"pictrue pictrueTab\" v-if=\"oneFormBatch[0].pic\">\n                          <img v-lazy=\"oneFormBatch[0].pic\" />\n                        </div>\n                        <div class=\"upLoad pictrueTab acea-row row-center-wrapper\" v-else>\n                          <Icon type=\"ios-camera-outline\" size=\"21\" class=\"iconfont\" />\n                        </div>\n                      </div>\n                    </template>\n                    <template slot-scope=\"{ row, index }\" slot=\"price\">\n                      <InputNumber\n                        v-model=\"oneFormBatch[0].price\"\n                        :min=\"0\"\n                        :max=\"99999999\"\n                        class=\"priceBox\"\n                      ></InputNumber>\n                    </template>\n                    <template slot-scope=\"{ row, index }\" slot=\"cost\">\n                      <InputNumber\n                        v-model=\"oneFormBatch[0].cost\"\n                        :min=\"0\"\n                        :max=\"99999999\"\n                        class=\"priceBox\"\n                      ></InputNumber>\n                    </template>\n                    <template slot-scope=\"{ row, index }\" slot=\"ot_price\">\n                      <InputNumber v-model=\"oneFormBatch[0].ot_price\" :min=\"0\" class=\"priceBox\"></InputNumber>\n                    </template>\n                    <template slot-scope=\"{ row, index }\" slot=\"stock\">\n                      <InputNumber\n                        v-model=\"oneFormBatch[0].stock\"\n                        :disabled=\"formValidate.virtual_type == 1\"\n                        :min=\"0\"\n                        :max=\"99999999\"\n                        class=\"priceBox\"\n                      ></InputNumber>\n                    </template>\n                    <template slot-scope=\"{ row, index }\" slot=\"fictitious\">\n                      <Button\n                        v-if=\"!row.coupon_id && formValidate.virtual_type == 2\"\n                        @click=\"addGoodsCoupon(index, 'oneFormBatch')\"\n                        >添加优惠券</Button\n                      >\n                      <span\n                        class=\"see\"\n                        v-else-if=\"row.coupon_id && formValidate.virtual_type == 2\"\n                        @click=\"see(row, 'manyFormValidate', index)\"\n                        >{{ row.coupon_name }}</span\n                      >\n                      <Button\n                        v-else-if=\"!row.virtual_list.length && formValidate.virtual_type == 1\"\n                        @click=\"addVirtual(index, 'oneFormBatch')\"\n                        >添加卡密</Button\n                      >\n                      <span\n                        class=\"see\"\n                        v-else-if=\"row.virtual_list.length && formValidate.virtual_type == 1\"\n                        @click=\"see(row, 'oneFormBatch', index)\"\n                        >已设置</span\n                      >\n                    </template>\n                    <template slot-scope=\"{ row, index }\" slot=\"bar_code\">\n                      <Input v-model=\"oneFormBatch[0].bar_code\"></Input>\n                    </template>\n                    <template slot-scope=\"{ row, index }\" slot=\"weight\">\n                      <InputNumber\n                        v-model=\"oneFormBatch[0].weight\"\n                        :step=\"0.1\"\n                        :min=\"0\"\n                        :max=\"99999999\"\n                        class=\"priceBox\"\n                      ></InputNumber>\n                    </template>\n                    <template slot-scope=\"{ row, index }\" slot=\"volume\">\n                      <InputNumber\n                        v-model=\"oneFormBatch[0].volume\"\n                        :step=\"0.1\"\n                        :min=\"0\"\n                        :max=\"99999999\"\n                        class=\"priceBox\"\n                      ></InputNumber>\n                    </template>\n                    <template slot-scope=\"{ row, index }\" slot=\"action\">\n                      <a @click=\"batchAdd\">批量添加</a>\n                      <Divider type=\"vertical\" />\n                      <a @click=\"batchDel\">清空</a>\n                    </template>\n                  </Table>\n                </FormItem>\n              </Col>\n              <!-- 多规格表格-->\n              <Col span=\"24\">\n                <FormItem label=\"商品属性：\" class=\"labeltop\">\n                  <Table :data=\"manyFormValidate\" :columns=\"formValidate.header\" border>\n                    <template slot-scope=\"{ row, index }\" slot=\"pic\">\n                      <div\n                        class=\"acea-row row-middle row-center-wrapper\"\n                        @click=\"modalPicTap('dan', 'duoTable', index)\"\n                      >\n                        <div class=\"pictrue pictrueTab\" v-if=\"manyFormValidate[index].pic\">\n                          <img v-lazy=\"manyFormValidate[index].pic\" />\n                        </div>\n                        <div class=\"upLoad pictrueTab acea-row row-center-wrapper\" v-else>\n                          <Icon type=\"ios-camera-outline\" size=\"21\" class=\"iconfont\" />\n                        </div>\n                      </div>\n                    </template>\n                    <template slot-scope=\"{ row, index }\" slot=\"price\">\n                      <InputNumber\n                        v-model=\"manyFormValidate[index].price\"\n                        :min=\"0\"\n                        :max=\"99999999\"\n                        class=\"priceBox\"\n                      ></InputNumber>\n                    </template>\n                    <template slot-scope=\"{ row, index }\" slot=\"cost\">\n                      <InputNumber\n                        v-model=\"manyFormValidate[index].cost\"\n                        :min=\"0\"\n                        :max=\"99999999\"\n                        class=\"priceBox\"\n                      ></InputNumber>\n                    </template>\n                    <template slot-scope=\"{ row, index }\" slot=\"ot_price\">\n                      <InputNumber\n                        v-model=\"manyFormValidate[index].ot_price\"\n                        :min=\"0\"\n                        :max=\"99999999\"\n                        class=\"priceBox\"\n                      ></InputNumber>\n                    </template>\n                    <template slot-scope=\"{ row, index }\" slot=\"stock\">\n                      <InputNumber\n                        v-model=\"manyFormValidate[index].stock\"\n                        :disabled=\"formValidate.virtual_type == 1\"\n                        :min=\"0\"\n                        :max=\"99999999\"\n                        :precision=\"0\"\n                        class=\"priceBox\"\n                      ></InputNumber>\n                    </template>\n                    <template slot-scope=\"{ row, index }\" slot=\"bar_code\">\n                      <Input v-model=\"manyFormValidate[index].bar_code\"></Input>\n                    </template>\n                    <template slot-scope=\"{ row, index }\" slot=\"weight\">\n                      <InputNumber\n                        v-model=\"manyFormValidate[index].weight\"\n                        :min=\"0\"\n                        :max=\"99999999\"\n                        class=\"priceBox\"\n                      ></InputNumber>\n                    </template>\n                    <template slot-scope=\"{ row, index }\" slot=\"volume\">\n                      <InputNumber\n                        v-model=\"manyFormValidate[index].volume\"\n                        :min=\"0\"\n                        :max=\"99999999\"\n                        class=\"priceBox\"\n                      ></InputNumber>\n                    </template>\n                    <template slot-scope=\"{ row, index }\" slot=\"fictitious\">\n                      <Button\n                        v-if=\"!row.coupon_id && formValidate.virtual_type == 2\"\n                        @click=\"addGoodsCoupon(index, 'manyFormValidate')\"\n                        >添加优惠券</Button\n                      >\n                      <span\n                        class=\"see\"\n                        v-else-if=\"row.coupon_id && formValidate.virtual_type == 2\"\n                        @click=\"see(row, 'manyFormValidate', index)\"\n                        >{{ row.coupon_name }}</span\n                      >\n                      <Button\n                        v-else-if=\"!row.virtual_list && !row.stock && formValidate.virtual_type == 1\"\n                        @click=\"addVirtual(index, 'manyFormValidate')\"\n                        >添加卡密</Button\n                      >\n                      <span\n                        class=\"see\"\n                        v-else-if=\"(row.virtual_list.length || row.stock) && formValidate.virtual_type == 1\"\n                        @click=\"see(row, 'manyFormValidate', index)\"\n                        >已设置</span\n                      >\n                    </template>\n                    <template slot-scope=\"{ row, index }\" slot=\"action\">\n                      <a @click=\"delAttrTable(index)\">删除</a>\n                    </template>\n                  </Table>\n                </FormItem>\n              </Col>\n            </Col>\n          </Col>\n          <!-- 单规格表格-->\n          <div v-if=\"formValidate.spec_type === 0\">\n            <Col span=\"24\">\n              <FormItem label=\"图片：\">\n                <div class=\"pictrueBox\" @click=\"modalPicTap('dan', 'danTable', 0)\">\n                  <div class=\"pictrue\" v-if=\"oneFormValidate[0].pic\">\n                    <img v-lazy=\"oneFormValidate[0].pic\" />\n                    <Input v-model=\"oneFormValidate[0].pic\" style=\"display: none\"></Input>\n                  </div>\n                  <div class=\"upLoad acea-row row-center-wrapper\" v-else>\n                    <Input v-model=\"oneFormValidate[0].pic\" style=\"display: none\"></Input>\n                    <Icon type=\"ios-camera-outline\" size=\"26\" />\n                  </div>\n                </div>\n              </FormItem>\n            </Col>\n            <Col span=\"24\">\n              <FormItem label=\"售价：\">\n                <InputNumber\n                  v-model=\"oneFormValidate[0].price\"\n                  :min=\"0\"\n                  :precision=\"2\"\n                  :max=\"99999999\"\n                  class=\"perW20\"\n                  :active-change=\"false\"\n                ></InputNumber>\n              </FormItem>\n            </Col>\n            <Col span=\"24\">\n              <FormItem label=\"成本价：\">\n                <InputNumber\n                  v-model=\"oneFormValidate[0].cost\"\n                  :min=\"0\"\n                  :max=\"99999999\"\n                  :precision=\"2\"\n                  :active-change=\"false\"\n                  class=\"perW20\"\n                ></InputNumber>\n              </FormItem>\n            </Col>\n            <Col span=\"24\">\n              <FormItem label=\"原价：\">\n                <InputNumber\n                  v-model=\"oneFormValidate[0].ot_price\"\n                  :min=\"0\"\n                  :max=\"99999999\"\n                  :precision=\"2\"\n                  :active-change=\"false\"\n                  class=\"perW20\"\n                ></InputNumber>\n              </FormItem>\n            </Col>\n            <Col span=\"24\">\n              <FormItem label=\"库存：\">\n                <InputNumber\n                  v-model=\"oneFormValidate[0].stock\"\n                  :min=\"0\"\n                  :max=\"99999999\"\n                  :disabled=\"formValidate.virtual_type == 1\"\n                  :precision=\"0\"\n                  class=\"perW20\"\n                ></InputNumber>\n              </FormItem>\n            </Col>\n            <Col span=\"24\">\n              <FormItem label=\"商品编号：\">\n                <Input v-model.trim=\"oneFormValidate[0].bar_code\" class=\"perW20\"></Input>\n              </FormItem>\n            </Col>\n            <Col span=\"24\" v-if=\"formValidate.virtual_type == 0\">\n              <FormItem label=\"重量（KG）：\">\n                <InputNumber v-model=\"oneFormValidate[0].weight\" :min=\"0\" :max=\"99999999\" class=\"perW20\"></InputNumber>\n              </FormItem>\n            </Col>\n            <Col span=\"24\">\n              <FormItem label=\"体积(m³)：\" v-if=\"formValidate.virtual_type == 0\">\n                <InputNumber v-model=\"oneFormValidate[0].volume\" :min=\"0\" :max=\"99999999\" class=\"perW20\"></InputNumber>\n              </FormItem>\n            </Col>\n\n            <Col span=\"24\">\n              <FormItem label=\"虚拟商品：\" v-if=\"formValidate.virtual_type == 1 || formValidate.virtual_type == 2\">\n                <Button\n                  v-if=\"!oneFormValidate[0].coupon_id && formValidate.virtual_type == 2\"\n                  @click=\"addGoodsCoupon(0, 'oneFormValidate')\"\n                  >添加优惠券</Button\n                >\n                <span\n                  class=\"see\"\n                  v-else-if=\"oneFormValidate[0].coupon_id && formValidate.virtual_type == 2\"\n                  @click=\"see(oneFormValidate[0], 'oneFormValidate', 0)\"\n                  >{{ oneFormValidate[0].coupon_name }}</span\n                >\n                <Button\n                  v-if=\"\n                    !oneFormValidate[0].virtual_list.length &&\n                    !oneFormValidate[0].stock &&\n                    formValidate.virtual_type == 1\n                  \"\n                  @click=\"addVirtual(0, 'oneFormValidate')\"\n                  >添加卡密</Button\n                >\n                <span\n                  class=\"see\"\n                  v-else-if=\"\n                    (oneFormValidate[0].virtual_list.length || oneFormValidate[0].stock > 0) &&\n                    formValidate.virtual_type == 1\n                  \"\n                  @click=\"see(oneFormValidate[0], 'oneFormValidate', 0)\"\n                  >已设置</span\n                >\n              </FormItem>\n            </Col>\n          </div>\n        </Row>\n        <!-- 商品详情-->\n        <Row v-show=\"currentTab === '3'\">\n          <Col span=\"16\">\n            <FormItem label=\"商品详情：\">\n              <WangEditor style=\"width: 100%\" :content=\"contents\" @editorContent=\"getEditorContent\"></WangEditor>\n            </FormItem>\n          </Col>\n          <Col span=\"6\" style=\"width: 33%\">\n            <div class=\"ifam\">\n              <div class=\"content\" v-html=\"content\"></div>\n            </div>\n          </Col>\n        </Row>\n\n        <!-- 物流设置-->\n        <Row v-show=\"headTab.length === 6 ? currentTab === '4' : false\">\n          <Col span=\"24\">\n            <FormItem label=\"物流方式：\" prop=\"logistics\">\n              <CheckboxGroup v-model=\"formValidate.logistics\" @on-change=\"logisticsBtn\">\n                <Checkbox label=\"1\">快递</Checkbox>\n\n                <Checkbox label=\"2\">到店核销</Checkbox>\n              </CheckboxGroup>\n            </FormItem>\n          </Col>\n          <Col span=\"24\">\n            <FormItem label=\"运费设置：\">\n              <RadioGroup v-model=\"formValidate.freight\">\n                <!-- <Radio :label=\"1\">包邮</Radio> -->\n                <Radio :label=\"2\">固定邮费</Radio>\n                <Radio :label=\"3\">运费模板</Radio>\n              </RadioGroup>\n            </FormItem>\n          </Col>\n          <Col span=\"24\" v-if=\"formValidate.freight != 3 && formValidate.freight != 1\">\n            <FormItem label=\"\" :prop=\"formValidate.freight != 1 ? 'freight' : ''\">\n              <div class=\"acea-row\">\n                <InputNumber :min=\"0\" v-model=\"formValidate.postage\" placeholder=\"请输入金额\" class=\"perW30 maxW\" />\n              </div>\n            </FormItem>\n          </Col>\n          <Col span=\"24\" v-if=\"formValidate.freight == 3\">\n            <FormItem label=\"\" prop=\"temp_id\">\n              <div class=\"acea-row\">\n                <Select v-model=\"formValidate.temp_id\" clearable placeholder=\"请选择运费模板\" class=\"perW30 maxW\">\n                  <Option v-for=\"(item, index) in templateList\" :value=\"item.id\" :key=\"index\">{{ item.name }}</Option>\n                </Select>\n                <span class=\"addfont\" @click=\"addTemp\">新增运费模板</span>\n              </div>\n            </FormItem>\n          </Col>\n        </Row>\n        <!-- 营销设置-->\n        <Row :gutter=\"24\" type=\"flex\" v-show=\"headTab.length === 6 ? currentTab === '5' : currentTab === '4'\">\n          <Col span=\"24\">\n            <FormItem label=\"已售数量：\">\n              <InputNumber :min=\"0\" :max=\"999999\" v-model=\"formValidate.ficti\" placeholder=\"请输入虚拟销量\" />\n            </FormItem>\n          </Col>\n          <Col span=\"24\">\n            <FormItem label=\"排序：\">\n              <InputNumber :min=\"0\" :max=\"999999\" v-model=\"formValidate.sort\" placeholder=\"请输入排序\" />\n            </FormItem>\n          </Col>\n          <Col span=\"24\">\n            <div class=\"line\"></div>\n          </Col>\n\n          <Col span=\"24\">\n            <FormItem label=\"购买送积分：\" prop=\"give_integral\">\n              <InputNumber v-model=\"formValidate.give_integral\" :min=\"0\" :max=\"999999\" placeholder=\"请输入积分\" />\n            </FormItem>\n          </Col>\n          <Col v-bind=\"grid3\">\n            <FormItem label=\"购买送优惠券：\">\n              <div v-if=\"couponName.length\" class=\"mb20\">\n                <Tag closable v-for=\"(item, index) in couponName\" :key=\"index\" @on-close=\"handleClose(item)\">{{\n                  item.title\n                }}</Tag>\n              </div>\n              <Button type=\"primary\" @click=\"addCoupon\">添加优惠券</Button>\n            </FormItem>\n          </Col>\n          <Col span=\"24\">\n            <FormItem label=\"关联用户标签：\" prop=\"label_id\">\n              <div style=\"display: flex\">\n                <div class=\"labelInput acea-row row-between-wrapper\" @click=\"openLabel\">\n                  <div style=\"width: 90%\">\n                    <div v-if=\"dataLabel.length\">\n                      <Tag closable v-for=\"(item, index) in dataLabel\" @on-close=\"closeLabel(item)\" :key=\"index\">{{\n                        item.label_name\n                      }}</Tag>\n                    </div>\n                    <span class=\"span\" v-else>选择用户关联标签</span>\n                  </div>\n                  <div class=\"iconfont iconxiayi\"></div>\n                </div>\n                <span class=\"addfont\" @click=\"addLabel\">新增标签</span>\n              </div>\n            </FormItem>\n          </Col>\n          <Col span=\"24\">\n            <div class=\"line\"></div>\n          </Col>\n          <Col span=\"24\">\n            <FormItem label=\"付费会员专属：\">\n              <i-switch v-model=\"formValidate.vip_product\" size=\"large\">\n                <span slot=\"open\">开启</span>\n                <span slot=\"close\">关闭</span>\n              </i-switch>\n              <div class=\"titTip\">开启后仅付费会员可以看见并购买此商品</div>\n            </FormItem>\n          </Col>\n          <Col span=\"24\">\n            <FormItem label=\"单独设置：\">\n              <CheckboxGroup v-model=\"formValidate.is_sub\" @on-change=\"checkAllGroupChange\">\n                <Checkbox :label=\"1\">佣金设置（数字即返佣金额）</Checkbox>\n                <Checkbox :label=\"0\">付费会员价</Checkbox>\n              </CheckboxGroup>\n              <!-- <RadioGroup v-model=\"formValidate.is_sub\">\n                                <Radio :label=\"1\" class=\"radio\">佣金设置</Radio>\n                                <Radio :label=\"0\">会员价</Radio>\n                            </RadioGroup> -->\n            </FormItem>\n          </Col>\n          <Col span=\"24\" v-if=\"formValidate.is_sub.length\">\n            <!--单规格返佣-->\n            <FormItem label=\"商品属性：\" v-if=\"formValidate.spec_type === 0\">\n              <Table :data=\"oneFormValidate\" :columns=\"columnsInstall\" border>\n                <template slot-scope=\"{ row, index }\" slot=\"pic\">\n                  <div class=\"pictrue pictrueTab\">\n                    <img v-lazy=\"oneFormValidate[0].pic\" />\n                  </div>\n                </template>\n                <template slot-scope=\"{ row, index }\" slot=\"price\">{{ oneFormValidate[0].price }}</template>\n                <template slot-scope=\"{ row, index }\" slot=\"cost\">{{ oneFormValidate[0].cost }}</template>\n                <template slot-scope=\"{ row, index }\" slot=\"ot_price\">{{ oneFormValidate[0].ot_price }}</template>\n                <template slot-scope=\"{ row, index }\" slot=\"stock\">{{ oneFormValidate[0].stock }}</template>\n                <template slot-scope=\"{ row, index }\" slot=\"bar_code\">{{ oneFormValidate[0].bar_code }}</template>\n                <template slot-scope=\"{ row, index }\" slot=\"weight\">{{ oneFormValidate[0].weight }}</template>\n                <template slot-scope=\"{ row, index }\" slot=\"fictitious\">\n                  <Button\n                    v-if=\"!row.coupon_id && formValidate.virtual_type == 2\"\n                    @click=\"addGoodsCoupon(index, 'oneFormValidate')\"\n                    >添加优惠券</Button\n                  >\n                  <span\n                    class=\"see\"\n                    v-else-if=\"row.coupon_id && formValidate.virtual_type == 2\"\n                    @click=\"see(row, 'manyFormValidate', index)\"\n                    >{{ row.coupon_name }}</span\n                  >\n                  <Button\n                    v-else-if=\"!row.virtual_list.length && !row.stock && formValidate.virtual_type == 1\"\n                    @click=\"addVirtual(index, 'oneFormValidate')\"\n                    >添加卡密</Button\n                  >\n                  <span\n                    class=\"see\"\n                    v-else-if=\"(row.virtual_list.length || row.stock) && formValidate.virtual_type == 1\"\n                    @click=\"see(row, 'oneFormValidate', index)\"\n                    >已设置</span\n                  >\n                </template>\n                <template slot-scope=\"{ row, index }\" slot=\"volume\">{{ oneFormValidate[0].volume }}</template>\n                <template slot-scope=\"{ row, index }\" slot=\"brokerage\">\n                  <InputNumber\n                    v-model=\"oneFormValidate[0].brokerage\"\n                    :min=\"0\"\n                    :max=\"999999\"\n                    class=\"priceBox\"\n                  ></InputNumber>\n                </template>\n                <template slot-scope=\"{ row }\" slot=\"brokerage_two\">\n                  <InputNumber\n                    v-model=\"oneFormValidate[0].brokerage_two\"\n                    :min=\"0\"\n                    :max=\"999999\"\n                    class=\"priceBox\"\n                  ></InputNumber>\n                </template>\n                <template slot-scope=\"{ row }\" slot=\"vip_price\">\n                  <InputNumber\n                    v-model=\"oneFormValidate[0].vip_price\"\n                    :min=\"0\"\n                    :max=\"999999\"\n                    class=\"priceBox\"\n                  ></InputNumber>\n                </template>\n              </Table>\n              <!-- <Table v-else :data=\"oneFormValidate\" :columns=\"columnsInsta8\" border>\n                                <template slot-scope=\"{ row, index }\" slot=\"pic\">\n                                    <div class=\"pictrue pictrueTab\"><img v-lazy=\"oneFormValidate[0].pic\"></div>\n                                </template>\n                                <template slot-scope=\"{ row, index }\" slot=\"price\">{{oneFormValidate[0].price}}</template>\n                                <template slot-scope=\"{ row, index }\" slot=\"cost\">{{oneFormValidate[0].cost}}</template>\n                                <template slot-scope=\"{ row, index }\" slot=\"ot_price\">{{oneFormValidate[0].ot_price}}</template>\n                                <template slot-scope=\"{ row, index }\" slot=\"vip_price\">\n                                    <InputNumber  v-model=\"oneFormValidate[0].vip_price\" :min=\"0\" :precision=\"0\" class=\"priceBox\"></InputNumber>\n                                </template>\n                            </Table> -->\n            </FormItem>\n            <!--多规格返佣-->\n            <FormItem label=\"批量设置：\" v-if=\"formValidate.spec_type === 1\">\n              <span v-if=\"formValidate.is_sub.indexOf(1) > -1\">\n                一级返佣：<InputNumber\n                  placeholder=\"请输入一级返佣\"\n                  :min=\"0\"\n                  :max=\"9999999\"\n                  class=\"columnsBox perW30\"\n                  v-model=\"manyBrokerage\"\n                ></InputNumber>\n                二级返佣：<InputNumber\n                  placeholder=\"请输入二级返佣\"\n                  :min=\"0\"\n                  :max=\"99999999\"\n                  class=\"columnsBox perW30\"\n                  v-model=\"manyBrokerageTwo\"\n                ></InputNumber>\n              </span>\n              <span v-if=\"formValidate.is_sub.indexOf(0) > -1\">\n                会员价：<InputNumber\n                  placeholder=\"请输入会员价\"\n                  :min=\"0\"\n                  :max=\"99999999\"\n                  class=\"columnsBox perW30\"\n                  v-model=\"manyVipPrice\"\n                ></InputNumber>\n              </span>\n              <Button type=\"primary\" @click=\"brokerageSetUp\">批量设置</Button>\n              <!-- <template v-if=\"formValidate.is_sub\">\n                                <InputNumber v-width=\"'20%'\" placeholder=\"请输入一级返佣\" :min=\"0\" class=\"columnsBox\" v-model=\"manyBrokerage\"></InputNumber>\n                                <InputNumber v-width=\"'20%'\" placeholder=\"请输入二级返佣\" :min=\"0\" class=\"columnsBox\" v-model=\"manyBrokerageTwo\"></InputNumber>\n                                <Button type=\"primary\" @click=\"brokerageSetUp\">批量设置</Button>\n                            </template>\n                            <template v-else>\n                                <InputNumber v-width=\"'20%'\" placeholder=\"请输入会员价\" :min=\"0\" class=\"columnsBox\" v-model=\"manyVipPrice\"></InputNumber>\n                                <Button type=\"primary\" @click=\"vipPriceSetUp\">批量设置</Button>\n                            </template> -->\n            </FormItem>\n            <FormItem label=\"商品属性：\" v-if=\"formValidate.spec_type === 1 && manyFormValidate.length\">\n              <Table v-if=\"formValidate.is_sub\" :data=\"manyFormValidate\" :columns=\"columnsInstal2\" border>\n                <template slot-scope=\"{ row, index }\" slot=\"pic\">\n                  <div class=\"pictrue pictrueTab\">\n                    <img v-lazy=\"manyFormValidate[index].pic\" />\n                  </div>\n                </template>\n                <template slot-scope=\"{ row, index }\" slot=\"price\">{{ manyFormValidate[index].price }}</template>\n                <template slot-scope=\"{ row, index }\" slot=\"cost\">{{ manyFormValidate[index].cost }}</template>\n                <template slot-scope=\"{ row, index }\" slot=\"ot_price\">{{ manyFormValidate[index].ot_price }}</template>\n                <template slot-scope=\"{ row, index }\" slot=\"stock\">{{ manyFormValidate[index].stock }}</template>\n                <template slot-scope=\"{ row, index }\" slot=\"bar_code\">{{ manyFormValidate[index].bar_code }}</template>\n                <template slot-scope=\"{ row, index }\" slot=\"weight\">{{ manyFormValidate[index].weight }}</template>\n                <template slot-scope=\"{ row, index }\" slot=\"fictitious\">\n                  <Button\n                    v-if=\"!row.coupon_id && formValidate.virtual_type == 2\"\n                    @click=\"addGoodsCoupon(index, 'manyFormValidate')\"\n                    >添加优惠券</Button\n                  >\n                  <span\n                    class=\"see\"\n                    v-else-if=\"row.coupon_id && formValidate.virtual_type == 2\"\n                    @click=\"see(row, 'manyFormValidate', index)\"\n                    >{{ row.coupon_name }}</span\n                  >\n                  <Button\n                    v-else-if=\"!row.virtual_list.length && !row.stock && formValidate.virtual_type == 1\"\n                    @click=\"addVirtual(index, 'manyFormValidate')\"\n                    >添加卡密</Button\n                  >\n                  <span\n                    class=\"see\"\n                    v-else-if=\"(row.virtual_list.length || row.stock) && formValidate.virtual_type == 1\"\n                    @click=\"see(row, 'manyFormValidate', index)\"\n                    >已设置</span\n                  >\n                </template>\n                <template slot-scope=\"{ row, index }\" slot=\"volume\">{{ manyFormValidate[index].volume }}</template>\n                <template slot-scope=\"{ row, index }\" slot=\"brokerage\">\n                  <InputNumber\n                    v-model=\"manyFormValidate[index].brokerage\"\n                    :min=\"0\"\n                    :max=\"99999999\"\n                    class=\"priceBox\"\n                  ></InputNumber>\n                </template>\n                <template slot-scope=\"{ row, index }\" slot=\"brokerage_two\">\n                  <InputNumber\n                    v-model=\"manyFormValidate[index].brokerage_two\"\n                    :min=\"0\"\n                    :max=\"99999999\"\n                    class=\"priceBox\"\n                  ></InputNumber>\n                </template>\n                <template slot-scope=\"{ row, index }\" slot=\"vip_price\">\n                  <InputNumber\n                    v-model=\"manyFormValidate[index].vip_price\"\n                    :min=\"0\"\n                    :max=\"99999999\"\n                    class=\"priceBox\"\n                  ></InputNumber>\n                </template>\n              </Table>\n              <!-- <Table v-else :data=\"manyFormValidate\" :columns=\"columnsInsta9\" border>\n                                <template slot-scope=\"{ row, index }\" slot=\"pic\">\n                                    <div class=\"pictrue pictrueTab\"><img v-lazy=\"manyFormValidate[index].pic\"></div>\n                                </template>\n                                <template slot-scope=\"{ row, index }\" slot=\"price\">{{manyFormValidate[index].price}}</template>\n                                <template slot-scope=\"{ row, index }\" slot=\"cost\">{{manyFormValidate[index].cost}}</template>\n                                <template slot-scope=\"{ row, index }\" slot=\"ot_price\">{{manyFormValidate[index].ot_price}}</template>\n                                <template slot-scope=\"{ row, index }\" slot=\"vip_price\">\n                                    <InputNumber  v-model=\"manyFormValidate[index].vip_price\" :min=\"0\" class=\"priceBox\"></InputNumber>\n                                </template>\n                            </Table> -->\n            </FormItem>\n          </Col>\n          <Col span=\"24\">\n            <div class=\"line\"></div>\n          </Col>\n          <Col span=\"24\">\n            <FormItem label=\"是否限购：\">\n              <i-switch v-model=\"formValidate.is_limit\" size=\"large\">\n                <span slot=\"open\">开启</span>\n                <span slot=\"close\">关闭</span>\n              </i-switch>\n            </FormItem>\n          </Col>\n          <Col span=\"24\">\n            <FormItem label=\"限购类型：\" v-if=\"formValidate.is_limit\">\n              <RadioGroup v-model=\"formValidate.limit_type\">\n                <Radio :label=\"1\">单次限购</Radio>\n                <Radio :label=\"2\">永久限购</Radio>\n              </RadioGroup>\n              <div class=\"titTip\">单次限购是限制每次下单最多购买的数量，永久限购是限制一个用户总共可以购买的数量</div>\n            </FormItem>\n          </Col>\n          <Col span=\"24\" v-if=\"formValidate.is_limit\">\n            <FormItem label=\"限购数量：\" prop=\"limit_num\">\n              <div class=\"acea-row row-middle\">\n                <span class=\"mr10\"></span>\n                <InputNumber placeholder=\"请输入限购数量\" :precision=\"0\" :min=\"1\" v-model=\"formValidate.limit_num\" />\n                <span class=\"ml10\"> 件 </span>\n              </div>\n            </FormItem>\n          </Col>\n          <Col span=\"24\" v-if=\"formValidate.virtual_type == 0 || formValidate.virtual_type == 3\">\n            <FormItem label=\"预售商品：\">\n              <i-switch v-model=\"formValidate.presale\" size=\"large\">\n                <span slot=\"open\">开启</span>\n                <span slot=\"close\">关闭</span>\n              </i-switch>\n            </FormItem>\n          </Col>\n          <Col span=\"24\" v-if=\"formValidate.presale\">\n            <FormItem label=\"预售活动时间：\" prop=\"presale_time\">\n              <div class=\"acea-row row-middle\">\n                <DatePicker\n                  :editable=\"false\"\n                  type=\"datetimerange\"\n                  format=\"yyyy-MM-dd HH:mm\"\n                  placeholder=\"请选择活动时间\"\n                  @on-change=\"onchangeTime\"\n                  :value=\"formValidate.presale_time\"\n                  v-model=\"formValidate.presale_time\"\n                ></DatePicker>\n              </div>\n              <div class=\"titTip\">设置活动开启结束时间，用户可以在设置时间内发起参与预售</div>\n            </FormItem>\n          </Col>\n          <Col span=\"24\" v-if=\"formValidate.presale\">\n            <FormItem label=\"发货时间：\" prop=\"presale_day\">\n              <div class=\"acea-row row-middle\">\n                <span class=\"mr10\">预售活动结束后</span>\n                <InputNumber placeholder=\"请输入发货时间\" :precision=\"0\" :min=\"1\" v-model=\"formValidate.presale_day\" />\n                <span class=\"ml10\"> 天之内 </span>\n                <div class=\"ml10 grey\"></div>\n              </div>\n            </FormItem>\n          </Col>\n\n          <Col span=\"24\">\n            <FormItem label=\"商品推荐：\">\n              <CheckboxGroup v-model=\"formValidate.recommend\">\n                <Checkbox label=\"is_hot\">热卖单品</Checkbox>\n                <Checkbox label=\"is_benefit\">促销单品</Checkbox>\n                <Checkbox label=\"is_best\">精品推荐</Checkbox>\n                <Checkbox label=\"is_new\">首发新品</Checkbox>\n                <Checkbox label=\"is_good\">优品推荐</Checkbox>\n              </CheckboxGroup>\n            </FormItem>\n          </Col>\n          <!-- <Col v-bind=\"grid\">\n            <FormItem label=\"热卖单品：\">\n              <RadioGroup v-model=\"formValidate.is_hot\">\n                <Radio :label=\"1\" class=\"radio\">开启</Radio>\n                <Radio :label=\"0\">关闭</Radio>\n              </RadioGroup>\n            </FormItem>\n          </Col>\n          <Col v-bind=\"grid\">\n            <FormItem label=\"促销单品：\">\n              <RadioGroup v-model=\"formValidate.is_benefit\">\n                <Radio :label=\"1\" class=\"radio\">开启</Radio>\n                <Radio :label=\"0\">关闭</Radio>\n              </RadioGroup>\n            </FormItem>\n          </Col>\n          <Col v-bind=\"grid\">\n            <FormItem label=\"精品推荐：\">\n              <RadioGroup v-model=\"formValidate.is_best\">\n                <Radio :label=\"1\" class=\"radio\">开启</Radio>\n                <Radio :label=\"0\">关闭</Radio>\n              </RadioGroup>\n            </FormItem>\n          </Col>\n          <Col v-bind=\"grid\">\n            <FormItem label=\"首发新品：\">\n              <RadioGroup v-model=\"formValidate.is_new\">\n                <Radio :label=\"1\" class=\"radio\">开启</Radio>\n                <Radio :label=\"0\">关闭</Radio>\n              </RadioGroup>\n            </FormItem>\n          </Col>\n          <Col v-bind=\"grid\">\n            <FormItem label=\"优品推荐：\">\n              <RadioGroup v-model=\"formValidate.is_good\">\n                <Radio :label=\"1\" class=\"radio\">开启</Radio>\n                <Radio :label=\"0\">关闭</Radio>\n              </RadioGroup>\n            </FormItem>\n          </Col> -->\n          <Col v-bind=\"grid3\">\n            <FormItem label=\"活动优先级：\">\n              <div class=\"color-list acea-row row-middle\">\n                <div\n                  class=\"color-item\"\n                  :class=\"activity[color]\"\n                  v-for=\"color in formValidate.activity\"\n                  v-dragging=\"{\n                    item: color,\n                    list: formValidate.activity,\n                    group: 'color',\n                  }\"\n                  :key=\"color\"\n                >\n                  {{ color }}\n                </div>\n              </div>\n              <div class=\"titTip\">可拖动按钮调整活动的优先展示顺序</div>\n            </FormItem>\n          </Col>\n          <Col v-bind=\"grid3\">\n            <FormItem label=\"选择优品推荐商品：\">\n              <div class=\"picBox\">\n                <div class=\"pictrue\" v-for=\"(item, index) in formValidate.recommend_list\" :key=\"index\">\n                  <img v-lazy=\"item.image\" />\n                  <Button\n                    shape=\"circle\"\n                    icon=\"md-close\"\n                    @click.native=\"handleRemoveRecommend(index)\"\n                    class=\"btndel\"\n                  ></Button>\n                </div>\n                <div class=\"upLoad acea-row row-center-wrapper\" @click=\"changeGoods\">\n                  <Icon type=\"ios-add\" size=\"26\" class=\"iconfonts\" />\n                </div>\n              </div>\n            </FormItem>\n          </Col>\n        </Row>\n        <!-- 其他设置-->\n        <Row\n          type=\"flex\"\n          justify=\"space-between\"\n          v-show=\"headTab.length === 6 ? currentTab === '6' : currentTab === '5'\"\n        >\n          <Col span=\"24\">\n            <FormItem label=\"商品关键字：\">\n              <Input class=\"perW30\" v-model.trim=\"formValidate.keyword\" placeholder=\"请输入商品关键字\" />\n            </FormItem>\n          </Col>\n          <Col span=\"24\">\n            <FormItem label=\"商品简介：\">\n              <Input\n                class=\"perW30\"\n                v-model.trim=\"formValidate.store_info\"\n                type=\"textarea\"\n                :rows=\"3\"\n                placeholder=\"请输入商品简介\"\n              />\n            </FormItem>\n          </Col>\n          <Col span=\"24\">\n            <FormItem label=\"商品口令：\">\n              <Input\n                v-model.trim=\"formValidate.command_word\"\n                placeholder=\"请输入商品口令\"\n                type=\"textarea\"\n                :rows=\"3\"\n                class=\"perW30\"\n              />\n            </FormItem>\n          </Col>\n\n          <Col span=\"24\">\n            <FormItem label=\"商品推荐图：\">\n              <div class=\"pictrueBox\" @click=\"modalPicTap('dan', 'recommend_image')\">\n                <div class=\"pictrue\" v-if=\"formValidate.recommend_image\">\n                  <img v-lazy=\"formValidate.recommend_image\" />\n                  <Input v-model.trim=\"formValidate.recommend_image\" style=\"display: none\"></Input>\n                </div>\n                <div class=\"upLoad acea-row row-center-wrapper\" v-else>\n                  <Input v-model.trim=\"formValidate.recommend_image\" style=\"display: none\"></Input>\n                  <Icon type=\"ios-camera-outline\" size=\"26\" />\n                </div>\n                <div class=\"titTip\">建议比例：5:2</div>\n              </div>\n            </FormItem>\n          </Col>\n          <Col span=\"24\">\n            <FormItem label=\"自定义留言：\">\n              <i-switch v-model=\"customBtn\" @on-change=\"customMessBtn\" size=\"large\">\n                <span slot=\"open\">开启</span>\n                <span slot=\"close\">关闭</span>\n              </i-switch>\n              <div class=\"addCustom_content\" v-if=\"customBtn\">\n                <div v-for=\"(item, index) in formValidate.custom_form\" type=\"flex\" :key=\"index\" class=\"custom_box\">\n                  <Input\n                    v-model.trim=\"item.title\"\n                    :placeholder=\"'留言标题' + (index + 1)\"\n                    style=\"width: 150px; margin-right: 10px\"\n                    :maxlength=\"10\"\n                  />\n                  <Select v-model=\"item.label\" style=\"width: 200px; margin-left: 6px; margin-right: 10px\">\n                    <Option v-for=\"items in CustomList\" :value=\"items.value\" :key=\"items.value\">{{\n                      items.label\n                    }}</Option>\n                  </Select>\n                  <Checkbox v-model=\"item.status\">必填</Checkbox>\n                  <div class=\"addfont\" @click=\"delcustom(index)\">删除</div>\n                </div>\n              </div>\n              <div class=\"addCustomBox\" v-show=\"customBtn\">\n                <div class=\"btn\" @click=\"addcustom\">+ 添加表单</div>\n                <div class=\"titTip\">用户下单时需填写的信息，最多可设置10条</div>\n              </div>\n            </FormItem>\n          </Col>\n        </Row>\n        <FormItem>\n          <Button v-if=\"currentTab !== '1'\" @click=\"upTab\">上一步</Button>\n          <Button\n            type=\"primary\"\n            class=\"submission\"\n            v-if=\"currentTab !== '6' && formValidate.virtual_type == 0\"\n            @click=\"downTab\"\n            >下一步</Button\n          >\n          <Button\n            type=\"primary\"\n            class=\"submission\"\n            v-if=\"currentTab !== '5' && formValidate.virtual_type != 0\"\n            @click=\"downTab\"\n            >下一步</Button\n          >\n          <Button\n            type=\"primary\"\n            :disabled=\"openSubimit\"\n            class=\"submission\"\n            @click=\"handleSubmit('formValidate')\"\n            v-if=\"($route.params.id || currentTab === '6') && formValidate.virtual_type == 0\"\n            >保存</Button\n          >\n          <Button\n            type=\"primary\"\n            :disabled=\"openSubimit\"\n            class=\"submission\"\n            @click=\"handleSubmit('formValidate')\"\n            v-if=\"($route.params.id || currentTab === '5') && formValidate.virtual_type != 0\"\n            >保存</Button\n          >\n        </FormItem>\n        <Spin size=\"large\" fix v-if=\"spinShow\"></Spin>\n      </Form>\n      <Modal\n        v-model=\"modalPic\"\n        width=\"1024px\"\n        scrollable\n        footer-hide\n        closable\n        title=\"上传商品图\"\n        :mask-closable=\"false\"\n        :z-index=\"1\"\n      >\n        <uploadPictures\n          :isChoice=\"isChoice\"\n          @getPic=\"getPic\"\n          @getPicD=\"getPicD\"\n          :gridBtn=\"gridBtn\"\n          :gridPic=\"gridPic\"\n          v-if=\"modalPic\"\n        ></uploadPictures>\n      </Modal>\n      <Modal\n        v-model=\"addVirtualModel\"\n        width=\"700px\"\n        closable\n        title=\"添加卡密\"\n        :mask-closable=\"false\"\n        :z-index=\"1\"\n        footer-hide\n        @on-visible-change=\"initVirtualData\"\n      >\n        <div class=\"trip\"></div>\n        <div class=\"type-radio\">\n          <Form :label-width=\"80\">\n            <FormItem label=\"卡密类型：\">\n              <RadioGroup v-model=\"disk_type\" size=\"large\">\n                <Radio :label=\"1\">固定卡密</Radio>\n                <Radio :label=\"2\">一次性卡密</Radio>\n              </RadioGroup>\n              <div v-if=\"disk_type == 1\">\n                <div class=\"stock-disk\">\n                  <Input v-model=\"disk_info\" size=\"large\" type=\"textarea\" :rows=\"4\" placeholder=\"填写卡密信息\" />\n                </div>\n                <div class=\"stock-input\">\n                  <!-- <Input type=\"number\" v-model=\"stock\" size=\"large\" :min='0' placeholder=\"填写库存数量\">\n                    <span slot=\"append\">件</span>\n                  </Input> -->\n                  <InputNumber :max=\"100000\" :min=\"1\" :step=\"1\" :precision=\"0\" v-model=\"stock\" />\n                  <span class=\"pl10\">件</span>\n                </div>\n              </div>\n              <div class=\"scroll-virtual\" v-if=\"disk_type == 2\">\n                <div class=\"virtual-data mb10\" v-for=\"(item, index) in virtualList\" :key=\"index\">\n                  <span class=\"mr10 virtual-title\">卡号{{ index + 1 }}：</span>\n                  <Input\n                    class=\"mr10\"\n                    type=\"text\"\n                    v-model.trim=\"item.key\"\n                    style=\"width: 150px\"\n                    placeholder=\"请输入卡号(非必填)\"\n                  ></Input>\n                  <span class=\"mr10 virtual-title\">卡密{{ index + 1 }}：</span>\n                  <Input\n                    class=\"mr10\"\n                    type=\"text\"\n                    v-model.trim=\"item.value\"\n                    style=\"width: 150px\"\n                    placeholder=\"请输入卡密\"\n                  ></Input>\n                  <span class=\"deteal-btn\" @click=\"removeVirtual(index)\">删除</span>\n                </div>\n              </div>\n              <div class=\"add-more\" v-if=\"disk_type == 2\">\n                <Button type=\"primary\" @click=\"handleAdd\" icon=\"md-add\">新增</Button>\n                <Upload class=\"ml10\" :action=\"cardUrl\" :data=\"uploadData\" :headers=\"header\" :on-success=\"upFile\">\n                  <Button icon=\"ios-cloud-upload-outline\">导入卡密</Button>\n                </Upload>\n              </div>\n            </FormItem>\n          </Form>\n        </div>\n        <div class=\"footer\">\n          <div class=\"clear\" @click=\"closeVirtual\">取消</div>\n          <div class=\"submit\" @click=\"upVirtual\">确认</div>\n        </div>\n      </Modal>\n    </Card>\n    <freightTemplate :template=\"template\" v-on:changeTemplate=\"changeTemplate\" ref=\"templates\"></freightTemplate>\n    <add-attr ref=\"addattr\" @getList=\"userSearchs\"></add-attr>\n    <coupon-list\n      ref=\"couponTemplates\"\n      @nameId=\"nameId\"\n      :couponids=\"formValidate.coupon_ids\"\n      :updateIds=\"updateIds\"\n      :updateName=\"updateName\"\n    ></coupon-list>\n    <coupon-list ref=\"goodsCoupon\" many=\"one\" :luckDraw=\"true\" @getCouponId=\"goodsCouponId\"></coupon-list>\n    <!-- 生成淘宝京东表单-->\n    <Modal\n      v-model=\"modals\"\n      @on-cancel=\"cancel\"\n      class=\"Box\"\n      scrollable\n      footer-hide\n      closable\n      title=\"复制淘宝、天猫、京东、苏宁、1688\"\n      :mask-closable=\"false\"\n      width=\"800\"\n      height=\"500\"\n    >\n      <tao-bao ref=\"taobaos\" v-if=\"modals\" @on-close=\"onClose\"></tao-bao>\n    </Modal>\n    <Modal v-model=\"goods_modals\" title=\"商品列表\" footerHide class=\"paymentFooter\" scrollable width=\"900\">\n      <goods-list v-if=\"goods_modals\" ref=\"goodslist\" :ischeckbox=\"true\" @getProductId=\"getProductId\"></goods-list>\n    </Modal>\n    <!-- 用户标签 -->\n    <Modal\n      v-model=\"labelShow\"\n      scrollable\n      title=\"请选择用户标签\"\n      :closable=\"false\"\n      width=\"500\"\n      :footer-hide=\"true\"\n      :mask-closable=\"false\"\n    >\n      <userLabel ref=\"userLabel\" @activeData=\"activeData\" @close=\"labelClose\"></userLabel>\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport userLabel from '@/components/labelList';\nimport { mapState } from 'vuex';\nimport vuedraggable from 'vuedraggable';\nimport uploadPictures from '@/components/uploadPictures';\nimport freightTemplate from '@/components/freightTemplate';\nimport couponList from '@/components/couponList';\nimport addAttr from '../productAttr/addAttr';\nimport goodsList from '@/components/goodsList/index';\nimport taoBao from './taoBao';\nimport WangEditor from '@/components/wangEditor/index.vue';\nimport { userLabelAddApi } from '@/api/user';\nimport {\n  productInfoApi,\n  cascaderListApi,\n  productAddApi,\n  generateAttrApi,\n  productGetRuleApi,\n  productGetTemplateApi,\n  productGetTempKeysApi,\n  checkActivityApi,\n  productCache,\n  cacheDelete,\n  uploadType,\n  importCard,\n  productCreateApi,\n} from '@/api/product';\nimport Setting from '@/setting';\nimport { getCookies } from '@/libs/util';\nimport { uploadByPieces } from '@/utils/upload'; //引入uploadByPieces方法\n\nexport default {\n  name: 'product_productAdd',\n  components: {\n    // VueUeditorWrap,\n    uploadPictures,\n    freightTemplate,\n    addAttr,\n    couponList,\n    taoBao,\n    draggable: vuedraggable,\n    goodsList,\n    WangEditor,\n    userLabel,\n  },\n  data() {\n    return {\n      labelShow: false,\n      dataLabel: [],\n      headTab: [\n        { tit: '基础信息', name: '1' },\n        { tit: '规格库存', name: '2' },\n        { tit: '商品详情', name: '3' },\n        { tit: '物流设置', name: '4' },\n        { tit: '营销设置', name: '5' },\n        { tit: '其他设置', name: '6' },\n      ],\n      virtual: [\n        { tit: '普通商品', id: 0, tit2: '物流发货' },\n        { tit: '卡密/网盘', id: 1, tit2: '自动发货' },\n        { tit: '优惠券', id: 2, tit2: '自动发货' },\n        { tit: '虚拟商品', id: 3, tit2: '虚拟发货' },\n      ],\n      seletVideo: 0, //选择视频类型\n      customBtn: false, //自定义留言开关\n      content: '',\n      contents: '',\n      fileUrl: Setting.apiBaseURL + '/file/upload',\n      fileUrl2: Setting.apiBaseURL + '/file/video_upload',\n      cardUrl: Setting.apiBaseURL + '/file/upload/1',\n      upload_type: '', //视频上传类型 1 本地上传 2 3 4 OSS上传\n      uploadData: {}, // 上传参数\n      header: {},\n\n      type: 0,\n      modals: false,\n      goods_modals: false,\n      spinShow: false,\n      openSubimit: false,\n      virtualData: '',\n      virtualList: [\n        {\n          key: '',\n          value: '',\n        },\n      ],\n      grid2: {\n        xl: 10,\n        lg: 12,\n        md: 12,\n        sm: 24,\n        xs: 24,\n      },\n      grid3: {\n        xl: 18,\n        lg: 18,\n        md: 20,\n        sm: 24,\n        xs: 24,\n      },\n      // 批量设置表格data\n      oneFormBatch: [\n        {\n          pic: '',\n          price: 0,\n          cost: 0,\n          ot_price: 0,\n          stock: 0,\n          bar_code: '',\n          weight: 0,\n          volume: 0,\n        },\n      ],\n      // 规格数据\n      formDynamic: {\n        attrsName: '',\n        attrsVal: '',\n      },\n      disk_type: 1, //卡密类型\n      tabIndex: 0,\n      tabName: '',\n      formDynamicNameData: [],\n      isBtn: false,\n      columns2: [\n        {\n          title: '图片',\n          slot: 'pic',\n          align: 'center',\n          minWidth: 80,\n        },\n        {\n          title: '售价',\n          slot: 'price',\n          align: 'center',\n          minWidth: 95,\n        },\n        {\n          title: '成本价',\n          slot: 'cost',\n          align: 'center',\n          minWidth: 95,\n        },\n        {\n          title: '原价',\n          slot: 'ot_price',\n          align: 'center',\n          minWidth: 95,\n        },\n        {\n          title: '库存',\n          slot: 'stock',\n          align: 'center',\n          minWidth: 95,\n        },\n        {\n          title: '商品编号',\n          slot: 'bar_code',\n          align: 'center',\n          minWidth: 120,\n        },\n        {\n          title: '重量（KG）',\n          slot: 'weight',\n          align: 'center',\n          minWidth: 95,\n        },\n        {\n          title: '体积(m³)',\n          slot: 'volume',\n          align: 'center',\n          minWidth: 95,\n        },\n        {\n          title: '操作',\n          slot: 'action',\n          fixed: 'right',\n          align: 'center',\n          minWidth: 140,\n        },\n      ],\n      columns3: [\n        {\n          title: '图片',\n          slot: 'pic',\n          align: 'center',\n          minWidth: 80,\n        },\n        {\n          title: '售价',\n          slot: 'price',\n          align: 'center',\n          minWidth: 95,\n        },\n        {\n          title: '成本价',\n          slot: 'cost',\n          align: 'center',\n          minWidth: 95,\n        },\n        {\n          title: '原价',\n          slot: 'ot_price',\n          align: 'center',\n          minWidth: 95,\n        },\n        {\n          title: '库存',\n          slot: 'stock',\n          align: 'center',\n          minWidth: 95,\n        },\n        {\n          title: '商品编号',\n          slot: 'bar_code',\n          align: 'center',\n          minWidth: 120,\n        },\n        {\n          title: '虚拟商品',\n          slot: 'fictitious',\n          align: 'center',\n          minWidth: 95,\n        },\n        {\n          title: '操作',\n          slot: 'action',\n          fixed: 'right',\n          align: 'center',\n          minWidth: 140,\n        },\n      ],\n      columns: [],\n      columnsInstall: [],\n      columnsInstal2: [],\n      gridPic: {\n        xl: 6,\n        lg: 8,\n        md: 12,\n        sm: 12,\n        xs: 12,\n      },\n      gridBtn: {\n        xl: 4,\n        lg: 8,\n        md: 8,\n        sm: 8,\n        xs: 8,\n      },\n      //自定义留言下拉选择\n      CustomList: [\n        {\n          value: 'text',\n          label: '文本框',\n        },\n        {\n          value: 'number',\n          label: '数字',\n        },\n        {\n          value: 'email',\n          label: '邮件',\n        },\n        {\n          value: 'data',\n          label: '日期',\n        },\n        {\n          value: 'time',\n          label: '时间',\n        },\n        {\n          value: 'id',\n          label: '身份证',\n        },\n        {\n          value: 'phone',\n          label: '手机号',\n        },\n        {\n          value: 'img',\n          label: '图片',\n        },\n      ],\n      customess: {\n        content: [],\n      }, //自定义留言内容\n\n      formValidate: {\n        disk_info: '', //卡密类型\n        logistics: ['1'], //选择物流方式\n        freight: 2, //运费设置\n        postage: 0, //设置运费金额\n        recommend: [], //商品推荐\n        presale_day: 1, //预售发货时间-结束\n        presale: false, //预售商品开关\n        is_limit: false,\n        limit_type: 0,\n        limit_num: 0,\n        video_open: false, //视频按钮是否显示\n        vip_product: false, //付费会员专属开关\n        custom_form: [], //自定义留言\n        store_name: '',\n        cate_id: [],\n        label_id: [],\n        keyword: '',\n        unit_name: '',\n        store_info: '',\n        image: '',\n        recommend_image: '',\n        slider_image: [],\n        description: '',\n        ficti: 0,\n        give_integral: 0,\n        sort: 0,\n        is_show: 1,\n        is_hot: 0,\n        is_benefit: 0,\n        is_best: 0,\n        is_new: 0,\n        is_good: 0,\n        is_postage: 0,\n        is_sub: [],\n        recommend_list: [],\n        virtual_type: 0,\n        // is_sub: 0,\n        id: 0,\n        spec_type: 0,\n        is_virtual: 0,\n        video_link: '',\n        // postage: 0,\n        temp_id: '',\n        attrs: [],\n        items: [\n          {\n            pic: '',\n            price: 0,\n            cost: 0,\n            ot_price: 0,\n            stock: 0,\n            bar_code: '',\n          },\n        ],\n        activity: ['默认', '秒杀', '砍价', '拼团'],\n        couponName: [],\n        header: [],\n        selectRule: '',\n        coupon_ids: [],\n        command_word: '',\n      },\n      ruleList: [],\n      templateList: [],\n      createBnt: true,\n      showIput: false,\n      manyFormValidate: [],\n      // 单规格表格data\n      oneFormValidate: [\n        {\n          pic: '',\n          price: 0,\n          cost: 0,\n          ot_price: 0,\n          stock: 0,\n          bar_code: '',\n          weight: 0,\n          volume: 0,\n          brokerage: 0,\n          brokerage_two: 0,\n          vip_price: 0,\n          virtual_list: [],\n          coupon_id: 0,\n        },\n      ],\n      images: [],\n      imagesTable: '',\n      currentTab: '1',\n      isChoice: '',\n      grid: {\n        xl: 8,\n        lg: 8,\n        md: 12,\n        sm: 24,\n        xs: 24,\n      },\n      loading: false,\n      modalPic: false,\n      addVirtualModel: false,\n      template: false,\n      uploadList: [],\n      treeSelect: [],\n      picTit: '',\n      tableIndex: 0,\n      ruleValidate: {\n        store_name: [{ required: true, message: '请输入商品名称', trigger: 'blur' }],\n        cate_id: [\n          {\n            required: true,\n            message: '请选择商品分类',\n            trigger: 'change',\n            type: 'array',\n            min: '1',\n          },\n        ],\n        unit_name: [{ required: true, message: '请输入单位', trigger: 'blur' }],\n        // image: [{ required: true, message: \"请上传商品图\", trigger: \"change\" }],\n        slider_image: [\n          {\n            required: true,\n            message: '请上传商品轮播图',\n            type: 'array',\n            trigger: 'change',\n          },\n        ],\n        spec_type: [{ required: true, message: '请选择商品规格', trigger: 'change' }],\n        is_virtual: [{ required: true, message: '请选择商品类型', trigger: 'change' }],\n        selectRule: [{ required: true, message: '请选择商品规格属性', trigger: 'change' }],\n        temp_id: [\n          {\n            required: true,\n            message: '请选择运费模板',\n            trigger: 'change',\n            type: 'number',\n          },\n        ],\n        presale_time: [\n          {\n            required: true,\n            type: 'array',\n            message: '请选择活动时间',\n            trigger: 'change',\n          },\n        ],\n        logistics: [\n          {\n            required: true,\n            type: 'array',\n            min: 1,\n            message: '请选择物流方式',\n            trigger: 'change',\n          },\n          {\n            type: 'array',\n            max: 2,\n            message: '请选择物流方式',\n            trigger: 'change',\n          },\n        ],\n        give_integral: [{ type: 'integer', message: '请输入整数' }],\n      },\n      manyBrokerage: 0,\n      manyBrokerageTwo: 0,\n      manyVipPrice: 0,\n      upload: {\n        videoIng: false, // 是否显示进度条；\n      },\n      videoIng: false, // 是否显示进度条；\n      progress: 0, // 进度条默认0\n      stock: 0,\n      disk_info: '',\n      videoLink: '',\n      attrs: [],\n      activity: { 默认: 'red', 秒杀: 'blue', 砍价: 'green', 拼团: 'yellow' },\n      couponName: [],\n      updateIds: [],\n      updateName: [],\n      couponIds: '',\n      couponNames: [],\n      rakeBack: [\n        {\n          title: '一级返佣',\n          slot: 'brokerage',\n          align: 'center',\n          width: 95,\n        },\n        {\n          title: '二级返佣',\n          slot: 'brokerage_two',\n          align: 'center',\n          width: 95,\n        },\n      ],\n      member: [\n        {\n          title: '会员价',\n          slot: 'vip_price',\n          align: 'center',\n          width: 95,\n        },\n      ],\n      columnsInstalM: [],\n      moveIndex: '',\n      // aa: [],\n      // openSubimit: false\n    };\n  },\n  computed: {\n    ...mapState('media', ['isMobile']),\n    labelWidth() {\n      return this.isMobile ? undefined : 120;\n    },\n    labelPosition() {\n      return this.isMobile ? 'top' : 'right';\n    },\n    labelBottom() {\n      return this.isMobile ? undefined : 15;\n    },\n  },\n  beforeRouteUpdate(to, from, next) {\n    this.bus.$emit('onTagsViewRefreshRouterView', this.$route.path);\n    next();\n  },\n  created() {\n    this.columns = this.columns2.slice(0, 8);\n    this.getToken();\n\n    // this.columnsInstall = this.columns2.slice(0, 4).concat(this.columnsInstall);\n    // this.columnsInsta8 = this.columns2.slice(0, 4).concat(this.columnsInsta8);\n  },\n  mounted() {\n    if (this.$route.params.id !== '0' && this.$route.params.id) {\n      this.getInfo();\n    } else if (this.$route.params.id === '0') {\n      productCache()\n        .then((res) => {\n          let data = res.data.info;\n          if (!Array.isArray(data)) {\n            let cate_id = data.cate_id.map(Number);\n            let label_id = data.label_id.map(Number);\n            this.attrs = data.items || [];\n            let ids = [];\n            // let names = [];\n            if (data.coupons) {\n              data.coupons.map((item) => {\n                ids.push(item.id);\n                // names.push(item.title);\n              });\n              this.couponName = data.coupons;\n            }\n\n            this.formValidate = data;\n            // this.couponName = data.coupons;\n            // that.couponName = names;\n            this.dataLabel = data.label_id;\n            this.formValidate.coupon_ids = ids;\n            this.updateIds = ids;\n            this.updateName = data.coupons;\n            this.formValidate.cate_id = cate_id;\n            // this.formValidate.label_id = label_id;\n            this.oneFormValidate = data.attrs;\n            this.formValidate.logistics = data.logistics || ['1'];\n            this.formValidate.header = [];\n            this.generate(0);\n            this.manyFormValidate = data.attrs;\n            this.spec_type = data.spec_type;\n            this.formValidate.is_virtual = data.is_virtual;\n            this.formValidate.custom_form = data.custom_form || [];\n            if (this.formValidate.custom_form.length != 0) {\n              this.customBtn = true;\n            }\n            this.virtualbtn(data.virtual_type, 1);\n            if (data.spec_type === 0) {\n              this.manyFormValidate = [];\n            } else {\n              this.createBnt = true;\n              this.oneFormValidate = [\n                {\n                  pic: data.image,\n                  price: 0,\n                  cost: 0,\n                  ot_price: 0,\n                  stock: 0,\n                  bar_code: '',\n                  weight: 0,\n                  volume: 0,\n                  brokerage: 0,\n                  brokerage_two: 0,\n                  vip_price: 0,\n                  virtual_list: [],\n                  coupon_id: 0,\n                },\n              ];\n            }\n            this.spinShow = false;\n          }\n        })\n        .catch((err) => {\n          this.$Message.error(err.msg);\n        });\n    }\n    if (this.$route.query.type) {\n      this.modals = true;\n      this.type = this.$route.query.type;\n    } else {\n      this.type = 0;\n    }\n    this.goodsCategory();\n    this.productGetRule();\n    this.productGetTemplate();\n    // this.userLabel();\n    this.uploadType();\n  },\n  methods: {\n    // 分片上传\n    videoSaveToUrl(file) {\n      uploadByPieces({\n        file: file, // 视频实体\n        pieceSize: 3, // 分片大小\n        success: (data) => {\n          this.formValidate.video_link = data.file_path;\n          this.progress = 100;\n        },\n        error: (e) => {\n          this.$Message.error(e.msg);\n        },\n        uploading: (chunk, allChunk) => {\n          this.videoIng = true;\n          let st = Math.floor((chunk / allChunk) * 100);\n          this.progress = st;\n        },\n      });\n      return false;\n    },\n    // 类型选择/填入内容判断\n    virtualbtn(index, type) {\n      if (type != 1) {\n        this.formValidate.is_sub = [];\n        let id = this.$route.params.id;\n        if (id) {\n          checkActivityApi(id)\n            .then((res) => {})\n            .catch((res) => {\n              this.formValidate.spec_type = this.spec_type;\n              this.$Message.error(res.msg);\n            });\n        } else {\n          if (this.formValidate.spec_type == 1) {\n            this.generate(1);\n          }\n        }\n      }\n      switch (index) {\n        case 0:\n          this.formValidate.virtual_type = 0;\n          this.formValidate.is_virtual = 0;\n          this.headTab = [\n            { tit: '基础信息', name: '1' },\n            { tit: '规格库存', name: '2' },\n            { tit: '商品详情', name: '3' },\n            { tit: '物流设置', name: '4' },\n            { tit: '营销设置', name: '5' },\n            { tit: '其他设置', name: '6' },\n          ];\n          break;\n        case 1:\n          this.formValidate.virtual_type = 1;\n          this.formValidate.postage = 0;\n          this.formValidate.is_virtual = 1;\n          this.headTab = [\n            { tit: '基础信息', name: '1' },\n            { tit: '规格库存', name: '2' },\n            { tit: '商品详情', name: '3' },\n            // { tit: \"物流设置\", name: \"4\" },\n            { tit: '营销设置', name: '4' },\n            { tit: '其他设置', name: '5' },\n          ];\n          break;\n        case 2:\n          this.formValidate.virtual_type = 2;\n          this.formValidate.is_virtual = 1;\n          this.headTab = [\n            { tit: '基础信息', name: '1' },\n            { tit: '规格库存', name: '2' },\n            { tit: '商品详情', name: '3' },\n            // { tit: \"物流设置\", name: \"4\" },\n            { tit: '营销设置', name: '4' },\n            { tit: '其他设置', name: '5' },\n          ];\n          break;\n        case 3:\n          this.formValidate.virtual_type = 3;\n          this.formValidate.is_virtual = 1;\n          this.headTab = [\n            { tit: '基础信息', name: '1' },\n            { tit: '规格库存', name: '2' },\n            { tit: '商品详情', name: '3' },\n            // { tit: \"物流设置\", name: \"4\" },\n            { tit: '营销设置', name: '4' },\n            { tit: '其他设置', name: '5' },\n          ];\n          break;\n      }\n    },\n    // 新增分类\n    addCate() {\n      this.$modalForm(productCreateApi()).then(() => this.goodsCategory());\n    },\n    // 物流方式选择\n    logisticsBtn(e) {\n      this.formValidate.logistics = e;\n    },\n    // 新增标签\n    addLabel() {\n      this.$modalForm(userLabelAddApi(0)).then(() => this.userLabel());\n    },\n    // 自定义留言 开启关闭\n    customMessBtn(e) {\n      if (!e) {\n        this.formValidate.custom_form = [];\n      }\n    },\n    // 自定义留言 新增表单\n    addcustom() {\n      if (this.formValidate.custom_form.length > 9) {\n        this.$Message.warning('最多添加10条');\n      } else {\n        this.formValidate.custom_form.push({\n          title: '',\n          label: 'text',\n          value: '',\n          status: false,\n        });\n      }\n    },\n    // 删除\n    delcustom(index) {\n      this.formValidate.custom_form.splice(index, 1);\n    },\n    // 预售具体日期\n    onchangeTime(e) {\n      this.formValidate.presale_time = e;\n    },\n    // 商品详情\n    getEditorContent(data) {\n      this.content = data;\n    },\n    cancel() {\n      this.$router.push({ path: this.$routeProStr + '/product/product_list' });\n    },\n    // 上传头部token\n    getToken() {\n      this.header['Authori-zation'] = 'Bearer ' + getCookies('token');\n    },\n    // 导入卡密\n    upFile(res) {\n      importCard({ file: res.data.src }).then((res) => {\n        this.virtualList = this.virtualList.concat(res.data);\n      });\n    },\n    //获取视频上传类型\n    uploadType() {\n      uploadType().then((res) => {\n        this.upload_type = res.data.upload_type;\n      });\n    },\n    // 初始化数据展示\n    infoData(data) {\n      let cate_id = data.cate_id.map(Number);\n      let label_id = data.label_id.map(Number);\n      this.attrs = data.items || [];\n      let ids = [];\n      data.coupons.map((item) => {\n        ids.push(item.id);\n      });\n      this.formValidate = data;\n      this.seletVideo = data.seletVideo;\n      this.contents = data.description;\n      this.couponName = data.coupons;\n      this.formValidate.coupon_ids = ids;\n      this.updateIds = ids;\n      this.dataLabel = data.label_id;\n      this.updateName = data.coupons;\n      this.virtualbtn(data.virtual_type, 1);\n      this.formValidate.logistics = data.logistics || ['1'];\n      this.formValidate.custom_form = data.custom_form || [];\n      if (this.formValidate.custom_form.length != 0) {\n        this.customBtn = true;\n      }\n      this.formValidate.cate_id = cate_id;\n      if (data.attr) {\n        this.oneFormValidate = [data.attr];\n      }\n      this.formValidate.header = [];\n      this.generate(0);\n      // this.manyFormValidate = data.attrs;\n      this.$set(this, 'manyFormValidate', data.attrs);\n      this.spec_type = data.spec_type;\n      this.formValidate.is_virtual = data.is_virtual;\n      if (data.spec_type === 0) {\n        this.manyFormValidate = [];\n      } else {\n        this.createBnt = true;\n        this.oneFormValidate = [\n          {\n            pic: '',\n            price: 0,\n            cost: 0,\n            ot_price: 0,\n            stock: 0,\n            bar_code: '',\n            weight: 0,\n            volume: 0,\n            brokerage: 0,\n            brokerage_two: 0,\n            vip_price: 0,\n            virtual_list: [],\n            coupon_id: 0,\n          },\n        ];\n      }\n    },\n    //关闭淘宝弹窗并生成数据；\n    onClose(data) {\n      this.modals = false;\n      this.infoData(data);\n    },\n\n    checkMove(evt) {\n      this.moveIndex = evt.draggedContext.index;\n    },\n    end() {\n      this.moveIndex = '';\n      this.generate(1);\n    },\n    // 单独设置会员设置\n    checkAllGroupChange(data) {\n      this.checkAllGroup(data);\n    },\n    checkAllGroup(data) {\n      if (this.formValidate.spec_type === 0) {\n        if (data.indexOf(0) > -1) {\n          this.columnsInstall = this.columns2.slice(0, 4).concat(this.member);\n        } else if (data.indexOf(1) > -1) {\n          this.columnsInstall = this.columns2.slice(0, 4).concat(this.rakeBack);\n        } else {\n          this.columnsInstall = this.columns2.slice(0, 4);\n        }\n        if (data.length === 2) {\n          this.columnsInstall = this.columns2.slice(0, 4).concat(this.rakeBack).concat(this.member);\n        }\n      } else {\n        if (data.indexOf(0) > -1) {\n          this.columnsInstal2 = this.columnsInstalM.slice(0, 4).concat(this.member);\n        } else if (data.indexOf(1) > -1) {\n          this.columnsInstal2 = this.columnsInstalM.slice(0, 4).concat(this.rakeBack);\n        } else {\n          this.columnsInstal2 = this.columnsInstalM.slice(0, 4);\n        }\n        if (data.length === 2) {\n          this.columnsInstal2 = this.columnsInstalM.slice(0, 4).concat(this.rakeBack).concat(this.member);\n        }\n      }\n    },\n    // 添加优惠券\n    addCoupon() {\n      this.$refs.couponTemplates.isTemplate = true;\n      this.$refs.couponTemplates.tableList();\n    },\n    // 规格中优惠券查看\n    see(data, name, index) {\n      this.tabName = name;\n      this.tabIndex = index;\n\n      if (this.formValidate.virtual_type === 1) {\n        if (data.disk_info != '') {\n          this.disk_type = 1;\n          this.disk_info = data.disk_info;\n          this.stock = data.stock;\n        } else if (data.virtual_list.length) {\n          this.disk_type = 2;\n          this.virtualList = data.virtual_list;\n        }\n        this.addVirtualModel = true;\n      } else {\n        this.$refs.goodsCoupon.isTemplate = true;\n        this.$refs.goodsCoupon.tableList(3);\n      }\n    },\n    // 添加优惠券\n    addGoodsCoupon(index, name) {\n      this.tabIndex = index;\n      this.tabName = name;\n      this.$refs.goodsCoupon.isTemplate = true;\n      this.$refs.goodsCoupon.tableList(3);\n    },\n    addVirtual(index, name) {\n      this.tabIndex = index;\n      this.tabName = name;\n      this.addVirtualModel = true;\n    },\n    // 提交卡密信息\n    upVirtual() {\n      if (this.disk_type == 2) {\n        for (let i = 0; i < this.virtualList.length; i++) {\n          const element = this.virtualList[i];\n          if (!element.value) {\n            this.$Message.error('请输入所有卡密');\n            return;\n          }\n        }\n        this.$set(this[this.tabName][this.tabIndex], 'virtual_list', this.virtualList);\n        this.$set(this[this.tabName][this.tabIndex], 'stock', this.virtualList.length);\n        this.virtualList = [\n          {\n            key: '',\n            value: '',\n          },\n        ];\n        this.$set(this[this.tabName][this.tabIndex], 'disk_info', '');\n      } else {\n        if (!this.disk_info.length) {\n          return this.$Message.error('请填写卡密信息');\n        }\n        if (!this.stock) {\n          return this.$Message.error('请填写库存数量');\n        }\n        this.$set(this[this.tabName][this.tabIndex], 'stock', Number(this.stock));\n        this.$set(this[this.tabName][this.tabIndex], 'stock', Number(this.stock));\n        this.$set(this[this.tabName][this.tabIndex], 'disk_info', this.disk_info);\n        this.$set(this[this.tabName][this.tabIndex], 'virtual_list', []);\n      }\n      this.addVirtualModel = false;\n      this.closeVirtual();\n    },\n    //  初始化卡密数据信息\n    closeVirtual() {\n      this.addVirtualModel = false;\n      this.virtualList = [\n        {\n          key: '',\n          value: '',\n        },\n      ];\n      this.disk_info = '';\n      this.stock = 0;\n    },\n    //对象数组去重；\n    unique(arr) {\n      const res = new Map();\n      return arr.filter((arr) => !res.has(arr.id) && res.set(arr.id, 1));\n    },\n    // 获取优惠券id数据\n    nameId(id, names) {\n      this.formValidate.coupon_ids = id;\n      this.couponName = this.unique(names);\n    },\n    // 获取优惠券信息\n    goodsCouponId(data) {\n      // this[this.tabName][this.tabIndex].coupon_id = data.id;\n      // this[this.tabName][this.tabIndex].coupon_name = data.title;\n      this.$set(this[this.tabName][this.tabIndex], 'coupon_id', data.id);\n      this.$set(this[this.tabName][this.tabIndex], 'coupon_name', data.title);\n      this.$refs.goodsCoupon.isTemplate = false;\n    },\n    handleClose(name) {\n      let index = this.couponName.indexOf(name);\n      this.couponName.splice(index, 1);\n      let couponIds = this.formValidate.coupon_ids;\n      couponIds.splice(index, 1);\n      this.updateIds = couponIds;\n      this.updateName = this.couponName;\n    },\n    // 运费模板\n    getList() {\n      this.productGetTemplate();\n    },\n    // 添加运费模板\n    addTemp() {\n      this.$refs.templates.isTemplate = true;\n    },\n    // 删除视频；\n    delVideo() {\n      let that = this;\n      that.$set(that.formValidate, 'video_link', '');\n      that.$set(that, 'progress', 0);\n      that.videoIng = false;\n      that.upload.videoIng = false;\n    },\n    zh_uploadFile() {\n      if (this.seletVideo == 1) {\n        this.formValidate.video_link = this.videoLink;\n      } else {\n        this.$refs.refid.click();\n      }\n    },\n    // 上传视频\n    zh_uploadFile_change(evfile) {\n      let that = this;\n      let suffix = evfile.target.files[0].name.substr(evfile.target.files[0].name.indexOf('.'));\n      if (suffix.indexOf('.mp4') === -1) {\n        return that.$Message.error('只能上传MP4文件');\n      }\n      productGetTempKeysApi()\n        .then((res) => {\n          that.$videoCloud\n            .videoUpload({\n              type: res.data.type,\n              evfile: evfile,\n              res: res,\n              uploading(status, progress) {\n                that.upload.videoIng = status;\n                if (res.status == 200) {\n                  that.progress = 100;\n                }\n              },\n            })\n            .then((res) => {\n              that.formValidate.video_link = res.url;\n              that.$Message.success('视频上传成功');\n              that.upload.videoIng = false;\n            })\n            .catch((res) => {\n              that.$Message.error(res);\n            });\n        })\n        .catch((res) => {\n          that.$Message.error(res.msg);\n        });\n    },\n    // 上一页；\n    upTab() {\n      this.currentTab = (Number(this.currentTab) - 1).toString();\n    },\n    // 下一页；\n    downTab() {\n      this.currentTab = (Number(this.currentTab) + 1).toString();\n    },\n    // 属性弹窗回调函数；\n    userSearchs() {\n      this.productGetRule();\n    },\n    // 添加规则；\n    addRule() {\n      this.$refs.addattr.modal = true;\n    },\n    // 批量设置分佣；\n    brokerageSetUp() {\n      let that = this;\n      if (that.formValidate.is_sub.indexOf(1) > -1) {\n        if (that.manyBrokerage <= 0 || that.manyBrokerageTwo <= 0) {\n          return that.$Message.error('请填写返佣金额后进行批量添加');\n        }\n      } else if (that.formValidate.is_sub.indexOf(0) > -1) {\n        if (that.manyVipPrice <= 0) {\n          return that.$Message.error('请填写会员价后进行批量添加');\n        }\n      }\n      if (this.formValidate.is_sub.length === 2) {\n        if (that.manyBrokerage <= 0 || that.manyBrokerageTwo <= 0 || that.manyVipPrice <= 0) {\n          return that.$Message.error('请填写完金额后进行批量添加');\n        }\n      }\n      for (let val of that.manyFormValidate) {\n        this.$set(val, 'brokerage', that.manyBrokerage);\n        this.$set(val, 'brokerage_two', that.manyBrokerageTwo);\n        this.$set(val, 'vip_price', that.manyVipPrice);\n      }\n    },\n    // 批量设置会员价\n    vipPriceSetUp() {\n      let that = this;\n      if (that.manyVipPrice <= 0) {\n        return that.$Message.error('请填写会员价在进行批量添加');\n      } else {\n        for (let val of that.manyFormValidate) {\n          this.$set(val, 'vip_price', that.manyVipPrice);\n        }\n      }\n    },\n    // 新增卡密\n    handleAdd() {\n      this.virtualList.push({\n        key: '',\n        value: '',\n      });\n    },\n    // 初始化卡密信息\n    initVirtualData(status) {\n      if (!status) {\n        this.virtualList = [\n          {\n            key: '',\n            value: '',\n          },\n        ];\n      }\n    },\n    removeVirtual(index) {\n      this.virtualList.splice(index, 1);\n    },\n    // 清空批量规格信息\n    batchDel() {\n      this.oneFormBatch = [\n        {\n          pic: '',\n          price: 0,\n          cost: 0,\n          ot_price: 0,\n          stock: 0,\n          bar_code: '',\n          weight: 0,\n          volume: 0,\n        },\n      ];\n    },\n    confirm() {\n      let that = this;\n      that.createBnt = true;\n      if (that.formValidate.selectRule.trim().length <= 0) {\n        return that.$Message.error('请选择属性');\n      }\n      that.ruleList.forEach(function (item, index) {\n        if (item.rule_name === that.formValidate.selectRule) {\n          that.attrs = item.rule_value;\n        }\n      });\n    },\n    // 获取商品属性模板；\n    productGetRule() {\n      productGetRuleApi().then((res) => {\n        this.ruleList = res.data;\n      });\n    },\n    // 获取运费模板；\n    productGetTemplate() {\n      productGetTemplateApi().then((res) => {\n        this.templateList = res.data;\n      });\n    },\n    // 删除表格中的属性\n    delAttrTable(index) {\n      let id = this.$route.params.id;\n      if (id) {\n        checkActivityApi(id)\n          .then((res) => {\n            this.manyFormValidate.splice(index, 1);\n            this.$Message.success(res.msg);\n          })\n          .catch((res) => {\n            this.$Message.error(res.msg);\n          });\n      } else {\n        this.manyFormValidate.splice(index, 1);\n      }\n    },\n    // 批量添加\n    batchAdd() {\n      for (let val of this.manyFormValidate) {\n        if (this.oneFormBatch[0].pic) {\n          this.$set(val, 'pic', this.oneFormBatch[0].pic);\n        }\n        if (this.oneFormBatch[0].price > 0) {\n          this.$set(val, 'price', this.oneFormBatch[0].price);\n        }\n        if (this.oneFormBatch[0].cost > 0) {\n          this.$set(val, 'cost', this.oneFormBatch[0].cost);\n        }\n        if (this.oneFormBatch[0].ot_price > 0) {\n          this.$set(val, 'ot_price', this.oneFormBatch[0].ot_price);\n        }\n        if (this.oneFormBatch[0].stock > 0) {\n          this.$set(val, 'stock', this.oneFormBatch[0].stock);\n        }\n        if (this.oneFormBatch[0].bar_code !== '') {\n          this.$set(val, 'bar_code', this.oneFormBatch[0].bar_code);\n        }\n        if (this.oneFormBatch[0].weight > 0) {\n          this.$set(val, 'weight', this.oneFormBatch[0].weight);\n        }\n        if (this.oneFormBatch[0].volume > 0) {\n          this.$set(val, 'volume', this.oneFormBatch[0].volume);\n        }\n      }\n    },\n    // 添加按钮\n    addBtn() {\n      this.clearAttr();\n      this.createBnt = false;\n      this.showIput = true;\n    },\n    // 立即生成\n    generate(type) {\n      generateAttrApi(\n        {\n          attrs: this.attrs,\n          is_virtual: [1, 2].includes(this.formValidate.virtual_type) ? 1 : 0,\n          virtual_type: this.formValidate.virtual_type,\n        },\n        this.formValidate.id,\n        type,\n      )\n        .then((res) => {\n          let info = res.data.info,\n            header1 = JSON.parse(JSON.stringify(info.header));\n          if (this.$route.params.id !== '0' && (this.$route.query.type != -1 || type)) {\n            this.manyFormValidate = info.value;\n          }\n          let header = info.header;\n          if ([1, 2].includes(this.formValidate.virtual_type)) {\n            this.columnsInstalM = header;\n            this.formValidate.header = header;\n          } else {\n            this.formValidate.header = header1;\n            this.columnsInstalM = info.header;\n          }\n          this.checkAllGroup(this.formValidate.is_sub);\n          if (!this.$route.params.id && this.formValidate.spec_type === 1) {\n            this.manyFormValidate.map((item) => {\n              item.pic = this.formValidate.image;\n            });\n            this.oneFormBatch[0].pic = this.formValidate.image;\n          } else if (this.$route.params.id) {\n            this.manyFormValidate.map((item) => {\n              if (!item.pic) {\n                item.pic = this.formValidate.image;\n              }\n            });\n            this.oneFormBatch[0].pic = this.formValidate.image;\n          }\n        })\n        .catch((res) => {\n          this.$Message.error(res.msg);\n        });\n    },\n    // 取消\n    offAttrName() {\n      this.showIput = false;\n      this.createBnt = true;\n    },\n    clearAttr() {\n      this.formDynamic.attrsName = '';\n      this.formDynamic.attrsVal = '';\n    },\n    // 删除规格\n    handleRemoveRole(index) {\n      this.attrs.splice(index, 1);\n      this.manyFormValidate.splice(index, 1);\n    },\n    // 删除属性\n    handleRemove2(item, index) {\n      item.splice(index, 1);\n    },\n    // 添加规则名称\n    createAttrName() {\n      if (this.formDynamic.attrsName && this.formDynamic.attrsVal) {\n        let data = {\n          value: this.formDynamic.attrsName,\n          detail: [this.formDynamic.attrsVal],\n        };\n        this.attrs.push(data);\n        var hash = {};\n        this.attrs = this.attrs.reduce(function (item, next) {\n          /* eslint-disable */\n          hash[next.value] ? '' : (hash[next.value] = true && item.push(next));\n          return item;\n        }, []);\n        this.clearAttr();\n        this.showIput = false;\n        this.createBnt = true;\n      } else {\n        this.$Message.warning('请添加完整的规格！');\n      }\n    },\n    // 添加属性\n    createAttr(num, idx) {\n      if (num) {\n        this.attrs[idx].detail.push(num);\n        var hash = {};\n        this.attrs[idx].detail = this.attrs[idx].detail.reduce(function (item, next) {\n          /* eslint-disable */\n          hash[next] ? '' : (hash[next] = true && item.push(next));\n          return item;\n        }, []);\n      } else {\n        this.$Message.warning('请添加属性');\n      }\n    },\n    // 商品分类；\n    goodsCategory() {\n      cascaderListApi(1)\n        .then((res) => {\n          this.treeSelect = res.data;\n        })\n        .catch((res) => {\n          this.$Message.error(res.msg);\n        });\n    },\n    //视视上传类型\n    changeVideo(e) {\n      this.formValidate.video_link = '';\n      this.videoLink = '';\n    },\n    // 改变规格\n    changeSpec() {\n      this.formValidate.is_sub = [];\n      let id = this.$route.params.id;\n      if (id) {\n        checkActivityApi(id)\n          .then((res) => {})\n          .catch((res) => {\n            this.formValidate.spec_type = this.spec_type;\n            this.$Message.error(res.msg);\n          });\n      }\n    },\n    // 详情\n    getInfo() {\n      let that = this;\n      that.spinShow = true;\n      productInfoApi(that.$route.params.id)\n        .then(async (res) => {\n          let data = res.data.productInfo;\n          this.infoData(data);\n          this.spinShow = false;\n        })\n        .catch((res) => {\n          this.spinShow = false;\n          this.$Message.error(res.msg);\n        });\n    },\n    // tab切换\n    onhangeTab(name) {\n      this.currentTab = name;\n    },\n    handleRemove(i) {\n      this.images.splice(i, 1);\n      this.formValidate.slider_image.splice(i, 1);\n      this.oneFormValidate[0].pic = this.formValidate.slider_image[0];\n    },\n    // 关闭图片上传模态框\n    changeCancel(msg) {\n      this.modalPic = false;\n    },\n    // 点击商品图\n    modalPicTap(tit, picTit, index) {\n      this.modalPic = true;\n      this.isChoice = tit === 'dan' ? '单选' : '多选';\n      this.picTit = picTit;\n      this.tableIndex = index;\n    },\n    // 获取单张图片信息\n    getPic(pc) {\n      switch (this.picTit) {\n        case 'danFrom':\n          this.formValidate.image = pc.att_dir;\n          if (!this.$route.params.id) {\n            if (this.formValidate.spec_type === 0) {\n              this.oneFormValidate[0].pic = pc.att_dir;\n            } else {\n              this.manyFormValidate.map((item) => {\n                item.pic = pc.att_dir;\n              });\n              this.oneFormBatch[0].pic = pc.att_dir;\n            }\n          }\n          break;\n        case 'danTable':\n          this.oneFormValidate[this.tableIndex].pic = pc.att_dir;\n          break;\n        case 'duopi':\n          this.oneFormBatch[this.tableIndex].pic = pc.att_dir;\n          break;\n        case 'recommend_image':\n          this.formValidate.recommend_image = pc.att_dir;\n          break;\n        default:\n          this.manyFormValidate[this.tableIndex].pic = pc.att_dir;\n      }\n      this.modalPic = false;\n    },\n    // 获取多张图信息\n    getPicD(pc) {\n      this.images = pc;\n      this.images.map((item) => {\n        this.formValidate.slider_image.push(item.att_dir);\n        this.formValidate.slider_image = this.formValidate.slider_image.splice(0, 10);\n      });\n      this.oneFormValidate[0].pic = this.formValidate.slider_image[0];\n      this.modalPic = false;\n    },\n    // 提交\n    handleSubmit(name) {\n      this.$refs[name].validate((valid) => {\n        if (valid) {\n          this.formValidate.type = this.type;\n          if (this.formValidate.spec_type === 0) {\n            this.formValidate.attrs = this.oneFormValidate;\n            this.formValidate.header = [];\n            this.formValidate.items = [];\n            this.formValidate.is_copy = 0;\n          } else {\n            this.formValidate.items = this.attrs;\n            this.formValidate.attrs = this.manyFormValidate;\n            this.formValidate.is_copy = 1;\n          }\n          if (this.formValidate.spec_type === 1 && this.manyFormValidate.length === 0) {\n            return this.$Message.warning('商品信息-请点击生成多规格');\n            // return this.$Message.warning('请点击生成规格！');\n          }\n          let item = this.formValidate.attrs;\n          for (let i = 0; i < item.length; i++) {\n            if (item[i].stock > 1000000) {\n              return this.$Message.error('规格库存-库存超出系统范围(1000000)');\n            }\n          }\n          if (this.formValidate.is_sub[0] === 1) {\n            for (let i = 0; i < item.length; i++) {\n              if (item[i].brokerage === null || item[i].brokerage_two === null) {\n                return this.$Message.error('营销设置- 一二级返佣不能为空');\n              }\n            }\n          } else {\n            for (let i = 0; i < item.length; i++) {\n              if (item[i].vip_price === null) {\n                return this.$Message.error('营销设置-会员价不能为空');\n              }\n            }\n          }\n          if (this.formValidate.is_sub.length === 2) {\n            for (let i = 0; i < item.length; i++) {\n              if (item[i].brokerage === null || item[i].brokerage_two === null || item[i].vip_price === null) {\n                return this.$Message.error('营销设置- 一二级返佣和会员价不能为空');\n              }\n            }\n          }\n          if (this.formValidate.freight == 3 && !this.formValidate.temp_id) {\n            return this.$Message.warning('商品信息-运费模板不能为空');\n          }\n          let activeIds = [];\n          this.dataLabel.forEach((item) => {\n            activeIds.push(item.id);\n          });\n          this.formValidate.label_id = activeIds;\n          this.openSubimit = true;\n          this.formValidate.description = this.formatRichText(this.content);\n          productAddApi(this.formValidate)\n            .then(async (res) => {\n              this.openSubimit = false;\n              this.$Message.success(res.msg);\n              if (this.$route.params.id === '0') {\n                cacheDelete().catch((err) => {\n                  this.$Message.error(err.msg);\n                });\n              }\n              setTimeout(() => {\n                this.openSubimit = false;\n                this.$router.push({ path: this.$routeProStr + '/product/product_list' });\n              }, 500);\n            })\n            .catch((res) => {\n              setTimeout((e) => {\n                this.openSubimit = false;\n              }, 1000);\n              this.$Message.error(res.msg);\n            });\n        } else {\n          if (!this.formValidate.store_name) {\n            return this.$Message.warning('商品信息-商品名称不能为空');\n          } else if (!this.formValidate.cate_id.length) {\n            return this.$Message.warning('商品信息-商品分类不能为空');\n          } else if (!this.formValidate.unit_name) {\n            return this.$Message.warning('商品信息-商品单位不能为空');\n          } else if (!this.formValidate.slider_image.length) {\n            return this.$Message.warning('商品信息-商品轮播图不能为空');\n          } else if (!this.formValidate.logistics.length && !this.formValidate.virtual_type) {\n            return this.$Message.warning('物流设置-至少选择一种物流方式');\n          } else if (!this.formValidate.temp_id && this.formValidate.freight == 3) {\n            return this.$Message.warning('商品信息-运费模板不能为空');\n          }\n        }\n      });\n    },\n    changeTemplate(msg) {\n      this.template = msg;\n    },\n    // 表单验证\n    validate(prop, status, error) {\n      if (status === false) {\n        this.$Message.warning(error);\n      }\n    },\n    // 移动\n    handleDragStart(e, item) {\n      this.dragging = item;\n    },\n    handleDragEnd(e, item) {\n      this.dragging = null;\n    },\n    handleDragOver(e) {\n      e.dataTransfer.dropEffect = 'move';\n    },\n    handleDragEnter(e, item) {\n      e.dataTransfer.effectAllowed = 'move';\n      if (item === this.dragging) {\n        return;\n      }\n      const newItems = [...this.formValidate.slider_image];\n      const src = newItems.indexOf(this.dragging);\n      const dst = newItems.indexOf(item);\n      newItems.splice(dst, 0, ...newItems.splice(src, 1));\n      this.formValidate.slider_image = newItems;\n    },\n    // 过滤详情内容\n    formatRichText(html) {\n      let newContent = html.replace(/<img[^>]*>/gi, function (match, capture) {\n        match = match.replace(/style=\"[^\"]+\"/gi, '').replace(/style='[^']+'/gi, '');\n        match = match.replace(/width=\"[^\"]+\"/gi, '').replace(/width='[^']+'/gi, '');\n        match = match.replace(/height=\"[^\"]+\"/gi, '').replace(/height='[^']+'/gi, '');\n        return match;\n      });\n      newContent = newContent.replace(/style=\"[^\"]+\"/gi, function (match, capture) {\n        match = match.replace(/width:[^;]+;/gi, 'max-width:100%;').replace(/width:[^;]+;/gi, 'max-width:100%;');\n        return match;\n      });\n      newContent = newContent.replace(/<br[^>]*\\/>/gi, '');\n      newContent = newContent.replace(\n        /\\<img/gi,\n        '<img style=\"max-width:100%;height:auto;display:block;margin-top:0;margin-bottom:0;\"',\n      );\n      return newContent;\n    },\n    // 商品id\n    getProductId(row) {\n      this.goods_modals = false;\n      let arr = this.formValidate.recommend_list.concat(row);\n      this.formValidate.recommend_list = this.uniques(arr);\n    },\n    // 选择推荐商品\n    changeGoods() {\n      this.goods_modals = true;\n      this.$refs.goodslist.getList();\n      this.$refs.goodslist.goodsCategory();\n    },\n    // 选择用户标签\n    activeData(dataLabel) {\n      this.labelShow = false;\n      this.dataLabel = dataLabel;\n    },\n    // 标签弹窗关闭\n    labelClose() {\n      this.labelShow = false;\n    },\n    // 删除用户标签\n    closeLabel(label) {\n      let index = this.dataLabel.indexOf(this.dataLabel.filter((d) => d.id == label.id)[0]);\n      this.dataLabel.splice(index, 1);\n    },\n    // 打开选择用户标签\n    openLabel(row) {\n      this.labelShow = true;\n      this.$refs.userLabel.userLabel(JSON.parse(JSON.stringify(this.dataLabel)));\n    },\n    uniques(songs) {\n      let result = {};\n      let finalResult = [];\n      for (let i = 0; i < songs.length; i++) {\n        result[songs[i].product_id] = songs[i];\n      }\n      for (let item in result) {\n        finalResult.push(result[item]);\n      }\n      return finalResult;\n    },\n    handleRemoveRecommend(i) {\n      this.formValidate.recommend_list.splice(i, 1);\n    },\n  },\n};\n</script>\n<style scoped lang=\"stylus\">\n.list-group {\n  margin-left: -8px;\n}\n\n.borderStyle {\n  border: 1px solid #ccc;\n  padding: 8px;\n  border-radius: 4px;\n}\n\n.drag {\n  cursor: move;\n}\n\n.move-icon {\n  width: 30px;\n  cursor: move;\n  margin-right: 10px;\n}\n\n.move-icon .icondrag2 {\n  font-size: 26px;\n  color: #d8d8d8;\n}\n\n.maxW /deep/.ivu-select-dropdown {\n  max-width: 600px;\n}\n\n#shopp-manager .ivu-table-wrapper {\n  border-left: 1px solid #dcdee2;\n  border-top: 1px solid #dcdee2;\n}\n\n.noLeft {\n  >>> .ivu-form-item-content {\n    margin-left: 0 !important;\n  }\n}\n\n#shopp-manager .ivu-form-item {\n  position: relative;\n}\n\n#shopp-manager .ivu-form-item .tips {\n  position: absolute;\n  color: #999;\n  top: 29px;\n  left: -77px;\n  font-size: 12px;\n}\n\n.iview-video-style {\n  width: 40%;\n  height: 180px;\n  border-radius: 10px;\n  background-color: #707070;\n  margin-top: 10px;\n  position: relative;\n  overflow: hidden;\n}\n\n.iview-video-style .iconv {\n  color: #fff;\n  line-height: 180px;\n  width: 50px;\n  height: 50px;\n  display: inherit;\n  font-size: 26px;\n  position: absolute;\n  top: -74px;\n  left: 50%;\n  margin-left: -25px;\n}\n\n.iview-video-style .mark {\n  position: absolute;\n  width: 100%;\n  height: 30px;\n  top: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  text-align: center;\n}\n\n.submission {\n  margin-left: 10px;\n}\n\n.color-list .tip {\n  color: #c9c9c9;\n}\n\n.color-list .color-item {\n  height: 30px;\n  line-height: 30px;\n  padding: 0 10px;\n  color: #fff;\n  margin-right: 10px;\n}\n\n.color-list .color-item.blue {\n  background-color: #1E9FFF;\n}\n\n.color-list .color-item.yellow {\n  background-color: rgb(254, 185, 0);\n}\n\n.color-list .color-item.green {\n  background-color: #009688;\n}\n\n.color-list .color-item.red {\n  background-color: #ed4014;\n}\n\n.columnsBox {\n  margin-right: 10px;\n}\n\n.priceBox {\n  width: 100%;\n}\n\n.rulesBox {\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.pictrueBox {\n  display: inline-block;\n}\n\n.pictrueTab {\n  width: 40px !important;\n  height: 40px !important;\n}\n\n.pictrue {\n  width: 60px;\n  height: 60px;\n  border: 1px dotted rgba(0, 0, 0, 0.1);\n  margin-right: 15px;\n  display: inline-block;\n  position: relative;\n  cursor: pointer;\n\n  img {\n    width: 100%;\n    height: 100%;\n  }\n\n  .btndel {\n    position: absolute;\n    z-index: 1;\n    width: 20px !important;\n    height: 20px !important;\n    left: 46px;\n    top: -4px;\n  }\n}\n\n.upLoad {\n  width: 58px;\n  height: 58px;\n  line-height: 58px;\n  border: 1px dotted rgba(0, 0, 0, 0.1);\n  border-radius: 4px;\n  background: rgba(0, 0, 0, 0.02);\n  cursor: pointer;\n}\n\n.curs {\n  cursor: pointer;\n}\n\n.inpWith {\n  width: 60%;\n}\n\n.labeltop {\n  >>> .ivu-form-item-label {\n    float: none !important;\n    display: inline-block !important;\n    margin-left: 120px !important;\n    width: auto !important;\n  }\n}\n\n.video-icon {\n  background-image: url('https://cdn.oss.9gt.net/prov1.1/1/icons.png'); // cdn.oss.9gt.net/prov1.1/1/icons.png);\n  background-color: #fff;\n  background-position: -9999px;\n  background-repeat: no-repeat;\n}\n\n.see {\n  color: #2d8cf0;\n  cursor: pointer;\n}\n\n.trip {\n  color: #bbb;\n  margin-bottom: 10px;\n}\n\n.virtual-data {\n  display: flex;\n  align-items: center;\n}\n\n.add-more {\n  margin-top: 20px;\n  display: flex;\n}\n\n.virtual-title {\n  width: 50px;\n}\n\n.scroll-virtual {\n  max-height: 400px;\n  overflow-y: auto;\n  margin-top: 10px;\n}\n\n.footer {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: 30px;\n\n  .clear, .submit {\n    padding: 10px 20px;\n    border-radius: 5px;\n    color: #fff;\n    cursor: pointer;\n  }\n\n  .clear {\n    background-color: #ccc;\n    margin-right: 20px;\n  }\n\n  .submit {\n    background-color: #2d8cf0;\n  }\n}\n\n.picBox {\n  display: flex;\n}\n\n.btndel {\n  position: absolute;\n  z-index: 9;\n  width: 20px !important;\n  height: 20px !important;\n  left: 46px;\n  top: -4px;\n}\n\n.ifam {\n  width: 344px;\n  height: 644px;\n  background: url('../../../assets/images/phonebg.png') no-repeat center top;\n  background-size: 344px 644px;\n  padding: 40px 20px;\n  padding-top: 50px;\n  margin: 0 auto;\n\n  .content {\n    height: 560px;\n    overflow: hidden;\n    scrollbar-width: none; /* firefox */\n    -ms-overflow-style: none; /* IE 10+ */\n    overflow-x: hidden;\n    overflow-y: auto;\n  }\n\n  .content::-webkit-scrollbar {\n    display: none; /* Chrome Safari */\n  }\n}\n</style>\n<style scoped lang=\"stylus\">\n/deep/.ivu-date-picker {\n  width: 300px;\n}\n\n.virtual_boder {\n  border: 1px solid #1890FF;\n}\n\n.virtual_boder2 {\n  border: 1px solid #E7E7E7;\n}\n\n.virtual_san {\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  width: 0;\n  height: 0;\n  border-bottom: 26px solid #1890FF;\n  border-left: 26px solid transparent;\n}\n\n.virtual_dui {\n  position: absolute;\n  bottom: -2px;\n  right: 2px;\n  color: #FFFFFF;\n  font-family: system-ui;\n}\n\n.virtual {\n  width: 120px;\n  height: 60px;\n  background: #FFFFFF;\n  border-radius: 3px;\n  // border: 1px solid #E7E7E7;\n  float: left;\n  text-align: center;\n  padding-top: 8px;\n  position: relative;\n  cursor: pointer;\n  line-height: 23px;\n\n  .virtual_top {\n    font-size: 14px;\n    font-weight: 600;\n    color: rgba(0, 0, 0, 0.85);\n  }\n\n  .virtual_bottom {\n    font-size: 12px;\n    font-weight: 400;\n    color: #999999;\n  }\n}\n\n.virtual:nth-child(2n) {\n  margin: 0 12px;\n}\n\n.addfont {\n  display: inline-block;\n  font-size: 13px;\n  font-weight: 400;\n  color: #1890FF;\n  margin-left: 14px;\n  cursor: pointer;\n}\n\n.titTip {\n  display: inline-bolck;\n  font-size: 12px;\n  line-height: 24px;\n  font-weight: 400;\n  color: #999999;\n}\n\n.videbox {\n  width: 60px;\n  height: 60px;\n  background: rgba(0, 0, 0, 0.02);\n  border-radius: 4px;\n  border: 1px dashed #DDDDDD;\n  line-height: 50px;\n  text-align: center;\n  color: #898989;\n  font-size: 30px;\n  font-weight: 400;\n  cursor: pointer;\n}\n\n.addCustom_content {\n  margin-top: 20px;\n\n  .custom_box {\n    margin-bottom: 10px;\n  }\n}\n\n.addCustomBox {\n  margin-top: 12px;\n  font-size: 13px;\n  font-weight: 400;\n  color: #1890FF;\n\n  .btn {\n    cursor: pointer;\n    width: max-content;\n  }\n}\n\n.type-radio {\n  margin-buttom: 10px;\n}\n\n.deteal-btn {\n  color: #5179ea;\n}\n\n.stock-disk {\n  margin: 10px 0;\n}\n\n.line {\n  border-bottom: 1px dashed #eee;\n  margin-bottom: 20px;\n}\n\n.labelInput {\n  border: 1px solid #dcdee2;\n  width: 20%;\n  padding: 0 5px;\n  border-radius: 5px;\n  min-height: 30px;\n  cursor: pointer;\n\n  .span {\n    color: #c5c8ce;\n  }\n\n  .iconxiayi {\n    font-size: 12px;\n  }\n}\n\n#shopp-manager /deep/.ivu-form-item-content {\n  line-height: 33px !important;\n}\n\n#selectvideo /deep/.ivu-form-item-content {\n  line-height: 0px !important;\n}\n\n.progress {\n  margin-top: 10px;\n}\n</style>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkzCA,OAAAA,SAAA;AACA,SAAAC,QAAA;AACA,OAAAC,YAAA;AACA,OAAAC,cAAA;AACA,OAAAC,eAAA;AACA,OAAAC,UAAA;AACA,OAAAC,OAAA;AACA,OAAAC,SAAA;AACA,OAAAC,MAAA;AACA,OAAAC,UAAA;AACA,SAAAC,eAAA;AACA,SACAC,cAAA,EACAC,eAAA,EACAC,aAAA,EACAC,eAAA,EACAC,iBAAA,EACAC,qBAAA,EACAC,qBAAA,EACAC,gBAAA,EACAC,YAAA,EACAC,WAAA,EACAC,UAAA,IAAAA,WAAA,EACAC,UAAA,EACAC,gBAAA,QACA;AACA,OAAAC,OAAA;AACA,SAAAC,UAAA;AACA,SAAAC,cAAA;;AAEA;EACAC,IAAA;EACAC,UAAA;IACA;IACAzB,cAAA,EAAAA,cAAA;IACAC,eAAA,EAAAA,eAAA;IACAE,OAAA,EAAAA,OAAA;IACAD,UAAA,EAAAA,UAAA;IACAG,MAAA,EAAAA,MAAA;IACAqB,SAAA,EAAA3B,YAAA;IACAK,SAAA,EAAAA,SAAA;IACAE,UAAA,EAAAA,UAAA;IACAT,SAAA,EAAAA;EACA;EACA8B,IAAA,WAAAA,KAAA;IACA;MACAC,SAAA;MACAC,SAAA;MACAC,OAAA,GACA;QAAAC,GAAA;QAAAP,IAAA;MAAA,GACA;QAAAO,GAAA;QAAAP,IAAA;MAAA,GACA;QAAAO,GAAA;QAAAP,IAAA;MAAA,GACA;QAAAO,GAAA;QAAAP,IAAA;MAAA,GACA;QAAAO,GAAA;QAAAP,IAAA;MAAA,GACA;QAAAO,GAAA;QAAAP,IAAA;MAAA,EACA;MACAQ,OAAA,GACA;QAAAD,GAAA;QAAAE,EAAA;QAAAC,IAAA;MAAA,GACA;QAAAH,GAAA;QAAAE,EAAA;QAAAC,IAAA;MAAA,GACA;QAAAH,GAAA;QAAAE,EAAA;QAAAC,IAAA;MAAA,GACA;QAAAH,GAAA;QAAAE,EAAA;QAAAC,IAAA;MAAA,EACA;MACAC,UAAA;MAAA;MACAC,SAAA;MAAA;MACAC,OAAA;MACAC,QAAA;MACAC,OAAA,EAAAlB,OAAA,CAAAmB,UAAA;MACAC,QAAA,EAAApB,OAAA,CAAAmB,UAAA;MACAE,OAAA,EAAArB,OAAA,CAAAmB,UAAA;MACAG,WAAA;MAAA;MACAC,UAAA;MAAA;MACAC,MAAA;MAEAC,IAAA;MACAC,MAAA;MACAC,YAAA;MACAC,QAAA;MACAC,WAAA;MACAC,WAAA;MACAC,WAAA,GACA;QACAC,GAAA;QACAC,KAAA;MACA,EACA;MACAC,KAAA;QACAC,EAAA;QACAC,EAAA;QACAC,EAAA;QACAC,EAAA;QACAC,EAAA;MACA;MACAC,KAAA;QACAL,EAAA;QACAC,EAAA;QACAC,EAAA;QACAC,EAAA;QACAC,EAAA;MACA;MACA;MACAE,YAAA,GACA;QACAC,GAAA;QACAC,KAAA;QACAC,IAAA;QACAC,QAAA;QACAC,KAAA;QACAC,QAAA;QACAC,MAAA;QACAC,MAAA;MACA,EACA;MACA;MACAC,WAAA;QACAC,SAAA;QACAC,QAAA;MACA;MACAC,SAAA;MAAA;MACAC,QAAA;MACAC,OAAA;MACAC,mBAAA;MACAC,KAAA;MACAC,QAAA,GACA;QACAC,KAAA;QACAC,IAAA;QACAC,KAAA;QACAC,QAAA;MACA,GACA;QACAH,KAAA;QACAC,IAAA;QACAC,KAAA;QACAC,QAAA;MACA,GACA;QACAH,KAAA;QACAC,IAAA;QACAC,KAAA;QACAC,QAAA;MACA,GACA;QACAH,KAAA;QACAC,IAAA;QACAC,KAAA;QACAC,QAAA;MACA,GACA;QACAH,KAAA;QACAC,IAAA;QACAC,KAAA;QACAC,QAAA;MACA,GACA;QACAH,KAAA;QACAC,IAAA;QACAC,KAAA;QACAC,QAAA;MACA,GACA;QACAH,KAAA;QACAC,IAAA;QACAC,KAAA;QACAC,QAAA;MACA,GACA;QACAH,KAAA;QACAC,IAAA;QACAC,KAAA;QACAC,QAAA;MACA,GACA;QACAH,KAAA;QACAC,IAAA;QACAG,KAAA;QACAF,KAAA;QACAC,QAAA;MACA,EACA;MACAE,QAAA,GACA;QACAL,KAAA;QACAC,IAAA;QACAC,KAAA;QACAC,QAAA;MACA,GACA;QACAH,KAAA;QACAC,IAAA;QACAC,KAAA;QACAC,QAAA;MACA,GACA;QACAH,KAAA;QACAC,IAAA;QACAC,KAAA;QACAC,QAAA;MACA,GACA;QACAH,KAAA;QACAC,IAAA;QACAC,KAAA;QACAC,QAAA;MACA,GACA;QACAH,KAAA;QACAC,IAAA;QACAC,KAAA;QACAC,QAAA;MACA,GACA;QACAH,KAAA;QACAC,IAAA;QACAC,KAAA;QACAC,QAAA;MACA,GACA;QACAH,KAAA;QACAC,IAAA;QACAC,KAAA;QACAC,QAAA;MACA,GACA;QACAH,KAAA;QACAC,IAAA;QACAG,KAAA;QACAF,KAAA;QACAC,QAAA;MACA,EACA;MACAG,OAAA;MACAC,cAAA;MACAC,cAAA;MACAC,OAAA;QACAjC,EAAA;QACAC,EAAA;QACAC,EAAA;QACAC,EAAA;QACAC,EAAA;MACA;MACA8B,OAAA;QACAlC,EAAA;QACAC,EAAA;QACAC,EAAA;QACAC,EAAA;QACAC,EAAA;MACA;MACA;MACA+B,UAAA,GACA;QACArC,KAAA;QACAsC,KAAA;MACA,GACA;QACAtC,KAAA;QACAsC,KAAA;MACA,GACA;QACAtC,KAAA;QACAsC,KAAA;MACA,GACA;QACAtC,KAAA;QACAsC,KAAA;MACA,GACA;QACAtC,KAAA;QACAsC,KAAA;MACA,GACA;QACAtC,KAAA;QACAsC,KAAA;MACA,GACA;QACAtC,KAAA;QACAsC,KAAA;MACA,GACA;QACAtC,KAAA;QACAsC,KAAA;MACA,EACA;MACAC,SAAA;QACAxD,OAAA;MACA;MAAA;;MAEAyD,YAAA;QACAC,SAAA;QAAA;QACAC,SAAA;QAAA;QACAC,OAAA;QAAA;QACAC,OAAA;QAAA;QACAC,SAAA;QAAA;QACAC,WAAA;QAAA;QACAC,OAAA;QAAA;QACAC,QAAA;QACAC,UAAA;QACAC,SAAA;QACAC,UAAA;QAAA;QACAC,WAAA;QAAA;QACAC,WAAA;QAAA;QACAC,UAAA;QACAC,OAAA;QACAC,QAAA;QACAC,OAAA;QACAC,SAAA;QACAC,UAAA;QACAC,KAAA;QACAC,eAAA;QACAC,YAAA;QACAC,WAAA;QACAC,KAAA;QACAC,aAAA;QACAC,IAAA;QACAC,OAAA;QACAC,MAAA;QACAC,UAAA;QACAC,OAAA;QACAC,MAAA;QACAC,OAAA;QACAC,UAAA;QACAC,MAAA;QACAC,cAAA;QACAC,YAAA;QACA;QACAjG,EAAA;QACAkG,SAAA;QACAC,UAAA;QACAC,UAAA;QACA;QACAC,OAAA;QACAC,KAAA;QACAC,KAAA,GACA;UACAzE,GAAA;UACAC,KAAA;UACAC,IAAA;UACAC,QAAA;UACAC,KAAA;UACAC,QAAA;QACA,EACA;QACAqE,QAAA;QACAC,UAAA;QACA7F,MAAA;QACA8F,UAAA;QACAC,UAAA;QACAC,YAAA;MACA;MACAC,QAAA;MACAC,YAAA;MACAC,SAAA;MACAC,QAAA;MACAC,gBAAA;MACA;MACAC,eAAA,GACA;QACApF,GAAA;QACAC,KAAA;QACAC,IAAA;QACAC,QAAA;QACAC,KAAA;QACAC,QAAA;QACAC,MAAA;QACAC,MAAA;QACA8E,SAAA;QACAC,aAAA;QACAC,SAAA;QACAC,YAAA;QACAC,SAAA;MACA,EACA;MACAC,MAAA;MACAC,WAAA;MACAC,UAAA;MACAC,QAAA;MACAC,IAAA;QACArG,EAAA;QACAC,EAAA;QACAC,EAAA;QACAC,EAAA;QACAC,EAAA;MACA;MACAkG,OAAA;MACAC,QAAA;MACAC,eAAA;MACAC,QAAA;MACAC,UAAA;MACAC,UAAA;MACAC,MAAA;MACAC,UAAA;MACAC,YAAA;QACA1D,UAAA;UAAA2D,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;QACA5D,OAAA,GACA;UACA0D,QAAA;UACAC,OAAA;UACAC,OAAA;UACA3H,IAAA;UACA4H,GAAA;QACA,EACA;QACA1D,SAAA;UAAAuD,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;QACA;QACArD,YAAA,GACA;UACAmD,QAAA;UACAC,OAAA;UACA1H,IAAA;UACA2H,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"}]}