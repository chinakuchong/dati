{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/components/mobileConfigRightDiy/c_upload_img.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/components/mobileConfigRightDiy/c_upload_img.vue","mtime":1689324015159},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/babel.config.js","mtime":1689324015052},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/.babelrc","mtime":1689324015050},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1ZvbHVtZXMvbWFjL3dlYndvcmsvMjAyMy9kYXRpL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AdnVlL2JhYmVsLXByZXNldC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHVwbG9hZFBpY3R1cmVzIGZyb20gJ0AvY29tcG9uZW50cy91cGxvYWRQaWN0dXJlcyc7CmltcG9ydCBzZXR0aW5ncyBmcm9tICdAL3NldHRpbmcnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2NfdXBsb2FkX2ltZycsCiAgY29tcG9uZW50czogewogICAgdXBsb2FkUGljdHVyZXM6IHVwbG9hZFBpY3R1cmVzCiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoewogICAgdGFiVmFsOiBmdW5jdGlvbiB0YWJWYWwoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLm1vYmlsZENvbmZpZy5zZWFyY2hDb25maWcuZGF0YS50YWJWYWw7CiAgICB9CiAgfSkpLAogIHByb3BzOiB7CiAgICBjb25maWdPYmo6IHsKICAgICAgdHlwZTogT2JqZWN0CiAgICB9LAogICAgY29uZmlnTm1lOiB7CiAgICAgIHR5cGU6IFN0cmluZwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRlZmF1bHRMaXN0OiBbewogICAgICAgIG5hbWU6ICdhNDJiZGNjMTE3OGU2MmI0Njk0YzgzMGYwMjhkYjVjMCcsCiAgICAgICAgdXJsOiAnaHR0cHM6Ly9vNXd3azhiYXcucW5zc2wuY29tL2E0MmJkY2MxMTc4ZTYyYjQ2OTRjODMwZjAyOGRiNWMwL2F2YXRhcicKICAgICAgfSwgewogICAgICAgIG5hbWU6ICdiYzc1MjFlMDMzYWJkZDFlOTIyMjJkNzMzNTkwZjEwNCcsCiAgICAgICAgdXJsOiAnaHR0cHM6Ly9vNXd3azhiYXcucW5zc2wuY29tL2JjNzUyMWUwMzNhYmRkMWU5MjIyMmQ3MzM1OTBmMTA0L2F2YXRhcicKICAgICAgfV0sCiAgICAgIGRlZmF1bHRzOiB7fSwKICAgICAgY29uZmlnRGF0YToge30sCiAgICAgIG1vZGFsUGljOiBmYWxzZSwKICAgICAgaXNDaG9pY2U6ICfljZXpgIknLAogICAgICBncmlkQnRuOiB7CiAgICAgICAgeGw6IDQsCiAgICAgICAgbGc6IDgsCiAgICAgICAgbWQ6IDgsCiAgICAgICAgc206IDgsCiAgICAgICAgeHM6IDgKICAgICAgfSwKICAgICAgZ3JpZFBpYzogewogICAgICAgIHhsOiA2LAogICAgICAgIGxnOiA4LAogICAgICAgIG1kOiAxMiwKICAgICAgICBzbTogMTIsCiAgICAgICAgeHM6IDEyCiAgICAgIH0sCiAgICAgIGFjdGl2ZUluZGV4OiAwCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIGNvbmZpZ09iajogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKG5WYWwsIG9WYWwpIHsKICAgICAgICB0aGlzLmRlZmF1bHRzID0gblZhbDsKICAgICAgICB0aGlzLmNvbmZpZ0RhdGEgPSBuVmFsW3RoaXMuY29uZmlnTm1lXTsKICAgICAgfSwKICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgICBkZWVwOiB0cnVlCiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5kZWZhdWx0cyA9IHRoaXMuY29uZmlnT2JqOwogICAgdGhpcy5jb25maWdEYXRhID0gdGhpcy5jb25maWdPYmpbdGhpcy5jb25maWdObWVdOwogIH0sCiAgbWV0aG9kczogewogICAgYmluZERlbGV0ZTogZnVuY3Rpb24gYmluZERlbGV0ZSgpIHsKICAgICAgdGhpcy5jb25maWdEYXRhLnVybCA9ICcnOwogICAgfSwKICAgIC8vIOeCueWHu+WbvuaWh+WwgemdogogICAgbW9kYWxQaWNUYXA6IGZ1bmN0aW9uIG1vZGFsUGljVGFwKHRpdGxlKSB7CiAgICAgIHRoaXMubW9kYWxQaWMgPSB0cnVlOwogICAgfSwKICAgIC8vIOa3u+WKoOiHquWumuS5ieW8ueeqlwogICAgYWRkQ3VzdG9tRGlhbG9nOiBmdW5jdGlvbiBhZGRDdXN0b21EaWFsb2coZWRpdG9ySWQpIHsKICAgICAgd2luZG93LlVFLnJlZ2lzdGVyVUkoJ3Rlc3QtZGlhbG9nJywgZnVuY3Rpb24gKGVkaXRvciwgdWlOYW1lKSB7CiAgICAgICAgdmFyIGRpYWxvZyA9IG5ldyB3aW5kb3cuVUUudWkuRGlhbG9nKHsKICAgICAgICAgIGlmcmFtZVVybDogc2V0dGluZ3Mucm91dGVQcmUgKyAnL3dpZGdldC5pbWFnZXMvaW5kZXguaHRtbD9mb2RkZXI9ZGlhbG9nJywKICAgICAgICAgIGVkaXRvcjogZWRpdG9yLAogICAgICAgICAgbmFtZTogdWlOYW1lLAogICAgICAgICAgdGl0bGU6ICfkuIrkvKDlm77niYcnLAogICAgICAgICAgY3NzUnVsZXM6ICd3aWR0aDoxMjAwcHg7aGVpZ2h0OjUwMHB4O3BhZGRpbmc6MjBweDsnCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5kaWFsb2cgPSBkaWFsb2c7CiAgICAgICAgLy8g5Y+C6ICD5LiK6Z2i55qE6Ieq5a6a5LmJ5oyJ6ZKuCiAgICAgICAgdmFyIGJ0biA9IG5ldyB3aW5kb3cuVUUudWkuQnV0dG9uKHsKICAgICAgICAgIG5hbWU6ICdkaWFsb2ctYnV0dG9uJywKICAgICAgICAgIHRpdGxlOiAn5LiK5Lyg5Zu+54mHJywKICAgICAgICAgIGNzc1J1bGVzOiAiYmFja2dyb3VuZC1pbWFnZTogdXJsKC4uLy4uLy4uL2Fzc2V0cy9pbWFnZXMvaWNvbnMucG5nKTtiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNzI2cHggLTc3cHg7IiwKICAgICAgICAgIG9uY2xpY2s6IGZ1bmN0aW9uIG9uY2xpY2soKSB7CiAgICAgICAgICAgIC8vIOa4suafk2RpYWxvZwogICAgICAgICAgICBkaWFsb2cucmVuZGVyKCk7CiAgICAgICAgICAgIGRpYWxvZy5vcGVuKCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIGJ0bjsKICAgICAgfSwgMzcpOwogICAgfSwKICAgIC8vIOiOt+WPluWbvueJh+S/oeaBrwogICAgZ2V0UGljOiBmdW5jdGlvbiBnZXRQaWMocGMpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLmNvbmZpZ0RhdGEudXJsID0gcGMuYXR0X2RpcjsKICAgICAgICBfdGhpcy5tb2RhbFBpYyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"names":["mapState","uploadPictures","settings","name","components","computed","_objectSpread","tabVal","state","mobildConfig","searchConfig","data","props","configObj","type","Object","configNme","String","defaultList","url","defaults","configData","modalPic","isChoice","gridBtn","xl","lg","md","sm","xs","gridPic","activeIndex","watch","handler","nVal","oVal","immediate","deep","created","methods","bindDelete","modalPicTap","title","addCustomDialog","editorId","window","UE","registerUI","editor","uiName","dialog","ui","Dialog","iframeUrl","routePre","cssRules","btn","Button","onclick","render","open","getPic","pc","_this","$nextTick","att_dir"],"sources":["src/components/mobileConfigRightDiy/c_upload_img.vue"],"sourcesContent":["<template>\n  <div class=\"upload_img\" v-if=\"configData\">\n    <div class=\"header\">{{ configData.header }}</div>\n    <div class=\"title\">{{ configData.title }}</div>\n    <div class=\"box\" @click=\"modalPicTap('单选')\">\n      <img :src=\"configData.url\" alt=\"\" v-if=\"configData.url\" />\n      <div class=\"upload-box\" v-else>\n        <Icon type=\"ios-camera-outline\" size=\"36\" />\n      </div>\n      <span class=\"iconfont-diy icondel_1\" @click.stop=\"bindDelete\" v-if=\"configData.url && configData.type\"></span>\n    </div>\n    <div>\n      <Modal\n        v-model=\"modalPic\"\n        width=\"950px\"\n        scrollable\n        footer-hide\n        closable\n        :title=\"configData.header ? configData.header : '上传图片'\"\n        :mask-closable=\"false\"\n        :z-index=\"1\"\n      >\n        <uploadPictures\n          :isChoice=\"isChoice\"\n          @getPic=\"getPic\"\n          :gridBtn=\"gridBtn\"\n          :gridPic=\"gridPic\"\n          v-if=\"modalPic\"\n        ></uploadPictures>\n      </Modal>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport uploadPictures from '@/components/uploadPictures';\nimport settings from '@/setting';\nexport default {\n  name: 'c_upload_img',\n  components: {\n    uploadPictures,\n  },\n  computed: {\n    ...mapState({\n      tabVal: (state) => state.mobildConfig.searchConfig.data.tabVal,\n    }),\n  },\n  props: {\n    configObj: {\n      type: Object,\n    },\n    configNme: {\n      type: String,\n    },\n  },\n  data() {\n    return {\n      defaultList: [\n        {\n          name: 'a42bdcc1178e62b4694c830f028db5c0',\n          url: 'https://o5wwk8baw.qnssl.com/a42bdcc1178e62b4694c830f028db5c0/avatar',\n        },\n        {\n          name: 'bc7521e033abdd1e92222d733590f104',\n          url: 'https://o5wwk8baw.qnssl.com/bc7521e033abdd1e92222d733590f104/avatar',\n        },\n      ],\n      defaults: {},\n      configData: {},\n      modalPic: false,\n      isChoice: '单选',\n      gridBtn: {\n        xl: 4,\n        lg: 8,\n        md: 8,\n        sm: 8,\n        xs: 8,\n      },\n      gridPic: {\n        xl: 6,\n        lg: 8,\n        md: 12,\n        sm: 12,\n        xs: 12,\n      },\n      activeIndex: 0,\n    };\n  },\n  watch: {\n    configObj: {\n      handler(nVal, oVal) {\n        this.defaults = nVal;\n        this.configData = nVal[this.configNme];\n      },\n      immediate: true,\n      deep: true,\n    },\n  },\n  created() {\n    this.defaults = this.configObj;\n    this.configData = this.configObj[this.configNme];\n  },\n  methods: {\n    bindDelete() {\n      this.configData.url = '';\n    },\n    // 点击图文封面\n    modalPicTap(title) {\n      this.modalPic = true;\n    },\n    // 添加自定义弹窗\n    addCustomDialog(editorId) {\n      window.UE.registerUI(\n        'test-dialog',\n        function (editor, uiName) {\n          let dialog = new window.UE.ui.Dialog({\n            iframeUrl: settings.routePre + '/widget.images/index.html?fodder=dialog',\n            editor: editor,\n            name: uiName,\n            title: '上传图片',\n            cssRules: 'width:1200px;height:500px;padding:20px;',\n          });\n          this.dialog = dialog;\n          // 参考上面的自定义按钮\n          var btn = new window.UE.ui.Button({\n            name: 'dialog-button',\n            title: '上传图片',\n            cssRules: `background-image: url(../../../assets/images/icons.png);background-position: -726px -77px;`,\n            onclick: function () {\n              // 渲染dialog\n              dialog.render();\n              dialog.open();\n            },\n          });\n\n          return btn;\n        },\n        37,\n      );\n    },\n    // 获取图片信息\n    getPic(pc) {\n      this.$nextTick(() => {\n        this.configData.url = pc.att_dir;\n        this.modalPic = false;\n      });\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"stylus\">\n.header {\n  font-size: 14px;\n  color: #000;\n}\n\n.title {\n  margin-bottom: 10px;\n  padding-bottom: 10px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.05);\n  font-size: 12px;\n  color: #999;\n}\n\n.box {\n  width: 60px;\n  height: 60px;\n  margin-bottom: 10px;\n  position: relative;\n\n  .iconfont-diy {\n    position: absolute;\n    top: -15px;\n    right: -8px;\n    font-size: 25px;\n    color: #999;\n  }\n\n  img {\n    width: 100%;\n    height: 100%;\n    background-color: #f2f2f2;\n  }\n}\n\n.upload-box {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 60px;\n  height: 60px;\n  background: #ccc;\n}\n</style>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA,SAAAA,QAAA;AACA,OAAAC,cAAA;AACA,OAAAC,QAAA;AACA;EACAC,IAAA;EACAC,UAAA;IACAH,cAAA,EAAAA;EACA;EACAI,QAAA,EAAAC,aAAA,KACAN,QAAA;IACAO,MAAA,WAAAA,OAAAC,KAAA;MAAA,OAAAA,KAAA,CAAAC,YAAA,CAAAC,YAAA,CAAAC,IAAA,CAAAJ,MAAA;IAAA;EACA,GACA;EACAK,KAAA;IACAC,SAAA;MACAC,IAAA,EAAAC;IACA;IACAC,SAAA;MACAF,IAAA,EAAAG;IACA;EACA;EACAN,IAAA,WAAAA,KAAA;IACA;MACAO,WAAA,GACA;QACAf,IAAA;QACAgB,GAAA;MACA,GACA;QACAhB,IAAA;QACAgB,GAAA;MACA,EACA;MACAC,QAAA;MACAC,UAAA;MACAC,QAAA;MACAC,QAAA;MACAC,OAAA;QACAC,EAAA;QACAC,EAAA;QACAC,EAAA;QACAC,EAAA;QACAC,EAAA;MACA;MACAC,OAAA;QACAL,EAAA;QACAC,EAAA;QACAC,EAAA;QACAC,EAAA;QACAC,EAAA;MACA;MACAE,WAAA;IACA;EACA;EACAC,KAAA;IACAnB,SAAA;MACAoB,OAAA,WAAAA,QAAAC,IAAA,EAAAC,IAAA;QACA,KAAAf,QAAA,GAAAc,IAAA;QACA,KAAAb,UAAA,GAAAa,IAAA,MAAAlB,SAAA;MACA;MACAoB,SAAA;MACAC,IAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAlB,QAAA,QAAAP,SAAA;IACA,KAAAQ,UAAA,QAAAR,SAAA,MAAAG,SAAA;EACA;EACAuB,OAAA;IACAC,UAAA,WAAAA,WAAA;MACA,KAAAnB,UAAA,CAAAF,GAAA;IACA;IACA;IACAsB,WAAA,WAAAA,YAAAC,KAAA;MACA,KAAApB,QAAA;IACA;IACA;IACAqB,eAAA,WAAAA,gBAAAC,QAAA;MACAC,MAAA,CAAAC,EAAA,CAAAC,UAAA,CACA,eACA,UAAAC,MAAA,EAAAC,MAAA;QACA,IAAAC,MAAA,OAAAL,MAAA,CAAAC,EAAA,CAAAK,EAAA,CAAAC,MAAA;UACAC,SAAA,EAAAnD,QAAA,CAAAoD,QAAA;UACAN,MAAA,EAAAA,MAAA;UACA7C,IAAA,EAAA8C,MAAA;UACAP,KAAA;UACAa,QAAA;QACA;QACA,KAAAL,MAAA,GAAAA,MAAA;QACA;QACA,IAAAM,GAAA,OAAAX,MAAA,CAAAC,EAAA,CAAAK,EAAA,CAAAM,MAAA;UACAtD,IAAA;UACAuC,KAAA;UACAa,QAAA;UACAG,OAAA,WAAAA,QAAA;YACA;YACAR,MAAA,CAAAS,MAAA;YACAT,MAAA,CAAAU,IAAA;UACA;QACA;QAEA,OAAAJ,GAAA;MACA,GACA,GACA;IACA;IACA;IACAK,MAAA,WAAAA,OAAAC,EAAA;MAAA,IAAAC,KAAA;MACA,KAAAC,SAAA;QACAD,KAAA,CAAA1C,UAAA,CAAAF,GAAA,GAAA2C,EAAA,CAAAG,OAAA;QACAF,KAAA,CAAAzC,QAAA;MACA;IACA;EACA;AACA"}]}