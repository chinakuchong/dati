{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/pages/kefu/pc/components/delivery.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/pages/kefu/pc/components/delivery.vue","mtime":1689324015215},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/babel.config.js","mtime":1689324015052},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/.babelrc","mtime":1689324015050},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKaW1wb3J0IHsgb3JkZXJFeHBvcnQsIG9yZGVyVGVtcCwgb3JkZXJEZWxpdmVyeUFsbCwgb3JkZXJEZWxpdmVyeSwgZ2V0U2VuZGVyIH0gZnJvbSAnQC9hcGkva2VmdSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnZGVsaXZlcnknLAogIHByb3BzOiB7CiAgICBpc1Nob3c6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBvcmRlcklkOiB7CiAgICAgIHR5cGU6IFN0cmluZyB8IE51bWJlciwKICAgICAgZGVmYXVsdDogJycKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICAnZm9ybVZhbGlkYXRlLnNoaXBTdGF0dXMnOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIoblZhbCwgb1ZhbCkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgICAgaWYgKG5WYWwgPT0gMiAmJiAhdGhpcy5mb3JtVmFsaWRhdGUuc2VuZE5hbWUpIHsKICAgICAgICAgIGdldFNlbmRlcigpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBfdGhpcy5mb3JtVmFsaWRhdGUuc2VuZE5hbWUgPSByZXMuZGF0YS50b19uYW1lOwogICAgICAgICAgICBfdGhpcy5mb3JtVmFsaWRhdGUuc2VuZFBob25lID0gcmVzLmRhdGEudG9fdGVsOwogICAgICAgICAgICBfdGhpcy5mb3JtVmFsaWRhdGUuc2VuZEFkZHJlc3MgPSByZXMuZGF0YS50b19hZGQ7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgdGhpcy4kcmVmc1snZm9ybVZhbGlkYXRlJ10ucmVzZXRGaWVsZHMoKTsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfSwKICAgICdmb3JtVmFsaWRhdGUuZ2VuZGVyJzogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKG5WYWwsIG9WYWwpIHsKICAgICAgICB0aGlzLiRyZWZzWydmb3JtVmFsaWRhdGUnXS5yZXNldEZpZWxkcygpOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hpcFR5cGU6IFt7CiAgICAgICAga2V5OiAxLAogICAgICAgIHRpdGxlOiAn5omL5Yqo5aGr5YaZJwogICAgICB9LCB7CiAgICAgICAga2V5OiAyLAogICAgICAgIHRpdGxlOiAn55S15a2Q6Z2i5Y2V5omT5Y2wJwogICAgICB9XSwKICAgICAgcmFkaW9MaXN0OiBbewogICAgICAgIGtleTogMSwKICAgICAgICB0aXRsZTogJ+WPkei0pycKICAgICAgfSwgewogICAgICAgIGtleTogMiwKICAgICAgICB0aXRsZTogJ+mAgei0pycKICAgICAgfSwgewogICAgICAgIGtleTogMywKICAgICAgICB0aXRsZTogJ+iZmuaLnycKICAgICAgfV0sCiAgICAgIHJ1bGVJbmxpbmU6IHsKICAgICAgICBsb2dpc3RpY3NDb2RlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup5b+r6YCS5YWs5Y+4JywKICAgICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgICAgfV0sCiAgICAgICAgbnVtYmVyOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+35aGr5YaZ5b+r6YCS5Y2V5Y+3JywKICAgICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgICAgfV0sCiAgICAgICAgc2VuZE5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7floavlhpnlr4Tku7bkurrlp5PlkI0nLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICB9XSwKICAgICAgICBzZW5kUGhvbmU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7floavlhpnlr4Tku7bkurrmiYvmnLonLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICB9LCB7CiAgICAgICAgICBwYXR0ZXJuOiAvXjFbMzQ1Njc4OV1cZHs5fSQvLAogICAgICAgICAgbWVzc2FnZTogJ+aJi+acuuWPt+eggeagvOW8j+S4jeato+ehricsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBzZW5kQWRkcmVzczogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+Whq+WGmeWvhOS7tuS6uuWcsOWdgCcsCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICAgIH1dLAogICAgICAgIG1zZzogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+Whq+WGmeWkh+azqOS/oeaBrycsCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIGZvcm1WYWxpZGF0ZTogewogICAgICAgIGdlbmRlcjogMSwKICAgICAgICBzaGlwU3RhdHVzOiAxLAogICAgICAgIGxvZ2lzdGljc0NvZGU6ICcnLAogICAgICAgIC8vIOW/q+mAkuWFrOWPuOe8luWPtwogICAgICAgIGxvZ2lzdGljc05hbWU6ICcnLAogICAgICAgIC8vIOW/q+mAkuWFrOWPuOWQjeensAogICAgICAgIG51bWJlcjogJycsCiAgICAgICAgLy8g5b+r6YCS5Y2V5Y+3CiAgICAgICAgZWxlY3Ryb25pYzogJycsCiAgICAgICAgLy/nlLXlrZDpnaLljZUKICAgICAgICBzZW5kTmFtZTogJycsCiAgICAgICAgLy/lr4Tku7bkurrlp5PlkI0KICAgICAgICBzZW5kUGhvbmU6ICcnLAogICAgICAgIC8vIOWvhOS7tuS6uueUteivnQogICAgICAgIHNlbmRBZGRyZXNzOiAnJywKICAgICAgICAvL+WvhOS7tuS6uuWcsOWdgAogICAgICAgIHBvc3RQZW9wbGU6ICcnLAogICAgICAgIC8vIOmFjemAgeWRmAogICAgICAgIG1zZzogJycgLy8g5aSH5rOoCiAgICAgIH0sCgogICAgICBsb2dpc3RpY3NMaXN0OiBbXSwKICAgICAgb3JkZXJUZW1wTGlzdDogW10sCiAgICAgIGRlbGl2ZXJ5TGlzdDogW10KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXRPcmRlckV4cG9ydCgpOwogICAgdGhpcy5nZXREZWxpdmVyeSgpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g6I635Y+W6YWN6YCB5Lq6CiAgICBnZXREZWxpdmVyeTogZnVuY3Rpb24gZ2V0RGVsaXZlcnkoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICBvcmRlckRlbGl2ZXJ5QWxsKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMyLmRlbGl2ZXJ5TGlzdCA9IHJlcy5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICAvL+afpeeci+Wkp+WbvgogICAgaW5pdGVkOiBmdW5jdGlvbiBpbml0ZWQodmlld2VyKSB7CiAgICAgIHRoaXMuJHZpZXdlciA9IHZpZXdlcjsKICAgIH0sCiAgICAvL+eJqea1geWFrOWPuAogICAgZ2V0T3JkZXJFeHBvcnQ6IGZ1bmN0aW9uIGdldE9yZGVyRXhwb3J0KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgb3JkZXJFeHBvcnQoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczMubG9naXN0aWNzTGlzdCA9IHJlcy5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVTdWJtaXQ6IGZ1bmN0aW9uIGhhbmRsZVN1Ym1pdChuYW1lKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICBpZiAodGhpcy5mb3JtVmFsaWRhdGUuZ2VuZGVyID09IDEpIHsKICAgICAgICB0aGlzLiRyZWZzW25hbWVdLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgICAgdmFyIHBhcmFtc0RhdGEgPSB7fTsKICAgICAgICAgIHBhcmFtc0RhdGEudHlwZSA9IF90aGlzNC5mb3JtVmFsaWRhdGUuZ2VuZGVyOwogICAgICAgICAgcGFyYW1zRGF0YS5leHByZXNzX3JlY29yZF90eXBlID0gcGFyc2VGbG9hdChfdGhpczQuZm9ybVZhbGlkYXRlLnNoaXBTdGF0dXMpOwogICAgICAgICAgcGFyYW1zRGF0YS5kZWxpdmVyeV9uYW1lID0gX3RoaXM0LmZvcm1WYWxpZGF0ZS5sb2dpc3RpY3NOYW1lOwogICAgICAgICAgcGFyYW1zRGF0YS5kZWxpdmVyeV9jb2RlID0gX3RoaXM0LmZvcm1WYWxpZGF0ZS5sb2dpc3RpY3NDb2RlOwogICAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAgIC8vIOaJi+WKqAogICAgICAgICAgICBpZiAoX3RoaXM0LmZvcm1WYWxpZGF0ZS5nZW5kZXIgPT0gMSAmJiBfdGhpczQuZm9ybVZhbGlkYXRlLnNoaXBTdGF0dXMgPT0gMSkgewogICAgICAgICAgICAgIHBhcmFtc0RhdGEuZGVsaXZlcnlfaWQgPSBfdGhpczQuZm9ybVZhbGlkYXRlLm51bWJlcjsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyDnlLXlrZAKICAgICAgICAgICAgaWYgKF90aGlzNC5mb3JtVmFsaWRhdGUuZ2VuZGVyID09IDEgJiYgX3RoaXM0LmZvcm1WYWxpZGF0ZS5zaGlwU3RhdHVzID09IDIpIHsKICAgICAgICAgICAgICBwYXJhbXNEYXRhLnRvX25hbWUgPSBfdGhpczQuZm9ybVZhbGlkYXRlLnNlbmROYW1lOwogICAgICAgICAgICAgIHBhcmFtc0RhdGEudG9fdGVsID0gX3RoaXM0LmZvcm1WYWxpZGF0ZS5zZW5kUGhvbmU7CiAgICAgICAgICAgICAgcGFyYW1zRGF0YS50b19hZGRyID0gX3RoaXM0LmZvcm1WYWxpZGF0ZS5zZW5kQWRkcmVzczsKICAgICAgICAgICAgICBwYXJhbXNEYXRhLmV4cHJlc3NfdGVtcF9pZCA9IF90aGlzNC5mb3JtVmFsaWRhdGUuZWxlY3Ryb25pYzsKICAgICAgICAgICAgfQogICAgICAgICAgICBvcmRlckRlbGl2ZXJ5KF90aGlzNC5vcmRlcklkLCBwYXJhbXNEYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICBfdGhpczQuJE1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICAgICAgICBfdGhpczQuJGVtaXQoJ29rJyk7CiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgIF90aGlzNC4kTWVzc2FnZS5lcnJvcihlcnJvci5tc2cpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7fQogICAgICAgIH0pOwogICAgICB9CiAgICAgIGlmICh0aGlzLmZvcm1WYWxpZGF0ZS5nZW5kZXIgPT0gMikgewogICAgICAgIHZhciBwZW9wbGUgPSB7fTsKICAgICAgICB0aGlzLmRlbGl2ZXJ5TGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChlbCwgaW5kZXgpIHsKICAgICAgICAgIGlmIChlbC5pZCA9PSBfdGhpczQuZm9ybVZhbGlkYXRlLnBvc3RQZW9wbGUpIHsKICAgICAgICAgICAgcGVvcGxlID0gZWw7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgb3JkZXJEZWxpdmVyeSh0aGlzLm9yZGVySWQsIHsKICAgICAgICAgIHR5cGU6IHRoaXMuZm9ybVZhbGlkYXRlLmdlbmRlciwKICAgICAgICAgIHNoX2RlbGl2ZXJ5X25hbWU6IHBlb3BsZS53eF9uYW1lLAogICAgICAgICAgc2hfZGVsaXZlcnlfaWQ6IHBlb3BsZS5waG9uZSwKICAgICAgICAgIHNoX2RlbGl2ZXJ5X3VpZDogcGVvcGxlLmlkCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBfdGhpczQuJE1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICAgIF90aGlzNC4kZW1pdCgnb2snKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIF90aGlzNC4kTWVzc2FnZS5lcnJvcihlcnJvci5tc2cpOwogICAgICAgIH0pOwogICAgICB9CiAgICAgIGlmICh0aGlzLmZvcm1WYWxpZGF0ZS5nZW5kZXIgPT0gMykgewogICAgICAgIG9yZGVyRGVsaXZlcnkodGhpcy5vcmRlcklkLCB7CiAgICAgICAgICB0eXBlOiB0aGlzLmZvcm1WYWxpZGF0ZS5nZW5kZXIsCiAgICAgICAgICByZW1hcms6IHRoaXMuZm9ybVZhbGlkYXRlLm1zZwogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXM0LiRNZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICBfdGhpczQuJGVtaXQoJ29rJyk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBfdGhpczQuJE1lc3NhZ2UuZXJyb3IoZXJyb3IubXNnKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgdGhpcy4kZW1pdCgnY2xvc2UnKTsKICAgIH0sCiAgICAvLyDnianmtYHpgInkuK0KICAgIGJpbmRDaGFuZ2U6IGZ1bmN0aW9uIGJpbmRDaGFuZ2UodmFsKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5sb2dpc3RpY3NOYW1lID0gdmFsLmxhYmVsOwogICAgICBpZiAodGhpcy5mb3JtVmFsaWRhdGUuc2hpcFN0YXR1cyA9PSAyKSB7CiAgICAgICAgb3JkZXJUZW1wKHsKICAgICAgICAgIGNvbTogdmFsLnZhbHVlCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBfdGhpczUub3JkZXJUZW1wTGlzdCA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBsb29rSW1nOiBmdW5jdGlvbiBsb29rSW1nKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKICAgICAgaWYgKHRoaXMuZm9ybVZhbGlkYXRlLmVsZWN0cm9uaWMpIHsKICAgICAgICB0aGlzLm9yZGVyVGVtcExpc3QuZm9yRWFjaChmdW5jdGlvbiAoZWwsIGluZGV4KSB7CiAgICAgICAgICBpZiAoZWwudGVtcF9pZCA9PSBfdGhpczYuZm9ybVZhbGlkYXRlLmVsZWN0cm9uaWMpIHsKICAgICAgICAgICAgX3RoaXM2LiR2aWV3ZXIudmlldyhpbmRleCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcign6K+36YCJ5oup55S15a2Q6Z2i5Y2VJyk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"names":["orderExport","orderTemp","orderDeliveryAll","orderDelivery","getSender","name","props","isShow","type","Boolean","default","orderId","String","Number","watch","handler","nVal","oVal","_this","formValidate","sendName","then","res","data","to_name","sendPhone","to_tel","sendAddress","to_add","$refs","resetFields","deep","shipType","key","title","radioList","ruleInline","logisticsCode","required","message","trigger","number","pattern","msg","gender","shipStatus","logisticsName","electronic","postPeople","logisticsList","orderTempList","deliveryList","mounted","getOrderExport","getDelivery","methods","_this2","inited","viewer","$viewer","_this3","handleSubmit","_this4","validate","valid","paramsData","express_record_type","parseFloat","delivery_name","delivery_code","delivery_id","to_addr","express_temp_id","$Message","success","$emit","catch","error","people","forEach","el","index","id","sh_delivery_name","wx_name","sh_delivery_id","phone","sh_delivery_uid","remark","close","bindChange","val","_this5","label","com","value","lookImg","_this6","temp_id","view"],"sources":["src/pages/kefu/pc/components/delivery.vue"],"sourcesContent":["<template>\n  <div>\n    <Form ref=\"formValidate\" :model=\"formValidate\" :rules=\"ruleInline\" inline>\n      <FormItem label=\"选择类型：\" class=\"form-item\" label-position=\"right\" :label-width=\"100\">\n        <RadioGroup v-model=\"formValidate.gender\">\n          <Radio :label=\"item.key\" v-for=\"(item, index) in radioList\" :key=\"index\">{{ item.title }}</Radio>\n        </RadioGroup>\n      </FormItem>\n      <FormItem\n        v-if=\"formValidate.gender == 1\"\n        label=\"发货类型：\"\n        class=\"form-item\"\n        label-position=\"right\"\n        :label-width=\"100\"\n        :key=\"'test0'\"\n      >\n        <RadioGroup v-model=\"formValidate.shipStatus\">\n          <Radio :label=\"item.key\" v-for=\"(item, index) in shipType\" :key=\"index\">{{ item.title }}</Radio>\n        </RadioGroup>\n      </FormItem>\n      <!--  发货手动填写  -->\n      <div v-if=\"formValidate.gender == 1 && formValidate.shipStatus == 1\" :key=\"'test1'\">\n        <FormItem label=\"快递公司：\" prop=\"logisticsCode\" class=\"form-item\" label-position=\"right\" :label-width=\"100\">\n          <Select\n            v-model=\"formValidate.logisticsCode\"\n            filterable\n            placeholder=\"请选择\"\n            @on-change=\"bindChange\"\n            :label-in-value=\"true\"\n            style=\"width: 100%\"\n          >\n            <Option :value=\"item.code\" v-for=\"(item, index) in logisticsList\" :key=\"index\">{{ item.value }}</Option>\n          </Select>\n        </FormItem>\n        <FormItem label=\"快递单号：\" prop=\"number\" class=\"form-item\" label-position=\"right\" :label-width=\"100\">\n          <Input v-model=\"formValidate.number\" placeholder=\"请输入快递单号\" style=\"width: 100%\"></Input>\n        </FormItem>\n        <FormItem label=\"\" class=\"form-item\" label-position=\"right\" :label-width=\"100\">\n          <div style=\"color: #c4c4c4\">顺丰请输入单号：收件人或寄件人手机号后四位,</div>\n          <div style=\"color: #c4c4c4\">例如：SF000000000000:3941</div>\n        </FormItem>\n      </div>\n      <!--  电子面单打印  -->\n      <div v-if=\"formValidate.gender == 1 && formValidate.shipStatus == 2\" :key=\"'test2'\">\n        <FormItem label=\"快递公司：\" prop=\"logisticsCode\" class=\"form-item\" label-position=\"right\" :label-width=\"100\">\n          <Select\n            v-model=\"formValidate.logisticsCode\"\n            placeholder=\"请选择\"\n            style=\"width: 100%\"\n            @on-change=\"bindChange\"\n            filterable\n            :label-in-value=\"true\"\n          >\n            <Option :value=\"item.code\" v-for=\"(item, index) in logisticsList\" :key=\"index\">{{ item.value }}</Option>\n          </Select>\n        </FormItem>\n        <FormItem\n          label=\"电子面单：\"\n          class=\"form-item\"\n          label-position=\"right\"\n          :label-width=\"100\"\n          v-if=\"orderTempList.length > 0\"\n        >\n          <Select v-model=\"formValidate.electronic\" placeholder=\"请选择电子面单\" style=\"width: 80%\">\n            <Option :value=\"item.temp_id\" v-for=\"(item, index) in orderTempList\" :key=\"index\">{{ item.title }}</Option>\n          </Select>\n          <Button style=\"flex: 1; margin-left: 21px\" @click=\"lookImg\">预览</Button>\n          <viewer :images=\"orderTempList\" class=\"viewer\" ref=\"viewer\" @inited=\"inited\" style=\"display: none\">\n            <img v-for=\"src in orderTempList\" :src=\"src.pic\" :key=\"src.id\" class=\"image\" />\n          </viewer>\n        </FormItem>\n        <FormItem label=\"寄件人姓名：\" prop=\"sendName\" class=\"form-item\" label-position=\"right\" :label-width=\"100\">\n          <Input v-model=\"formValidate.sendName\" placeholder=\"请输入寄件人姓名\" style=\"width: 100%\"></Input>\n        </FormItem>\n        <FormItem label=\"寄件人电话：\" prop=\"sendPhone\" class=\"form-item\" label-position=\"right\" :label-width=\"100\">\n          <Input v-model=\"formValidate.sendPhone\" placeholder=\"请输入寄件人电话\" style=\"width: 100%\"></Input>\n        </FormItem>\n        <FormItem label=\"寄件人地址：\" prop=\"sendAddress\" class=\"form-item\" label-position=\"right\" :label-width=\"100\">\n          <Input v-model=\"formValidate.sendAddress\" placeholder=\"请输入寄件人地址\" style=\"width: 100%\"></Input>\n        </FormItem>\n      </div>\n      <!--  送货  -->\n      <div v-if=\"formValidate.gender == 2\" :key=\"'test3'\">\n        <FormItem label=\"选择送货人：\" class=\"form-item\" label-position=\"right\" :label-width=\"100\">\n          <Select v-model=\"formValidate.postPeople\" placeholder=\"选择送货人\" style=\"width: 100%\">\n            <Option :value=\"item.id\" v-for=\"(item, index) in deliveryList\" :key=\"index\">{{ item.nickname }}</Option>\n          </Select>\n        </FormItem>\n      </div>\n      <div v-if=\"formValidate.gender == 3\">\n        <FormItem label=\"备注：\" props=\"msg\" class=\"form-item\" label-position=\"right\" :label-width=\"100\">\n          <Input placeholder=\"备注\" v-model=\"formValidate.msg\" />\n        </FormItem>\n      </div>\n      <div class=\"mask-footer\">\n        <Button type=\"primary\" @click=\"handleSubmit('formValidate')\">提交</Button>\n        <Button @click=\"close\">取消</Button>\n      </div>\n    </Form>\n  </div>\n</template>\n\n<script>\nimport { orderExport, orderTemp, orderDeliveryAll, orderDelivery, getSender } from '@/api/kefu';\nexport default {\n  name: 'delivery',\n  props: {\n    isShow: {\n      type: Boolean,\n      default: false,\n    },\n    orderId: {\n      type: String | Number,\n      default: '',\n    },\n  },\n  watch: {\n    'formValidate.shipStatus': {\n      handler(nVal, oVal) {\n        if (nVal == 2 && !this.formValidate.sendName) {\n          getSender().then((res) => {\n            this.formValidate.sendName = res.data.to_name;\n            this.formValidate.sendPhone = res.data.to_tel;\n            this.formValidate.sendAddress = res.data.to_add;\n          });\n        }\n        this.$refs['formValidate'].resetFields();\n      },\n      deep: true,\n    },\n    'formValidate.gender': {\n      handler(nVal, oVal) {\n        this.$refs['formValidate'].resetFields();\n      },\n      deep: true,\n    },\n  },\n  data() {\n    return {\n      shipType: [\n        {\n          key: 1,\n          title: '手动填写',\n        },\n        {\n          key: 2,\n          title: '电子面单打印',\n        },\n      ],\n      radioList: [\n        {\n          key: 1,\n          title: '发货',\n        },\n        {\n          key: 2,\n          title: '送货',\n        },\n        {\n          key: 3,\n          title: '虚拟',\n        },\n      ],\n      ruleInline: {\n        logisticsCode: [{ required: true, message: '请选择快递公司', trigger: 'change' }],\n        number: [{ required: true, message: '请填写快递单号', trigger: 'change' }],\n        sendName: [{ required: true, message: '请填写寄件人姓名', trigger: 'change' }],\n        sendPhone: [\n          { required: true, message: '请填写寄件人手机', trigger: 'change' },\n          { pattern: /^1[3456789]\\d{9}$/, message: '手机号码格式不正确', trigger: 'blur' },\n        ],\n        sendAddress: [{ required: true, message: '请填写寄件人地址', trigger: 'change' }],\n        msg: [{ required: true, message: '请填写备注信息', trigger: 'change' }],\n      },\n      formValidate: {\n        gender: 1,\n        shipStatus: 1,\n        logisticsCode: '', // 快递公司编号\n        logisticsName: '', // 快递公司名称\n        number: '', // 快递单号\n        electronic: '', //电子面单\n        sendName: '', //寄件人姓名\n        sendPhone: '', // 寄件人电话\n        sendAddress: '', //寄件人地址\n        postPeople: '', // 配送员\n        msg: '', // 备注\n      },\n      logisticsList: [],\n      orderTempList: [],\n      deliveryList: [],\n    };\n  },\n  mounted() {\n    this.getOrderExport();\n    this.getDelivery();\n  },\n  methods: {\n    // 获取配送人\n    getDelivery() {\n      orderDeliveryAll().then((res) => {\n        this.deliveryList = res.data;\n      });\n    },\n    //查看大图\n    inited(viewer) {\n      this.$viewer = viewer;\n    },\n    //物流公司\n    getOrderExport() {\n      orderExport().then((res) => {\n        this.logisticsList = res.data;\n      });\n    },\n    handleSubmit(name) {\n      if (this.formValidate.gender == 1) {\n        this.$refs[name].validate((valid) => {\n          let paramsData = {};\n          paramsData.type = this.formValidate.gender;\n          paramsData.express_record_type = parseFloat(this.formValidate.shipStatus);\n          paramsData.delivery_name = this.formValidate.logisticsName;\n          paramsData.delivery_code = this.formValidate.logisticsCode;\n          if (valid) {\n            // 手动\n            if (this.formValidate.gender == 1 && this.formValidate.shipStatus == 1) {\n              paramsData.delivery_id = this.formValidate.number;\n            }\n            // 电子\n            if (this.formValidate.gender == 1 && this.formValidate.shipStatus == 2) {\n              paramsData.to_name = this.formValidate.sendName;\n              paramsData.to_tel = this.formValidate.sendPhone;\n              paramsData.to_addr = this.formValidate.sendAddress;\n              paramsData.express_temp_id = this.formValidate.electronic;\n            }\n            orderDelivery(this.orderId, paramsData)\n              .then((res) => {\n                this.$Message.success(res.msg);\n                this.$emit('ok');\n              })\n              .catch((error) => {\n                this.$Message.error(error.msg);\n              });\n          } else {\n          }\n        });\n      }\n      if (this.formValidate.gender == 2) {\n        let people = {};\n        this.deliveryList.forEach((el, index) => {\n          if (el.id == this.formValidate.postPeople) {\n            people = el;\n          }\n        });\n        orderDelivery(this.orderId, {\n          type: this.formValidate.gender,\n          sh_delivery_name: people.wx_name,\n          sh_delivery_id: people.phone,\n          sh_delivery_uid: people.id,\n        })\n          .then((res) => {\n            this.$Message.success(res.msg);\n            this.$emit('ok');\n          })\n          .catch((error) => {\n            this.$Message.error(error.msg);\n          });\n      }\n      if (this.formValidate.gender == 3) {\n        orderDelivery(this.orderId, {\n          type: this.formValidate.gender,\n          remark: this.formValidate.msg,\n        })\n          .then((res) => {\n            this.$Message.success(res.msg);\n            this.$emit('ok');\n          })\n          .catch((error) => {\n            this.$Message.error(error.msg);\n          });\n      }\n    },\n    close() {\n      this.$emit('close');\n    },\n    // 物流选中\n    bindChange(val) {\n      this.formValidate.logisticsName = val.label;\n      if (this.formValidate.shipStatus == 2) {\n        orderTemp({\n          com: val.value,\n        }).then((res) => {\n          this.orderTempList = res.data.data;\n        });\n      }\n    },\n    lookImg() {\n      if (this.formValidate.electronic) {\n        this.orderTempList.forEach((el, index) => {\n          if (el.temp_id == this.formValidate.electronic) {\n            this.$viewer.view(index);\n          }\n        });\n      } else {\n        this.$Message.error('请选择电子面单');\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n.form-item\n    width 100%\n</style>\n"],"mappings":"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"}]}