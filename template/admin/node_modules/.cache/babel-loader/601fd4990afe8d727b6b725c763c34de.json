{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js!/Volumes/mac/webwork/2023/dati/template/admin/src/pages/setting/systemOutInterface/request.js","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/pages/setting/systemOutInterface/request.js","mtime":1689324015263},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/babel.config.js","mtime":1689324015052},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/.babelrc","mtime":1689324015050},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgU2V0dGluZyBmcm9tICdAL3NldHRpbmcnOwppbXBvcnQgeyBnZXRDb29raWVzLCByZW1vdmVDb29raWVzIH0gZnJvbSAnQC9saWJzL3V0aWwnOwp2YXIgc2VydmljZSA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogU2V0dGluZy5hcGlCYXNlVVJMLAogIHRpbWVvdXQ6IDEwMDAwIC8vIOivt+axgui2heaXtuaXtumXtAp9KTsKCmF4aW9zLmRlZmF1bHRzLndpdGhDcmVkZW50aWFscyA9IHRydWU7IC8vIOaQuuW4pmNvb2tpZQoKLy8g6K+35rGC5oum5oiq5ZmoCnNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICBpZiAoY29uZmlnLmtlZnUpIHsKICAgIHZhciBiYXNlVXJsID0gU2V0dGluZy5hcGlCYXNlVVJMLnJlcGxhY2UoL2FkbWluYXBpLywgJ2tlZnVhcGknKTsKICAgIGNvbmZpZy5iYXNlVVJMID0gYmFzZVVybDsKICB9IGVsc2UgewogICAgY29uZmlnLmJhc2VVUkwgPSBTZXR0aW5nLmFwaUJhc2VVUkw7CiAgfQogIGlmIChjb25maWcuZmlsZSkgewogICAgY29uZmlnLmhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddID0gJ211bHRpcGFydC9mb3JtLWRhdGEnOwogIH0KICB0cnkgewogICAgaWYgKGNvbmZpZy5oZWFkZXJJdGVtKSB7CiAgICAgIGZvciAodmFyIGkgaW4gY29uZmlnLmhlYWRlckl0ZW0pIHsKICAgICAgICBjb25maWcuaGVhZGVyc1tpXSA9IGNvbmZpZy5oZWFkZXJJdGVtW2ldOwogICAgICB9CiAgICB9CiAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICB9CiAgdmFyIHRva2VuID0gZ2V0Q29va2llcygndG9rZW4nKTsKICB2YXIga2VmdVRva2VuID0gZ2V0Q29va2llcygna2VmdV90b2tlbicpOwogIGlmICh0b2tlbiB8fCBrZWZ1VG9rZW4pIHsKICAgIGNvbmZpZy5oZWFkZXJzWydBdXRob3JpLXphdGlvbiddID0gY29uZmlnLmtlZnUgPyAnQmVhcmVyICcgKyBrZWZ1VG9rZW4gOiAnQmVhcmVyICcgKyB0b2tlbjsKICB9CiAgcmV0dXJuIGNvbmZpZzsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgLy8gZG8gc29tZXRoaW5nIHdpdGggcmVxdWVzdCBlcnJvcgogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwpzZXJ2aWNlLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgdmFyIG9iaiA9IHt9OwogIGlmICghIXJlc3BvbnNlLmRhdGEpIHsKICAgIGlmICh0eXBlb2YgcmVzcG9uc2UuZGF0YSA9PSAnc3RyaW5nJykgewogICAgICBvYmogPSBKU09OLnBhcnNlKHJlc3BvbnNlLmRhdGEpOwogICAgfSBlbHNlIHsKICAgICAgb2JqID0gcmVzcG9uc2UuZGF0YTsKICAgIH0KICB9CiAgdmFyIHN0YXR1cyA9IHJlc3BvbnNlLmRhdGEgPyBvYmouc3RhdHVzIDogMDsKICAvLyBsZXQgc3RhdHVzID0gcmVzcG9uc2UuZGF0YSA/IHJlc3BvbnNlLmRhdGEuc3RhdHVzIDogMDsKICB2YXIgY29kZSA9IHN0YXR1czsKICBzd2l0Y2ggKGNvZGUpIHsKICAgIGNhc2UgMjAwOgogICAgICByZXR1cm4gb2JqOwogICAgZGVmYXVsdDoKICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG9iaiB8fCB7CiAgICAgICAgbXNnOiAn5pyq55+l6ZSZ6K+vJwogICAgICB9KTsKICB9Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwpleHBvcnQgZGVmYXVsdCBzZXJ2aWNlOwoKLy8gZnVuY3Rpb24gc2VuZFJlcXVlc3QodXJsLCBtZXRob2QsIHBhcmFtcywgaGVhZGVyKSB7Ci8vICAgY29uc3QgaW5zdGFuY2UgPSBheGlvcy5jcmVhdGUoewovLyAgICAgYmFzZVVSTDogU2V0dGluZy5hcGlCYXNlVVJMLCAvLyDor7fmsYLnmoTmoLnln5/lkI0KLy8gICAgIHRpbWVvdXQ6IDEwMDAsIC8vIOivt+axgui2heaXtuaXtumXtAovLyAgICAgaGVhZGVyczogewovLyAgICAgICAnWC1DdXN0b20tSGVhZGVyJzogaGVhZGVyLCAvLyDoh6rlrprkuYnlpLTkv6Hmga8KLy8gICAgIH0sCi8vICAgfSk7CgovLyAgIGlmIChtZXRob2QgPT09ICdHRVQnKSB7Ci8vICAgICBpbnN0YW5jZQovLyAgICAgICAuZ2V0KHVybCwgeyBwYXJhbXM6IHBhcmFtcyB9KQovLyAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKLy8gICAgICAgICAvLyDlpITnkIblk43lupTmlbDmja4KLy8gICAgICAgfSkKLy8gICAgICAgLmNhdGNoKChlcnJvcikgPT4gewovLyAgICAgICAgIC8vIOWkhOeQhumUmeivrwovLyAgICAgICB9KTsKLy8gICB9IGVsc2UgaWYgKG1ldGhvZCA9PT0gJ1BPU1QnKSB7Ci8vICAgICBpbnN0YW5jZQovLyAgICAgICAucG9zdCh1cmwsIHBhcmFtcywgeyBoZWFkZXJzOiBoZWFkZXIgfSkKLy8gICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7Ci8vICAgICAgICAgLy8g5aSE55CG5ZON5bqU5pWw5o2uCi8vICAgICAgIH0pCi8vICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKLy8gICAgICAgICAvLyDlpITnkIbplJnor68KLy8gICAgICAgfSk7Ci8vICAgfSBlbHNlIGlmIChtZXRob2QgPT09ICdQVVQnKSB7Ci8vICAgICBpbnN0YW5jZQovLyAgICAgICAucHV0KHVybCwgcGFyYW1zLCB7IGhlYWRlcnM6IGhlYWRlciB9KQovLyAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKLy8gICAgICAgICAvLyDlpITnkIblk43lupTmlbDmja4KLy8gICAgICAgfSkKLy8gICAgICAgLmNhdGNoKChlcnJvcikgPT4gewovLyAgICAgICAgIC8vIOWkhOeQhumUmeivrwovLyAgICAgICB9KTsKLy8gICB9IGVsc2UgaWYgKG1ldGhvZCA9PT0gJ0RFTEVURScpIHsKLy8gICAgIGluc3RhbmNlCi8vICAgICAgIC5kZWxldGUodXJsLCB7IGhlYWRlcnM6IGhlYWRlciB9KQovLyAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKLy8gICAgICAgICAvLyDlpITnkIblk43lupTmlbDmja4KLy8gICAgICAgfSkKLy8gICAgICAgLmNhdGNoKChlcnJvcikgPT4gewovLyAgICAgICAgIC8vIOWkhOeQhumUmeivrwovLyAgICAgICB9KTsKLy8gICB9CgovLyAgIHJldHVybiBpbnN0YW5jZTsKLy8gfQ=="},{"version":3,"names":["axios","Setting","getCookies","removeCookies","service","create","baseURL","apiBaseURL","timeout","defaults","withCredentials","interceptors","request","use","config","kefu","baseUrl","replace","file","headers","headerItem","i","error","console","log","token","kefuToken","Promise","reject","response","obj","data","JSON","parse","status","code","msg"],"sources":["/Volumes/mac/webwork/2023/dati/template/admin/src/pages/setting/systemOutInterface/request.js"],"sourcesContent":["import axios from 'axios';\nimport Setting from '@/setting';\nimport { getCookies, removeCookies } from '@/libs/util';\n\nconst service = axios.create({\n  baseURL: Setting.apiBaseURL,\n  timeout: 10000, // 请求超时时间\n});\naxios.defaults.withCredentials = true; // 携带cookie\n\n// 请求拦截器\nservice.interceptors.request.use(\n  (config) => {\n    if (config.kefu) {\n      let baseUrl = Setting.apiBaseURL.replace(/adminapi/, 'kefuapi');\n      config.baseURL = baseUrl;\n    } else {\n      config.baseURL = Setting.apiBaseURL;\n    }\n    if (config.file) {\n      config.headers['Content-Type'] = 'multipart/form-data';\n    }\n    try {\n      if (config.headerItem) {\n        for (let i in config.headerItem) {\n          config.headers[i] = config.headerItem[i];\n        }\n      }\n    } catch (error) {\n      console.log(error);\n    }\n\n    const token = getCookies('token');\n    const kefuToken = getCookies('kefu_token');\n    if (token || kefuToken) {\n      config.headers['Authori-zation'] = config.kefu ? 'Bearer ' + kefuToken : 'Bearer ' + token;\n    }\n    return config;\n  },\n  (error) => {\n    // do something with request error\n    return Promise.reject(error);\n  },\n);\nservice.interceptors.response.use(\n  (response) => {\n    let obj = {};\n    if (!!response.data) {\n      if (typeof response.data == 'string') {\n        obj = JSON.parse(response.data);\n      } else {\n        obj = response.data;\n      }\n    }\n    let status = response.data ? obj.status : 0;\n    // let status = response.data ? response.data.status : 0;\n    const code = status;\n    switch (code) {\n      case 200:\n        return obj;\n      default:\n        return Promise.reject(obj || { msg: '未知错误' });\n    }\n  },\n  (error) => {\n    return Promise.reject(error);\n  },\n);\nexport default service;\n\n// function sendRequest(url, method, params, header) {\n//   const instance = axios.create({\n//     baseURL: Setting.apiBaseURL, // 请求的根域名\n//     timeout: 1000, // 请求超时时间\n//     headers: {\n//       'X-Custom-Header': header, // 自定义头信息\n//     },\n//   });\n\n//   if (method === 'GET') {\n//     instance\n//       .get(url, { params: params })\n//       .then((response) => {\n//         // 处理响应数据\n//       })\n//       .catch((error) => {\n//         // 处理错误\n//       });\n//   } else if (method === 'POST') {\n//     instance\n//       .post(url, params, { headers: header })\n//       .then((response) => {\n//         // 处理响应数据\n//       })\n//       .catch((error) => {\n//         // 处理错误\n//       });\n//   } else if (method === 'PUT') {\n//     instance\n//       .put(url, params, { headers: header })\n//       .then((response) => {\n//         // 处理响应数据\n//       })\n//       .catch((error) => {\n//         // 处理错误\n//       });\n//   } else if (method === 'DELETE') {\n//     instance\n//       .delete(url, { headers: header })\n//       .then((response) => {\n//         // 处理响应数据\n//       })\n//       .catch((error) => {\n//         // 处理错误\n//       });\n//   }\n\n//   return instance;\n// }\n"],"mappings":";;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,OAAO,MAAM,WAAW;AAC/B,SAASC,UAAU,EAAEC,aAAa,QAAQ,aAAa;AAEvD,IAAMC,OAAO,GAAGJ,KAAK,CAACK,MAAM,CAAC;EAC3BC,OAAO,EAAEL,OAAO,CAACM,UAAU;EAC3BC,OAAO,EAAE,KAAK,CAAE;AAClB,CAAC,CAAC;;AACFR,KAAK,CAACS,QAAQ,CAACC,eAAe,GAAG,IAAI,CAAC,CAAC;;AAEvC;AACAN,OAAO,CAACO,YAAY,CAACC,OAAO,CAACC,GAAG,CAC9B,UAACC,MAAM,EAAK;EACV,IAAIA,MAAM,CAACC,IAAI,EAAE;IACf,IAAIC,OAAO,GAAGf,OAAO,CAACM,UAAU,CAACU,OAAO,CAAC,UAAU,EAAE,SAAS,CAAC;IAC/DH,MAAM,CAACR,OAAO,GAAGU,OAAO;EAC1B,CAAC,MAAM;IACLF,MAAM,CAACR,OAAO,GAAGL,OAAO,CAACM,UAAU;EACrC;EACA,IAAIO,MAAM,CAACI,IAAI,EAAE;IACfJ,MAAM,CAACK,OAAO,CAAC,cAAc,CAAC,GAAG,qBAAqB;EACxD;EACA,IAAI;IACF,IAAIL,MAAM,CAACM,UAAU,EAAE;MACrB,KAAK,IAAIC,CAAC,IAAIP,MAAM,CAACM,UAAU,EAAE;QAC/BN,MAAM,CAACK,OAAO,CAACE,CAAC,CAAC,GAAGP,MAAM,CAACM,UAAU,CAACC,CAAC,CAAC;MAC1C;IACF;EACF,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;EACpB;EAEA,IAAMG,KAAK,GAAGvB,UAAU,CAAC,OAAO,CAAC;EACjC,IAAMwB,SAAS,GAAGxB,UAAU,CAAC,YAAY,CAAC;EAC1C,IAAIuB,KAAK,IAAIC,SAAS,EAAE;IACtBZ,MAAM,CAACK,OAAO,CAAC,gBAAgB,CAAC,GAAGL,MAAM,CAACC,IAAI,GAAG,SAAS,GAAGW,SAAS,GAAG,SAAS,GAAGD,KAAK;EAC5F;EACA,OAAOX,MAAM;AACf,CAAC,EACD,UAACQ,KAAK,EAAK;EACT;EACA,OAAOK,OAAO,CAACC,MAAM,CAACN,KAAK,CAAC;AAC9B,CAAC,CACF;AACDlB,OAAO,CAACO,YAAY,CAACkB,QAAQ,CAAChB,GAAG,CAC/B,UAACgB,QAAQ,EAAK;EACZ,IAAIC,GAAG,GAAG,CAAC,CAAC;EACZ,IAAI,CAAC,CAACD,QAAQ,CAACE,IAAI,EAAE;IACnB,IAAI,OAAOF,QAAQ,CAACE,IAAI,IAAI,QAAQ,EAAE;MACpCD,GAAG,GAAGE,IAAI,CAACC,KAAK,CAACJ,QAAQ,CAACE,IAAI,CAAC;IACjC,CAAC,MAAM;MACLD,GAAG,GAAGD,QAAQ,CAACE,IAAI;IACrB;EACF;EACA,IAAIG,MAAM,GAAGL,QAAQ,CAACE,IAAI,GAAGD,GAAG,CAACI,MAAM,GAAG,CAAC;EAC3C;EACA,IAAMC,IAAI,GAAGD,MAAM;EACnB,QAAQC,IAAI;IACV,KAAK,GAAG;MACN,OAAOL,GAAG;IACZ;MACE,OAAOH,OAAO,CAACC,MAAM,CAACE,GAAG,IAAI;QAAEM,GAAG,EAAE;MAAO,CAAC,CAAC;EAAC;AAEpD,CAAC,EACD,UAACd,KAAK,EAAK;EACT,OAAOK,OAAO,CAACC,MAAM,CAACN,KAAK,CAAC;AAC9B,CAAC,CACF;AACD,eAAelB,OAAO;;AAEtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA"}]}