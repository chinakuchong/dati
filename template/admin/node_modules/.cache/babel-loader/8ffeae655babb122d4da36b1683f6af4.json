{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/pages/marketing/lottery/recordingList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/pages/marketing/lottery/recordingList.vue","mtime":1689324015224},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/babel.config.js","mtime":1689324015052},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/.babelrc","mtime":1689324015050},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuYXN5bmMtaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wudG8tc3RyaW5nLXRhZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24udG8tc3RyaW5nLXRhZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm1hdGgudG8tc3RyaW5nLXRhZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtcHJvdG90eXBlLW9mLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5zZXQtcHJvdG90eXBlLW9mLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgX3R5cGVvZiBmcm9tICIvVm9sdW1lcy9tYWMvd2Vid29yay8yMDIzL2RhdGkvdGVtcGxhdGUvYWRtaW4vbm9kZV9tb2R1bGVzL0B2dWUvYmFiZWwtcHJlc2V0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Wb2x1bWVzL21hYy93ZWJ3b3JrLzIwMjMvZGF0aS90ZW1wbGF0ZS9hZG1pbi9ub2RlX21vZHVsZXMvQHZ1ZS9iYWJlbC1wcmVzZXQtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1ZvbHVtZXMvbWFjL3dlYndvcmsvMjAyMy9kYXRpL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AdnVlL2JhYmVsLXByZXNldC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKZnVuY3Rpb24gX3JlZ2VuZXJhdG9yUnVudGltZSgpIHsgInVzZSBzdHJpY3QiOyAvKiEgcmVnZW5lcmF0b3ItcnVudGltZSAtLSBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy4gLS0gbGljZW5zZSAoTUlUKTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL2Jsb2IvbWFpbi9MSUNFTlNFICovIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSBmdW5jdGlvbiBfcmVnZW5lcmF0b3JSdW50aW1lKCkgeyByZXR1cm4gZXhwb3J0czsgfTsgdmFyIGV4cG9ydHMgPSB7fSwgT3AgPSBPYmplY3QucHJvdG90eXBlLCBoYXNPd24gPSBPcC5oYXNPd25Qcm9wZXJ0eSwgZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgfHwgZnVuY3Rpb24gKG9iaiwga2V5LCBkZXNjKSB7IG9ialtrZXldID0gZGVzYy52YWx1ZTsgfSwgJFN5bWJvbCA9ICJmdW5jdGlvbiIgPT0gdHlwZW9mIFN5bWJvbCA/IFN5bWJvbCA6IHt9LCBpdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuaXRlcmF0b3IgfHwgIkBAaXRlcmF0b3IiLCBhc3luY0l0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5hc3luY0l0ZXJhdG9yIHx8ICJAQGFzeW5jSXRlcmF0b3IiLCB0b1N0cmluZ1RhZ1N5bWJvbCA9ICRTeW1ib2wudG9TdHJpbmdUYWcgfHwgIkBAdG9TdHJpbmdUYWciOyBmdW5jdGlvbiBkZWZpbmUob2JqLCBrZXksIHZhbHVlKSB7IHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwIH0pLCBvYmpba2V5XTsgfSB0cnkgeyBkZWZpbmUoe30sICIiKTsgfSBjYXRjaCAoZXJyKSB7IGRlZmluZSA9IGZ1bmN0aW9uIGRlZmluZShvYmosIGtleSwgdmFsdWUpIHsgcmV0dXJuIG9ialtrZXldID0gdmFsdWU7IH07IH0gZnVuY3Rpb24gd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkgeyB2YXIgcHJvdG9HZW5lcmF0b3IgPSBvdXRlckZuICYmIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yID8gb3V0ZXJGbiA6IEdlbmVyYXRvciwgZ2VuZXJhdG9yID0gT2JqZWN0LmNyZWF0ZShwcm90b0dlbmVyYXRvci5wcm90b3R5cGUpLCBjb250ZXh0ID0gbmV3IENvbnRleHQodHJ5TG9jc0xpc3QgfHwgW10pOyByZXR1cm4gZGVmaW5lUHJvcGVydHkoZ2VuZXJhdG9yLCAiX2ludm9rZSIsIHsgdmFsdWU6IG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCkgfSksIGdlbmVyYXRvcjsgfSBmdW5jdGlvbiB0cnlDYXRjaChmbiwgb2JqLCBhcmcpIHsgdHJ5IHsgcmV0dXJuIHsgdHlwZTogIm5vcm1hbCIsIGFyZzogZm4uY2FsbChvYmosIGFyZykgfTsgfSBjYXRjaCAoZXJyKSB7IHJldHVybiB7IHR5cGU6ICJ0aHJvdyIsIGFyZzogZXJyIH07IH0gfSBleHBvcnRzLndyYXAgPSB3cmFwOyB2YXIgQ29udGludWVTZW50aW5lbCA9IHt9OyBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fSBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9IGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge30gdmFyIEl0ZXJhdG9yUHJvdG90eXBlID0ge307IGRlZmluZShJdGVyYXRvclByb3RvdHlwZSwgaXRlcmF0b3JTeW1ib2wsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0pOyB2YXIgZ2V0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YsIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG8gJiYgZ2V0UHJvdG8oZ2V0UHJvdG8odmFsdWVzKFtdKSkpOyBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAmJiBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAhPT0gT3AgJiYgaGFzT3duLmNhbGwoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sKSAmJiAoSXRlcmF0b3JQcm90b3R5cGUgPSBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSk7IHZhciBHcCA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZSA9IEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlKTsgZnVuY3Rpb24gZGVmaW5lSXRlcmF0b3JNZXRob2RzKHByb3RvdHlwZSkgeyBbIm5leHQiLCAidGhyb3ciLCAicmV0dXJuIl0uZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kKSB7IGRlZmluZShwcm90b3R5cGUsIG1ldGhvZCwgZnVuY3Rpb24gKGFyZykgeyByZXR1cm4gdGhpcy5faW52b2tlKG1ldGhvZCwgYXJnKTsgfSk7IH0pOyB9IGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoZ2VuZXJhdG9yLCBQcm9taXNlSW1wbCkgeyBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCkgeyB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goZ2VuZXJhdG9yW21ldGhvZF0sIGdlbmVyYXRvciwgYXJnKTsgaWYgKCJ0aHJvdyIgIT09IHJlY29yZC50eXBlKSB7IHZhciByZXN1bHQgPSByZWNvcmQuYXJnLCB2YWx1ZSA9IHJlc3VsdC52YWx1ZTsgcmV0dXJuIHZhbHVlICYmICJvYmplY3QiID09IF90eXBlb2YodmFsdWUpICYmIGhhc093bi5jYWxsKHZhbHVlLCAiX19hd2FpdCIpID8gUHJvbWlzZUltcGwucmVzb2x2ZSh2YWx1ZS5fX2F3YWl0KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkgeyBpbnZva2UoIm5leHQiLCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0KTsgfSwgZnVuY3Rpb24gKGVycikgeyBpbnZva2UoInRocm93IiwgZXJyLCByZXNvbHZlLCByZWplY3QpOyB9KSA6IFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUpLnRoZW4oZnVuY3Rpb24gKHVud3JhcHBlZCkgeyByZXN1bHQudmFsdWUgPSB1bndyYXBwZWQsIHJlc29sdmUocmVzdWx0KTsgfSwgZnVuY3Rpb24gKGVycm9yKSB7IHJldHVybiBpbnZva2UoInRocm93IiwgZXJyb3IsIHJlc29sdmUsIHJlamVjdCk7IH0pOyB9IHJlamVjdChyZWNvcmQuYXJnKTsgfSB2YXIgcHJldmlvdXNQcm9taXNlOyBkZWZpbmVQcm9wZXJ0eSh0aGlzLCAiX2ludm9rZSIsIHsgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKG1ldGhvZCwgYXJnKSB7IGZ1bmN0aW9uIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCkgeyByZXR1cm4gbmV3IFByb21pc2VJbXBsKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpOyB9KTsgfSByZXR1cm4gcHJldmlvdXNQcm9taXNlID0gcHJldmlvdXNQcm9taXNlID8gcHJldmlvdXNQcm9taXNlLnRoZW4oY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcsIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKSA6IGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCk7IH0gfSk7IH0gZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KSB7IHZhciBzdGF0ZSA9ICJzdXNwZW5kZWRTdGFydCI7IHJldHVybiBmdW5jdGlvbiAobWV0aG9kLCBhcmcpIHsgaWYgKCJleGVjdXRpbmciID09PSBzdGF0ZSkgdGhyb3cgbmV3IEVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nIik7IGlmICgiY29tcGxldGVkIiA9PT0gc3RhdGUpIHsgaWYgKCJ0aHJvdyIgPT09IG1ldGhvZCkgdGhyb3cgYXJnOyByZXR1cm4gZG9uZVJlc3VsdCgpOyB9IGZvciAoY29udGV4dC5tZXRob2QgPSBtZXRob2QsIGNvbnRleHQuYXJnID0gYXJnOzspIHsgdmFyIGRlbGVnYXRlID0gY29udGV4dC5kZWxlZ2F0ZTsgaWYgKGRlbGVnYXRlKSB7IHZhciBkZWxlZ2F0ZVJlc3VsdCA9IG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpOyBpZiAoZGVsZWdhdGVSZXN1bHQpIHsgaWYgKGRlbGVnYXRlUmVzdWx0ID09PSBDb250aW51ZVNlbnRpbmVsKSBjb250aW51ZTsgcmV0dXJuIGRlbGVnYXRlUmVzdWx0OyB9IH0gaWYgKCJuZXh0IiA9PT0gY29udGV4dC5tZXRob2QpIGNvbnRleHQuc2VudCA9IGNvbnRleHQuX3NlbnQgPSBjb250ZXh0LmFyZztlbHNlIGlmICgidGhyb3ciID09PSBjb250ZXh0Lm1ldGhvZCkgeyBpZiAoInN1c3BlbmRlZFN0YXJ0IiA9PT0gc3RhdGUpIHRocm93IHN0YXRlID0gImNvbXBsZXRlZCIsIGNvbnRleHQuYXJnOyBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKTsgfSBlbHNlICJyZXR1cm4iID09PSBjb250ZXh0Lm1ldGhvZCAmJiBjb250ZXh0LmFicnVwdCgicmV0dXJuIiwgY29udGV4dC5hcmcpOyBzdGF0ZSA9ICJleGVjdXRpbmciOyB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7IGlmICgibm9ybWFsIiA9PT0gcmVjb3JkLnR5cGUpIHsgaWYgKHN0YXRlID0gY29udGV4dC5kb25lID8gImNvbXBsZXRlZCIgOiAic3VzcGVuZGVkWWllbGQiLCByZWNvcmQuYXJnID09PSBDb250aW51ZVNlbnRpbmVsKSBjb250aW51ZTsgcmV0dXJuIHsgdmFsdWU6IHJlY29yZC5hcmcsIGRvbmU6IGNvbnRleHQuZG9uZSB9OyB9ICJ0aHJvdyIgPT09IHJlY29yZC50eXBlICYmIChzdGF0ZSA9ICJjb21wbGV0ZWQiLCBjb250ZXh0Lm1ldGhvZCA9ICJ0aHJvdyIsIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZyk7IH0gfTsgfSBmdW5jdGlvbiBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KSB7IHZhciBtZXRob2ROYW1lID0gY29udGV4dC5tZXRob2QsIG1ldGhvZCA9IGRlbGVnYXRlLml0ZXJhdG9yW21ldGhvZE5hbWVdOyBpZiAodW5kZWZpbmVkID09PSBtZXRob2QpIHJldHVybiBjb250ZXh0LmRlbGVnYXRlID0gbnVsbCwgInRocm93IiA9PT0gbWV0aG9kTmFtZSAmJiBkZWxlZ2F0ZS5pdGVyYXRvci5yZXR1cm4gJiYgKGNvbnRleHQubWV0aG9kID0gInJldHVybiIsIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkLCBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KSwgInRocm93IiA9PT0gY29udGV4dC5tZXRob2QpIHx8ICJyZXR1cm4iICE9PSBtZXRob2ROYW1lICYmIChjb250ZXh0Lm1ldGhvZCA9ICJ0aHJvdyIsIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcigiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAnIiArIG1ldGhvZE5hbWUgKyAiJyBtZXRob2QiKSksIENvbnRpbnVlU2VudGluZWw7IHZhciByZWNvcmQgPSB0cnlDYXRjaChtZXRob2QsIGRlbGVnYXRlLml0ZXJhdG9yLCBjb250ZXh0LmFyZyk7IGlmICgidGhyb3ciID09PSByZWNvcmQudHlwZSkgcmV0dXJuIGNvbnRleHQubWV0aG9kID0gInRocm93IiwgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnLCBjb250ZXh0LmRlbGVnYXRlID0gbnVsbCwgQ29udGludWVTZW50aW5lbDsgdmFyIGluZm8gPSByZWNvcmQuYXJnOyByZXR1cm4gaW5mbyA/IGluZm8uZG9uZSA/IChjb250ZXh0W2RlbGVnYXRlLnJlc3VsdE5hbWVdID0gaW5mby52YWx1ZSwgY29udGV4dC5uZXh0ID0gZGVsZWdhdGUubmV4dExvYywgInJldHVybiIgIT09IGNvbnRleHQubWV0aG9kICYmIChjb250ZXh0Lm1ldGhvZCA9ICJuZXh0IiwgY29udGV4dC5hcmcgPSB1bmRlZmluZWQpLCBjb250ZXh0LmRlbGVnYXRlID0gbnVsbCwgQ29udGludWVTZW50aW5lbCkgOiBpbmZvIDogKGNvbnRleHQubWV0aG9kID0gInRocm93IiwgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdCIpLCBjb250ZXh0LmRlbGVnYXRlID0gbnVsbCwgQ29udGludWVTZW50aW5lbCk7IH0gZnVuY3Rpb24gcHVzaFRyeUVudHJ5KGxvY3MpIHsgdmFyIGVudHJ5ID0geyB0cnlMb2M6IGxvY3NbMF0gfTsgMSBpbiBsb2NzICYmIChlbnRyeS5jYXRjaExvYyA9IGxvY3NbMV0pLCAyIGluIGxvY3MgJiYgKGVudHJ5LmZpbmFsbHlMb2MgPSBsb2NzWzJdLCBlbnRyeS5hZnRlckxvYyA9IGxvY3NbM10pLCB0aGlzLnRyeUVudHJpZXMucHVzaChlbnRyeSk7IH0gZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSkgeyB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbiB8fCB7fTsgcmVjb3JkLnR5cGUgPSAibm9ybWFsIiwgZGVsZXRlIHJlY29yZC5hcmcsIGVudHJ5LmNvbXBsZXRpb24gPSByZWNvcmQ7IH0gZnVuY3Rpb24gQ29udGV4dCh0cnlMb2NzTGlzdCkgeyB0aGlzLnRyeUVudHJpZXMgPSBbeyB0cnlMb2M6ICJyb290IiB9XSwgdHJ5TG9jc0xpc3QuZm9yRWFjaChwdXNoVHJ5RW50cnksIHRoaXMpLCB0aGlzLnJlc2V0KCEwKTsgfSBmdW5jdGlvbiB2YWx1ZXMoaXRlcmFibGUpIHsgaWYgKGl0ZXJhYmxlKSB7IHZhciBpdGVyYXRvck1ldGhvZCA9IGl0ZXJhYmxlW2l0ZXJhdG9yU3ltYm9sXTsgaWYgKGl0ZXJhdG9yTWV0aG9kKSByZXR1cm4gaXRlcmF0b3JNZXRob2QuY2FsbChpdGVyYWJsZSk7IGlmICgiZnVuY3Rpb24iID09IHR5cGVvZiBpdGVyYWJsZS5uZXh0KSByZXR1cm4gaXRlcmFibGU7IGlmICghaXNOYU4oaXRlcmFibGUubGVuZ3RoKSkgeyB2YXIgaSA9IC0xLCBuZXh0ID0gZnVuY3Rpb24gbmV4dCgpIHsgZm9yICg7ICsraSA8IGl0ZXJhYmxlLmxlbmd0aDspIGlmIChoYXNPd24uY2FsbChpdGVyYWJsZSwgaSkpIHJldHVybiBuZXh0LnZhbHVlID0gaXRlcmFibGVbaV0sIG5leHQuZG9uZSA9ICExLCBuZXh0OyByZXR1cm4gbmV4dC52YWx1ZSA9IHVuZGVmaW5lZCwgbmV4dC5kb25lID0gITAsIG5leHQ7IH07IHJldHVybiBuZXh0Lm5leHQgPSBuZXh0OyB9IH0gcmV0dXJuIHsgbmV4dDogZG9uZVJlc3VsdCB9OyB9IGZ1bmN0aW9uIGRvbmVSZXN1bHQoKSB7IHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6ICEwIH07IH0gcmV0dXJuIEdlbmVyYXRvckZ1bmN0aW9uLnByb3RvdHlwZSA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBkZWZpbmVQcm9wZXJ0eShHcCwgImNvbnN0cnVjdG9yIiwgeyB2YWx1ZTogR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIGNvbmZpZ3VyYWJsZTogITAgfSksIGRlZmluZVByb3BlcnR5KEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCAiY29uc3RydWN0b3IiLCB7IHZhbHVlOiBHZW5lcmF0b3JGdW5jdGlvbiwgY29uZmlndXJhYmxlOiAhMCB9KSwgR2VuZXJhdG9yRnVuY3Rpb24uZGlzcGxheU5hbWUgPSBkZWZpbmUoR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIHRvU3RyaW5nVGFnU3ltYm9sLCAiR2VuZXJhdG9yRnVuY3Rpb24iKSwgZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24gKGdlbkZ1bikgeyB2YXIgY3RvciA9ICJmdW5jdGlvbiIgPT0gdHlwZW9mIGdlbkZ1biAmJiBnZW5GdW4uY29uc3RydWN0b3I7IHJldHVybiAhIWN0b3IgJiYgKGN0b3IgPT09IEdlbmVyYXRvckZ1bmN0aW9uIHx8ICJHZW5lcmF0b3JGdW5jdGlvbiIgPT09IChjdG9yLmRpc3BsYXlOYW1lIHx8IGN0b3IubmFtZSkpOyB9LCBleHBvcnRzLm1hcmsgPSBmdW5jdGlvbiAoZ2VuRnVuKSB7IHJldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YoZ2VuRnVuLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSkgOiAoZ2VuRnVuLl9fcHJvdG9fXyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBkZWZpbmUoZ2VuRnVuLCB0b1N0cmluZ1RhZ1N5bWJvbCwgIkdlbmVyYXRvckZ1bmN0aW9uIikpLCBnZW5GdW4ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShHcCksIGdlbkZ1bjsgfSwgZXhwb3J0cy5hd3JhcCA9IGZ1bmN0aW9uIChhcmcpIHsgcmV0dXJuIHsgX19hd2FpdDogYXJnIH07IH0sIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSksIGRlZmluZShBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSwgYXN5bmNJdGVyYXRvclN5bWJvbCwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSksIGV4cG9ydHMuQXN5bmNJdGVyYXRvciA9IEFzeW5jSXRlcmF0b3IsIGV4cG9ydHMuYXN5bmMgPSBmdW5jdGlvbiAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QsIFByb21pc2VJbXBsKSB7IHZvaWQgMCA9PT0gUHJvbWlzZUltcGwgJiYgKFByb21pc2VJbXBsID0gUHJvbWlzZSk7IHZhciBpdGVyID0gbmV3IEFzeW5jSXRlcmF0b3Iod3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCksIFByb21pc2VJbXBsKTsgcmV0dXJuIGV4cG9ydHMuaXNHZW5lcmF0b3JGdW5jdGlvbihvdXRlckZuKSA/IGl0ZXIgOiBpdGVyLm5leHQoKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsgcmV0dXJuIHJlc3VsdC5kb25lID8gcmVzdWx0LnZhbHVlIDogaXRlci5uZXh0KCk7IH0pOyB9LCBkZWZpbmVJdGVyYXRvck1ldGhvZHMoR3ApLCBkZWZpbmUoR3AsIHRvU3RyaW5nVGFnU3ltYm9sLCAiR2VuZXJhdG9yIiksIGRlZmluZShHcCwgaXRlcmF0b3JTeW1ib2wsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0pLCBkZWZpbmUoR3AsICJ0b1N0cmluZyIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuICJbb2JqZWN0IEdlbmVyYXRvcl0iOyB9KSwgZXhwb3J0cy5rZXlzID0gZnVuY3Rpb24gKHZhbCkgeyB2YXIgb2JqZWN0ID0gT2JqZWN0KHZhbCksIGtleXMgPSBbXTsgZm9yICh2YXIga2V5IGluIG9iamVjdCkga2V5cy5wdXNoKGtleSk7IHJldHVybiBrZXlzLnJldmVyc2UoKSwgZnVuY3Rpb24gbmV4dCgpIHsgZm9yICg7IGtleXMubGVuZ3RoOykgeyB2YXIga2V5ID0ga2V5cy5wb3AoKTsgaWYgKGtleSBpbiBvYmplY3QpIHJldHVybiBuZXh0LnZhbHVlID0ga2V5LCBuZXh0LmRvbmUgPSAhMSwgbmV4dDsgfSByZXR1cm4gbmV4dC5kb25lID0gITAsIG5leHQ7IH07IH0sIGV4cG9ydHMudmFsdWVzID0gdmFsdWVzLCBDb250ZXh0LnByb3RvdHlwZSA9IHsgY29uc3RydWN0b3I6IENvbnRleHQsIHJlc2V0OiBmdW5jdGlvbiByZXNldChza2lwVGVtcFJlc2V0KSB7IGlmICh0aGlzLnByZXYgPSAwLCB0aGlzLm5leHQgPSAwLCB0aGlzLnNlbnQgPSB0aGlzLl9zZW50ID0gdW5kZWZpbmVkLCB0aGlzLmRvbmUgPSAhMSwgdGhpcy5kZWxlZ2F0ZSA9IG51bGwsIHRoaXMubWV0aG9kID0gIm5leHQiLCB0aGlzLmFyZyA9IHVuZGVmaW5lZCwgdGhpcy50cnlFbnRyaWVzLmZvckVhY2gocmVzZXRUcnlFbnRyeSksICFza2lwVGVtcFJlc2V0KSBmb3IgKHZhciBuYW1lIGluIHRoaXMpICJ0IiA9PT0gbmFtZS5jaGFyQXQoMCkgJiYgaGFzT3duLmNhbGwodGhpcywgbmFtZSkgJiYgIWlzTmFOKCtuYW1lLnNsaWNlKDEpKSAmJiAodGhpc1tuYW1lXSA9IHVuZGVmaW5lZCk7IH0sIHN0b3A6IGZ1bmN0aW9uIHN0b3AoKSB7IHRoaXMuZG9uZSA9ICEwOyB2YXIgcm9vdFJlY29yZCA9IHRoaXMudHJ5RW50cmllc1swXS5jb21wbGV0aW9uOyBpZiAoInRocm93IiA9PT0gcm9vdFJlY29yZC50eXBlKSB0aHJvdyByb290UmVjb3JkLmFyZzsgcmV0dXJuIHRoaXMucnZhbDsgfSwgZGlzcGF0Y2hFeGNlcHRpb246IGZ1bmN0aW9uIGRpc3BhdGNoRXhjZXB0aW9uKGV4Y2VwdGlvbikgeyBpZiAodGhpcy5kb25lKSB0aHJvdyBleGNlcHRpb247IHZhciBjb250ZXh0ID0gdGhpczsgZnVuY3Rpb24gaGFuZGxlKGxvYywgY2F1Z2h0KSB7IHJldHVybiByZWNvcmQudHlwZSA9ICJ0aHJvdyIsIHJlY29yZC5hcmcgPSBleGNlcHRpb24sIGNvbnRleHQubmV4dCA9IGxvYywgY2F1Z2h0ICYmIChjb250ZXh0Lm1ldGhvZCA9ICJuZXh0IiwgY29udGV4dC5hcmcgPSB1bmRlZmluZWQpLCAhIWNhdWdodDsgfSBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7IHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXSwgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjsgaWYgKCJyb290IiA9PT0gZW50cnkudHJ5TG9jKSByZXR1cm4gaGFuZGxlKCJlbmQiKTsgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYpIHsgdmFyIGhhc0NhdGNoID0gaGFzT3duLmNhbGwoZW50cnksICJjYXRjaExvYyIpLCBoYXNGaW5hbGx5ID0gaGFzT3duLmNhbGwoZW50cnksICJmaW5hbGx5TG9jIik7IGlmIChoYXNDYXRjaCAmJiBoYXNGaW5hbGx5KSB7IGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgITApOyBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTsgfSBlbHNlIGlmIChoYXNDYXRjaCkgeyBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsICEwKTsgfSBlbHNlIHsgaWYgKCFoYXNGaW5hbGx5KSB0aHJvdyBuZXcgRXJyb3IoInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5Iik7IGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpOyB9IH0gfSB9LCBhYnJ1cHQ6IGZ1bmN0aW9uIGFicnVwdCh0eXBlLCBhcmcpIHsgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkgeyB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07IGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2ICYmIGhhc093bi5jYWxsKGVudHJ5LCAiZmluYWxseUxvYyIpICYmIHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHsgdmFyIGZpbmFsbHlFbnRyeSA9IGVudHJ5OyBicmVhazsgfSB9IGZpbmFsbHlFbnRyeSAmJiAoImJyZWFrIiA9PT0gdHlwZSB8fCAiY29udGludWUiID09PSB0eXBlKSAmJiBmaW5hbGx5RW50cnkudHJ5TG9jIDw9IGFyZyAmJiBhcmcgPD0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2MgJiYgKGZpbmFsbHlFbnRyeSA9IG51bGwpOyB2YXIgcmVjb3JkID0gZmluYWxseUVudHJ5ID8gZmluYWxseUVudHJ5LmNvbXBsZXRpb24gOiB7fTsgcmV0dXJuIHJlY29yZC50eXBlID0gdHlwZSwgcmVjb3JkLmFyZyA9IGFyZywgZmluYWxseUVudHJ5ID8gKHRoaXMubWV0aG9kID0gIm5leHQiLCB0aGlzLm5leHQgPSBmaW5hbGx5RW50cnkuZmluYWxseUxvYywgQ29udGludWVTZW50aW5lbCkgOiB0aGlzLmNvbXBsZXRlKHJlY29yZCk7IH0sIGNvbXBsZXRlOiBmdW5jdGlvbiBjb21wbGV0ZShyZWNvcmQsIGFmdGVyTG9jKSB7IGlmICgidGhyb3ciID09PSByZWNvcmQudHlwZSkgdGhyb3cgcmVjb3JkLmFyZzsgcmV0dXJuICJicmVhayIgPT09IHJlY29yZC50eXBlIHx8ICJjb250aW51ZSIgPT09IHJlY29yZC50eXBlID8gdGhpcy5uZXh0ID0gcmVjb3JkLmFyZyA6ICJyZXR1cm4iID09PSByZWNvcmQudHlwZSA/ICh0aGlzLnJ2YWwgPSB0aGlzLmFyZyA9IHJlY29yZC5hcmcsIHRoaXMubWV0aG9kID0gInJldHVybiIsIHRoaXMubmV4dCA9ICJlbmQiKSA6ICJub3JtYWwiID09PSByZWNvcmQudHlwZSAmJiBhZnRlckxvYyAmJiAodGhpcy5uZXh0ID0gYWZ0ZXJMb2MpLCBDb250aW51ZVNlbnRpbmVsOyB9LCBmaW5pc2g6IGZ1bmN0aW9uIGZpbmlzaChmaW5hbGx5TG9jKSB7IGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHsgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldOyBpZiAoZW50cnkuZmluYWxseUxvYyA9PT0gZmluYWxseUxvYykgcmV0dXJuIHRoaXMuY29tcGxldGUoZW50cnkuY29tcGxldGlvbiwgZW50cnkuYWZ0ZXJMb2MpLCByZXNldFRyeUVudHJ5KGVudHJ5KSwgQ29udGludWVTZW50aW5lbDsgfSB9LCBjYXRjaDogZnVuY3Rpb24gX2NhdGNoKHRyeUxvYykgeyBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7IHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTsgaWYgKGVudHJ5LnRyeUxvYyA9PT0gdHJ5TG9jKSB7IHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uOyBpZiAoInRocm93IiA9PT0gcmVjb3JkLnR5cGUpIHsgdmFyIHRocm93biA9IHJlY29yZC5hcmc7IHJlc2V0VHJ5RW50cnkoZW50cnkpOyB9IHJldHVybiB0aHJvd247IH0gfSB0aHJvdyBuZXcgRXJyb3IoImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdCIpOyB9LCBkZWxlZ2F0ZVlpZWxkOiBmdW5jdGlvbiBkZWxlZ2F0ZVlpZWxkKGl0ZXJhYmxlLCByZXN1bHROYW1lLCBuZXh0TG9jKSB7IHJldHVybiB0aGlzLmRlbGVnYXRlID0geyBpdGVyYXRvcjogdmFsdWVzKGl0ZXJhYmxlKSwgcmVzdWx0TmFtZTogcmVzdWx0TmFtZSwgbmV4dExvYzogbmV4dExvYyB9LCAibmV4dCIgPT09IHRoaXMubWV0aG9kICYmICh0aGlzLmFyZyA9IHVuZGVmaW5lZCksIENvbnRpbnVlU2VudGluZWw7IH0gfSwgZXhwb3J0czsgfQovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgbG90dGVyeVJlY29yZExpc3QsIGxvdHRlcnlSZWNvcmREZWxpdmVyIH0gZnJvbSAnQC9hcGkvbG90dGVyeSc7CmltcG9ydCB7IGZvcm1hdERhdGUgYXMgX2Zvcm1hdERhdGUgfSBmcm9tICdAL3V0aWxzL3ZhbGlkYXRlJzsKaW1wb3J0IHsgZ2V0RXhwcmVzc0RhdGEgYXMgX2dldEV4cHJlc3NEYXRhIH0gZnJvbSAnQC9hcGkvb3JkZXInOwppbXBvcnQgeyBydWxlU2hpcCwgcnVsZU1hcmsgfSBmcm9tICcuL2Zvcm1SdWxlL3J1bGVTaGlwJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdsb3R0ZXJ5UmVjb3JkTGlzdCcsCiAgZmlsdGVyczogewogICAgZm9ybWF0RGF0ZTogZnVuY3Rpb24gZm9ybWF0RGF0ZSh0aW1lKSB7CiAgICAgIGlmICh0aW1lICE9PSAwKSB7CiAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSh0aW1lICogMTAwMCk7CiAgICAgICAgcmV0dXJuIF9mb3JtYXREYXRlKGRhdGUsICd5eXl5LU1NLWRkIGhoOm1tJyk7CiAgICAgIH0KICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaGlwTW9kZWw6IGZhbHNlLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgbG9jYXRpb25MaXN0OiBbXSwKICAgICAgc2hpcEZvcm06IHsKICAgICAgICBpZDogJycsCiAgICAgICAgZGVsaXZlcl9uYW1lOiAnJywKICAgICAgICBkZWxpdmVyX251bWJlcjogbnVsbAogICAgICB9LAogICAgICBtYXJrRm9ybTogewogICAgICAgIGlkOiAnJywKICAgICAgICBtYXJrOiAnJwogICAgICB9LAogICAgICBydWxlU2hpcDogcnVsZVNoaXAsCiAgICAgIHJ1bGVNYXJrOiBydWxlTWFyaywKICAgICAgZnJvbUxpc3Q6IHsKICAgICAgICB0aXRsZTogJ+mAieaLqeaXtumXtCcsCiAgICAgICAgZnJvbVR4dDogW3sKICAgICAgICAgIHRleHQ6ICflhajpg6gnLAogICAgICAgICAgdmFsOiAnJwogICAgICAgIH0sIHsKICAgICAgICAgIHRleHQ6ICfku4rlpKknLAogICAgICAgICAgdmFsOiAndG9kYXknCiAgICAgICAgfSwgewogICAgICAgICAgdGV4dDogJ+aYqOWkqScsCiAgICAgICAgICB2YWw6ICd5ZXN0ZXJkYXknCiAgICAgICAgfSwgewogICAgICAgICAgdGV4dDogJ+acgOi/kTflpKknLAogICAgICAgICAgdmFsOiAnbGF0ZWx5NycKICAgICAgICB9LCB7CiAgICAgICAgICB0ZXh0OiAn5pyA6L+RMzDlpKknLAogICAgICAgICAgdmFsOiAnbGF0ZWx5MzAnCiAgICAgICAgfSwgewogICAgICAgICAgdGV4dDogJ+acrOaciCcsCiAgICAgICAgICB2YWw6ICdtb250aCcKICAgICAgICB9LCB7CiAgICAgICAgICB0ZXh0OiAn5pys5bm0JywKICAgICAgICAgIHZhbDogJ3llYXInCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgdHlwZUxpc3Q6IFt7CiAgICAgICAgdGV4dDogJ+WFqOmDqCcsCiAgICAgICAgdmFsOiAnJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ+acquS4reWllicsCiAgICAgICAgdmFsOiAnMScKICAgICAgfSwgewogICAgICAgIHRleHQ6ICfnp6/liIYnLAogICAgICAgIHZhbDogJzInCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAn5L2Z6aKdJywKICAgICAgICB2YWw6ICczJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ+e6ouWMhScsCiAgICAgICAgdmFsOiAnNCcKICAgICAgfSwgewogICAgICAgIHRleHQ6ICfkvJjmg6DliLgnLAogICAgICAgIHZhbDogJzUnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAn5ZWG5ZOBJywKICAgICAgICB2YWw6ICc2JwogICAgICB9XSwKICAgICAgY29sdW1uczE6IFt7CiAgICAgICAgdGl0bGU6ICdJRCcsCiAgICAgICAga2V5OiAnaWQnLAogICAgICAgIHdpZHRoOiA4MAogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICfnlKjmiLfkv6Hmga8nLAogICAgICAgIHNsb3Q6ICd1c2VyJywKICAgICAgICBtaW5XaWR0aDogOTAKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAn5aWW5ZOB5L+h5oGvJywKICAgICAgICBzbG90OiAncHJpemUnLAogICAgICAgIG1pbldpZHRoOiAxMzAKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAn5oq95aWW5pe26Ze0JywKICAgICAgICBrZXk6ICdhZGRfdGltZScsCiAgICAgICAgbWluV2lkdGg6IDEwMAogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICfmlLbotKfkv6Hmga8nLAogICAgICAgIHNsb3Q6ICdyZWNlaXZlX2luZm8nLAogICAgICAgIG1pbldpZHRoOiAxMDAKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAn5aSH5rOoJywKICAgICAgICBzbG90OiAnbWFyaycsCiAgICAgICAgbWluV2lkdGg6IDEwMAogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICfmk43kvZwnLAogICAgICAgIHNsb3Q6ICdhY3Rpb24nLAogICAgICAgIGZpeGVkOiAncmlnaHQnLAogICAgICAgIG1pbldpZHRoOiAxMzAKICAgICAgfV0sCiAgICAgIHRhYmxlTGlzdDogW10sCiAgICAgIGdyaWQ6IHsKICAgICAgICB4bDogNywKICAgICAgICBsZzogMTAsCiAgICAgICAgbWQ6IDEyLAogICAgICAgIHNtOiAyNCwKICAgICAgICB4czogMjQKICAgICAgfSwKICAgICAgdGFibGVGcm9tOiB7CiAgICAgICAga2V5d29yZDogJycsCiAgICAgICAgZGF0ZTogW10sCiAgICAgICAgcGFnZTogMSwKICAgICAgICBsaW1pdDogMTUsCiAgICAgICAgZmFjdG9yOiAxCiAgICAgIH0sCiAgICAgIHRvdGFsOiAwLAogICAgICB0aW1lVmFsOiBbXSwKICAgICAgbW9kZWxUeXBlOiAxLAogICAgICBsb3R0ZXJ5X2lkOiAnJywKICAgICAgbW9kZWxUaXRsZTogJycKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZSgnYWRtaW4vbGF5b3V0JywgWydpc01vYmlsZSddKSksIHt9LCB7CiAgICBsYWJlbFdpZHRoOiBmdW5jdGlvbiBsYWJlbFdpZHRoKCkgewogICAgICByZXR1cm4gdGhpcy5pc01vYmlsZSA/IHVuZGVmaW5lZCA6IDgwOwogICAgfSwKICAgIGxhYmVsUG9zaXRpb246IGZ1bmN0aW9uIGxhYmVsUG9zaXRpb24oKSB7CiAgICAgIHJldHVybiB0aGlzLmlzTW9iaWxlID8gJ3RvcCcgOiAnbGVmdCc7CiAgICB9CiAgfSksCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMudGFibGVGcm9tLmxvdHRlcnlfaWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5pZDsKICAgIHRoaXMubG90dGVyeV9pZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmlkOwogICAgdGhpcy5nZXRMaXN0KCk7CiAgICB0aGlzLmdldEV4cHJlc3NEYXRhKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBkZWxpdmVyOiBmdW5jdGlvbiBkZWxpdmVyKHJvdywgdHlwZSkgewogICAgICB0aGlzLm1hcmtGb3JtLmlkID0gcm93LmlkOwogICAgICB0aGlzLnNoaXBGb3JtLmlkID0gcm93LmlkOwogICAgICB0aGlzLnNoaXBGb3JtLmRlbGl2ZXJfbmFtZSA9ICcnOwogICAgICB0aGlzLnNoaXBGb3JtLmRlbGl2ZXJfbnVtYmVyID0gJyc7CiAgICAgIHRoaXMubWFya0Zvcm0ubWFyayA9IHJvdy5kZWxpdmVyX2luZm8ubWFyazsKICAgICAgdGhpcy5tb2RlbFR5cGUgPSB0eXBlOwogICAgICB0aGlzLnNoaXBNb2RlbCA9IHRydWU7CiAgICB9LAogICAgaXNEZWxpdmVyOiBmdW5jdGlvbiBpc0RlbGl2ZXIocm93KSB7CiAgICAgIHRoaXMubWFya0Zvcm0uaWQgPSByb3cuaWQ7CiAgICAgIHRoaXMuc2hpcEZvcm0uaWQgPSByb3cuaWQ7CiAgICAgIHRoaXMubW9kZWxUeXBlID0gMTsKICAgICAgdGhpcy5tb2RlbFRpdGxlID0gJ+mFjemAgeS/oeaBryc7CiAgICAgIHRoaXMuc2hpcE1vZGVsID0gdHJ1ZTsKICAgICAgdGhpcy5zaGlwRm9ybS5kZWxpdmVyX25hbWUgPSByb3cuZGVsaXZlcl9pbmZvLmRlbGl2ZXJfbmFtZTsKICAgICAgdGhpcy5zaGlwRm9ybS5kZWxpdmVyX251bWJlciA9IHJvdy5kZWxpdmVyX2luZm8uZGVsaXZlcl9udW1iZXI7CiAgICB9LAogICAgb2s6IGZ1bmN0aW9uIG9rKG5hbWUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdGhpcy4kcmVmc1tuYW1lXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBsb3R0ZXJ5UmVjb3JkRGVsaXZlcihfdGhpcy5tb2RlbFR5cGUgPT0gMSA/IF90aGlzLnNoaXBGb3JtIDogX3RoaXMubWFya0Zvcm0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXMuJE1lc3NhZ2Uuc3VjY2Vzcygn5pON5L2c5oiQ5YqfJyk7CiAgICAgICAgICBfdGhpcy5zaGlwTW9kZWwgPSBmYWxzZTsKICAgICAgICAgIF90aGlzLmdldExpc3QoKTsKICAgICAgICAgIF90aGlzLnNoaXBGb3JtID0gewogICAgICAgICAgICBpZDogJycsCiAgICAgICAgICAgIGRlbGl2ZXJfbmFtZTogJycsCiAgICAgICAgICAgIGRlbGl2ZXJfbnVtYmVyOiBudWxsCiAgICAgICAgICB9OwogICAgICAgICAgX3RoaXMubW9kZWxUaXRsZSA9ICcnOwogICAgICAgICAgX3RoaXMubWFya0Zvcm0gPSB7CiAgICAgICAgICAgIGlkOiAnJywKICAgICAgICAgICAgbWFyazogJycKICAgICAgICAgIH07CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgX3RoaXMuJE1lc3NhZ2UuZXJyb3IoZXJyLm1zZyk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkgewogICAgICB0aGlzLm1vZGVsVHlwZSA9IDE7CiAgICAgIHRoaXMubW9kZWxUaXRsZSA9ICcnOwogICAgICB0aGlzLnNoaXBNb2RlbCA9IGZhbHNlOwogICAgfSwKICAgIC8vIOeJqea1geWFrOWPuOWIl+ihqAogICAgZ2V0RXhwcmVzc0RhdGE6IGZ1bmN0aW9uIGdldEV4cHJlc3NEYXRhKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgX2dldEV4cHJlc3NEYXRhKCkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShyZXMpIHsKICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMi5sb2NhdGlvbkxpc3QgPSByZXMuZGF0YTsKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgIH0pKTsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi4kTWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5YW35L2T5pel5pyfCiAgICBvbmNoYW5nZVRpbWU6IGZ1bmN0aW9uIG9uY2hhbmdlVGltZShlKSB7CiAgICAgIHRoaXMudGltZVZhbCA9IGU7CiAgICAgIHRoaXMudGFibGVGcm9tLmRhdGEgPSB0aGlzLnRpbWVWYWxbMF0gPyB0aGlzLnRpbWVWYWwuam9pbignLScpIDogJyc7CiAgICAgIHRoaXMudGFibGVGcm9tLnBhZ2UgPSAxOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICAvLyDpgInmi6nml7bpl7QKICAgIHNlbGVjdENoYW5nZTogZnVuY3Rpb24gc2VsZWN0Q2hhbmdlKHRhYikgewogICAgICB0aGlzLnRhYmxlRnJvbS5wYWdlID0gMTsKICAgICAgdGhpcy50YWJsZUZyb20uZGF0ZSA9IHRhYjsKICAgICAgdGhpcy50aW1lVmFsID0gW107CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIHNlbGVjdFR5cGU6IGZ1bmN0aW9uIHNlbGVjdFR5cGUodHlwZSkgewogICAgICB0aGlzLnRhYmxlRnJvbS5wYWdlID0gMTsKICAgICAgdGhpcy50aW1lVmFsID0gW107CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIHNlbGVjdENoYW5nZUZhY3RvcjogZnVuY3Rpb24gc2VsZWN0Q2hhbmdlRmFjdG9yKCkgewogICAgICB0aGlzLnRhYmxlRnJvbS5wYWdlID0gMTsKICAgICAgdGhpcy50aW1lVmFsID0gW107CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIC8vIOWIl+ihqAogICAgZ2V0TGlzdDogZnVuY3Rpb24gZ2V0TGlzdCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIGxvdHRlcnlSZWNvcmRMaXN0KHRoaXMudGFibGVGcm9tKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIocmVzKSB7CiAgICAgICAgICB2YXIgZGF0YTsKICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkYXRhID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICBfdGhpczMudGFibGVMaXN0ID0gZGF0YS5saXN0OwogICAgICAgICAgICAgICAgX3RoaXMzLnRvdGFsID0gcmVzLmRhdGEuY291bnQ7CiAgICAgICAgICAgICAgICBfdGhpczMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgICB9KSk7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDIpIHsKICAgICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgX3RoaXMzLiRNZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICB9KTsKICAgIH0sCiAgICBwYWdlQ2hhbmdlOiBmdW5jdGlvbiBwYWdlQ2hhbmdlKGluZGV4KSB7CiAgICAgIHRoaXMudGFibGVGcm9tLnBhZ2UgPSBpbmRleDsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgLy8g6KGo5qC85pCc57SiCiAgICB1c2VyU2VhcmNoczogZnVuY3Rpb24gdXNlclNlYXJjaHMoKSB7CiAgICAgIHRoaXMudGFibGVGcm9tLnBhZ2UgPSAxOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["mapState","lotteryRecordList","lotteryRecordDeliver","formatDate","getExpressData","ruleShip","ruleMark","name","filters","time","date","Date","data","shipModel","loading","locationList","shipForm","id","deliver_name","deliver_number","markForm","mark","fromList","title","fromTxt","text","val","typeList","columns1","key","width","slot","minWidth","fixed","tableList","grid","xl","lg","md","sm","xs","tableFrom","keyword","page","limit","factor","total","timeVal","modelType","lottery_id","modelTitle","computed","_objectSpread","labelWidth","isMobile","undefined","labelPosition","created","$route","query","getList","methods","deliver","row","type","deliver_info","isDeliver","ok","_this","$refs","validate","valid","then","res","$Message","success","catch","err","error","msg","cancel","_this2","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","wrap","_callee$","_context","prev","next","stop","_x","apply","arguments","onchangeTime","e","join","selectChange","tab","selectType","selectChangeFactor","_this3","_ref2","_callee2","_callee2$","_context2","list","count","_x2","pageChange","index","userSearchs"],"sources":["src/pages/marketing/lottery/recordingList.vue"],"sourcesContent":["<template>\n  <div>\n    <Card :bordered=\"false\" dis-hover class=\"ivu-mt\">\n      <Form\n        ref=\"tableFrom\"\n        :model=\"tableFrom\"\n        :label-width=\"labelWidth\"\n        :label-position=\"labelPosition\"\n        @submit.native.prevent\n      >\n        <Row type=\"flex\" :gutter=\"24\">\n          <Col>\n            <FormItem label=\"活动类型：\" clearable>\n              <RadioGroup v-model=\"tableFrom.factor\" type=\"button\" @on-change=\"selectChangeFactor()\" class=\"mr\">\n                <Radio :label=\"1\">积分抽取</Radio>\n                <Radio :label=\"3\">订单支付</Radio>\n                <Radio :label=\"4\">订单评价</Radio>\n              </RadioGroup>\n            </FormItem>\n          </Col>\n          <Col span=\"24\">\n            <FormItem label=\"时间选择：\">\n              <RadioGroup v-model=\"tableFrom.data\" type=\"button\" @on-change=\"selectChange(tableFrom.data)\" class=\"mr\">\n                <Radio :label=\"item.val\" v-for=\"(item, i) in fromList.fromTxt\" :key=\"i\">{{ item.text }}</Radio>\n              </RadioGroup>\n              <DatePicker\n                :editable=\"false\"\n                @on-change=\"onchangeTime\"\n                :value=\"timeVal\"\n                format=\"yyyy/MM/dd\"\n                type=\"daterange\"\n                placement=\"bottom-end\"\n                placeholder=\"自定义时间\"\n                style=\"width: 200px\"\n              ></DatePicker>\n            </FormItem>\n          </Col>\n          <Col span=\"24\">\n            <FormItem label=\"奖品类型：\">\n              <RadioGroup v-model=\"tableFrom.type\" type=\"button\" @on-change=\"selectType()\" class=\"mr\">\n                <Radio :label=\"item.val\" v-for=\"(item, i) in typeList\" :key=\"i\">{{ item.text }}</Radio>\n              </RadioGroup>\n            </FormItem>\n          </Col>\n          <!-- <Col v-bind=\"grid\">\n            <FormItem label=\"领取状态：\" clearable>\n              <Select\n                v-model=\"tableFrom.is_receive\"\n                placeholder=\"请选择\"\n                clearable\n                @on-change=\"userSearchs\"\n              >\n                <Option value=\"0\">待发货</Option>\n                <Option value=\"1\">已发货</Option>\n              </Select>\n            </FormItem>\n          </Col>\n          <Col v-bind=\"grid\">\n            <FormItem label=\"处理状态：\" clearable>\n              <Select\n                v-model=\"tableFrom.is_deliver\"\n                placeholder=\"请选择\"\n                clearable\n                @on-change=\"userSearchs\"\n              >\n                <Option value=\"0\">未处理</Option>\n                <Option value=\"1\">已处理</Option>\n              </Select>\n            </FormItem>\n          </Col> -->\n          <Col v-bind=\"grid\">\n            <FormItem label=\"搜索用户：\" label-for=\"store_name\">\n              <Input\n                search\n                enter-button\n                placeholder=\"请输入用户信息\"\n                v-model=\"tableFrom.keyword\"\n                @on-search=\"userSearchs\"\n              />\n            </FormItem>\n          </Col>\n        </Row>\n      </Form>\n      <Table\n        :columns=\"columns1\"\n        :data=\"tableList\"\n        :loading=\"loading\"\n        highlight-row\n        no-userFrom-text=\"暂无数据\"\n        no-filtered-userFrom-text=\"暂无筛选结果\"\n      >\n        <template slot-scope=\"{ row, index }\" slot=\"is_fail\">\n          <Icon type=\"md-checkmark\" v-if=\"row.is_fail === 1\" color=\"#0092DC\" size=\"14\" />\n          <Icon type=\"md-close\" v-else color=\"#ed5565\" size=\"14\" />\n        </template>\n        <template slot-scope=\"{ row, index }\" slot=\"user\">\n          <span>{{ row.user.nickname }} </span>\n        </template>\n        <template slot-scope=\"{ row, index }\" slot=\"mark\">\n          <span>{{ row.deliver_info.mark }}</span>\n        </template>\n        <template slot-scope=\"{ row, index }\" slot=\"receive_info\">\n          <div v-if=\"row.receive_info.name\">\n            <div>姓名：{{ row.receive_info.name }}</div>\n            <div>电话：{{ row.receive_info.phone }}</div>\n            <div>地址：{{ row.receive_info.address }}</div>\n            <div v-if=\"row.receive_info.mark\">备注：{{ row.receive_info.mark }}</div>\n          </div>\n        </template>\n        <template slot-scope=\"{ row, index }\" slot=\"prize\">\n          <div class=\"prize\">\n            <img :src=\"row.prize.image\" alt=\"\" />\n            <span>{{ row.prize.name }}</span>\n          </div>\n        </template>\n        <template slot-scope=\"{ row, index }\" slot=\"action\">\n          <a @click=\"deliver(row, 1)\" v-if=\"row.type == 6 && row.is_deliver === 0\">发货</a>\n          <a v-else-if=\"row.type == 6 && row.is_deliver === 1\" @click=\"isDeliver(row)\">配送信息</a>\n          <Divider type=\"vertical\" v-if=\"row.type == 6\" />\n          <a @click=\"deliver(row, 2)\">备注</a>\n        </template>\n      </Table>\n      <div class=\"acea-row row-right page\">\n        <Page\n          :total=\"total\"\n          :current=\"tableFrom.page\"\n          show-elevator\n          show-total\n          @on-change=\"pageChange\"\n          :page-size=\"tableFrom.limit\"\n        />\n      </div>\n    </Card>\n    <!-- 发货-->\n    <Modal\n      v-model=\"shipModel\"\n      width=\"40%\"\n      scrollable\n      closable\n      footer-hide\n      :title=\"!modelTitle ? (modelType === 1 ? '发货' : '备注') : modelTitle\"\n      :mask-closable=\"false\"\n      :z-index=\"1\"\n    >\n      <Form\n        v-model=\"shipModel\"\n        :ref=\"modelType === 1 ? 'shipForm' : 'markForm'\"\n        :model=\"modelType === 1 ? shipForm : markForm\"\n        :rules=\"modelType === 1 ? ruleShip : ruleMark\"\n        :label-width=\"80\"\n      >\n        <FormItem v-if=\"modelType === 1\" label=\"快递公司\" prop=\"deliver_name\">\n          <Select v-model=\"shipForm.deliver_name\">\n            <Option v-for=\"item in locationList\" :value=\"item.value\" :key=\"item.id\">{{ item.value }}</Option>\n          </Select>\n        </FormItem>\n        <FormItem v-if=\"modelType === 1\" label=\"快递单号\" prop=\"deliver_number\">\n          <Input v-model=\"shipForm.deliver_number\" placeholder=\"请输入快递单号\"></Input>\n          <div class=\"trips\" v-if=\"shipForm.deliver_name == '顺丰速运'\">\n            <p>顺丰请输入单号 :收件人或寄件人手机号后四位</p>\n            <p>例如：SF000000000000:3941</p>\n          </div>\n        </FormItem>\n        <FormItem v-if=\"modelType === 2\" label=\"备注\">\n          <Input v-model=\"markForm.mark\" placeholder=\"请输入备注\"></Input>\n        </FormItem>\n        <FormItem>\n          <Button type=\"primary\" @click=\"ok(modelType === 1 ? 'shipForm' : 'markForm')\">提交</Button>\n          <Button @click=\"cancel('formValidate')\" style=\"margin-left: 8px\">关闭</Button>\n        </FormItem></Form\n      >\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport { lotteryRecordList, lotteryRecordDeliver } from '@/api/lottery';\nimport { formatDate } from '@/utils/validate';\nimport { getExpressData } from '@/api/order';\nimport { ruleShip, ruleMark } from './formRule/ruleShip';\nexport default {\n  name: 'lotteryRecordList',\n  filters: {\n    formatDate(time) {\n      if (time !== 0) {\n        let date = new Date(time * 1000);\n        return formatDate(date, 'yyyy-MM-dd hh:mm');\n      }\n    },\n  },\n  data() {\n    return {\n      shipModel: false,\n      loading: false,\n      locationList: [],\n      shipForm: {\n        id: '',\n        deliver_name: '',\n        deliver_number: null,\n      },\n      markForm: {\n        id: '',\n        mark: '',\n      },\n      ruleShip: ruleShip,\n      ruleMark: ruleMark,\n      fromList: {\n        title: '选择时间',\n        fromTxt: [\n          { text: '全部', val: '' },\n          { text: '今天', val: 'today' },\n          { text: '昨天', val: 'yesterday' },\n          { text: '最近7天', val: 'lately7' },\n          { text: '最近30天', val: 'lately30' },\n          { text: '本月', val: 'month' },\n          { text: '本年', val: 'year' },\n        ],\n      },\n      typeList: [\n        { text: '全部', val: '' },\n        { text: '未中奖', val: '1' },\n        { text: '积分', val: '2' },\n        { text: '余额', val: '3' },\n        { text: '红包', val: '4' },\n        { text: '优惠券', val: '5' },\n        { text: '商品', val: '6' },\n      ],\n      columns1: [\n        {\n          title: 'ID',\n          key: 'id',\n          width: 80,\n        },\n        {\n          title: '用户信息',\n          slot: 'user',\n          minWidth: 90,\n        },\n        {\n          title: '奖品信息',\n          slot: 'prize',\n          minWidth: 130,\n        },\n        {\n          title: '抽奖时间',\n          key: 'add_time',\n          minWidth: 100,\n        },\n        {\n          title: '收货信息',\n          slot: 'receive_info',\n          minWidth: 100,\n        },\n        {\n          title: '备注',\n          slot: 'mark',\n          minWidth: 100,\n        },\n        {\n          title: '操作',\n          slot: 'action',\n          fixed: 'right',\n          minWidth: 130,\n        },\n      ],\n      tableList: [],\n      grid: {\n        xl: 7,\n        lg: 10,\n        md: 12,\n        sm: 24,\n        xs: 24,\n      },\n      tableFrom: {\n        keyword: '',\n        date: [],\n        page: 1,\n        limit: 15,\n        factor: 1,\n      },\n      total: 0,\n      timeVal: [],\n      modelType: 1,\n      lottery_id: '',\n      modelTitle: '',\n    };\n  },\n  computed: {\n    ...mapState('admin/layout', ['isMobile']),\n    labelWidth() {\n      return this.isMobile ? undefined : 80;\n    },\n    labelPosition() {\n      return this.isMobile ? 'top' : 'left';\n    },\n  },\n  created() {\n    this.tableFrom.lottery_id = this.$route.query.id;\n    this.lottery_id = this.$route.query.id;\n    this.getList();\n    this.getExpressData();\n  },\n  methods: {\n    deliver(row, type) {\n      this.markForm.id = row.id;\n      this.shipForm.id = row.id;\n      this.shipForm.deliver_name = '';\n      this.shipForm.deliver_number = '';\n      this.markForm.mark = row.deliver_info.mark;\n      this.modelType = type;\n      this.shipModel = true;\n    },\n    isDeliver(row) {\n      this.markForm.id = row.id;\n      this.shipForm.id = row.id;\n      this.modelType = 1;\n      this.modelTitle = '配送信息';\n      this.shipModel = true;\n      this.shipForm.deliver_name = row.deliver_info.deliver_name;\n      this.shipForm.deliver_number = row.deliver_info.deliver_number;\n    },\n    ok(name) {\n      this.$refs[name].validate((valid) => {\n        lotteryRecordDeliver(this.modelType == 1 ? this.shipForm : this.markForm)\n          .then((res) => {\n            this.$Message.success('操作成功');\n            this.shipModel = false;\n            this.getList();\n            this.shipForm = {\n              id: '',\n              deliver_name: '',\n              deliver_number: null,\n            };\n            this.modelTitle = '';\n            this.markForm = {\n              id: '',\n              mark: '',\n            };\n          })\n          .catch((err) => {\n            this.$Message.error(err.msg);\n          });\n      });\n    },\n    cancel() {\n      this.modelType = 1;\n      this.modelTitle = '';\n      this.shipModel = false;\n    },\n    // 物流公司列表\n    getExpressData() {\n      getExpressData()\n        .then(async (res) => {\n          this.locationList = res.data;\n        })\n        .catch((res) => {\n          this.$Message.error(res.msg);\n        });\n    },\n    // 具体日期\n    onchangeTime(e) {\n      this.timeVal = e;\n      this.tableFrom.data = this.timeVal[0] ? this.timeVal.join('-') : '';\n      this.tableFrom.page = 1;\n      this.getList();\n    },\n    // 选择时间\n    selectChange(tab) {\n      this.tableFrom.page = 1;\n      this.tableFrom.date = tab;\n      this.timeVal = [];\n      this.getList();\n    },\n    selectType(type) {\n      this.tableFrom.page = 1;\n      this.timeVal = [];\n      this.getList();\n    },\n    selectChangeFactor() {\n      this.tableFrom.page = 1;\n      this.timeVal = [];\n      this.getList();\n    },\n    // 列表\n    getList() {\n      this.loading = true;\n      lotteryRecordList(this.tableFrom)\n        .then(async (res) => {\n          let data = res.data;\n          this.tableList = data.list;\n          this.total = res.data.count;\n          this.loading = false;\n        })\n        .catch((res) => {\n          this.loading = false;\n          this.$Message.error(res.msg);\n        });\n    },\n    pageChange(index) {\n      this.tableFrom.page = index;\n      this.getList();\n    },\n    // 表格搜索\n    userSearchs() {\n      this.tableFrom.page = 1;\n      this.getList();\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"stylus\">\n.tabBox_img {\n  width: 36px;\n  height: 36px;\n  border-radius: 4px;\n  cursor: pointer;\n\n  img {\n    width: 100%;\n    height: 100%;\n  }\n}\n\n.prize {\n  display: flex;\n  align-items: center;\n}\n\n.prize img {\n  width: 36px;\n  height: 36px;\n  border-radius: 4px;\n  cursor: pointer;\n  margin-right: 5px;\n}\n\n.trips {\n  color: #ccc;\n}\n</style>\n"],"mappings":"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"}]}