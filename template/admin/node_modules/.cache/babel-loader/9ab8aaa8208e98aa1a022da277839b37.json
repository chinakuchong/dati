{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/components/labelList/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/components/labelList/index.vue","mtime":1689324015149},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/babel.config.js","mtime":1689324015052},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/.babelrc","mtime":1689324015050},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHByb2R1Y3RVc2VyTGFiZWwgfSBmcm9tICdAL2FwaS9wcm9kdWN0JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICd1c2VyTGFiZWwnLAogIHByb3BzOiB7CiAgICAvLyBkYXRhTGFiZWw6IHsKICAgIC8vIAl0eXBlOiBBcnJheSwKICAgIC8vIAlkZWZhdWx0OiAoKSA9PiBbXQogICAgLy8gfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxhYmVsTGlzdDogW10sCiAgICAgIGRhdGFMYWJlbDogW10sCiAgICAgIGlzVXNlcjogZmFsc2UKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge30sCiAgbWV0aG9kczogewogICAgaW5BcnJheTogZnVuY3Rpb24gaW5BcnJheShzZWFyY2gsIGFycmF5KSB7CiAgICAgIGZvciAodmFyIGkgaW4gYXJyYXkpIHsKICAgICAgICBpZiAoYXJyYXlbaV0uaWQgPT0gc2VhcmNoKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSwKICAgIC8vIOeUqOaIt+agh+etvgogICAgdXNlckxhYmVsOiBmdW5jdGlvbiB1c2VyTGFiZWwoZGF0YSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB0aGlzLmRhdGFMYWJlbCA9IGRhdGE7CiAgICAgIHByb2R1Y3RVc2VyTGFiZWwoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICByZXMuZGF0YS5tYXAoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICBpZiAoZWwuY2hpbGRyZW4pIHsKICAgICAgICAgICAgX3RoaXMuaXNVc2VyID0gdHJ1ZTsKICAgICAgICAgICAgZWwuY2hpbGRyZW4ubWFwKGZ1bmN0aW9uIChsYWJlbCkgewogICAgICAgICAgICAgIGlmIChfdGhpcy5pbkFycmF5KGxhYmVsLmlkLCBfdGhpcy5kYXRhTGFiZWwpKSB7CiAgICAgICAgICAgICAgICBsYWJlbC5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGxhYmVsLmRpc2FibGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBfdGhpcy5sYWJlbExpc3QgPSByZXMuZGF0YTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLiRNZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICB9KTsKICAgIH0sCiAgICBzZWxlY3RMYWJlbDogZnVuY3Rpb24gc2VsZWN0TGFiZWwobGFiZWwpIHsKICAgICAgaWYgKGxhYmVsLmRpc2FibGVkKSB7CiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5kYXRhTGFiZWwuaW5kZXhPZih0aGlzLmRhdGFMYWJlbC5maWx0ZXIoZnVuY3Rpb24gKGQpIHsKICAgICAgICAgIHJldHVybiBkLmlkID09IGxhYmVsLmlkOwogICAgICAgIH0pWzBdKTsKICAgICAgICB0aGlzLmRhdGFMYWJlbC5zcGxpY2UoaW5kZXgsIDEpOwogICAgICAgIGxhYmVsLmRpc2FibGVkID0gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5kYXRhTGFiZWwucHVzaCh7CiAgICAgICAgICBsYWJlbF9uYW1lOiBsYWJlbC5sYWJlbF9uYW1lLAogICAgICAgICAgaWQ6IGxhYmVsLmlkCiAgICAgICAgfSk7CiAgICAgICAgbGFiZWwuZGlzYWJsZWQgPSB0cnVlOwogICAgICB9CiAgICB9LAogICAgLy8g56Gu5a6aCiAgICBzdWJCdG46IGZ1bmN0aW9uIHN1YkJ0bigpIHsKICAgICAgdGhpcy4kZW1pdCgnYWN0aXZlRGF0YScsIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5kYXRhTGFiZWwpKSk7CiAgICB9LAogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlJyk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["productUserLabel","name","props","data","labelList","dataLabel","isUser","mounted","methods","inArray","search","array","i","id","userLabel","_this","then","res","map","el","children","label","disabled","catch","$Message","error","msg","selectLabel","index","indexOf","filter","d","splice","push","label_name","subBtn","$emit","JSON","parse","stringify","cancel"],"sources":["src/components/labelList/index.vue"],"sourcesContent":["<template>\n  <div class=\"label-wrapper\">\n    <div class=\"list-box\">\n      <div class=\"label-box\" v-for=\"(item, index) in labelList\" :key=\"index\" v-if=\"isUser\">\n        <div class=\"title\" v-if=\"item.children\">{{ item.label_name }}</div>\n        <div class=\"list\" v-if=\"item.children && item.children.length\">\n          <div\n            class=\"label-item\"\n            :class=\"{ on: label.disabled }\"\n            v-for=\"(label, j) in item.children\"\n            :key=\"j\"\n            @click=\"selectLabel(label)\"\n          >\n            {{ label.label_name }}\n          </div>\n        </div>\n      </div>\n      <div v-if=\"!isUser\">暂无标签</div>\n    </div>\n    <div class=\"footer\">\n      <Button type=\"primary\" class=\"btns\" @click=\"subBtn\">确定</Button>\n      <Button type=\"primary\" class=\"btns\" ghost @click=\"cancel\">取消</Button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { productUserLabel } from '@/api/product';\nexport default {\n  name: 'userLabel',\n  props: {\n    // dataLabel: {\n    // \ttype: Array,\n    // \tdefault: () => []\n    // }\n  },\n  data() {\n    return {\n      labelList: [],\n      dataLabel: [],\n      isUser: false,\n    };\n  },\n  mounted() {},\n  methods: {\n    inArray: function (search, array) {\n      for (let i in array) {\n        if (array[i].id == search) {\n          return true;\n        }\n      }\n      return false;\n    },\n    // 用户标签\n    userLabel(data) {\n      this.dataLabel = data;\n      productUserLabel()\n        .then((res) => {\n          res.data.map((el) => {\n            if (el.children) {\n              this.isUser = true;\n              el.children.map((label) => {\n                if (this.inArray(label.id, this.dataLabel)) {\n                  label.disabled = true;\n                } else {\n                  label.disabled = false;\n                }\n              });\n            }\n          });\n          this.labelList = res.data;\n        })\n        .catch((res) => {\n          this.$Message.error(res.msg);\n        });\n    },\n    selectLabel(label) {\n      if (label.disabled) {\n        let index = this.dataLabel.indexOf(this.dataLabel.filter((d) => d.id == label.id)[0]);\n        this.dataLabel.splice(index, 1);\n        label.disabled = false;\n      } else {\n        this.dataLabel.push({ label_name: label.label_name, id: label.id });\n        label.disabled = true;\n      }\n    },\n    // 确定\n    subBtn() {\n      this.$emit('activeData', JSON.parse(JSON.stringify(this.dataLabel)));\n    },\n    cancel() {\n      this.$emit('close');\n    },\n  },\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n.label-wrapper\n    .list\n        display flex\n        flex-wrap wrap\n        .label-item\n            margin 10px 8px 10px 0\n            padding: 3px 8px;\n            background #EEEEEE\n            color #333333\n            border-radius 2px\n            cursor pointer\n            font-size 12px\n            &.on\n                color #fff\n                background #1890FF\n    .footer\n        display flex\n        justify-content flex-end\n        margin-top 40px\n        button\n            margin-left 10px\n.btn\n    width 60px\n    height 24px\n.title\n    font-size 13px\n.list-box\n\t\toverflow-y auto\n\t\toverflow-x hidden\n\t\tmax-height 240px\n</style>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,SAAAA,gBAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACA;IACA;IACA;IACA;EAAA,CACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,SAAA;MACAC,SAAA;MACAC,MAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;EACAC,OAAA;IACAC,OAAA,WAAAA,QAAAC,MAAA,EAAAC,KAAA;MACA,SAAAC,CAAA,IAAAD,KAAA;QACA,IAAAA,KAAA,CAAAC,CAAA,EAAAC,EAAA,IAAAH,MAAA;UACA;QACA;MACA;MACA;IACA;IACA;IACAI,SAAA,WAAAA,UAAAX,IAAA;MAAA,IAAAY,KAAA;MACA,KAAAV,SAAA,GAAAF,IAAA;MACAH,gBAAA,GACAgB,IAAA,WAAAC,GAAA;QACAA,GAAA,CAAAd,IAAA,CAAAe,GAAA,WAAAC,EAAA;UACA,IAAAA,EAAA,CAAAC,QAAA;YACAL,KAAA,CAAAT,MAAA;YACAa,EAAA,CAAAC,QAAA,CAAAF,GAAA,WAAAG,KAAA;cACA,IAAAN,KAAA,CAAAN,OAAA,CAAAY,KAAA,CAAAR,EAAA,EAAAE,KAAA,CAAAV,SAAA;gBACAgB,KAAA,CAAAC,QAAA;cACA;gBACAD,KAAA,CAAAC,QAAA;cACA;YACA;UACA;QACA;QACAP,KAAA,CAAAX,SAAA,GAAAa,GAAA,CAAAd,IAAA;MACA,GACAoB,KAAA,WAAAN,GAAA;QACAF,KAAA,CAAAS,QAAA,CAAAC,KAAA,CAAAR,GAAA,CAAAS,GAAA;MACA;IACA;IACAC,WAAA,WAAAA,YAAAN,KAAA;MACA,IAAAA,KAAA,CAAAC,QAAA;QACA,IAAAM,KAAA,QAAAvB,SAAA,CAAAwB,OAAA,MAAAxB,SAAA,CAAAyB,MAAA,WAAAC,CAAA;UAAA,OAAAA,CAAA,CAAAlB,EAAA,IAAAQ,KAAA,CAAAR,EAAA;QAAA;QACA,KAAAR,SAAA,CAAA2B,MAAA,CAAAJ,KAAA;QACAP,KAAA,CAAAC,QAAA;MACA;QACA,KAAAjB,SAAA,CAAA4B,IAAA;UAAAC,UAAA,EAAAb,KAAA,CAAAa,UAAA;UAAArB,EAAA,EAAAQ,KAAA,CAAAR;QAAA;QACAQ,KAAA,CAAAC,QAAA;MACA;IACA;IACA;IACAa,MAAA,WAAAA,OAAA;MACA,KAAAC,KAAA,eAAAC,IAAA,CAAAC,KAAA,CAAAD,IAAA,CAAAE,SAAA,MAAAlC,SAAA;IACA;IACAmC,MAAA,WAAAA,OAAA;MACA,KAAAJ,KAAA;IACA;EACA;AACA"}]}