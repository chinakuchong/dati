{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/pages/user/list/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/pages/user/list/index.vue","mtime":1689324015287},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/babel.config.js","mtime":1689324015052},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/.babelrc","mtime":1689324015050},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmFzeW5jLWl0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLnRvLXN0cmluZy10YWcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnRvLXN0cmluZy10YWcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5tYXRoLnRvLXN0cmluZy10YWcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmVycm9yLmNhdXNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5zZXQtcHJvdG90eXBlLW9mLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgX3R5cGVvZiBmcm9tICIvVm9sdW1lcy9tYWMvd2Vid29yay8yMDIzL2RhdGkvdGVtcGxhdGUvYWRtaW4vbm9kZV9tb2R1bGVzL0B2dWUvYmFiZWwtcHJlc2V0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mLmpzIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVm9sdW1lcy9tYWMvd2Vid29yay8yMDIzL2RhdGkvdGVtcGxhdGUvYWRtaW4vbm9kZV9tb2R1bGVzL0B2dWUvYmFiZWwtcHJlc2V0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1ZvbHVtZXMvbWFjL3dlYndvcmsvMjAyMy9kYXRpL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AdnVlL2JhYmVsLXByZXNldC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVm9sdW1lcy9tYWMvd2Vid29yay8yMDIzL2RhdGkvdGVtcGxhdGUvYWRtaW4vbm9kZV9tb2R1bGVzL0B2dWUvYmFiZWwtcHJlc2V0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmZ1bmN0aW9uIF9yZWdlbmVyYXRvclJ1bnRpbWUoKSB7ICJ1c2Ugc3RyaWN0IjsgLyohIHJlZ2VuZXJhdG9yLXJ1bnRpbWUgLS0gQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuIC0tIGxpY2Vuc2UgKE1JVCk6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9ibG9iL21haW4vTElDRU5TRSAqLyBfcmVnZW5lcmF0b3JSdW50aW1lID0gZnVuY3Rpb24gX3JlZ2VuZXJhdG9yUnVudGltZSgpIHsgcmV0dXJuIGV4cG9ydHM7IH07IHZhciBleHBvcnRzID0ge30sIE9wID0gT2JqZWN0LnByb3RvdHlwZSwgaGFzT3duID0gT3AuaGFzT3duUHJvcGVydHksIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5IHx8IGZ1bmN0aW9uIChvYmosIGtleSwgZGVzYykgeyBvYmpba2V5XSA9IGRlc2MudmFsdWU7IH0sICRTeW1ib2wgPSAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgPyBTeW1ib2wgOiB7fSwgaXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLml0ZXJhdG9yIHx8ICJAQGl0ZXJhdG9yIiwgYXN5bmNJdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuYXN5bmNJdGVyYXRvciB8fCAiQEBhc3luY0l0ZXJhdG9yIiwgdG9TdHJpbmdUYWdTeW1ib2wgPSAkU3ltYm9sLnRvU3RyaW5nVGFnIHx8ICJAQHRvU3RyaW5nVGFnIjsgZnVuY3Rpb24gZGVmaW5lKG9iaiwga2V5LCB2YWx1ZSkgeyByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCB9KSwgb2JqW2tleV07IH0gdHJ5IHsgZGVmaW5lKHt9LCAiIik7IH0gY2F0Y2ggKGVycikgeyBkZWZpbmUgPSBmdW5jdGlvbiBkZWZpbmUob2JqLCBrZXksIHZhbHVlKSB7IHJldHVybiBvYmpba2V5XSA9IHZhbHVlOyB9OyB9IGZ1bmN0aW9uIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHsgdmFyIHByb3RvR2VuZXJhdG9yID0gb3V0ZXJGbiAmJiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvciA/IG91dGVyRm4gOiBHZW5lcmF0b3IsIGdlbmVyYXRvciA9IE9iamVjdC5jcmVhdGUocHJvdG9HZW5lcmF0b3IucHJvdG90eXBlKSwgY29udGV4dCA9IG5ldyBDb250ZXh0KHRyeUxvY3NMaXN0IHx8IFtdKTsgcmV0dXJuIGRlZmluZVByb3BlcnR5KGdlbmVyYXRvciwgIl9pbnZva2UiLCB7IHZhbHVlOiBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpIH0pLCBnZW5lcmF0b3I7IH0gZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIG9iaiwgYXJnKSB7IHRyeSB7IHJldHVybiB7IHR5cGU6ICJub3JtYWwiLCBhcmc6IGZuLmNhbGwob2JqLCBhcmcpIH07IH0gY2F0Y2ggKGVycikgeyByZXR1cm4geyB0eXBlOiAidGhyb3ciLCBhcmc6IGVyciB9OyB9IH0gZXhwb3J0cy53cmFwID0gd3JhcDsgdmFyIENvbnRpbnVlU2VudGluZWwgPSB7fTsgZnVuY3Rpb24gR2VuZXJhdG9yKCkge30gZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fSBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9IHZhciBJdGVyYXRvclByb3RvdHlwZSA9IHt9OyBkZWZpbmUoSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KTsgdmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mLCBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvICYmIGdldFByb3RvKGdldFByb3RvKHZhbHVlcyhbXSkpKTsgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgJiYgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgIT09IE9wICYmIGhhc093bi5jYWxsKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCkgJiYgKEl0ZXJhdG9yUHJvdG90eXBlID0gTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUpOyB2YXIgR3AgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPSBHZW5lcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSk7IGZ1bmN0aW9uIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhwcm90b3R5cGUpIHsgWyJuZXh0IiwgInRocm93IiwgInJldHVybiJdLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkgeyBkZWZpbmUocHJvdG90eXBlLCBtZXRob2QsIGZ1bmN0aW9uIChhcmcpIHsgcmV0dXJuIHRoaXMuX2ludm9rZShtZXRob2QsIGFyZyk7IH0pOyB9KTsgfSBmdW5jdGlvbiBBc3luY0l0ZXJhdG9yKGdlbmVyYXRvciwgUHJvbWlzZUltcGwpIHsgZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpIHsgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGdlbmVyYXRvclttZXRob2RdLCBnZW5lcmF0b3IsIGFyZyk7IGlmICgidGhyb3ciICE9PSByZWNvcmQudHlwZSkgeyB2YXIgcmVzdWx0ID0gcmVjb3JkLmFyZywgdmFsdWUgPSByZXN1bHQudmFsdWU7IHJldHVybiB2YWx1ZSAmJiAib2JqZWN0IiA9PSBfdHlwZW9mKHZhbHVlKSAmJiBoYXNPd24uY2FsbCh2YWx1ZSwgIl9fYXdhaXQiKSA/IFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUuX19hd2FpdCkudGhlbihmdW5jdGlvbiAodmFsdWUpIHsgaW52b2tlKCJuZXh0IiwgdmFsdWUsIHJlc29sdmUsIHJlamVjdCk7IH0sIGZ1bmN0aW9uIChlcnIpIHsgaW52b2tlKCJ0aHJvdyIsIGVyciwgcmVzb2x2ZSwgcmVqZWN0KTsgfSkgOiBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uICh1bndyYXBwZWQpIHsgcmVzdWx0LnZhbHVlID0gdW53cmFwcGVkLCByZXNvbHZlKHJlc3VsdCk7IH0sIGZ1bmN0aW9uIChlcnJvcikgeyByZXR1cm4gaW52b2tlKCJ0aHJvdyIsIGVycm9yLCByZXNvbHZlLCByZWplY3QpOyB9KTsgfSByZWplY3QocmVjb3JkLmFyZyk7IH0gdmFyIHByZXZpb3VzUHJvbWlzZTsgZGVmaW5lUHJvcGVydHkodGhpcywgIl9pbnZva2UiLCB7IHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShtZXRob2QsIGFyZykgeyBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHsgcmV0dXJuIG5ldyBQcm9taXNlSW1wbChmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KTsgfSk7IH0gcmV0dXJuIHByZXZpb3VzUHJvbWlzZSA9IHByZXZpb3VzUHJvbWlzZSA/IHByZXZpb3VzUHJvbWlzZS50aGVuKGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLCBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZykgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpOyB9IH0pOyB9IGZ1bmN0aW9uIG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCkgeyB2YXIgc3RhdGUgPSAic3VzcGVuZGVkU3RhcnQiOyByZXR1cm4gZnVuY3Rpb24gKG1ldGhvZCwgYXJnKSB7IGlmICgiZXhlY3V0aW5nIiA9PT0gc3RhdGUpIHRocm93IG5ldyBFcnJvcigiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZyIpOyBpZiAoImNvbXBsZXRlZCIgPT09IHN0YXRlKSB7IGlmICgidGhyb3ciID09PSBtZXRob2QpIHRocm93IGFyZzsgcmV0dXJuIGRvbmVSZXN1bHQoKTsgfSBmb3IgKGNvbnRleHQubWV0aG9kID0gbWV0aG9kLCBjb250ZXh0LmFyZyA9IGFyZzs7KSB7IHZhciBkZWxlZ2F0ZSA9IGNvbnRleHQuZGVsZWdhdGU7IGlmIChkZWxlZ2F0ZSkgeyB2YXIgZGVsZWdhdGVSZXN1bHQgPSBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTsgaWYgKGRlbGVnYXRlUmVzdWx0KSB7IGlmIChkZWxlZ2F0ZVJlc3VsdCA9PT0gQ29udGludWVTZW50aW5lbCkgY29udGludWU7IHJldHVybiBkZWxlZ2F0ZVJlc3VsdDsgfSB9IGlmICgibmV4dCIgPT09IGNvbnRleHQubWV0aG9kKSBjb250ZXh0LnNlbnQgPSBjb250ZXh0Ll9zZW50ID0gY29udGV4dC5hcmc7ZWxzZSBpZiAoInRocm93IiA9PT0gY29udGV4dC5tZXRob2QpIHsgaWYgKCJzdXNwZW5kZWRTdGFydCIgPT09IHN0YXRlKSB0aHJvdyBzdGF0ZSA9ICJjb21wbGV0ZWQiLCBjb250ZXh0LmFyZzsgY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZyk7IH0gZWxzZSAicmV0dXJuIiA9PT0gY29udGV4dC5tZXRob2QgJiYgY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGNvbnRleHQuYXJnKTsgc3RhdGUgPSAiZXhlY3V0aW5nIjsgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpOyBpZiAoIm5vcm1hbCIgPT09IHJlY29yZC50eXBlKSB7IGlmIChzdGF0ZSA9IGNvbnRleHQuZG9uZSA/ICJjb21wbGV0ZWQiIDogInN1c3BlbmRlZFlpZWxkIiwgcmVjb3JkLmFyZyA9PT0gQ29udGludWVTZW50aW5lbCkgY29udGludWU7IHJldHVybiB7IHZhbHVlOiByZWNvcmQuYXJnLCBkb25lOiBjb250ZXh0LmRvbmUgfTsgfSAidGhyb3ciID09PSByZWNvcmQudHlwZSAmJiAoc3RhdGUgPSAiY29tcGxldGVkIiwgY29udGV4dC5tZXRob2QgPSAidGhyb3ciLCBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmcpOyB9IH07IH0gZnVuY3Rpb24gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCkgeyB2YXIgbWV0aG9kTmFtZSA9IGNvbnRleHQubWV0aG9kLCBtZXRob2QgPSBkZWxlZ2F0ZS5pdGVyYXRvclttZXRob2ROYW1lXTsgaWYgKHVuZGVmaW5lZCA9PT0gbWV0aG9kKSByZXR1cm4gY29udGV4dC5kZWxlZ2F0ZSA9IG51bGwsICJ0aHJvdyIgPT09IG1ldGhvZE5hbWUgJiYgZGVsZWdhdGUuaXRlcmF0b3IucmV0dXJuICYmIChjb250ZXh0Lm1ldGhvZCA9ICJyZXR1cm4iLCBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZCwgbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCksICJ0aHJvdyIgPT09IGNvbnRleHQubWV0aG9kKSB8fCAicmV0dXJuIiAhPT0gbWV0aG9kTmFtZSAmJiAoY29udGV4dC5tZXRob2QgPSAidGhyb3ciLCBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJyIgKyBtZXRob2ROYW1lICsgIicgbWV0aG9kIikpLCBDb250aW51ZVNlbnRpbmVsOyB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2gobWV0aG9kLCBkZWxlZ2F0ZS5pdGVyYXRvciwgY29udGV4dC5hcmcpOyBpZiAoInRocm93IiA9PT0gcmVjb3JkLnR5cGUpIHJldHVybiBjb250ZXh0Lm1ldGhvZCA9ICJ0aHJvdyIsIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZywgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGwsIENvbnRpbnVlU2VudGluZWw7IHZhciBpbmZvID0gcmVjb3JkLmFyZzsgcmV0dXJuIGluZm8gPyBpbmZvLmRvbmUgPyAoY29udGV4dFtkZWxlZ2F0ZS5yZXN1bHROYW1lXSA9IGluZm8udmFsdWUsIGNvbnRleHQubmV4dCA9IGRlbGVnYXRlLm5leHRMb2MsICJyZXR1cm4iICE9PSBjb250ZXh0Lm1ldGhvZCAmJiAoY29udGV4dC5tZXRob2QgPSAibmV4dCIsIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkKSwgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGwsIENvbnRpbnVlU2VudGluZWwpIDogaW5mbyA6IChjb250ZXh0Lm1ldGhvZCA9ICJ0aHJvdyIsIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcigiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3QiKSwgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGwsIENvbnRpbnVlU2VudGluZWwpOyB9IGZ1bmN0aW9uIHB1c2hUcnlFbnRyeShsb2NzKSB7IHZhciBlbnRyeSA9IHsgdHJ5TG9jOiBsb2NzWzBdIH07IDEgaW4gbG9jcyAmJiAoZW50cnkuY2F0Y2hMb2MgPSBsb2NzWzFdKSwgMiBpbiBsb2NzICYmIChlbnRyeS5maW5hbGx5TG9jID0gbG9jc1syXSwgZW50cnkuYWZ0ZXJMb2MgPSBsb2NzWzNdKSwgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpOyB9IGZ1bmN0aW9uIHJlc2V0VHJ5RW50cnkoZW50cnkpIHsgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb24gfHwge307IHJlY29yZC50eXBlID0gIm5vcm1hbCIsIGRlbGV0ZSByZWNvcmQuYXJnLCBlbnRyeS5jb21wbGV0aW9uID0gcmVjb3JkOyB9IGZ1bmN0aW9uIENvbnRleHQodHJ5TG9jc0xpc3QpIHsgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiAicm9vdCIgfV0sIHRyeUxvY3NMaXN0LmZvckVhY2gocHVzaFRyeUVudHJ5LCB0aGlzKSwgdGhpcy5yZXNldCghMCk7IH0gZnVuY3Rpb24gdmFsdWVzKGl0ZXJhYmxlKSB7IGlmIChpdGVyYWJsZSkgeyB2YXIgaXRlcmF0b3JNZXRob2QgPSBpdGVyYWJsZVtpdGVyYXRvclN5bWJvbF07IGlmIChpdGVyYXRvck1ldGhvZCkgcmV0dXJuIGl0ZXJhdG9yTWV0aG9kLmNhbGwoaXRlcmFibGUpOyBpZiAoImZ1bmN0aW9uIiA9PSB0eXBlb2YgaXRlcmFibGUubmV4dCkgcmV0dXJuIGl0ZXJhYmxlOyBpZiAoIWlzTmFOKGl0ZXJhYmxlLmxlbmd0aCkpIHsgdmFyIGkgPSAtMSwgbmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7IGZvciAoOyArK2kgPCBpdGVyYWJsZS5sZW5ndGg7KSBpZiAoaGFzT3duLmNhbGwoaXRlcmFibGUsIGkpKSByZXR1cm4gbmV4dC52YWx1ZSA9IGl0ZXJhYmxlW2ldLCBuZXh0LmRvbmUgPSAhMSwgbmV4dDsgcmV0dXJuIG5leHQudmFsdWUgPSB1bmRlZmluZWQsIG5leHQuZG9uZSA9ICEwLCBuZXh0OyB9OyByZXR1cm4gbmV4dC5uZXh0ID0gbmV4dDsgfSB9IHJldHVybiB7IG5leHQ6IGRvbmVSZXN1bHQgfTsgfSBmdW5jdGlvbiBkb25lUmVzdWx0KCkgeyByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiAhMCB9OyB9IHJldHVybiBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgZGVmaW5lUHJvcGVydHkoR3AsICJjb25zdHJ1Y3RvciIsIHsgdmFsdWU6IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBjb25maWd1cmFibGU6ICEwIH0pLCBkZWZpbmVQcm9wZXJ0eShHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgImNvbnN0cnVjdG9yIiwgeyB2YWx1ZTogR2VuZXJhdG9yRnVuY3Rpb24sIGNvbmZpZ3VyYWJsZTogITAgfSksIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gZGVmaW5lKEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCB0b1N0cmluZ1RhZ1N5bWJvbCwgIkdlbmVyYXRvckZ1bmN0aW9uIiksIGV4cG9ydHMuaXNHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uIChnZW5GdW4pIHsgdmFyIGN0b3IgPSAiZnVuY3Rpb24iID09IHR5cGVvZiBnZW5GdW4gJiYgZ2VuRnVuLmNvbnN0cnVjdG9yOyByZXR1cm4gISFjdG9yICYmIChjdG9yID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fCAiR2VuZXJhdG9yRnVuY3Rpb24iID09PSAoY3Rvci5kaXNwbGF5TmFtZSB8fCBjdG9yLm5hbWUpKTsgfSwgZXhwb3J0cy5tYXJrID0gZnVuY3Rpb24gKGdlbkZ1bikgeyByZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKGdlbkZ1biwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpIDogKGdlbkZ1bi5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgZGVmaW5lKGdlbkZ1biwgdG9TdHJpbmdUYWdTeW1ib2wsICJHZW5lcmF0b3JGdW5jdGlvbiIpKSwgZ2VuRnVuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR3ApLCBnZW5GdW47IH0sIGV4cG9ydHMuYXdyYXAgPSBmdW5jdGlvbiAoYXJnKSB7IHJldHVybiB7IF9fYXdhaXQ6IGFyZyB9OyB9LCBkZWZpbmVJdGVyYXRvck1ldGhvZHMoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUpLCBkZWZpbmUoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUsIGFzeW5jSXRlcmF0b3JTeW1ib2wsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0pLCBleHBvcnRzLkFzeW5jSXRlcmF0b3IgPSBBc3luY0l0ZXJhdG9yLCBleHBvcnRzLmFzeW5jID0gZnVuY3Rpb24gKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0LCBQcm9taXNlSW1wbCkgeyB2b2lkIDAgPT09IFByb21pc2VJbXBsICYmIChQcm9taXNlSW1wbCA9IFByb21pc2UpOyB2YXIgaXRlciA9IG5ldyBBc3luY0l0ZXJhdG9yKHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpLCBQcm9taXNlSW1wbCk7IHJldHVybiBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24ob3V0ZXJGbikgPyBpdGVyIDogaXRlci5uZXh0KCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7IHJldHVybiByZXN1bHQuZG9uZSA/IHJlc3VsdC52YWx1ZSA6IGl0ZXIubmV4dCgpOyB9KTsgfSwgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEdwKSwgZGVmaW5lKEdwLCB0b1N0cmluZ1RhZ1N5bWJvbCwgIkdlbmVyYXRvciIpLCBkZWZpbmUoR3AsIGl0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KSwgZGVmaW5lKEdwLCAidG9TdHJpbmciLCBmdW5jdGlvbiAoKSB7IHJldHVybiAiW29iamVjdCBHZW5lcmF0b3JdIjsgfSksIGV4cG9ydHMua2V5cyA9IGZ1bmN0aW9uICh2YWwpIHsgdmFyIG9iamVjdCA9IE9iamVjdCh2YWwpLCBrZXlzID0gW107IGZvciAodmFyIGtleSBpbiBvYmplY3QpIGtleXMucHVzaChrZXkpOyByZXR1cm4ga2V5cy5yZXZlcnNlKCksIGZ1bmN0aW9uIG5leHQoKSB7IGZvciAoOyBrZXlzLmxlbmd0aDspIHsgdmFyIGtleSA9IGtleXMucG9wKCk7IGlmIChrZXkgaW4gb2JqZWN0KSByZXR1cm4gbmV4dC52YWx1ZSA9IGtleSwgbmV4dC5kb25lID0gITEsIG5leHQ7IH0gcmV0dXJuIG5leHQuZG9uZSA9ICEwLCBuZXh0OyB9OyB9LCBleHBvcnRzLnZhbHVlcyA9IHZhbHVlcywgQ29udGV4dC5wcm90b3R5cGUgPSB7IGNvbnN0cnVjdG9yOiBDb250ZXh0LCByZXNldDogZnVuY3Rpb24gcmVzZXQoc2tpcFRlbXBSZXNldCkgeyBpZiAodGhpcy5wcmV2ID0gMCwgdGhpcy5uZXh0ID0gMCwgdGhpcy5zZW50ID0gdGhpcy5fc2VudCA9IHVuZGVmaW5lZCwgdGhpcy5kb25lID0gITEsIHRoaXMuZGVsZWdhdGUgPSBudWxsLCB0aGlzLm1ldGhvZCA9ICJuZXh0IiwgdGhpcy5hcmcgPSB1bmRlZmluZWQsIHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpLCAhc2tpcFRlbXBSZXNldCkgZm9yICh2YXIgbmFtZSBpbiB0aGlzKSAidCIgPT09IG5hbWUuY2hhckF0KDApICYmIGhhc093bi5jYWxsKHRoaXMsIG5hbWUpICYmICFpc05hTigrbmFtZS5zbGljZSgxKSkgJiYgKHRoaXNbbmFtZV0gPSB1bmRlZmluZWQpOyB9LCBzdG9wOiBmdW5jdGlvbiBzdG9wKCkgeyB0aGlzLmRvbmUgPSAhMDsgdmFyIHJvb3RSZWNvcmQgPSB0aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjsgaWYgKCJ0aHJvdyIgPT09IHJvb3RSZWNvcmQudHlwZSkgdGhyb3cgcm9vdFJlY29yZC5hcmc7IHJldHVybiB0aGlzLnJ2YWw7IH0sIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbiBkaXNwYXRjaEV4Y2VwdGlvbihleGNlcHRpb24pIHsgaWYgKHRoaXMuZG9uZSkgdGhyb3cgZXhjZXB0aW9uOyB2YXIgY29udGV4dCA9IHRoaXM7IGZ1bmN0aW9uIGhhbmRsZShsb2MsIGNhdWdodCkgeyByZXR1cm4gcmVjb3JkLnR5cGUgPSAidGhyb3ciLCByZWNvcmQuYXJnID0gZXhjZXB0aW9uLCBjb250ZXh0Lm5leHQgPSBsb2MsIGNhdWdodCAmJiAoY29udGV4dC5tZXRob2QgPSAibmV4dCIsIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkKSwgISFjYXVnaHQ7IH0gZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkgeyB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV0sIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247IGlmICgicm9vdCIgPT09IGVudHJ5LnRyeUxvYykgcmV0dXJuIGhhbmRsZSgiZW5kIik7IGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7IHZhciBoYXNDYXRjaCA9IGhhc093bi5jYWxsKGVudHJ5LCAiY2F0Y2hMb2MiKSwgaGFzRmluYWxseSA9IGhhc093bi5jYWxsKGVudHJ5LCAiZmluYWxseUxvYyIpOyBpZiAoaGFzQ2F0Y2ggJiYgaGFzRmluYWxseSkgeyBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsICEwKTsgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7IH0gZWxzZSBpZiAoaGFzQ2F0Y2gpIHsgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCAhMCk7IH0gZWxzZSB7IGlmICghaGFzRmluYWxseSkgdGhyb3cgbmV3IEVycm9yKCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseSIpOyBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTsgfSB9IH0gfSwgYWJydXB0OiBmdW5jdGlvbiBhYnJ1cHQodHlwZSwgYXJnKSB7IGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHsgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldOyBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldiAmJiBoYXNPd24uY2FsbChlbnRyeSwgImZpbmFsbHlMb2MiKSAmJiB0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7IHZhciBmaW5hbGx5RW50cnkgPSBlbnRyeTsgYnJlYWs7IH0gfSBmaW5hbGx5RW50cnkgJiYgKCJicmVhayIgPT09IHR5cGUgfHwgImNvbnRpbnVlIiA9PT0gdHlwZSkgJiYgZmluYWxseUVudHJ5LnRyeUxvYyA8PSBhcmcgJiYgYXJnIDw9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jICYmIChmaW5hbGx5RW50cnkgPSBudWxsKTsgdmFyIHJlY29yZCA9IGZpbmFsbHlFbnRyeSA/IGZpbmFsbHlFbnRyeS5jb21wbGV0aW9uIDoge307IHJldHVybiByZWNvcmQudHlwZSA9IHR5cGUsIHJlY29yZC5hcmcgPSBhcmcsIGZpbmFsbHlFbnRyeSA/ICh0aGlzLm1ldGhvZCA9ICJuZXh0IiwgdGhpcy5uZXh0ID0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2MsIENvbnRpbnVlU2VudGluZWwpIDogdGhpcy5jb21wbGV0ZShyZWNvcmQpOyB9LCBjb21wbGV0ZTogZnVuY3Rpb24gY29tcGxldGUocmVjb3JkLCBhZnRlckxvYykgeyBpZiAoInRocm93IiA9PT0gcmVjb3JkLnR5cGUpIHRocm93IHJlY29yZC5hcmc7IHJldHVybiAiYnJlYWsiID09PSByZWNvcmQudHlwZSB8fCAiY29udGludWUiID09PSByZWNvcmQudHlwZSA/IHRoaXMubmV4dCA9IHJlY29yZC5hcmcgOiAicmV0dXJuIiA9PT0gcmVjb3JkLnR5cGUgPyAodGhpcy5ydmFsID0gdGhpcy5hcmcgPSByZWNvcmQuYXJnLCB0aGlzLm1ldGhvZCA9ICJyZXR1cm4iLCB0aGlzLm5leHQgPSAiZW5kIikgOiAibm9ybWFsIiA9PT0gcmVjb3JkLnR5cGUgJiYgYWZ0ZXJMb2MgJiYgKHRoaXMubmV4dCA9IGFmdGVyTG9jKSwgQ29udGludWVTZW50aW5lbDsgfSwgZmluaXNoOiBmdW5jdGlvbiBmaW5pc2goZmluYWxseUxvYykgeyBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7IHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTsgaWYgKGVudHJ5LmZpbmFsbHlMb2MgPT09IGZpbmFsbHlMb2MpIHJldHVybiB0aGlzLmNvbXBsZXRlKGVudHJ5LmNvbXBsZXRpb24sIGVudHJ5LmFmdGVyTG9jKSwgcmVzZXRUcnlFbnRyeShlbnRyeSksIENvbnRpbnVlU2VudGluZWw7IH0gfSwgY2F0Y2g6IGZ1bmN0aW9uIF9jYXRjaCh0cnlMb2MpIHsgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkgeyB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07IGlmIChlbnRyeS50cnlMb2MgPT09IHRyeUxvYykgeyB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjsgaWYgKCJ0aHJvdyIgPT09IHJlY29yZC50eXBlKSB7IHZhciB0aHJvd24gPSByZWNvcmQuYXJnOyByZXNldFRyeUVudHJ5KGVudHJ5KTsgfSByZXR1cm4gdGhyb3duOyB9IH0gdGhyb3cgbmV3IEVycm9yKCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHQiKTsgfSwgZGVsZWdhdGVZaWVsZDogZnVuY3Rpb24gZGVsZWdhdGVZaWVsZChpdGVyYWJsZSwgcmVzdWx0TmFtZSwgbmV4dExvYykgeyByZXR1cm4gdGhpcy5kZWxlZ2F0ZSA9IHsgaXRlcmF0b3I6IHZhbHVlcyhpdGVyYWJsZSksIHJlc3VsdE5hbWU6IHJlc3VsdE5hbWUsIG5leHRMb2M6IG5leHRMb2MgfSwgIm5leHQiID09PSB0aGlzLm1ldGhvZCAmJiAodGhpcy5hcmcgPSB1bmRlZmluZWQpLCBDb250aW51ZVNlbnRpbmVsOyB9IH0sIGV4cG9ydHM7IH0KaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnNldC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB1c2VyTGFiZWwgZnJvbSAnQC9jb21wb25lbnRzL3VzZXJMYWJlbCc7CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCBleHBhbmRSb3cgZnJvbSAnLi90YWJsZUV4cGFuZC52dWUnOwppbXBvcnQgdXNlckVkaXQgZnJvbSAnLi9oYW5kbGUvdXNlckVkaXQudnVlJzsKaW1wb3J0IHsgdXNlckxpc3QsIGdldFVzZXJEYXRhLCBpc1Nob3dBcGksIGVkaXRPdGhlckFwaSwgZ2l2ZUxldmVsQXBpLCB1c2VyU2V0R3JvdXAsIHVzZXJHcm91cEFwaSwgbGV2ZWxMaXN0QXBpLCB1c2VyU2V0TGFiZWxBcGksIHVzZXJMYWJlbEFwaSwgdXNlclN5bmNocm8sIGdldFVzZXJTYXZlRm9ybSwgZ2l2ZUxldmVsVGltZUFwaSwgZ2V0VXNlckluZm8sIHNldFVzZXIgYXMgX3NldFVzZXIsIGVkaXRVc2VyLCBzYXZlU2V0TGFiZWwgfSBmcm9tICdAL2FwaS91c2VyJzsKaW1wb3J0IHsgYWdlbnRTcHJlYWRBcGkgfSBmcm9tICdAL2FwaS9hZ2VudCc7CmltcG9ydCB7IGV4cG9ydFVzZXJMaXN0IH0gZnJvbSAnQC9hcGkvZXhwb3J0JzsKaW1wb3J0IGVkaXRGcm9tIGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvZnJvbS9mcm9tJzsKaW1wb3J0IHNlbmRGcm9tIGZyb20gJ0AvY29tcG9uZW50cy9zZW5kQ291cG9ucy9pbmRleCc7CmltcG9ydCB1c2VyRGV0YWlscyBmcm9tICcuL2hhbmRsZS91c2VyRGV0YWlscyc7CmltcG9ydCBuZXdzQ2F0ZWdvcnkgZnJvbSAnQC9jb21wb25lbnRzL25ld3NDYXRlZ29yeS9pbmRleCc7Ci8vIGltcG9ydCBjaXR5IGZyb20gJ0AvdXRpbHMvY2l0eSc7CmltcG9ydCBjdXN0b21lckluZm8gZnJvbSAnQC9jb21wb25lbnRzL2N1c3RvbWVySW5mbyc7CmltcG9ydCB7IGNpdHlMaXN0IH0gZnJvbSAnQC9hcGkvYXBwJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICd1c2VyX2xpc3QnLAogIGNvbXBvbmVudHM6IHsKICAgIGV4cGFuZFJvdzogZXhwYW5kUm93LAogICAgZWRpdEZyb206IGVkaXRGcm9tLAogICAgc2VuZEZyb206IHNlbmRGcm9tLAogICAgdXNlckRldGFpbHM6IHVzZXJEZXRhaWxzLAogICAgbmV3c0NhdGVnb3J5OiBuZXdzQ2F0ZWdvcnksCiAgICBjdXN0b21lckluZm86IGN1c3RvbWVySW5mbywKICAgIHVzZXJMYWJlbDogdXNlckxhYmVsLAogICAgdXNlckVkaXQ6IHVzZXJFZGl0CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGF0YUxhYmVsOiBbXSwKICAgICAgc2VsZWN0RGF0YUxhYmVsOiBbXSwKICAgICAgdXNlckRhdGE6IHt9LAogICAgICBtb2RhbHM6IGZhbHNlLAogICAgICBzZWxlY3RMYWJlbFNob3c6IGZhbHNlLAogICAgICBsYWJlbFNob3c6IGZhbHNlLAogICAgICBjdXN0b21lclNob3c6IGZhbHNlLAogICAgICBwcm9tb3RlclNob3c6IGZhbHNlLAogICAgICBsYWJlbEFjdGl2ZTogewogICAgICAgIHVpZDogMAogICAgICB9LAogICAgICBmb3JtSW5saW5lOiB7CiAgICAgICAgdWlkOiAwLAogICAgICAgIHNwcmVhZF91aWQ6IDAsCiAgICAgICAgaW1hZ2U6ICcnCiAgICAgIH0sCiAgICAgIG9wdGlvbnM6IHsKICAgICAgICBzaG9ydGN1dHM6IFt7CiAgICAgICAgICB0ZXh0OiAn5LuK5aSpJywKICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSgpIHsKICAgICAgICAgICAgdmFyIGVuZCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgIHZhciBzdGFydCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgIHN0YXJ0LnNldFRpbWUobmV3IERhdGUobmV3IERhdGUoKS5nZXRGdWxsWWVhcigpLCBuZXcgRGF0ZSgpLmdldE1vbnRoKCksIG5ldyBEYXRlKCkuZ2V0RGF0ZSgpKSk7CiAgICAgICAgICAgIHJldHVybiBbc3RhcnQsIGVuZF07CiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAgdGV4dDogJ+aYqOWkqScsCiAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoKSB7CiAgICAgICAgICAgIHZhciBlbmQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICB2YXIgc3RhcnQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICBzdGFydC5zZXRUaW1lKHN0YXJ0LnNldFRpbWUobmV3IERhdGUobmV3IERhdGUoKS5nZXRGdWxsWWVhcigpLCBuZXcgRGF0ZSgpLmdldE1vbnRoKCksIG5ldyBEYXRlKCkuZ2V0RGF0ZSgpIC0gMSkpKTsKICAgICAgICAgICAgZW5kLnNldFRpbWUoZW5kLnNldFRpbWUobmV3IERhdGUobmV3IERhdGUoKS5nZXRGdWxsWWVhcigpLCBuZXcgRGF0ZSgpLmdldE1vbnRoKCksIG5ldyBEYXRlKCkuZ2V0RGF0ZSgpIC0gMSkpKTsKICAgICAgICAgICAgcmV0dXJuIFtzdGFydCwgZW5kXTsKICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICB0ZXh0OiAn5pyA6L+RN+WkqScsCiAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoKSB7CiAgICAgICAgICAgIHZhciBlbmQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICB2YXIgc3RhcnQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICBzdGFydC5zZXRUaW1lKHN0YXJ0LnNldFRpbWUobmV3IERhdGUobmV3IERhdGUoKS5nZXRGdWxsWWVhcigpLCBuZXcgRGF0ZSgpLmdldE1vbnRoKCksIG5ldyBEYXRlKCkuZ2V0RGF0ZSgpIC0gNikpKTsKICAgICAgICAgICAgcmV0dXJuIFtzdGFydCwgZW5kXTsKICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICB0ZXh0OiAn5pyA6L+RMzDlpKknLAogICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKCkgewogICAgICAgICAgICB2YXIgZW5kID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgdmFyIHN0YXJ0ID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgc3RhcnQuc2V0VGltZShzdGFydC5zZXRUaW1lKG5ldyBEYXRlKG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSwgbmV3IERhdGUoKS5nZXRNb250aCgpLCBuZXcgRGF0ZSgpLmdldERhdGUoKSAtIDI5KSkpOwogICAgICAgICAgICByZXR1cm4gW3N0YXJ0LCBlbmRdOwogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIHRleHQ6ICfmnKzmnIgnLAogICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKCkgewogICAgICAgICAgICB2YXIgZW5kID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgdmFyIHN0YXJ0ID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgc3RhcnQuc2V0VGltZShzdGFydC5zZXRUaW1lKG5ldyBEYXRlKG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSwgbmV3IERhdGUoKS5nZXRNb250aCgpLCAxKSkpOwogICAgICAgICAgICByZXR1cm4gW3N0YXJ0LCBlbmRdOwogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIHRleHQ6ICfmnKzlubQnLAogICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKCkgewogICAgICAgICAgICB2YXIgZW5kID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgdmFyIHN0YXJ0ID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgc3RhcnQuc2V0VGltZShzdGFydC5zZXRUaW1lKG5ldyBEYXRlKG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSwgMCwgMSkpKTsKICAgICAgICAgICAgcmV0dXJuIFtzdGFydCwgZW5kXTsKICAgICAgICAgIH0KICAgICAgICB9XQogICAgICB9LAogICAgICBjb2xsYXBzZTogZmFsc2UsCiAgICAgIGhlYWRlTnVtOiBbewogICAgICAgIHR5cGU6ICcnLAogICAgICAgIG5hbWU6ICflhajpg6gnCiAgICAgIH0sIHsKICAgICAgICB0eXBlOiAnd2VjaGF0JywKICAgICAgICBuYW1lOiAn5b6u5L+h5YWs5LyX5Y+3JwogICAgICB9LCB7CiAgICAgICAgdHlwZTogJ3JvdXRpbmUnLAogICAgICAgIG5hbWU6ICflvq7kv6HlsI/nqIvluo8nCiAgICAgIH0sIHsKICAgICAgICB0eXBlOiAnaDUnLAogICAgICAgIG5hbWU6ICdINScKICAgICAgfSwgewogICAgICAgIHR5cGU6ICdwYycsCiAgICAgICAgbmFtZTogJ1BDJwogICAgICB9LCB7CiAgICAgICAgdHlwZTogJ2FwcCcsCiAgICAgICAgbmFtZTogJ0FQUCcKICAgICAgfV0sCiAgICAgIGFkZHJlc3M6IFtdLAogICAgICBhZGRyZXNEYXRhOiBbXSwKICAgICAgaXNTaG93U2VuZDogdHJ1ZSwKICAgICAgbW9kYWwxMzogZmFsc2UsCiAgICAgIG1heENvbHM6IDQsCiAgICAgIHNjcm9sbGVySGVpZ2h0OiAnNjAwJywKICAgICAgY29udGVudFRvcDogJzEzMCcsCiAgICAgIGNvbnRlbnRXaWR0aDogJzk4JScsCiAgICAgIGdyaWQ6IHsKICAgICAgICB4bDogOCwKICAgICAgICBsZzogMTIsCiAgICAgICAgbWQ6IDEyLAogICAgICAgIHNtOiAyNCwKICAgICAgICB4czogMjQKICAgICAgfSwKICAgICAgZ3JpZDI6IHsKICAgICAgICB4bDogMTgsCiAgICAgICAgbGc6IDE2LAogICAgICAgIG1kOiAxMiwKICAgICAgICBzbTogMjQsCiAgICAgICAgeHM6IDI0CiAgICAgIH0sCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICB0b3RhbDogMCwKICAgICAgdXNlckZyb206IHsKICAgICAgICBsYWJlbF9pZDogJycsCiAgICAgICAgdXNlcl90eXBlOiAnJywKICAgICAgICBzdGF0dXM6ICcnLAogICAgICAgIHNleDogJycsCiAgICAgICAgaXNfcHJvbW90ZXI6ICcnLAogICAgICAgIGNvdW50cnk6ICcnLAogICAgICAgIGlzTWVtYmVyOiAnJywKICAgICAgICBwYXlfY291bnQ6ICcnLAogICAgICAgIHVzZXJfdGltZV90eXBlOiAnJywKICAgICAgICB1c2VyX3RpbWU6ICcnLAogICAgICAgIG5pY2tuYW1lOiAnJywKICAgICAgICBwcm92aW5jZTogJycsCiAgICAgICAgY2l0eTogJycsCiAgICAgICAgcGFnZTogMSwKICAgICAgICBsaW1pdDogMTUsCiAgICAgICAgbGV2ZWw6ICcnLAogICAgICAgIGdyb3VwX2lkOiAnJywKICAgICAgICBmaWVsZF9rZXk6ICcnCiAgICAgIH0sCiAgICAgIGZpZWxkX2tleTogJycsCiAgICAgIGxldmVsOiAnJywKICAgICAgZ3JvdXBfaWQ6ICcnLAogICAgICBsYWJlbF9pZDogJycsCiAgICAgIHVzZXJfdGltZV90eXBlOiAnJywKICAgICAgcGF5X2NvdW50OiAnJywKICAgICAgY29sdW1uczogW3sKICAgICAgICB0eXBlOiAnZXhwYW5kJywKICAgICAgICB3aWR0aDogNDAsCiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCwgcGFyYW1zKSB7CiAgICAgICAgICByZXR1cm4gaChleHBhbmRSb3csIHsKICAgICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICByb3c6IHBhcmFtcy5yb3cKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgdHlwZTogJ3NlbGVjdGlvbicsCiAgICAgICAgd2lkdGg6IDYwLAogICAgICAgIGFsaWduOiAnY2VudGVyJwogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICfnlKjmiLdJRCcsCiAgICAgICAga2V5OiAndWlkJywKICAgICAgICB3aWR0aDogODAKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAn5aS05YOPJywKICAgICAgICBzbG90OiAnYXZhdGFycycsCiAgICAgICAgbWluV2lkdGg6IDYwCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogJ+Wnk+WQjScsCiAgICAgICAgc2xvdDogJ25pY2tuYW1lJywKICAgICAgICBtaW5XaWR0aDogMTUwCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogJ+S7mOi0ueS8muWRmCcsCiAgICAgICAgc2xvdDogJ2lzTWVtYmVyJywKICAgICAgICBtaW5XaWR0aDogOTAKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAn55So5oi3562J57qnJywKICAgICAgICBrZXk6ICdsZXZlbCcsCiAgICAgICAgbWluV2lkdGg6IDkwCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogJ+WIhue7hCcsCiAgICAgICAga2V5OiAnZ3JvdXBfaWQnLAogICAgICAgIG1pbldpZHRoOiAxMDAKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAn5omL5py65Y+3JywKICAgICAgICBrZXk6ICdwaG9uZScsCiAgICAgICAgbWluV2lkdGg6IDEwMAogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICfnlKjmiLfnsbvlnosnLAogICAgICAgIGtleTogJ3VzZXJfdHlwZScsCiAgICAgICAgbWluV2lkdGg6IDEwMAogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICfkvZnpop0nLAogICAgICAgIGtleTogJ25vd19tb25leScsCiAgICAgICAgc29ydGFibGU6ICdjdXN0b20nLAogICAgICAgIG1pbldpZHRoOiAxMDAKICAgICAgfSwKICAgICAgLy8gewogICAgICAvLyAgICAgdGl0bGU6ICfnirbmgIEnLAogICAgICAvLyAgICAgc2xvdDogJ3N0YXR1cycsCiAgICAgIC8vICAgICBtaW5XaWR0aDogMTAwCiAgICAgIC8vIH0sCiAgICAgIHsKICAgICAgICB0aXRsZTogJ+aTjeS9nCcsCiAgICAgICAgc2xvdDogJ2FjdGlvbicsCiAgICAgICAgZml4ZWQ6ICdyaWdodCcsCiAgICAgICAgbWluV2lkdGg6IDEyMAogICAgICB9XSwKICAgICAgdXNlckxpc3RzOiBbXSwKICAgICAgRnJvbURhdGE6IG51bGwsCiAgICAgIHNlbGVjdGlvbkxpc3Q6IFtdLAogICAgICB1c2VyX2lkczogJycsCiAgICAgIHNlbGVjdGVkRGF0YTogW10sCiAgICAgIHRpbWVWYWw6IFtdLAogICAgICBncm91cExpc3Q6IFtdLAogICAgICBsZXZlbExpc3Q6IFtdLAogICAgICBsYWJlbEZyb206IHsKICAgICAgICBwYWdlOiAxLAogICAgICAgIGxpbWl0OiAnJwogICAgICB9LAogICAgICBsYWJlbExpc3RzOiBbXSwKICAgICAgc2VsZWN0ZWRJZHM6IG5ldyBTZXQoKSwKICAgICAgLy/pgInkuK3lkIjlubbpobnnmoRpZAogICAgICBpZHM6IFtdCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoJ21lZGlhJywgWydpc01vYmlsZSddKSksIHt9LCB7CiAgICBsYWJlbFdpZHRoOiBmdW5jdGlvbiBsYWJlbFdpZHRoKCkgewogICAgICByZXR1cm4gdGhpcy5pc01vYmlsZSA/IHVuZGVmaW5lZCA6IDEwMDsKICAgIH0sCiAgICBsYWJlbFBvc2l0aW9uOiBmdW5jdGlvbiBsYWJlbFBvc2l0aW9uKCkgewogICAgICByZXR1cm4gdGhpcy5pc01vYmlsZSA/ICd0b3AnIDogJ3JpZ2h0JzsKICAgIH0KICB9KSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRMaXN0KCk7CiAgICB0aGlzLmdldENpdHlMaXN0KCk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy51c2VyR3JvdXAoKTsKICAgIHRoaXMubGV2ZWxMaXN0cygpOwogICAgLy8gdGhpcy5ncm91cExpc3RzKCk7CiAgfSwKCiAgbWV0aG9kczogewogICAgZ2V0Q2l0eUxpc3Q6IGZ1bmN0aW9uIGdldENpdHlMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICBjaXR5TGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLmFkZHJlc0RhdGEgPSByZXMuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgc2V0VXNlcjogZnVuY3Rpb24gc2V0VXNlcigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHZhciBkYXRhID0gdGhpcy4kcmVmcy51c2VyRWRpdC5mb3JtSXRlbTsKICAgICAgdmFyIGlkcyA9IFtdOwogICAgICB0aGlzLiRyZWZzLnVzZXJFZGl0LmRhdGFMYWJlbC5tYXAoZnVuY3Rpb24gKGkpIHsKICAgICAgICBpZHMucHVzaChpLmlkKTsKICAgICAgfSk7CiAgICAgIGRhdGEubGFiZWxfaWQgPSBpZHM7CiAgICAgIC8vIGlmICghZGF0YS5yZWFsX25hbWUpIHJldHVybiB0aGlzLiRNZXNzYWdlLndhcm5pbmcoIuivt+i+k+WFpeecn+WunuWnk+WQjSIpOwogICAgICAvLyBpZiAoIWRhdGEucGhvbmUpIHJldHVybiB0aGlzLiRNZXNzYWdlLndhcm5pbmcoIuivt+i+k+WFpeaJi+acuuWPtyIpOwogICAgICAvLyBpZiAoIWRhdGEucHdkKSByZXR1cm4gdGhpcy4kTWVzc2FnZS53YXJuaW5nKCLor7fovpPlhaXlr4bnoIEiKTsKICAgICAgLy8gaWYgKCFkYXRhLnRydWVfcHdkKSByZXR1cm4gdGhpcy4kTWVzc2FnZS53YXJuaW5nKCLor7fovpPlhaXnoa7orqTlr4bnoIEiKTsKICAgICAgaWYgKGRhdGEudWlkKSB7CiAgICAgICAgZWRpdFVzZXIoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBfdGhpczIubW9kYWxzID0gZmFsc2U7CiAgICAgICAgICBfdGhpczIuJE1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICAgIF90aGlzMi5nZXRMaXN0KCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgX3RoaXMyLiRNZXNzYWdlLmVycm9yKGVyci5tc2cpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIF9zZXRVc2VyKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXMyLm1vZGFscyA9IGZhbHNlOwogICAgICAgICAgX3RoaXMyLiRNZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICBfdGhpczIuZ2V0TGlzdCgpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIF90aGlzMi4kTWVzc2FnZS5lcnJvcihlcnIubXNnKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIG9uY2VHZXRMaXN0OiBmdW5jdGlvbiBvbmNlR2V0TGlzdCgpIHsKICAgICAgdGhpcy5sYWJlbEFjdGl2ZS51aWQgPSAwOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICAvLyDmoIfnrb7lvLnnqpflhbPpl60KICAgIGxhYmVsQ2xvc2U6IGZ1bmN0aW9uIGxhYmVsQ2xvc2UoKSB7CiAgICAgIHRoaXMubGFiZWxBY3RpdmUudWlkID0gMDsKICAgICAgdGhpcy5sYWJlbFNob3cgPSBmYWxzZTsKICAgICAgdGhpcy5zZWxlY3RMYWJlbFNob3cgPSBmYWxzZTsKICAgIH0sCiAgICAvLyDmj5DkuqQKICAgIHB1dFNlbmQ6IGZ1bmN0aW9uIHB1dFNlbmQobmFtZSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdGhpcy4kcmVmc1tuYW1lXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIGlmICghX3RoaXMzLmZvcm1JbmxpbmUuc3ByZWFkX3VpZCkgewogICAgICAgICAgICByZXR1cm4gX3RoaXMzLiRNZXNzYWdlLmVycm9yKCfor7fkuIrkvKDnlKjmiLcnKTsKICAgICAgICAgIH0KICAgICAgICAgIGFnZW50U3ByZWFkQXBpKF90aGlzMy5mb3JtSW5saW5lKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgX3RoaXMzLnByb21vdGVyU2hvdyA9IGZhbHNlOwogICAgICAgICAgICBfdGhpczMuJE1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICAgICAgX3RoaXMzLmdldExpc3QoKTsKICAgICAgICAgICAgX3RoaXMzLiRyZWZzW25hbWVdLnJlc2V0RmllbGRzKCk7CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIF90aGlzMy4kTWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgc2F2ZTogZnVuY3Rpb24gc2F2ZSgpIHsKICAgICAgdGhpcy5tb2RhbHMgPSB0cnVlOwoKICAgICAgLy8gdGhpcy4kbW9kYWxGb3JtKGdldFVzZXJTYXZlRm9ybSgpKQogICAgICAvLyAgIC50aGVuKCgpID0+IHsKICAgICAgLy8gICAgIHRoaXMudXNlckZyb20ucGFnZSA9IDE7CiAgICAgIC8vICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgLy8gICB9KQogICAgICAvLyAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgIC8vICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAvLyAgIH0pOwogICAgfSwKICAgIHN5bmNocm86IGZ1bmN0aW9uIHN5bmNocm8oKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICB1c2VyU3luY2hybygpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNC4kTWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM0LiRNZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDliIbnu4TliJfooagKICAgIGdyb3VwTGlzdHM6IGZ1bmN0aW9uIGdyb3VwTGlzdHMoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB1c2VyTGFiZWxBcGkodGhpcy5sYWJlbEZyb20pLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUocmVzKSB7CiAgICAgICAgICB2YXIgZGF0YTsKICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRhdGEgPSByZXMuZGF0YTsKICAgICAgICAgICAgICAgIF90aGlzNS5sYWJlbExpc3RzID0gZGF0YS5saXN0OwogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgfSkpOwogICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKS5jYXRjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM1LmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICBfdGhpczUuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgIH0pOwogICAgfSwKICAgIG9uQ2xpY2tUYWI6IGZ1bmN0aW9uIG9uQ2xpY2tUYWIodHlwZSkgewogICAgICB0aGlzLnVzZXJGcm9tLnBhZ2UgPSAxOwogICAgICB0aGlzLnVzZXJGcm9tLnVzZXJfdHlwZSA9IHR5cGU7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIHVzZXJHcm91cDogZnVuY3Rpb24gdXNlckdyb3VwKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgcGFnZTogMSwKICAgICAgICBsaW1pdDogJycKICAgICAgfTsKICAgICAgdXNlckdyb3VwQXBpKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNi5ncm91cExpc3QgPSByZXMuZGF0YS5saXN0OwogICAgICB9KTsKICAgIH0sCiAgICBsZXZlbExpc3RzOiBmdW5jdGlvbiBsZXZlbExpc3RzKCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgcGFnZTogMSwKICAgICAgICBsaW1pdDogJycsCiAgICAgICAgdGl0bGU6ICcnLAogICAgICAgIGlzX3Nob3c6IDEKICAgICAgfTsKICAgICAgbGV2ZWxMaXN0QXBpKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNy5sZXZlbExpc3QgPSByZXMuZGF0YS5saXN0OwogICAgICB9KTsKICAgIH0sCiAgICAvLyDmibnph4/orr7nva7liIbnu4TvvJsKICAgIHNldEdyb3VwOiBmdW5jdGlvbiBzZXRHcm91cCgpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CiAgICAgIGlmICh0aGlzLmlkcy5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLiRNZXNzYWdlLndhcm5pbmcoJ+ivt+mAieaLqeimgeiuvue9ruWIhue7hOeahOeUqOaItycpOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciB1aWRzID0gewogICAgICAgICAgdWlkczogdGhpcy5pZHMKICAgICAgICB9OwogICAgICAgIHRoaXMuJG1vZGFsRm9ybSh1c2VyU2V0R3JvdXAodWlkcykpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIF90aGlzOC5nZXRMaXN0KCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDmibnph4/orr7nva7moIfnrb7vvJsKICAgIHNldExhYmVsOiBmdW5jdGlvbiBzZXRMYWJlbCgpIHsKICAgICAgaWYgKHRoaXMuaWRzLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMuJE1lc3NhZ2Uud2FybmluZygn6K+36YCJ5oup6KaB6K6+572u5qCH562+55qE55So5oi3Jyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHVpZHMgPSB7CiAgICAgICAgICB1aWRzOiB0aGlzLmlkcwogICAgICAgIH07CiAgICAgICAgdGhpcy5sYWJlbEFjdGl2ZS51aWQgPSAwOwogICAgICAgIHRoaXMubGFiZWxTaG93ID0gdHJ1ZTsKICAgICAgICAvLyB0aGlzLiRtb2RhbEZvcm0odXNlclNldExhYmVsQXBpKHVpZHMpKS50aGVuKCgpID0+CiAgICAgICAgLy8gICB0aGlzLiRyZWZzLnNlbmRzLmdldExpc3QoKQogICAgICAgIC8vICk7CiAgICAgIH0KICAgIH0sCiAgICBhY3RpdmVTZWxlY3REYXRhOiBmdW5jdGlvbiBhY3RpdmVTZWxlY3REYXRhKGRhdGEpIHsKICAgICAgLy8gbGV0IGxhYmVscyA9IFtdOwogICAgICAvLyBpZiAoIWRhdGEubGVuZ3RoKSByZXR1cm47CiAgICAgIC8vIGRhdGEubWFwKChpKSA9PiB7CiAgICAgIC8vICAgbGFiZWxzLnB1c2goaS5pZCk7CiAgICAgIC8vIH0pOwogICAgICB0aGlzLnNlbGVjdExhYmVsU2hvdyA9IGZhbHNlOwogICAgICB0aGlzLnNlbGVjdERhdGFMYWJlbCA9IGRhdGEgfHwgW107CiAgICB9LAogICAgLy8g5om56YeP6K6+572u5qCH562+CiAgICBhY3RpdmVEYXRhOiBmdW5jdGlvbiBhY3RpdmVEYXRhKGRhdGEpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CiAgICAgIHZhciBsYWJlbHMgPSBbXTsKICAgICAgaWYgKCFkYXRhLmxlbmd0aCkgcmV0dXJuOwogICAgICBkYXRhLm1hcChmdW5jdGlvbiAoaSkgewogICAgICAgIGxhYmVscy5wdXNoKGkuaWQpOwogICAgICB9KTsKICAgICAgc2F2ZVNldExhYmVsKHsKICAgICAgICB1aWRzOiB0aGlzLmlkcy5qb2luKCcsJyksCiAgICAgICAgbGFiZWxfaWQ6IGxhYmVscwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczkubGFiZWxTaG93ID0gZmFsc2U7CiAgICAgICAgX3RoaXM5LnNlbGVjdGVkSWRzID0gbmV3IFNldCgpOwogICAgICAgIF90aGlzOS5nZXRMaXN0KCk7CiAgICAgICAgX3RoaXM5LiRNZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgIH0pOwogICAgfSwKICAgIC8v5piv5ZCm5Li65LuY6LS55Lya5ZGY77ybCiAgICBjaGFuZ2VNZW1iZXI6IGZ1bmN0aW9uIGNoYW5nZU1lbWJlcigpIHsKICAgICAgdGhpcy51c2VyRnJvbS5wYWdlID0gMTsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgLy8g6YCJ5oup5Zu95a62CiAgICBjaGFuZ2VDb3VudHJ5OiBmdW5jdGlvbiBjaGFuZ2VDb3VudHJ5KCkgewogICAgICBpZiAodGhpcy51c2VyRnJvbS5jb3VudHJ5ID09PSAnYWJyb2FkJyB8fCAhdGhpcy51c2VyRnJvbS5jb3VudHJ5KSB7CiAgICAgICAgdGhpcy5zZWxlY3RlZERhdGEgPSBbXTsKICAgICAgICB0aGlzLnVzZXJGcm9tLnByb3ZpbmNlID0gJyc7CiAgICAgICAgdGhpcy51c2VyRnJvbS5jaXR5ID0gJyc7CiAgICAgICAgdGhpcy5hZGRyZXNzID0gW107CiAgICAgIH0KICAgIH0sCiAgICAvLyDpgInmi6nlnLDlnYAKICAgIGhhbmRsZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKHZhbHVlLCBzZWxlY3RlZERhdGEpIHsKICAgICAgdGhpcy5zZWxlY3RlZERhdGEgPSBzZWxlY3RlZERhdGEubWFwKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgcmV0dXJuIG8ubGFiZWw7CiAgICAgIH0pOwogICAgICB0aGlzLnVzZXJGcm9tLnByb3ZpbmNlID0gdGhpcy5zZWxlY3RlZERhdGFbMF07CiAgICAgIHRoaXMudXNlckZyb20uY2l0eSA9IHRoaXMuc2VsZWN0ZWREYXRhWzFdOwogICAgfSwKICAgIC8vIOWFt+S9k+aXpeacnwogICAgb25jaGFuZ2VUaW1lOiBmdW5jdGlvbiBvbmNoYW5nZVRpbWUoZSkgewogICAgICB0aGlzLnRpbWVWYWwgPSBlOwogICAgICB0aGlzLnVzZXJGcm9tLnVzZXJfdGltZSA9IHRoaXMudGltZVZhbC5qb2luKCctJyk7CiAgICB9LAogICAgdXNlckRldGFpbDogZnVuY3Rpb24gdXNlckRldGFpbChyb3cpIHsKICAgICAgdGhpcy4kcmVmcy51c2VyRGV0YWlscy5tb2RhbHMgPSB0cnVlOwogICAgICB0aGlzLiRyZWZzLnVzZXJEZXRhaWxzLmdldERldGFpbHMocm93LnVpZCk7CiAgICB9LAogICAgLy8g5pON5L2cCiAgICBjaGFuZ2VNZW51OiBmdW5jdGlvbiBjaGFuZ2VNZW51KHJvdywgbmFtZSwgaW5kZXgpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwogICAgICB2YXIgdWlkID0gW107CiAgICAgIHVpZC5wdXNoKHJvdy51aWQpOwogICAgICB2YXIgdWlkcyA9IHsKICAgICAgICB1aWRzOiB1aWQKICAgICAgfTsKICAgICAgc3dpdGNoIChuYW1lKSB7CiAgICAgICAgY2FzZSAnMSc6CiAgICAgICAgICB0aGlzLmVkaXQocm93KTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJzInOgogICAgICAgICAgdGhpcy5nZXRPdGhlckZyb20ocm93LnVpZCk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICczJzoKICAgICAgICAgIHRoaXMuZ2l2ZUxldmVsVGltZShyb3cudWlkKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJzQnOgogICAgICAgICAgdGhpcy5kZWwocm93LCAn5riF6ZmkIOOAkCAnICsgdGhpcy50ZW5UZXh0KHJvdy5uaWNrbmFtZSkgKyAnIOOAkeeahOS8muWRmOetiee6pycsIGluZGV4LCAndXNlcicpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnNSc6CiAgICAgICAgICB0aGlzLiRtb2RhbEZvcm0odXNlclNldEdyb3VwKHVpZHMpKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzMTAuZ2V0TGlzdCgpOwogICAgICAgICAgfSk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICc2JzoKICAgICAgICAgIHRoaXMub3BlbkxhYmVsKHJvdyk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICc3JzoKICAgICAgICAgIHRoaXMuZWRpdFMocm93KTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICB0aGlzLmRlbChyb3csICfop6PpmaTjgJAgJyArIHRoaXMudGVuVGV4dChyb3cubmlja25hbWUpICsgJyDjgJHnmoTkuIrnuqfmjqjlub/kuronLCBpbmRleCwgJ3R1aWd1YW5nJyk7CiAgICAgIH0KICAgIH0sCiAgICB0ZW5UZXh0OiBmdW5jdGlvbiB0ZW5UZXh0KHN0cikgewogICAgICBpZiAoc3RyLmxlbmd0aCA+IDEwKSB7CiAgICAgICAgLy/lpoLmnpzlrZfnrKbplb/luqbotoXov4cxMO+8jOWQjumdoueahOWtl+espuWwseWPmOaIkC4uLuWPr+iHquihjOiwg+aVtOmVv+W6puWSjOS7o+abv+Wtl+espgogICAgICAgIHN0ciA9IHN0ci5zdWJzdHIoMCwgMTApICsgJy4uLic7IC8v5oiq5Y+W5LuO56ys5LiA5Liq5a2X56ym5byA5aeL77yM5b6A5ZCO5Y+WMTDkuKrlrZfnrKbvvIzliankvZnnmoTnlKguLi7ku6Pmm78KICAgICAgfQoKICAgICAgcmV0dXJuIHN0cjsKICAgIH0sCiAgICBvcGVuTGFiZWw6IGZ1bmN0aW9uIG9wZW5MYWJlbChyb3cpIHsKICAgICAgdGhpcy5sYWJlbFNob3cgPSB0cnVlOwogICAgICB0aGlzLmxhYmVsQWN0aXZlLnVpZCA9IHJvdy51aWQ7CiAgICB9LAogICAgb3BlblNlbGVjdExhYmVsOiBmdW5jdGlvbiBvcGVuU2VsZWN0TGFiZWwoKSB7CiAgICAgIHRoaXMuc2VsZWN0TGFiZWxTaG93ID0gdHJ1ZTsKICAgIH0sCiAgICBlZGl0UzogZnVuY3Rpb24gZWRpdFMocm93KSB7CiAgICAgIHRoaXMucHJvbW90ZXJTaG93ID0gdHJ1ZTsKICAgICAgdGhpcy5mb3JtSW5saW5lLnVpZCA9IHJvdy51aWQ7CiAgICB9LAogICAgY3VzdG9tZXI6IGZ1bmN0aW9uIGN1c3RvbWVyKCkgewogICAgICB0aGlzLmN1c3RvbWVyU2hvdyA9IHRydWU7CiAgICB9LAogICAgaW1hZ2VPYmplY3Q6IGZ1bmN0aW9uIGltYWdlT2JqZWN0KGUpIHsKICAgICAgdGhpcy5jdXN0b21lclNob3cgPSBmYWxzZTsKICAgICAgdGhpcy5mb3JtSW5saW5lLnNwcmVhZF91aWQgPSBlLnVpZDsKICAgICAgdGhpcy5mb3JtSW5saW5lLmltYWdlID0gZS5pbWFnZTsKICAgIH0sCiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbChuYW1lKSB7CiAgICAgIHRoaXMucHJvbW90ZXJTaG93ID0gZmFsc2U7CiAgICAgIHRoaXMuJHJlZnNbbmFtZV0ucmVzZXRGaWVsZHMoKTsKICAgIH0sCiAgICAvLyDotaDpgIHkvJrlkZjnrYnnuqcKICAgIGdpdmVMZXZlbDogZnVuY3Rpb24gZ2l2ZUxldmVsKGlkKSB7CiAgICAgIHZhciBfdGhpczExID0gdGhpczsKICAgICAgdGhpcy4kbW9kYWxGb3JtKGdpdmVMZXZlbEFwaShpZCkpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfdGhpczExLmdldExpc3QoMSk7CiAgICAgIH0pOwoKICAgICAgLy8gZ2l2ZUxldmVsQXBpKGlkKQogICAgICAvLyAgIC50aGVuKGFzeW5jIChyZXMpID0+IHsKICAgICAgLy8gICAgIGlmIChyZXMuZGF0YS5zdGF0dXMgPT09IGZhbHNlKSB7CiAgICAgIC8vICAgICAgIHJldHVybiB0aGlzLiRhdXRoTGFwc2UocmVzLmRhdGEpOwogICAgICAvLyAgICAgfQoKICAgICAgLy8gICAgIHRoaXMuRnJvbURhdGEgPSByZXMuZGF0YTsKICAgICAgLy8gICAgIHRoaXMuJHJlZnMuZWRpdHMubW9kYWxzID0gdHJ1ZTsKICAgICAgLy8gICB9KQogICAgICAvLyAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgIC8vICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAvLyAgIH0pOwogICAgfSwKICAgIC8vIOi1oOmAgeS8muWRmOetiee6pwogICAgZ2l2ZUxldmVsVGltZTogZnVuY3Rpb24gZ2l2ZUxldmVsVGltZShpZCkgewogICAgICB2YXIgX3RoaXMxMiA9IHRoaXM7CiAgICAgIHRoaXMuJG1vZGFsRm9ybShnaXZlTGV2ZWxUaW1lQXBpKGlkKSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMTIuZ2V0TGlzdCgxKTsKICAgICAgfSk7CgogICAgICAvLyBnaXZlTGV2ZWxUaW1lQXBpKGlkKQogICAgICAvLyAgIC50aGVuKGFzeW5jIChyZXMpID0+IHsKICAgICAgLy8gICAgIGlmIChyZXMuZGF0YS5zdGF0dXMgPT09IGZhbHNlKSB7CiAgICAgIC8vICAgICAgIHJldHVybiB0aGlzLiRhdXRoTGFwc2UocmVzLmRhdGEpOwogICAgICAvLyAgICAgfQogICAgICAvLyAgICAgdGhpcy5Gcm9tRGF0YSA9IHJlcy5kYXRhOwogICAgICAvLyAgICAgdGhpcy4kcmVmcy5lZGl0cy5tb2RhbHMgPSB0cnVlOwogICAgICAvLyAgIH0pCiAgICAgIC8vICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgLy8gICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgIC8vICAgfSk7CiAgICB9LAogICAgLy8g5Yig6ZmkCiAgICBkZWw6IGZ1bmN0aW9uIGRlbChyb3csIHRpdCwgbnVtLCBuYW1lKSB7CiAgICAgIHZhciBfdGhpczEzID0gdGhpczsKICAgICAgdmFyIGRlbGZyb21EYXRhID0gewogICAgICAgIHRpdGxlOiB0aXQsCiAgICAgICAgbnVtOiBudW0sCiAgICAgICAgdXJsOiBuYW1lID09PSAndXNlcicgPyAidXNlci9kZWxfbGV2ZWwvIi5jb25jYXQocm93LnVpZCkgOiAiYWdlbnQvc3RhaXIvZGVsZXRlX3NwcmVhZC8iLmNvbmNhdChyb3cudWlkKSwKICAgICAgICBtZXRob2Q6IG5hbWUgPT09ICd1c2VyJyA/ICdERUxFVEUnIDogJ1BVVCcsCiAgICAgICAgaWRzOiAnJywKICAgICAgICB3aWR0aDogNjAwCiAgICAgIH07CiAgICAgIHRoaXMuJG1vZGFsU3VyZShkZWxmcm9tRGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMxMy4kTWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgIF90aGlzMTMuZ2V0TGlzdCgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMxMy4kTWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5riF6Zmk5Lya5ZGY5Yig6Zmk5oiQ5YqfCiAgICBzdWJtaXRNb2RlbDogZnVuY3Rpb24gc3VibWl0TW9kZWwoKSB7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIC8vIOS8muWRmOWIl+ihqAogICAgZ2V0TGlzdDogZnVuY3Rpb24gZ2V0TGlzdCgpIHsKICAgICAgdmFyIF90aGlzMTQgPSB0aGlzOwogICAgICBpZiAodGhpcy5zZWxlY3REYXRhTGFiZWwubGVuZ3RoKSB7CiAgICAgICAgdmFyIGFjdGl2ZUlkcyA9IFtdOwogICAgICAgIHRoaXMuc2VsZWN0RGF0YUxhYmVsLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIGFjdGl2ZUlkcy5wdXNoKGl0ZW0uaWQpOwogICAgICAgIH0pOwogICAgICAgIHRoaXMudXNlckZyb20ubGFiZWxfaWQgPSBhY3RpdmVJZHMuam9pbignLCcpOwogICAgICB9CiAgICAgIHRoaXMudXNlckZyb20udXNlcl90eXBlID0gdGhpcy51c2VyRnJvbS51c2VyX3R5cGUgfHwgJyc7CiAgICAgIHRoaXMudXNlckZyb20uc3RhdHVzID0gdGhpcy51c2VyRnJvbS5zdGF0dXMgfHwgJyc7CiAgICAgIHRoaXMudXNlckZyb20uc2V4ID0gdGhpcy51c2VyRnJvbS5zZXggfHwgJyc7CiAgICAgIHRoaXMudXNlckZyb20uaXNfcHJvbW90ZXIgPSB0aGlzLnVzZXJGcm9tLmlzX3Byb21vdGVyIHx8ICcnOwogICAgICB0aGlzLnVzZXJGcm9tLmNvdW50cnkgPSB0aGlzLnVzZXJGcm9tLmNvdW50cnkgfHwgJyc7CiAgICAgIHRoaXMudXNlckZyb20ucGF5X2NvdW50ID0gdGhpcy5wYXlfY291bnQgPT09ICdhbGwnID8gJycgOiB0aGlzLnBheV9jb3VudDsKICAgICAgdGhpcy51c2VyRnJvbS51c2VyX3RpbWVfdHlwZSA9IHRoaXMudXNlcl90aW1lX3R5cGUgPT09ICdhbGwnID8gJycgOiB0aGlzLnVzZXJfdGltZV90eXBlOwogICAgICB0aGlzLnVzZXJGcm9tLmZpZWxkX2tleSA9IHRoaXMuZmllbGRfa2V5ID09PSAnYWxsJyA/ICcnIDogdGhpcy5maWVsZF9rZXk7CiAgICAgIHRoaXMudXNlckZyb20ubGV2ZWwgPSB0aGlzLmxldmVsID09PSAnYWxsJyA/ICcnIDogdGhpcy5sZXZlbDsKICAgICAgdGhpcy51c2VyRnJvbS5ncm91cF9pZCA9IHRoaXMuZ3JvdXBfaWQgPT09ICdhbGwnID8gJycgOiB0aGlzLmdyb3VwX2lkOwogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB1c2VyTGlzdCh0aGlzLnVzZXJGcm9tKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIocmVzKSB7CiAgICAgICAgICB2YXIgZGF0YTsKICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkYXRhID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICBfdGhpczE0LnVzZXJMaXN0cyA9IGRhdGEubGlzdDsKICAgICAgICAgICAgICAgIF90aGlzMTQudG90YWwgPSBkYXRhLmNvdW50OwogICAgICAgICAgICAgICAgX3RoaXMxNC5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICBfdGhpczE0LiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTQuc2V0Q2hlY2tlZCgpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICAgIH0pKTsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MikgewogICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKS5jYXRjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMxNC5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgX3RoaXMxNC4kTWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g55So5oi35a+85Ye6CiAgICBleHBvcnRMaXN0OiBmdW5jdGlvbiBleHBvcnRMaXN0KCkgewogICAgICB2YXIgX3RoaXMxNSA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBhY3RpdmVJZHMsIHRoLCBmaWxla2V5LCBkYXRhLCBmaWxlTmFtZSwgZXhjZWxEYXRhLCBpLCBsZWJEYXRhOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBpZiAoX3RoaXMxNS5zZWxlY3REYXRhTGFiZWwubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICBhY3RpdmVJZHMgPSBbXTsKICAgICAgICAgICAgICAgIF90aGlzMTUuc2VsZWN0RGF0YUxhYmVsLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgYWN0aXZlSWRzLnB1c2goaXRlbS5pZCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF90aGlzMTUudXNlckZyb20ubGFiZWxfaWQgPSBhY3RpdmVJZHMuam9pbignLCcpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpZiAoX3RoaXMxNS5pZHMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICBfdGhpczE1LnVzZXJGcm9tLmlkcyA9IF90aGlzMTUuaWRzOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBfdGhpczE1LnVzZXJGcm9tLnVzZXJfdHlwZSA9IF90aGlzMTUudXNlckZyb20udXNlcl90eXBlIHx8ICcnOwogICAgICAgICAgICAgIF90aGlzMTUudXNlckZyb20uc3RhdHVzID0gX3RoaXMxNS51c2VyRnJvbS5zdGF0dXMgfHwgJyc7CiAgICAgICAgICAgICAgX3RoaXMxNS51c2VyRnJvbS5zZXggPSBfdGhpczE1LnVzZXJGcm9tLnNleCB8fCAnJzsKICAgICAgICAgICAgICBfdGhpczE1LnVzZXJGcm9tLmlzX3Byb21vdGVyID0gX3RoaXMxNS51c2VyRnJvbS5pc19wcm9tb3RlciB8fCAnJzsKICAgICAgICAgICAgICBfdGhpczE1LnVzZXJGcm9tLmNvdW50cnkgPSBfdGhpczE1LnVzZXJGcm9tLmNvdW50cnkgfHwgJyc7CiAgICAgICAgICAgICAgX3RoaXMxNS51c2VyRnJvbS5wYXlfY291bnQgPSBfdGhpczE1LnBheV9jb3VudCA9PT0gJ2FsbCcgPyAnJyA6IF90aGlzMTUucGF5X2NvdW50OwogICAgICAgICAgICAgIF90aGlzMTUudXNlckZyb20udXNlcl90aW1lX3R5cGUgPSBfdGhpczE1LnVzZXJfdGltZV90eXBlID09PSAnYWxsJyA/ICcnIDogX3RoaXMxNS51c2VyX3RpbWVfdHlwZTsKICAgICAgICAgICAgICBfdGhpczE1LnVzZXJGcm9tLmZpZWxkX2tleSA9IF90aGlzMTUuZmllbGRfa2V5ID09PSAnYWxsJyA/ICcnIDogX3RoaXMxNS5maWVsZF9rZXk7CiAgICAgICAgICAgICAgX3RoaXMxNS51c2VyRnJvbS5sZXZlbCA9IF90aGlzMTUubGV2ZWwgPT09ICdhbGwnID8gJycgOiBfdGhpczE1LmxldmVsOwogICAgICAgICAgICAgIF90aGlzMTUudXNlckZyb20uZ3JvdXBfaWQgPSBfdGhpczE1Lmdyb3VwX2lkID09PSAnYWxsJyA/ICcnIDogX3RoaXMxNS5ncm91cF9pZDsKICAgICAgICAgICAgICB0aCA9IFtdLCBmaWxla2V5ID0gW10sIGRhdGEgPSBbXSwgZmlsZU5hbWUgPSAnJzsgLy8gICBsZXQgZmlsZU5hbWUgPSAiIjsKICAgICAgICAgICAgICBleGNlbERhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KF90aGlzMTUudXNlckZyb20pKTsKICAgICAgICAgICAgICBleGNlbERhdGEucGFnZSA9IDE7CiAgICAgICAgICAgICAgaSA9IDA7CiAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgaWYgKCEoaSA8IGV4Y2VsRGF0YS5wYWdlICsgMSkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzM7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxOTsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxNS5nZXRFeGNlbERhdGEoZXhjZWxEYXRhKTsKICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICBsZWJEYXRhID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgaWYgKCFmaWxlTmFtZSkgZmlsZU5hbWUgPSBsZWJEYXRhLmZpbGVuYW1lOwogICAgICAgICAgICAgIGlmICghZmlsZWtleS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIGZpbGVrZXkgPSBsZWJEYXRhLmZpbGVLZXk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmICghdGgubGVuZ3RoKSB0aCA9IGxlYkRhdGEuaGVhZGVyOwogICAgICAgICAgICAgIGlmICghbGViRGF0YS5leHBvcnQubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI4OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGRhdGEgPSBkYXRhLmNvbmNhdChsZWJEYXRhLmV4cG9ydCk7CiAgICAgICAgICAgICAgZXhjZWxEYXRhLnBhZ2UrKzsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDMwOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDI4OgogICAgICAgICAgICAgIF90aGlzMTUuJGV4cG9ydEV4Y2VsKHRoLCBmaWxla2V5LCBmaWxlTmFtZSwgZGF0YSk7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIpOwogICAgICAgICAgICBjYXNlIDMwOgogICAgICAgICAgICAgIGkrKzsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE2OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDMzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0RXhjZWxEYXRhOiBmdW5jdGlvbiBnZXRFeGNlbERhdGEoZXhjZWxEYXRhKSB7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgZXhwb3J0VXNlckxpc3QoZXhjZWxEYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIHJlc29sdmUocmVzLmRhdGEpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBwYWdlQ2hhbmdlOiBmdW5jdGlvbiBwYWdlQ2hhbmdlKGluZGV4KSB7CiAgICAgIHRoaXMuc2VsZWN0aW9uTGlzdCA9IFtdOwogICAgICB0aGlzLnVzZXJGcm9tLnBhZ2UgPSBpbmRleDsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgLy8g5pCc57SiCiAgICB1c2VyU2VhcmNoczogZnVuY3Rpb24gdXNlclNlYXJjaHMoKSB7CiAgICAgIHRoaXMudXNlckZyb20ucGFnZSA9IDE7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIC8vIOmHjee9rgogICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KG5hbWUpIHsKICAgICAgdGhpcy51c2VyRnJvbSA9IHsKICAgICAgICB1c2VyX3R5cGU6IHRoaXMudXNlckZyb20udXNlcl90eXBlLAogICAgICAgIHN0YXR1czogJycsCiAgICAgICAgc2V4OiAnJywKICAgICAgICBpc19wcm9tb3RlcjogJycsCiAgICAgICAgY291bnRyeTogJycsCiAgICAgICAgcGF5X2NvdW50OiAnJywKICAgICAgICB1c2VyX3RpbWVfdHlwZTogJycsCiAgICAgICAgdXNlcl90aW1lOiAnJywKICAgICAgICBuaWNrbmFtZTogJycsCiAgICAgICAgZmllbGRfa2V5OiAnJywKICAgICAgICBsZXZlbDogJycsCiAgICAgICAgZ3JvdXBfaWQ6ICcnLAogICAgICAgIGxhYmVsX2lkOiAnJywKICAgICAgICBwYWdlOiAxLAogICAgICAgIC8vIOW9k+WJjemhtQogICAgICAgIGxpbWl0OiAyMCAvLyDmr4/pobXmmL7npLrmnaHmlbAKICAgICAgfTsKCiAgICAgIHRoaXMuZmllbGRfa2V5ID0gJyc7CiAgICAgIHRoaXMubGV2ZWwgPSAnJzsKICAgICAgdGhpcy5ncm91cF9pZCA9ICcnOwogICAgICB0aGlzLmRhdGFMYWJlbCA9IFtdOwogICAgICB0aGlzLnNlbGVjdERhdGFMYWJlbCA9IFtdOwogICAgICB0aGlzLnVzZXJfdGltZV90eXBlID0gJyc7CiAgICAgIHRoaXMucGF5X2NvdW50ID0gJyc7CiAgICAgIHRoaXMudGltZVZhbCA9IFtdOwogICAgICB0aGlzLnNlbGVjdGVkSWRzID0gbmV3IFNldCgpOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICAvLyDojrflj5bnvJbovpHooajljZXmlbDmja4KICAgIGdldFVzZXJGcm9tOiBmdW5jdGlvbiBnZXRVc2VyRnJvbShpZCkgewogICAgICB2YXIgX3RoaXMxNiA9IHRoaXM7CiAgICAgIGdldFVzZXJJbmZvKGlkKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmMyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQocmVzKSB7CiAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMxNi5tb2RhbHMgPSB0cnVlOwogICAgICAgICAgICAgICAgX3RoaXMxNi51c2VyRGF0YSA9IHJlcy5kYXRhOwogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgICB9KSk7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDMpIHsKICAgICAgICAgIHJldHVybiBfcmVmMy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMTYuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOiOt+WPluenr+WIhuS9memineihqOWNlQogICAgZ2V0T3RoZXJGcm9tOiBmdW5jdGlvbiBnZXRPdGhlckZyb20oaWQpIHsKICAgICAgdmFyIF90aGlzMTcgPSB0aGlzOwogICAgICB0aGlzLiRtb2RhbEZvcm0oZWRpdE90aGVyQXBpKGlkKSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMTcuZ2V0TGlzdCgxKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5L+u5pS554q25oCBCiAgICBvbmNoYW5nZUlzU2hvdzogZnVuY3Rpb24gb25jaGFuZ2VJc1Nob3cocm93KSB7CiAgICAgIHZhciBfdGhpczE4ID0gdGhpczsKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgaWQ6IHJvdy51aWQsCiAgICAgICAgc3RhdHVzOiByb3cuc3RhdHVzCiAgICAgIH07CiAgICAgIGlzU2hvd0FwaShkYXRhKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmNCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUocmVzKSB7CiAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMxOC4kTWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgICB9KSk7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDQpIHsKICAgICAgICAgIHJldHVybiBfcmVmNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMTguJE1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOeCueWHu+WPkemAgeS8mOaDoOWIuAogICAgb25TZW5kOiBmdW5jdGlvbiBvblNlbmQoKSB7CiAgICAgIGlmICh0aGlzLmlkcy5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLiRNZXNzYWdlLndhcm5pbmcoJ+ivt+mAieaLqeimgeWPkemAgeS8mOaDoOWIuOeahOeUqOaItycpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHJlZnMuc2VuZHMubW9kYWxzID0gdHJ1ZTsKICAgICAgICB0aGlzLiRyZWZzLnNlbmRzLmdldExpc3QoKTsKICAgICAgfQogICAgfSwKICAgIC8vIOWPkemAgeWbvuaWh+a2iOaBrwogICAgb25TZW5kUGljOiBmdW5jdGlvbiBvblNlbmRQaWMoKSB7CiAgICAgIGlmICh0aGlzLmlkcy5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLiRNZXNzYWdlLndhcm5pbmcoJ+ivt+mAieaLqeimgeWPkemAgeWbvuaWh+a2iOaBr+eahOeUqOaItycpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMubW9kYWwxMyA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICAvLyDnvJbovpEKICAgIGVkaXQ6IGZ1bmN0aW9uIGVkaXQocm93KSB7CiAgICAgIHRoaXMuZ2V0VXNlckZyb20ocm93LnVpZCk7CiAgICB9LAogICAgLy8g5L+u5pS55oiQ5YqfCiAgICBzdWJtaXRGYWlsOiBmdW5jdGlvbiBzdWJtaXRGYWlsKCkgewogICAgICAvLyB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICAvLyDmjpLluo8KICAgIHNvcnRDaGFuZ2VkOiBmdW5jdGlvbiBzb3J0Q2hhbmdlZChlKSB7CiAgICAgIHRoaXMudXNlckZyb21bZS5rZXldID0gZS5vcmRlcjsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgLy/lhajpgInlkozlj5bmtojlhajpgInml7bop6blj5EKICAgIGhhbmRsZVNlbGVjdEFsbDogZnVuY3Rpb24gaGFuZGxlU2VsZWN0QWxsKHNlbGVjdGlvbikgewogICAgICB2YXIgX3RoaXMxOSA9IHRoaXM7CiAgICAgIGlmIChzZWxlY3Rpb24ubGVuZ3RoID09PSAwKSB7CiAgICAgICAgLy/ojrflj5Z0YWJsZeeahOaVsOaNru+8mwogICAgICAgIHZhciBkYXRhID0gdGhpcy4kcmVmcy50YWJsZS5kYXRhOwogICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgaWYgKF90aGlzMTkuc2VsZWN0ZWRJZHMuaGFzKGl0ZW0udWlkKSkgewogICAgICAgICAgICBfdGhpczE5LnNlbGVjdGVkSWRzLmRlbGV0ZShpdGVtLnVpZCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc2VsZWN0aW9uLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIF90aGlzMTkuc2VsZWN0ZWRJZHMuYWRkKGl0ZW0udWlkKTsKICAgICAgICB9KTsKICAgICAgfQogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgLy/noa7kv51kb23liqDovb3lrozmr5UKICAgICAgICBfdGhpczE5LnNldENoZWNrZWQoKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8gIOmAieS4reafkOS4gOihjAogICAgaGFuZGxlU2VsZWN0Um93OiBmdW5jdGlvbiBoYW5kbGVTZWxlY3RSb3coc2VsZWN0aW9uLCByb3cpIHsKICAgICAgdmFyIF90aGlzMjAgPSB0aGlzOwogICAgICB0aGlzLnNlbGVjdGVkSWRzLmFkZChyb3cudWlkKTsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIC8v56Gu5L+dZG9t5Yqg6L295a6M5q+VCiAgICAgICAgX3RoaXMyMC5zZXRDaGVja2VkKCk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vICDlj5bmtojmn5DkuIDooYwKICAgIGhhbmRsZUNhbmNlbFJvdzogZnVuY3Rpb24gaGFuZGxlQ2FuY2VsUm93KHNlbGVjdGlvbiwgcm93KSB7CiAgICAgIHZhciBfdGhpczIxID0gdGhpczsKICAgICAgdGhpcy5zZWxlY3RlZElkcy5kZWxldGUocm93LnVpZCk7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAvL+ehruS/nWRvbeWKoOi9veWujOavlQogICAgICAgIF90aGlzMjEuc2V0Q2hlY2tlZCgpOwogICAgICB9KTsKICAgIH0sCiAgICBzZXRDaGVja2VkOiBmdW5jdGlvbiBzZXRDaGVja2VkKCkgewogICAgICAvL+Wwhm5ldyBTZXQoKei9rOWMluS4uuaVsOe7hAogICAgICB0aGlzLmlkcyA9IF90b0NvbnN1bWFibGVBcnJheSh0aGlzLnNlbGVjdGVkSWRzKTsKICAgICAgLy8g5om+5Yiw57uR5a6a55qEdGFibGXnmoRyZWblr7nlupTnmoRkb23vvIzmib7liLB0YWJsZeeahG9iakRhdGHlr7nosaHvvIxvYmpEYXRh5L+d5a2Y55qE5piv5b2T5YmN6aG155qE5pWw5o2uCiAgICAgIHZhciBvYmpEYXRhID0gdGhpcy4kcmVmcy50YWJsZS5vYmpEYXRhOwogICAgICBmb3IgKHZhciBpbmRleCBpbiBvYmpEYXRhKSB7CiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRJZHMuaGFzKG9iakRhdGFbaW5kZXhdLnVpZCkpIHsKICAgICAgICAgIG9iakRhdGFbaW5kZXhdLl9pc0NoZWNrZWQgPSB0cnVlOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"names":["userLabel","mapState","expandRow","userEdit","userList","getUserData","isShowApi","editOtherApi","giveLevelApi","userSetGroup","userGroupApi","levelListApi","userSetLabelApi","userLabelApi","userSynchro","getUserSaveForm","giveLevelTimeApi","getUserInfo","setUser","editUser","saveSetLabel","agentSpreadApi","exportUserList","editFrom","sendFrom","userDetails","newsCategory","customerInfo","cityList","name","components","data","dataLabel","selectDataLabel","userData","modals","selectLabelShow","labelShow","customerShow","promoterShow","labelActive","uid","formInline","spread_uid","image","options","shortcuts","text","value","end","Date","start","setTime","getFullYear","getMonth","getDate","collapse","headeNum","type","address","addresData","isShowSend","modal13","maxCols","scrollerHeight","contentTop","contentWidth","grid","xl","lg","md","sm","xs","grid2","loading","total","userFrom","label_id","user_type","status","sex","is_promoter","country","isMember","pay_count","user_time_type","user_time","nickname","province","city","page","limit","level","group_id","field_key","columns","width","render","h","params","props","row","align","title","key","slot","minWidth","sortable","fixed","userLists","FromData","selectionList","user_ids","selectedData","timeVal","groupList","levelList","labelFrom","labelLists","selectedIds","Set","ids","computed","_objectSpread","labelWidth","isMobile","undefined","labelPosition","created","getList","getCityList","mounted","userGroup","levelLists","methods","_this","then","res","_this2","$refs","formItem","map","i","push","id","$Message","success","msg","catch","err","error","onceGetList","labelClose","putSend","_this3","validate","valid","resetFields","save","synchro","_this4","groupLists","_this5","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","list","stop","_x","apply","arguments","onClickTab","_this6","_this7","is_show","setGroup","_this8","length","warning","uids","$modalForm","setLabel","activeSelectData","activeData","_this9","labels","join","changeMember","changeCountry","handleChange","o","label","onchangeTime","e","userDetail","getDetails","changeMenu","index","_this10","edit","getOtherFrom","giveLevelTime","del","tenText","openLabel","editS","str","substr","openSelectLabel","customer","imageObject","cancel","giveLevel","_this11","_this12","tit","num","_this13","delfromData","url","concat","method","$modalSure","submitModel","_this14","activeIds","forEach","item","_ref2","_callee2","_callee2$","_context2","count","$nextTick","setChecked","_x2","exportList","_this15","_callee3","th","filekey","fileName","excelData","lebData","_callee3$","_context3","JSON","parse","stringify","getExcelData","sent","filename","fileKey","header","export","$exportExcel","abrupt","Promise","resolve","reject","pageChange","userSearchs","reset","getUserFrom","_this16","_ref3","_callee4","_callee4$","_context4","_x3","_this17","onchangeIsShow","_this18","_ref4","_callee5","_callee5$","_context5","_x4","onSend","sends","onSendPic","submitFail","sortChanged","order","handleSelectAll","selection","_this19","table","has","delete","add","handleSelectRow","_this20","handleCancelRow","_this21","_toConsumableArray","objData","_isChecked"],"sources":["src/pages/user/list/index.vue"],"sourcesContent":["<template>\n  <div>\n    <Card :bordered=\"false\" dis-hover class=\"ivu-mt listbox\">\n      <Tabs @on-click=\"onClickTab\" class=\"mb30\">\n        <TabPane :label=\"item.name\" :name=\"item.type\" v-for=\"(item, index) in headeNum\" :key=\"index\" />\n      </Tabs>\n      <Form\n        ref=\"userFrom\"\n        :model=\"userFrom\"\n        :label-width=\"labelWidth\"\n        :label-position=\"labelPosition\"\n        @submit.native.prevent\n      >\n        <Row :gutter=\"16\">\n          <Col v-bind=\"grid\">\n            <FormItem label=\"用户搜索：\" label-for=\"nickname\">\n              <Input v-model=\"userFrom.nickname\" placeholder=\"请输入用户\" element-id=\"nickname\" clearable>\n                <Select v-model=\"field_key\" slot=\"prepend\" style=\"width: 80px\">\n                  <Option value=\"all\">全部</Option>\n                  <Option value=\"uid\">UID</Option>\n                  <Option value=\"phone\">手机号</Option>\n                  <Option value=\"nickname\">用户昵称</Option>\n                </Select>\n              </Input>\n            </FormItem>\n          </Col>\n          <Col span=\"12\" class=\"ivu-text-left userFrom\" v-if=\"!collapse\">\n            <FormItem>\n              <Button type=\"primary\" icon=\"ios-search\" label=\"default\" class=\"mr15\" @click=\"userSearchs\">搜索</Button>\n              <Button class=\"ResetSearch\" @click=\"reset('userFrom')\">重置</Button>\n              <a class=\"ivu-ml-8 font14 ml10\" @click=\"collapse = !collapse\">\n                <template v-if=\"!collapse\"> 展开 <Icon type=\"ios-arrow-down\" /> </template>\n                <template v-else> 收起 <Icon type=\"ios-arrow-up\" /> </template>\n              </a>\n            </FormItem>\n          </Col>\n          <template v-if=\"collapse\">\n            <Col span=\"18\">\n              <Col v-bind=\"grid\">\n                <FormItem label=\"用户标签：\" label-for=\"label_id\">\n                  <div class=\"labelInput acea-row row-between-wrapper\" @click=\"openSelectLabel\">\n                    <div style=\"width: 90%\">\n                      <div v-if=\"selectDataLabel.length\">\n                        <Tag\n                          :closable=\"false\"\n                          v-for=\"(item, index) in selectDataLabel\"\n                          @on-close=\"closeLabel(item)\"\n                          :key=\"index\"\n                          >{{ item.label_name }}</Tag\n                        >\n                      </div>\n                      <span class=\"span\" v-else>选择用户关联标签</span>\n                    </div>\n                    <div class=\"ivu-icon ivu-icon-ios-arrow-down\"></div>\n                  </div>\n                </FormItem>\n              </Col>\n              <Col v-bind=\"grid\">\n                <FormItem label=\"下单次数：\" label-for=\"pay_count\">\n                  <Select v-model=\"pay_count\" placeholder=\"请选择下单次数\" element-id=\"pay_count\" clearable>\n                    <Option value=\"all\">全部</Option>\n                    <Option value=\"-1\">0次</Option>\n                    <Option value=\"0\">1次以上</Option>\n                    <Option value=\"1\">2次以上</Option>\n                    <Option value=\"2\">3次以上</Option>\n                    <Option value=\"3\">4次以上</Option>\n                    <Option value=\"4\">5次以上</Option>\n                  </Select>\n                </FormItem>\n              </Col>\n            </Col>\n            <Col span=\"18\">\n              <Col v-bind=\"grid\">\n                <FormItem label=\"用户分组：\" label-for=\"group_id\">\n                  <Select v-model=\"group_id\" placeholder=\"请选择用户分组\" element-id=\"group_id\" clearable>\n                    <Option value=\"all\">全部</Option>\n                    <Option :value=\"item.id\" v-for=\"(item, index) in groupList\" :key=\"index\">{{\n                      item.group_name\n                    }}</Option>\n                  </Select>\n                </FormItem>\n              </Col>\n              <Col v-bind=\"grid\">\n                <FormItem label=\"用户等级：\" label-for=\"level\">\n                  <Select v-model=\"level\" placeholder=\"请选择用户等级\" element-id=\"level\" clearable>\n                    <Option value=\"all\">全部</Option>\n                    <Option :value=\"item.id\" v-for=\"(item, index) in levelList\" :key=\"index\">{{ item.name }}</Option>\n                  </Select>\n                </FormItem>\n              </Col>\n            </Col>\n            <Col span=\"18\">\n              <!-- <Col v-bind=\"grid\">\n                <FormItem label=\"性别：\" label-for=\"sex\">\n                  <RadioGroup v-model=\"userFrom.sex\" type=\"button\">\n                    <Radio label=\"\">\n                      <span>全部</span>\n                    </Radio>\n                    <Radio label=\"1\">\n                      <span>男</span>\n                    </Radio>\n                    <Radio label=\"2\">\n                      <span>女</span>\n                    </Radio>\n                    <Radio label=\"0\">\n                      <span>保密</span>\n                    </Radio>\n                  </RadioGroup>\n                </FormItem>\n              </Col> -->\n              <Col v-bind=\"grid\">\n                <FormItem label=\"身份：\" label-for=\"is_promoter\">\n                  <RadioGroup v-model=\"userFrom.is_promoter\" type=\"button\">\n                    <Radio label=\"\">\n                      <span>全部</span>\n                    </Radio>\n                    <Radio label=\"1\">\n                      <span>推广员</span>\n                    </Radio>\n                    <Radio label=\"0\">\n                      <span>普通用户</span>\n                    </Radio>\n                  </RadioGroup>\n                </FormItem>\n              </Col>\n              <Col v-bind=\"grid\">\n                <FormItem label=\"付费会员：\" label-for=\"isMember\">\n                  <!-- <Select\n                    v-model=\"userFrom.isMember\"\n                    placeholder=\"请选择付费会员\"\n                    element-id=\"isMember\"\n                    clearable\n                    @on-change=\"changeMember\"\n                  >\n                    <Option :value=\"1\">是</Option>\n                    <Option :value=\"0\">否</Option>\n                  </Select> -->\n                  <RadioGroup v-model=\"userFrom.isMember\" type=\"button\">\n                    <Radio label=\"\">\n                      <span>全部</span>\n                    </Radio>\n                    <Radio label=\"1\">\n                      <span>是</span>\n                    </Radio>\n                    <Radio label=\"0\">\n                      <span>否</span>\n                    </Radio>\n                  </RadioGroup>\n                </FormItem>\n              </Col>\n            </Col>\n            <Col span=\"18\">\n              <Col v-bind=\"grid\">\n                <FormItem label=\"访问情况：\" label-for=\"user_time_type\">\n                  <Select v-model=\"user_time_type\" placeholder=\"请选择访问情况\" element-id=\"user_time_type\" clearable>\n                    <Option value=\"\">全部</Option>\n                    <Option value=\"visitno\">时间段未访问</Option>\n                    <Option value=\"visit\">时间段访问过</Option>\n                    <Option value=\"add_time\">首次访问</Option>\n                  </Select>\n                </FormItem>\n              </Col>\n              <Col v-bind=\"grid\" v-if=\"user_time_type\">\n                <FormItem label=\"访问时间：\" label-for=\"user_time\">\n                  <!--<DatePicker clearable @on-change=\"onchangeTime\" v-model=\"timeVal\" :value=\"timeVal\"  format=\"yyyy/MM/dd\" type=\"daterange\" placement=\"bottom-end\" placeholder=\"选择时间\" v-width=\"'100%'\"></DatePicker>-->\n                  <DatePicker\n                    :editable=\"false\"\n                    @on-change=\"onchangeTime\"\n                    :value=\"timeVal\"\n                    format=\"yyyy/MM/dd\"\n                    type=\"datetimerange\"\n                    placement=\"bottom-start\"\n                    placeholder=\"请选择访问时间\"\n                    style=\"width: 300px\"\n                    class=\"mr20\"\n                    :options=\"options\"\n                  ></DatePicker>\n                </FormItem>\n              </Col>\n            </Col>\n            <Col span=\"18\">\n              <Col v-bind=\"grid\">\n                <FormItem label=\"地区：\" label-for=\"country\">\n                  <Select\n                    v-model=\"userFrom.country\"\n                    placeholder=\"请选择国家\"\n                    element-id=\"country\"\n                    clearable\n                    @on-change=\"changeCountry\"\n                  >\n                    <Option value=\"domestic\">中国</Option>\n                    <Option value=\"abroad\">外国</Option>\n                  </Select>\n                </FormItem>\n              </Col>\n              <Col v-bind=\"grid\" v-if=\"userFrom.country === 'domestic'\">\n                <FormItem label=\"省份：\">\n                  <Cascader :data=\"addresData\" :value=\"address\" v-model=\"address\" @on-change=\"handleChange\"></Cascader>\n                </FormItem>\n              </Col>\n            </Col>\n          </template>\n        </Row>\n        <Row v-if=\"collapse\">\n          <Col span=\"13\" class=\"ivu-text-right userFrom\">\n            <FormItem>\n              <Button type=\"primary\" icon=\"ios-search\" label=\"default\" class=\"mr15\" @click=\"userSearchs\">搜索</Button>\n              <Button class=\"ResetSearch\" @click=\"reset('userFrom')\">重置</Button>\n              <a class=\"ivu-ml-8 font14 ml10\" @click=\"collapse = !collapse\">\n                <template v-if=\"!collapse\"> 展开 <Icon type=\"ios-arrow-down\" /> </template>\n                <template v-else> 收起 <Icon type=\"ios-arrow-up\" /> </template>\n              </a>\n            </FormItem>\n          </Col>\n        </Row>\n      </Form>\n      <Divider dashed />\n      <Row type=\"flex\" justify=\"space-between\" class=\"mt20\">\n        <Col span=\"24\">\n          <Button v-auth=\"['admin-user-save']\" type=\"primary\" class=\"mr10\" @click=\"edit({ uid: 0 })\">添加用户</Button>\n          <Button v-auth=\"['admin-user-coupon']\" class=\"mr10\" @click=\"onSend\">发送优惠券</Button>\n          <Button\n            v-auth=\"['admin-wechat-news']\"\n            class=\"greens mr10\"\n            size=\"default\"\n            @click=\"onSendPic\"\n            v-if=\"userFrom.user_type === 'wechat'\"\n          >\n            <Icon type=\"md-list\"></Icon>\n            发送图文消息\n          </Button>\n          <Button v-auth=\"['admin-user-group_set']\" class=\"mr10\" @click=\"setGroup\">批量设置分组</Button>\n          <Button v-auth=\"['admin-user-set_label']\" class=\"mr10\" @click=\"setLabel\">批量设置标签</Button>\n          <Button class=\"mr10\" icon=\"ios-share-outline\" @click=\"exportList\">导出</Button>\n\n          <!-- <Button v-auth=\"['admin-user-synchro']\" class=\"mr20\" @click=\"synchro\">同步公众号用户</Button> -->\n        </Col>\n        <Col span=\"24\" class=\"userAlert\" v-if=\"selectionList.length\">\n          <Alert show-icon>\n            已选择<i class=\"userI\"> {{ selectionList.length }} </i>项</Alert\n          >\n        </Col>\n      </Row>\n      <Table\n        :columns=\"columns\"\n        :data=\"userLists\"\n        class=\"mt10\"\n        ref=\"table\"\n        highlight-row\n        :loading=\"loading\"\n        no-userFrom-text=\"暂无数据\"\n        no-filtered-userFrom-text=\"暂无筛选结果\"\n        @on-sort-change=\"sortChanged\"\n        @on-select=\"handleSelectRow\"\n        @on-select-cancel=\"handleCancelRow\"\n        @on-select-all=\"handleSelectAll\"\n        @on-select-all-cancel=\"handleSelectAll\"\n      >\n        <template slot-scope=\"{ row, index }\" slot=\"avatars\">\n          <div class=\"tabBox_img\" v-viewer>\n            <img v-lazy=\"row.avatar\" />\n          </div>\n        </template>\n        <template slot-scope=\"{ row, index }\" slot=\"nickname\">\n          <div class=\"acea-row\">\n            <Icon type=\"md-male\" v-show=\"row.sex === '男'\" color=\"#2db7f5\" size=\"15\" class=\"mr5\" />\n            <Icon type=\"md-female\" v-show=\"row.sex === '女'\" color=\"#ed4014\" size=\"15\" class=\"mr5\" />\n            <div v-text=\"row.nickname\"></div>\n          </div>\n          <div v-if=\"row.is_del == 1\" style=\"color: red\">用户已注销</div>\n          <!-- <div v-show=\"row.vip_name\" class=\"vipName\">{{row.vip_name}}</div> -->\n        </template>\n        <template slot-scope=\"{ row, index }\" slot=\"isMember\">\n          <div>{{ row.isMember ? '是' : '否' }}</div>\n        </template>\n        <!--                <template slot-scope=\"{ row, index }\" slot=\"status\">-->\n        <!--                    <i-switch v-model=\"row.status\" :value=\"row.status\" :true-value=\"1\" :false-value=\"0\" @on-change=\"onchangeIsShow(row)\" size=\"large\">-->\n        <!--                        <span slot=\"open\">显示</span>-->\n        <!--                        <span slot=\"close\">隐藏</span>-->\n        <!--                    </i-switch>-->\n        <!--                </template>-->\n        <template slot-scope=\"{ row, index }\" slot=\"action\">\n          <template v-if=\"row.is_del != 1\">\n            <a @click=\"userDetail(row)\">详情</a>\n\n            <Divider type=\"vertical\" />\n            <Dropdown @on-click=\"changeMenu(row, $event, index)\" :transfer=\"true\">\n              <a href=\"javascript:void(0)\">\n                更多\n                <Icon type=\"ios-arrow-down\"></Icon>\n              </a>\n              <DropdownMenu slot=\"list\">\n                <!-- <DropdownItem name=\"1\">编辑</DropdownItem> -->\n                <DropdownItem name=\"2\">积分余额</DropdownItem>\n                <DropdownItem name=\"3\">赠送会员</DropdownItem>\n                <!--                                <DropdownItem name=\"4\" v-if=\"row.vip_name\">清除等级</DropdownItem>-->\n                <DropdownItem name=\"5\">设置分组</DropdownItem>\n                <DropdownItem name=\"6\">设置标签</DropdownItem>\n                <DropdownItem name=\"7\">修改上级推广人</DropdownItem>\n                <DropdownItem name=\"8\" v-if=\"row.spread_uid\">清除上级推广人</DropdownItem>\n              </DropdownMenu>\n            </Dropdown>\n          </template>\n          <template v-else>\n            <div v-if=\"row.is_del == 1\" style=\"color: red\">已注销</div>\n          </template>\n        </template>\n      </Table>\n\n      <div class=\"acea-row row-right page\">\n        <Page\n          :total=\"total\"\n          :current=\"userFrom.page\"\n          show-elevator\n          show-total\n          @on-change=\"pageChange\"\n          :page-size=\"userFrom.limit\"\n        />\n      </div>\n    </Card>\n    <!-- 编辑表单 积分余额-->\n    <edit-from ref=\"edits\" :FromData=\"FromData\" @submitFail=\"submitFail\"></edit-from>\n    <!-- 发送优惠券-->\n    <send-from ref=\"sends\" :userIds=\"ids.toString()\"></send-from>\n    <!-- 会员详情-->\n    <user-details ref=\"userDetails\"></user-details>\n    <!--发送图文消息 -->\n    <Modal v-model=\"modal13\" scrollable title=\"发送消息\" width=\"1200\" height=\"800\" footer-hide class=\"modelBox\">\n      <news-category\n        v-if=\"modal13\"\n        :isShowSend=\"isShowSend\"\n        :userIds=\"ids.toString()\"\n        :scrollerHeight=\"scrollerHeight\"\n        :contentTop=\"contentTop\"\n        :contentWidth=\"contentWidth\"\n        :maxCols=\"maxCols\"\n      ></news-category>\n    </Modal>\n    <!--修改推广人-->\n    <Modal v-model=\"promoterShow\" scrollable title=\"修改推广人\" class=\"order_box\" :closable=\"false\">\n      <Form ref=\"formInline\" :model=\"formInline\" :label-width=\"100\" @submit.native.prevent>\n        <FormItem v-if=\"formInline\" label=\"选择推广人：\" prop=\"image\">\n          <div class=\"picBox\" @click=\"customer\">\n            <div class=\"pictrue\" v-if=\"formInline.image\">\n              <img v-lazy=\"formInline.image\" />\n            </div>\n            <div class=\"upLoad acea-row row-center-wrapper\" v-else>\n              <Icon type=\"md-person\" size=\"26\" />\n            </div>\n          </div>\n        </FormItem>\n      </Form>\n      <div slot=\"footer\">\n        <Button type=\"primary\" @click=\"putSend('formInline')\">提交</Button>\n        <Button @click=\"cancel('formInline')\">取消</Button>\n      </div>\n    </Modal>\n    <Modal v-model=\"customerShow\" scrollable title=\"请选择商城用户\" :closable=\"false\" width=\"50%\">\n      <customerInfo v-if=\"customerShow\" @imageObject=\"imageObject\"></customerInfo>\n    </Modal>\n    <Modal v-model=\"labelShow\" scrollable title=\"请选择用户标签\" :closable=\"false\" width=\"500\" :footer-hide=\"true\">\n      <userLabel\n        v-if=\"labelShow\"\n        :uid=\"labelActive.uid\"\n        :only_get=\"!labelActive.uid\"\n        @close=\"labelClose\"\n        @activeData=\"activeData\"\n        @onceGetList=\"onceGetList\"\n      ></userLabel>\n    </Modal>\n    <Drawer :closable=\"false\" width=\"700\" v-model=\"modals\" title=\"用户信息填写\">\n      <userEdit ref=\"userEdit\" v-if=\"modals\" :userData=\"userData\"></userEdit>\n      <div class=\"demo-drawer-footer\">\n        <Button style=\"margin-right: 8px\" @click=\"modals = false\">取消</Button>\n        <Button type=\"primary\" @click=\"setUser\">提交</Button>\n      </div>\n    </Drawer>\n    <!-- 用户标签 -->\n    <Modal\n      v-model=\"selectLabelShow\"\n      scrollable\n      title=\"请选择用户标签\"\n      :closable=\"false\"\n      width=\"500\"\n      :footer-hide=\"true\"\n      :mask-closable=\"false\"\n    >\n      <userLabel\n        v-if=\"selectLabelShow\"\n        :uid=\"0\"\n        ref=\"userLabel\"\n        :only_get=\"true\"\n        @activeData=\"activeSelectData\"\n        @close=\"labelClose\"\n      ></userLabel>\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport userLabel from '@/components/userLabel';\nimport { mapState } from 'vuex';\nimport expandRow from './tableExpand.vue';\nimport userEdit from './handle/userEdit.vue';\nimport {\n  userList,\n  getUserData,\n  isShowApi,\n  editOtherApi,\n  giveLevelApi,\n  userSetGroup,\n  userGroupApi,\n  levelListApi,\n  userSetLabelApi,\n  userLabelApi,\n  userSynchro,\n  getUserSaveForm,\n  giveLevelTimeApi,\n  getUserInfo,\n  setUser,\n  editUser,\n  saveSetLabel,\n} from '@/api/user';\nimport { agentSpreadApi } from '@/api/agent';\nimport { exportUserList } from '@/api/export';\nimport editFrom from '../../../components/from/from';\nimport sendFrom from '@/components/sendCoupons/index';\nimport userDetails from './handle/userDetails';\nimport newsCategory from '@/components/newsCategory/index';\n// import city from '@/utils/city';\nimport customerInfo from '@/components/customerInfo';\nimport { cityList } from '@/api/app';\n\nexport default {\n  name: 'user_list',\n  components: {\n    expandRow,\n    editFrom,\n    sendFrom,\n    userDetails,\n    newsCategory,\n    customerInfo,\n    userLabel,\n    userEdit,\n  },\n  data() {\n    return {\n      dataLabel: [],\n      selectDataLabel: [],\n      userData: {},\n      modals: false,\n      selectLabelShow: false,\n      labelShow: false,\n      customerShow: false,\n      promoterShow: false,\n      labelActive: {\n        uid: 0,\n      },\n      formInline: {\n        uid: 0,\n        spread_uid: 0,\n        image: '',\n      },\n      options: {\n        shortcuts: [\n          {\n            text: '今天',\n            value() {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate()));\n              return [start, end];\n            },\n          },\n          {\n            text: '昨天',\n            value() {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(\n                start.setTime(new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate() - 1)),\n              );\n              end.setTime(\n                end.setTime(new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate() - 1)),\n              );\n              return [start, end];\n            },\n          },\n          {\n            text: '最近7天',\n            value() {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(\n                start.setTime(new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate() - 6)),\n              );\n              return [start, end];\n            },\n          },\n          {\n            text: '最近30天',\n            value() {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(\n                start.setTime(new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate() - 29)),\n              );\n              return [start, end];\n            },\n          },\n          {\n            text: '本月',\n            value() {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(start.setTime(new Date(new Date().getFullYear(), new Date().getMonth(), 1)));\n              return [start, end];\n            },\n          },\n          {\n            text: '本年',\n            value() {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(start.setTime(new Date(new Date().getFullYear(), 0, 1)));\n              return [start, end];\n            },\n          },\n        ],\n      },\n      collapse: false,\n      headeNum: [\n        { type: '', name: '全部' },\n        { type: 'wechat', name: '微信公众号' },\n        { type: 'routine', name: '微信小程序' },\n        { type: 'h5', name: 'H5' },\n        { type: 'pc', name: 'PC' },\n        { type: 'app', name: 'APP' },\n      ],\n      address: [],\n      addresData: [],\n      isShowSend: true,\n      modal13: false,\n      maxCols: 4,\n      scrollerHeight: '600',\n      contentTop: '130',\n      contentWidth: '98%',\n      grid: {\n        xl: 8,\n        lg: 12,\n        md: 12,\n        sm: 24,\n        xs: 24,\n      },\n      grid2: {\n        xl: 18,\n        lg: 16,\n        md: 12,\n        sm: 24,\n        xs: 24,\n      },\n      loading: false,\n      total: 0,\n      userFrom: {\n        label_id: '',\n        user_type: '',\n        status: '',\n        sex: '',\n        is_promoter: '',\n        country: '',\n        isMember: '',\n        pay_count: '',\n        user_time_type: '',\n        user_time: '',\n        nickname: '',\n        province: '',\n        city: '',\n        page: 1,\n        limit: 15,\n        level: '',\n        group_id: '',\n        field_key: '',\n      },\n      field_key: '',\n      level: '',\n      group_id: '',\n      label_id: '',\n      user_time_type: '',\n      pay_count: '',\n      columns: [\n        {\n          type: 'expand',\n          width: 40,\n          render: (h, params) => {\n            return h(expandRow, {\n              props: {\n                row: params.row,\n              },\n            });\n          },\n        },\n        {\n          type: 'selection',\n          width: 60,\n          align: 'center',\n        },\n        {\n          title: '用户ID',\n          key: 'uid',\n          width: 80,\n        },\n        {\n          title: '头像',\n          slot: 'avatars',\n          minWidth: 60,\n        },\n        {\n          title: '姓名',\n          slot: 'nickname',\n          minWidth: 150,\n        },\n        {\n          title: '付费会员',\n          slot: 'isMember',\n          minWidth: 90,\n        },\n        {\n          title: '用户等级',\n          key: 'level',\n          minWidth: 90,\n        },\n        {\n          title: '分组',\n          key: 'group_id',\n          minWidth: 100,\n        },\n        {\n          title: '手机号',\n          key: 'phone',\n          minWidth: 100,\n        },\n        {\n          title: '用户类型',\n          key: 'user_type',\n          minWidth: 100,\n        },\n        {\n          title: '余额',\n          key: 'now_money',\n          sortable: 'custom',\n          minWidth: 100,\n        },\n        // {\n        //     title: '状态',\n        //     slot: 'status',\n        //     minWidth: 100\n        // },\n        {\n          title: '操作',\n          slot: 'action',\n          fixed: 'right',\n          minWidth: 120,\n        },\n      ],\n      userLists: [],\n      FromData: null,\n      selectionList: [],\n      user_ids: '',\n      selectedData: [],\n      timeVal: [],\n      groupList: [],\n      levelList: [],\n      labelFrom: {\n        page: 1,\n        limit: '',\n      },\n      labelLists: [],\n      selectedIds: new Set(), //选中合并项的id\n      ids: [],\n    };\n  },\n  computed: {\n    ...mapState('media', ['isMobile']),\n    labelWidth() {\n      return this.isMobile ? undefined : 100;\n    },\n    labelPosition() {\n      return this.isMobile ? 'top' : 'right';\n    },\n  },\n  created() {\n    this.getList();\n    this.getCityList();\n  },\n  mounted() {\n    this.userGroup();\n    this.levelLists();\n    // this.groupLists();\n  },\n  methods: {\n    getCityList() {\n      cityList().then((res) => {\n        this.addresData = res.data;\n      });\n    },\n    setUser() {\n      let data = this.$refs.userEdit.formItem;\n      let ids = [];\n      this.$refs.userEdit.dataLabel.map((i) => {\n        ids.push(i.id);\n      });\n      data.label_id = ids;\n      // if (!data.real_name) return this.$Message.warning(\"请输入真实姓名\");\n      // if (!data.phone) return this.$Message.warning(\"请输入手机号\");\n      // if (!data.pwd) return this.$Message.warning(\"请输入密码\");\n      // if (!data.true_pwd) return this.$Message.warning(\"请输入确认密码\");\n      if (data.uid) {\n        editUser(data)\n          .then((res) => {\n            this.modals = false;\n            this.$Message.success(res.msg);\n            this.getList();\n          })\n          .catch((err) => {\n            this.$Message.error(err.msg);\n          });\n      } else {\n        setUser(data)\n          .then((res) => {\n            this.modals = false;\n            this.$Message.success(res.msg);\n            this.getList();\n          })\n          .catch((err) => {\n            this.$Message.error(err.msg);\n          });\n      }\n    },\n    onceGetList() {\n      this.labelActive.uid = 0;\n      this.getList();\n    },\n    // 标签弹窗关闭\n    labelClose() {\n      this.labelActive.uid = 0;\n      this.labelShow = false;\n      this.selectLabelShow = false;\n    },\n    // 提交\n    putSend(name) {\n      this.$refs[name].validate((valid) => {\n        if (valid) {\n          if (!this.formInline.spread_uid) {\n            return this.$Message.error('请上传用户');\n          }\n          agentSpreadApi(this.formInline)\n            .then((res) => {\n              this.promoterShow = false;\n              this.$Message.success(res.msg);\n              this.getList();\n              this.$refs[name].resetFields();\n            })\n            .catch((res) => {\n              this.$Message.error(res.msg);\n            });\n        }\n      });\n    },\n\n    save() {\n      this.modals = true;\n\n      // this.$modalForm(getUserSaveForm())\n      //   .then(() => {\n      //     this.userFrom.page = 1;\n      //     this.getList();\n      //   })\n      //   .catch((res) => {\n      //     this.$Message.error(res.msg);\n      //   });\n    },\n    synchro() {\n      userSynchro()\n        .then((res) => {\n          this.$Message.success(res.msg);\n        })\n        .catch((res) => {\n          this.$Message.error(res.msg);\n        });\n    },\n    // 分组列表\n    groupLists() {\n      this.loading = true;\n      userLabelApi(this.labelFrom)\n        .then(async (res) => {\n          let data = res.data;\n          this.labelLists = data.list;\n        })\n        .catch((res) => {\n          this.loading = false;\n          this.$Message.error(res.msg);\n        });\n    },\n    onClickTab(type) {\n      this.userFrom.page = 1;\n      this.userFrom.user_type = type;\n      this.getList();\n    },\n    userGroup() {\n      let data = {\n        page: 1,\n        limit: '',\n      };\n      userGroupApi(data).then((res) => {\n        this.groupList = res.data.list;\n      });\n    },\n    levelLists() {\n      let data = {\n        page: 1,\n        limit: '',\n        title: '',\n        is_show: 1,\n      };\n      levelListApi(data).then((res) => {\n        this.levelList = res.data.list;\n      });\n    },\n    // 批量设置分组；\n    setGroup() {\n      if (this.ids.length === 0) {\n        this.$Message.warning('请选择要设置分组的用户');\n      } else {\n        let uids = { uids: this.ids };\n        this.$modalForm(userSetGroup(uids)).then(() => this.getList());\n      }\n    },\n    // 批量设置标签；\n    setLabel() {\n      if (this.ids.length === 0) {\n        this.$Message.warning('请选择要设置标签的用户');\n      } else {\n        let uids = { uids: this.ids };\n        this.labelActive.uid = 0;\n        this.labelShow = true;\n        // this.$modalForm(userSetLabelApi(uids)).then(() =>\n        //   this.$refs.sends.getList()\n        // );\n      }\n    },\n    activeSelectData(data) {\n      // let labels = [];\n      // if (!data.length) return;\n      // data.map((i) => {\n      //   labels.push(i.id);\n      // });\n      this.selectLabelShow = false;\n      this.selectDataLabel = data || [];\n    },\n    // 批量设置标签\n    activeData(data) {\n      let labels = [];\n      if (!data.length) return;\n      data.map((i) => {\n        labels.push(i.id);\n      });\n      saveSetLabel({\n        uids: this.ids.join(','),\n        label_id: labels,\n      }).then((res) => {\n        this.labelShow = false;\n        this.selectedIds = new Set();\n        this.getList();\n        this.$Message.success(res.msg);\n      });\n    },\n    //是否为付费会员；\n    changeMember() {\n      this.userFrom.page = 1;\n      this.getList();\n    },\n    // 选择国家\n    changeCountry() {\n      if (this.userFrom.country === 'abroad' || !this.userFrom.country) {\n        this.selectedData = [];\n        this.userFrom.province = '';\n        this.userFrom.city = '';\n        this.address = [];\n      }\n    },\n    // 选择地址\n    handleChange(value, selectedData) {\n      this.selectedData = selectedData.map((o) => o.label);\n      this.userFrom.province = this.selectedData[0];\n      this.userFrom.city = this.selectedData[1];\n    },\n    // 具体日期\n    onchangeTime(e) {\n      this.timeVal = e;\n      this.userFrom.user_time = this.timeVal.join('-');\n    },\n    userDetail(row) {\n      this.$refs.userDetails.modals = true;\n      this.$refs.userDetails.getDetails(row.uid);\n    },\n    // 操作\n    changeMenu(row, name, index) {\n      let uid = [];\n      uid.push(row.uid);\n      let uids = { uids: uid };\n      switch (name) {\n        case '1':\n          this.edit(row);\n          break;\n        case '2':\n          this.getOtherFrom(row.uid);\n          break;\n        case '3':\n          this.giveLevelTime(row.uid);\n          break;\n        case '4':\n          this.del(row, '清除 【 ' + this.tenText(row.nickname) + ' 】的会员等级', index, 'user');\n          break;\n        case '5':\n          this.$modalForm(userSetGroup(uids)).then(() => this.getList());\n          break;\n        case '6':\n          this.openLabel(row);\n          break;\n        case '7':\n          this.editS(row);\n          break;\n        default:\n          this.del(row, '解除【 ' + this.tenText(row.nickname) + ' 】的上级推广人', index, 'tuiguang');\n      }\n    },\n    tenText(str) {\n      if (str.length > 10) {\n        //如果字符长度超过10，后面的字符就变成...可自行调整长度和代替字符\n        str = str.substr(0, 10) + '...'; //截取从第一个字符开始，往后取10个字符，剩余的用...代替\n      }\n      return str;\n    },\n    openLabel(row) {\n      this.labelShow = true;\n      this.labelActive.uid = row.uid;\n    },\n    openSelectLabel() {\n      this.selectLabelShow = true;\n    },\n    editS(row) {\n      this.promoterShow = true;\n      this.formInline.uid = row.uid;\n    },\n    customer() {\n      this.customerShow = true;\n    },\n    imageObject(e) {\n      this.customerShow = false;\n      this.formInline.spread_uid = e.uid;\n      this.formInline.image = e.image;\n    },\n    cancel(name) {\n      this.promoterShow = false;\n      this.$refs[name].resetFields();\n    },\n    // 赠送会员等级\n    giveLevel(id) {\n      this.$modalForm(giveLevelApi(id)).then(() => this.getList(1));\n\n      // giveLevelApi(id)\n      //   .then(async (res) => {\n      //     if (res.data.status === false) {\n      //       return this.$authLapse(res.data);\n      //     }\n\n      //     this.FromData = res.data;\n      //     this.$refs.edits.modals = true;\n      //   })\n      //   .catch((res) => {\n      //     this.$Message.error(res.msg);\n      //   });\n    },\n    // 赠送会员等级\n    giveLevelTime(id) {\n      this.$modalForm(giveLevelTimeApi(id)).then(() => this.getList(1));\n\n      // giveLevelTimeApi(id)\n      //   .then(async (res) => {\n      //     if (res.data.status === false) {\n      //       return this.$authLapse(res.data);\n      //     }\n      //     this.FromData = res.data;\n      //     this.$refs.edits.modals = true;\n      //   })\n      //   .catch((res) => {\n      //     this.$Message.error(res.msg);\n      //   });\n    },\n    // 删除\n    del(row, tit, num, name) {\n      let delfromData = {\n        title: tit,\n        num: num,\n        url: name === 'user' ? `user/del_level/${row.uid}` : `agent/stair/delete_spread/${row.uid}`,\n        method: name === 'user' ? 'DELETE' : 'PUT',\n        ids: '',\n        width: 600,\n      };\n      this.$modalSure(delfromData)\n        .then((res) => {\n          this.$Message.success(res.msg);\n          this.getList();\n        })\n        .catch((res) => {\n          this.$Message.error(res.msg);\n        });\n    },\n    // 清除会员删除成功\n    submitModel() {\n      this.getList();\n    },\n    // 会员列表\n    getList() {\n      if (this.selectDataLabel.length) {\n        let activeIds = [];\n        this.selectDataLabel.forEach((item) => {\n          activeIds.push(item.id);\n        });\n        this.userFrom.label_id = activeIds.join(',');\n      }\n      this.userFrom.user_type = this.userFrom.user_type || '';\n      this.userFrom.status = this.userFrom.status || '';\n      this.userFrom.sex = this.userFrom.sex || '';\n      this.userFrom.is_promoter = this.userFrom.is_promoter || '';\n      this.userFrom.country = this.userFrom.country || '';\n      this.userFrom.pay_count = this.pay_count === 'all' ? '' : this.pay_count;\n      this.userFrom.user_time_type = this.user_time_type === 'all' ? '' : this.user_time_type;\n      this.userFrom.field_key = this.field_key === 'all' ? '' : this.field_key;\n      this.userFrom.level = this.level === 'all' ? '' : this.level;\n      this.userFrom.group_id = this.group_id === 'all' ? '' : this.group_id;\n      this.loading = true;\n      userList(this.userFrom)\n        .then(async (res) => {\n          let data = res.data;\n          this.userLists = data.list;\n          this.total = data.count;\n          this.loading = false;\n          this.$nextTick(() => {\n            this.setChecked();\n          });\n        })\n        .catch((res) => {\n          this.loading = false;\n          this.$Message.error(res.msg);\n        });\n    },\n    // 用户导出\n    async exportList() {\n      if (this.selectDataLabel.length) {\n        let activeIds = [];\n        this.selectDataLabel.forEach((item) => {\n          activeIds.push(item.id);\n        });\n        this.userFrom.label_id = activeIds.join(',');\n      }\n      if (this.ids.length) {\n        this.userFrom.ids = this.ids;\n      }\n      this.userFrom.user_type = this.userFrom.user_type || '';\n      this.userFrom.status = this.userFrom.status || '';\n      this.userFrom.sex = this.userFrom.sex || '';\n      this.userFrom.is_promoter = this.userFrom.is_promoter || '';\n      this.userFrom.country = this.userFrom.country || '';\n      this.userFrom.pay_count = this.pay_count === 'all' ? '' : this.pay_count;\n      this.userFrom.user_time_type = this.user_time_type === 'all' ? '' : this.user_time_type;\n      this.userFrom.field_key = this.field_key === 'all' ? '' : this.field_key;\n      this.userFrom.level = this.level === 'all' ? '' : this.level;\n      this.userFrom.group_id = this.group_id === 'all' ? '' : this.group_id;\n      let [th, filekey, data, fileName] = [[], [], [], ''];\n      //   let fileName = \"\";\n      let excelData = JSON.parse(JSON.stringify(this.userFrom));\n      excelData.page = 1;\n      for (let i = 0; i < excelData.page + 1; i++) {\n        let lebData = await this.getExcelData(excelData);\n        if (!fileName) fileName = lebData.filename;\n        if (!filekey.length) {\n          filekey = lebData.fileKey;\n        }\n        if (!th.length) th = lebData.header;\n        if (lebData.export.length) {\n          data = data.concat(lebData.export);\n          excelData.page++;\n        } else {\n          this.$exportExcel(th, filekey, fileName, data);\n          return;\n        }\n      }\n    },\n    getExcelData(excelData) {\n      return new Promise((resolve, reject) => {\n        exportUserList(excelData).then((res) => {\n          resolve(res.data);\n        });\n      });\n    },\n    pageChange(index) {\n      this.selectionList = [];\n      this.userFrom.page = index;\n      this.getList();\n    },\n    // 搜索\n    userSearchs() {\n      this.userFrom.page = 1;\n      this.getList();\n    },\n    // 重置\n    reset(name) {\n      this.userFrom = {\n        user_type: this.userFrom.user_type,\n        status: '',\n        sex: '',\n        is_promoter: '',\n        country: '',\n        pay_count: '',\n        user_time_type: '',\n        user_time: '',\n        nickname: '',\n        field_key: '',\n        level: '',\n        group_id: '',\n        label_id: '',\n        page: 1, // 当前页\n        limit: 20, // 每页显示条数\n      };\n      this.field_key = '';\n      this.level = '';\n      this.group_id = '';\n      this.dataLabel = [];\n      this.selectDataLabel = [];\n      this.user_time_type = '';\n      this.pay_count = '';\n      this.timeVal = [];\n      this.selectedIds = new Set();\n      this.getList();\n    },\n    // 获取编辑表单数据\n    getUserFrom(id) {\n      getUserInfo(id)\n        .then(async (res) => {\n          this.modals = true;\n          this.userData = res.data;\n        })\n        .catch((res) => {\n          this.$Message.error(res.msg);\n        });\n    },\n    // 获取积分余额表单\n    getOtherFrom(id) {\n      this.$modalForm(editOtherApi(id)).then(() => this.getList(1));\n    },\n    // 修改状态\n    onchangeIsShow(row) {\n      let data = {\n        id: row.uid,\n        status: row.status,\n      };\n      isShowApi(data)\n        .then(async (res) => {\n          this.$Message.success(res.msg);\n        })\n        .catch((res) => {\n          this.$Message.error(res.msg);\n        });\n    },\n    // 点击发送优惠券\n    onSend() {\n      if (this.ids.length === 0) {\n        this.$Message.warning('请选择要发送优惠券的用户');\n      } else {\n        this.$refs.sends.modals = true;\n        this.$refs.sends.getList();\n      }\n    },\n    // 发送图文消息\n    onSendPic() {\n      if (this.ids.length === 0) {\n        this.$Message.warning('请选择要发送图文消息的用户');\n      } else {\n        this.modal13 = true;\n      }\n    },\n    // 编辑\n    edit(row) {\n      this.getUserFrom(row.uid);\n    },\n    // 修改成功\n    submitFail() {\n      // this.getList();\n    },\n    // 排序\n    sortChanged(e) {\n      this.userFrom[e.key] = e.order;\n      this.getList();\n    },\n    //全选和取消全选时触发\n    handleSelectAll(selection) {\n      if (selection.length === 0) {\n        //获取table的数据；\n        let data = this.$refs.table.data;\n        data.forEach((item) => {\n          if (this.selectedIds.has(item.uid)) {\n            this.selectedIds.delete(item.uid);\n          }\n        });\n      } else {\n        selection.forEach((item) => {\n          this.selectedIds.add(item.uid);\n        });\n      }\n      this.$nextTick(() => {\n        //确保dom加载完毕\n        this.setChecked();\n      });\n    },\n    //  选中某一行\n    handleSelectRow(selection, row) {\n      this.selectedIds.add(row.uid);\n      this.$nextTick(() => {\n        //确保dom加载完毕\n        this.setChecked();\n      });\n    },\n    //  取消某一行\n    handleCancelRow(selection, row) {\n      this.selectedIds.delete(row.uid);\n      this.$nextTick(() => {\n        //确保dom加载完毕\n        this.setChecked();\n      });\n    },\n    setChecked() {\n      //将new Set()转化为数组\n      this.ids = [...this.selectedIds];\n      // 找到绑定的table的ref对应的dom，找到table的objData对象，objData保存的是当前页的数据\n      let objData = this.$refs.table.objData;\n      for (let index in objData) {\n        if (this.selectedIds.has(objData[index].uid)) {\n          objData[index]._isChecked = true;\n        }\n      }\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"stylus\">\n.picBox {\n  display: inline-block;\n  cursor: pointer;\n\n  .upLoad {\n    width: 58px;\n    height: 58px;\n    line-height: 58px;\n    border: 1px dotted rgba(0, 0, 0, 0.1);\n    border-radius: 4px;\n    background: rgba(0, 0, 0, 0.02);\n  }\n\n  .pictrue {\n    width: 60px;\n    height: 60px;\n    border: 1px dotted rgba(0, 0, 0, 0.1);\n    margin-right: 10px;\n\n    img {\n      width: 100%;\n      height: 100%;\n    }\n  }\n}\n\n.userFrom {\n  >>> .ivu-form-item-content {\n    margin-left: 0px !important;\n  }\n}\n\n.userAlert {\n  margin-top: 20px;\n}\n\n.userI {\n  color: #1890FF;\n  font-style: normal;\n}\n\nimg {\n  height: 36px;\n  display: block;\n}\n\n.tabBox_img {\n  width: 36px;\n  height: 36px;\n  border-radius: 4px;\n  cursor: pointer;\n\n  img {\n    width: 100%;\n    height: 100%;\n  }\n}\n\n.tabBox_tit {\n  width: 60%;\n  font-size: 12px !important;\n  margin: 0 2px 0 10px;\n  letter-spacing: 1px;\n  padding: 5px 0;\n  box-sizing: border-box;\n}\n\n.modelBox {\n  >>> .ivu-modal-body {\n    padding: 0 16px 16px 16px !important;\n  }\n}\n\n.vipName {\n  color: #dab176;\n}\n\n.listbox {\n  >>>.ivu-divider-horizontal {\n    margin: 0 !important;\n  }\n}\n\n.labelInput {\n  border: 1px solid #dcdee2;\n  padding: 0 6px;\n  border-radius: 5px;\n  min-height: 30px;\n  cursor: pointer;\n\n  .span {\n    color: #c5c8ce;\n  }\n\n  .ivu-icon-ios-arrow-down {\n    font-size: 14px;\n    color: #808695;\n  }\n}\n\n.demo-drawer-footer {\n  width: 100%;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  border-top: 1px solid #e8e8e8;\n  padding: 10px 16px;\n  text-align: right;\n  background: #fff;\n}\n</style>\n"],"mappings":"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"}]}