{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/pages/app/version/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/pages/app/version/index.vue","mtime":1689324015195},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/babel.config.js","mtime":1689324015052},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/.babelrc","mtime":1689324015050},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1ZvbHVtZXMvbWFjL3dlYndvcmsvMjAyMy9kYXRpL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AdnVlL2JhYmVsLXByZXNldC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgdmVyc2lvbkxpc3QsIHZlcnNpb25DcmF0ZSB9IGZyb20gJ0AvYXBpL3N5c3RlbSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnaW5kZXgnLAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoJ21lZGlhJywgWydpc01vYmlsZSddKSksIG1hcFN0YXRlKCd1c2VyTGV2ZWwnLCBbJ2NhdGVnb3J5SWQnXSkpLCB7fSwgewogICAgbGFiZWxXaWR0aDogZnVuY3Rpb24gbGFiZWxXaWR0aCgpIHsKICAgICAgcmV0dXJuIHRoaXMuaXNNb2JpbGUgPyB1bmRlZmluZWQgOiA4MDsKICAgIH0sCiAgICBsYWJlbFBvc2l0aW9uOiBmdW5jdGlvbiBsYWJlbFBvc2l0aW9uKCkgewogICAgICByZXR1cm4gdGhpcy5pc01vYmlsZSA/ICd0b3AnIDogJ2xlZnQnOwogICAgfQogIH0pLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB2ZXJNb2RhbDogZmFsc2UsCiAgICAgIHRvdGFsOiAyMCwKICAgICAgdGFibGVGcm9tOiB7CiAgICAgICAgcGFnZTogMSwKICAgICAgICBsaW1pdDogMTUKICAgICAgfSwKICAgICAgY29sdW1uczE6IFt7CiAgICAgICAgdGl0bGU6ICfniYjmnKzlj7cnLAogICAgICAgIHNsb3Q6ICd2ZXJzaW9uJywKICAgICAgICB3aWR0aDogODAKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAn5bmz5Y+w57G75Z6LJywKICAgICAgICBzbG90OiAncGxhdGZvcm0nLAogICAgICAgIGFsaWduOiAnY2VudGVyJywKICAgICAgICBtaW5XaWR0aDogMTIwCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogJ+WNh+e6p+S/oeaBrycsCiAgICAgICAga2V5OiAnaW5mbycsCiAgICAgICAgbWluV2lkdGg6IDYwCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogJ+aYr+WQpuW8uuWIticsCiAgICAgICAgc2xvdDogJ2lzX2ZvcmNlJywKICAgICAgICBtaW5XaWR0aDogMTIwCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogJ+WPkeW4g+aXpeacnycsCiAgICAgICAga2V5OiAnYWRkX3RpbWUnLAogICAgICAgIG1pbldpZHRoOiAxMjAKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAn5LiL6L295Zyw5Z2AJywKICAgICAgICBrZXk6ICd1cmwnLAogICAgICAgIG1pbldpZHRoOiAxMjAKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAn5pON5L2cJywKICAgICAgICBzbG90OiAnYWN0aW9uJywKICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgbWluV2lkdGg6IDUwCiAgICAgIH1dLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgdGFibGVMaXN0OiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldExpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOS/ruaUueaIkOWKnwogICAgc3VibWl0RmFpbDogZnVuY3Rpb24gc3VibWl0RmFpbCgpIHsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgLy8g6IGK5aSp6K6w5b2VCiAgICByZWNvcmQ6IGZ1bmN0aW9uIHJlY29yZChyb3cpIHsKICAgICAgdGhpcy5yb3dzID0gcm93OwogICAgICB0aGlzLm1vZGFsczMgPSB0cnVlOwogICAgICB0aGlzLmlzQ2hhdCA9IHRydWU7CiAgICAgIHRoaXMuZ2V0TGlzdFJlY29yZCgpOwogICAgfSwKICAgIC8vIOa3u+WKoAogICAgYWRkOiBmdW5jdGlvbiBhZGQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHRoaXMuJG1vZGFsRm9ybSh2ZXJzaW9uQ3JhdGUoMCkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLmdldExpc3QoKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g54mI5pys5L+h5oGv5YiX6KGoCiAgICBnZXRMaXN0OiBmdW5jdGlvbiBnZXRMaXN0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdmVyc2lvbkxpc3QoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIudGFibGVMaXN0ID0gcmVzLmRhdGEubGlzdDsKICAgICAgICBfdGhpczIudG90YWwgPSByZXMuZGF0YS5jb3VudDsKICAgICAgICBfdGhpczIubG9hZGluZyA9IGZhbHNlOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgX3RoaXMyLiRNZXNzYWdlLmVycm9yKGVycik7CiAgICAgICAgX3RoaXMyLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5re75YqgCiAgICBlZGl0OiBmdW5jdGlvbiBlZGl0KHJvdykgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdGhpcy4kbW9kYWxGb3JtKHZlcnNpb25DcmF0ZShyb3cuaWQpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczMuZ2V0TGlzdCgpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDliKDpmaQKICAgIGRlbDogZnVuY3Rpb24gZGVsKHJvdywgdGl0LCBudW0pIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIHZhciBkZWxmcm9tRGF0YSA9IHsKICAgICAgICB0aXRsZTogdGl0LAogICAgICAgIG51bTogbnVtLAogICAgICAgIHVybDogImFwcC92ZXJzaW9uL2RlbC8iLmNvbmNhdChyb3cuaWQpLAogICAgICAgIG1ldGhvZDogJ0RFTEVURScsCiAgICAgICAgaWRzOiAnJwogICAgICB9OwogICAgICB0aGlzLiRtb2RhbFN1cmUoZGVsZnJvbURhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNC4kTWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgIF90aGlzNC50YWJsZUxpc3Quc3BsaWNlKG51bSwgMSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczQuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVN1Ym1pdDogZnVuY3Rpb24gaGFuZGxlU3VibWl0KG5hbWUpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CiAgICAgIHRoaXMuJHJlZnNbbmFtZV0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBfdGhpczUuJE1lc3NhZ2Uuc3VjY2Vzcygn5oiQ5YqfIScpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczUuJE1lc3NhZ2UuZXJyb3IoJ+Wksei0pSEnKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVJlc2V0OiBmdW5jdGlvbiBoYW5kbGVSZXNldChuYW1lKSB7CiAgICAgIHRoaXMuJHJlZnNbbmFtZV0ucmVzZXRGaWVsZHMoKTsKICAgIH0sCiAgICBwYWdlQ2hhbmdlOiBmdW5jdGlvbiBwYWdlQ2hhbmdlKCkge30KICB9Cn07"},{"version":3,"names":["mapState","versionList","versionCrate","name","computed","_objectSpread","labelWidth","isMobile","undefined","labelPosition","data","verModal","total","tableFrom","page","limit","columns1","title","slot","width","align","minWidth","key","loading","tableList","created","getList","methods","submitFail","record","row","rows","modals3","isChat","getListRecord","add","_this","$modalForm","then","res","_this2","list","count","catch","err","$Message","error","edit","_this3","id","del","tit","num","_this4","delfromData","url","concat","method","ids","$modalSure","success","msg","splice","handleSubmit","_this5","$refs","validate","valid","handleReset","resetFields","pageChange"],"sources":["src/pages/app/version/index.vue"],"sourcesContent":["<template>\n  <div>\n    <Card :bordered=\"false\" dis-hover class=\"ivu-mt\">\n      <Row type=\"flex\" class=\"mb20\">\n        <Col span=\"24\">\n          <Button type=\"primary\" icon=\"md-add\" @click=\"add\" class=\"mr10\">发布版本</Button>\n        </Col>\n      </Row>\n      <Table\n        :columns=\"columns1\"\n        :data=\"tableList\"\n        :loading=\"loading\"\n        highlight-row\n        no-userFrom-text=\"暂无数据\"\n        no-filtered-userFrom-text=\"暂无筛选结果\"\n      >\n        <template slot-scope=\"{ row }\" slot=\"version\">\n          <Poptip v-if=\"row.is_new\" trigger=\"hover\" placement=\"top-start\" content=\"当前为最新线上版本!\">\n            <Icon size=\"16\" type=\"ios-bookmark\" color=\"red\" style=\"margin-right: 10px\" />\n          </Poptip>\n          <Icon v-else size=\"16\" type=\"ios-bookmark\" color=\"white\" style=\"margin-right: 10px\" />\n          <span>{{ row.version }} </span>\n        </template>\n        <template slot-scope=\"{ row }\" slot=\"platform\">\n          <span>{{ row.platform === 1 ? '安卓' : '苹果' }}</span>\n        </template>\n        <template slot-scope=\"{ row }\" slot=\"is_force\">\n          <span>{{ row.is_force === 1 ? '强制' : '非强制' }}</span>\n        </template>\n        <template slot-scope=\"{ row, index }\" slot=\"action\">\n          <a @click=\"edit(row)\">编辑</a>\n          <!-- <Divider type=\"vertical\" /> -->\n          <!-- <a @click=\"del(row, '删除版本', index)\">删除</a> -->\n        </template>\n      </Table>\n      <div class=\"acea-row row-right page\">\n        <Page :total=\"total\" show-elevator show-total @on-change=\"pageChange\" :page-size=\"tableFrom.limit\" />\n      </div>\n    </Card>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport { versionList, versionCrate } from '@/api/system';\nexport default {\n  name: 'index',\n  computed: {\n    ...mapState('media', ['isMobile']),\n    ...mapState('userLevel', ['categoryId']),\n    labelWidth() {\n      return this.isMobile ? undefined : 80;\n    },\n    labelPosition() {\n      return this.isMobile ? 'top' : 'left';\n    },\n  },\n  data() {\n    return {\n      verModal: false,\n      total: 20,\n      tableFrom: {\n        page: 1,\n        limit: 15,\n      },\n      columns1: [\n        {\n          title: '版本号',\n          slot: 'version',\n          width: 80,\n        },\n        {\n          title: '平台类型',\n          slot: 'platform',\n          align: 'center',\n          minWidth: 120,\n        },\n        {\n          title: '升级信息',\n          key: 'info',\n          minWidth: 60,\n        },\n        {\n          title: '是否强制',\n          slot: 'is_force',\n          minWidth: 120,\n        },\n        {\n          title: '发布日期',\n          key: 'add_time',\n          minWidth: 120,\n        },\n        {\n          title: '下载地址',\n          key: 'url',\n          minWidth: 120,\n        },\n        {\n          title: '操作',\n          slot: 'action',\n          align: 'center',\n          minWidth: 50,\n        },\n      ],\n      loading: false,\n      tableList: [],\n    };\n  },\n  created() {\n    this.getList();\n  },\n  methods: {\n    // 修改成功\n    submitFail() {\n      this.getList();\n    },\n    // 聊天记录\n    record(row) {\n      this.rows = row;\n      this.modals3 = true;\n      this.isChat = true;\n      this.getListRecord();\n    },\n    // 添加\n    add() {\n      this.$modalForm(versionCrate(0)).then((res) => {\n        this.getList();\n      });\n    },\n    // 版本信息列表\n    getList() {\n      this.loading = true;\n      versionList()\n        .then((res) => {\n          this.tableList = res.data.list;\n          this.total = res.data.count;\n          this.loading = false;\n        })\n        .catch((err) => {\n          this.$Message.error(err);\n          this.loading = false;\n        });\n    },\n    // 添加\n    edit(row) {\n      this.$modalForm(versionCrate(row.id)).then((res) => {\n        this.getList();\n      });\n    },\n    // 删除\n    del(row, tit, num) {\n      let delfromData = {\n        title: tit,\n        num: num,\n        url: `app/version/del/${row.id}`,\n        method: 'DELETE',\n        ids: '',\n      };\n      this.$modalSure(delfromData)\n        .then((res) => {\n          this.$Message.success(res.msg);\n          this.tableList.splice(num, 1);\n        })\n        .catch((res) => {\n          this.$Message.error(res.msg);\n        });\n    },\n    handleSubmit(name) {\n      this.$refs[name].validate((valid) => {\n        if (valid) {\n          this.$Message.success('成功!');\n        } else {\n          this.$Message.error('失败!');\n        }\n      });\n    },\n    handleReset(name) {\n      this.$refs[name].resetFields();\n    },\n    pageChange() {},\n  },\n};\n</script>\n\n<style scoped lang=\"stylus\"></style>\n"],"mappings":"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"}]}