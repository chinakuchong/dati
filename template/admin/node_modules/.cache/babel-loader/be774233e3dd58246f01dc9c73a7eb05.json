{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js!/Volumes/mac/webwork/2023/dati/template/admin/src/utils/editorImg.js","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/utils/editorImg.js","mtime":1689324015413},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/babel.config.js","mtime":1689324015052},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/.babelrc","mtime":1689324015050},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7Ci8vICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIHwgQ1JNRUIgWyBDUk1FQui1i+iDveW8gOWPkeiAhe+8jOWKqeWKm+S8geS4muWPkeWxlSBdCi8vICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIHwgQ29weXJpZ2h0IChjKSAyMDE2fjIwMjMgaHR0cHM6Ly93d3cuY3JtZWIuY29tIEFsbCByaWdodHMgcmVzZXJ2ZWQuCi8vICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi8vIHwgTGljZW5zZWQgQ1JNRULlubbkuI3mmK/oh6rnlLHova/ku7bvvIzmnKrnu4/orrjlj6/kuI3og73ljrvmjolDUk1FQuebuOWFs+eJiOadgwovLyArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLyB8IEF1dGhvcjogQ1JNRUIgVGVhbSA8YWRtaW5AY3JtZWIuY29tPgovLyArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpleHBvcnQgZnVuY3Rpb24gZm9ybWF0UmljaFRleHQoaHRtbCkgewogIHZhciBuZXdDb250ZW50ID0gaHRtbC5yZXBsYWNlKC88aW1nW14+XSo+L2dpLCBmdW5jdGlvbiAobWF0Y2gsIGNhcHR1cmUpIHsKICAgIG1hdGNoID0gbWF0Y2gucmVwbGFjZSgvc3R5bGU9IlteIl0rIi9naSwgJycpLnJlcGxhY2UoL3N0eWxlPSdbXiddKycvZ2ksICcnKTsKICAgIG1hdGNoID0gbWF0Y2gucmVwbGFjZSgvd2lkdGg9IlteIl0rIi9naSwgJycpLnJlcGxhY2UoL3dpZHRoPSdbXiddKycvZ2ksICcnKTsKICAgIG1hdGNoID0gbWF0Y2gucmVwbGFjZSgvaGVpZ2h0PSJbXiJdKyIvZ2ksICcnKS5yZXBsYWNlKC9oZWlnaHQ9J1teJ10rJy9naSwgJycpOwogICAgcmV0dXJuIG1hdGNoOwogIH0pOwogIG5ld0NvbnRlbnQgPSBuZXdDb250ZW50LnJlcGxhY2UoL3N0eWxlPSJbXiJdKyIvZ2ksIGZ1bmN0aW9uIChtYXRjaCwgY2FwdHVyZSkgewogICAgbWF0Y2ggPSBtYXRjaC5yZXBsYWNlKC93aWR0aDpbXjtdKzsvZ2ksICdtYXgtd2lkdGg6MTAwJTsnKS5yZXBsYWNlKC93aWR0aDpbXjtdKzsvZ2ksICdtYXgtd2lkdGg6MTAwJTsnKTsKICAgIHJldHVybiBtYXRjaDsKICB9KTsKICBuZXdDb250ZW50ID0gbmV3Q29udGVudC5yZXBsYWNlKC88YnJbXj5dKlwvPi9naSwgJycpOwogIG5ld0NvbnRlbnQgPSBuZXdDb250ZW50LnJlcGxhY2UoL1w8aW1nL2dpLCAnPGltZyBzdHlsZT0ibWF4LXdpZHRoOjEwMCU7aGVpZ2h0OmF1dG87ZGlzcGxheTpibG9jazttYXJnaW4tdG9wOjA7bWFyZ2luLWJvdHRvbTowOyInKTsKICByZXR1cm4gbmV3Q29udGVudDsKfQ=="},{"version":3,"names":["formatRichText","html","newContent","replace","match","capture"],"sources":["/Volumes/mac/webwork/2023/dati/template/admin/src/utils/editorImg.js"],"sourcesContent":["// +----------------------------------------------------------------------\n// | CRMEB [ CRMEB赋能开发者，助力企业发展 ]\n// +----------------------------------------------------------------------\n// | Copyright (c) 2016~2023 https://www.crmeb.com All rights reserved.\n// +----------------------------------------------------------------------\n// | Licensed CRMEB并不是自由软件，未经许可不能去掉CRMEB相关版权\n// +----------------------------------------------------------------------\n// | Author: CRMEB Team <admin@crmeb.com>\n// +----------------------------------------------------------------------\nexport function formatRichText(html) {\n  let newContent = html.replace(/<img[^>]*>/gi, function (match, capture) {\n    match = match.replace(/style=\"[^\"]+\"/gi, '').replace(/style='[^']+'/gi, '');\n    match = match.replace(/width=\"[^\"]+\"/gi, '').replace(/width='[^']+'/gi, '');\n    match = match.replace(/height=\"[^\"]+\"/gi, '').replace(/height='[^']+'/gi, '');\n    return match;\n  });\n  newContent = newContent.replace(/style=\"[^\"]+\"/gi, function (match, capture) {\n    match = match.replace(/width:[^;]+;/gi, 'max-width:100%;').replace(/width:[^;]+;/gi, 'max-width:100%;');\n    return match;\n  });\n  newContent = newContent.replace(/<br[^>]*\\/>/gi, '');\n  newContent = newContent.replace(\n    /\\<img/gi,\n    '<img style=\"max-width:100%;height:auto;display:block;margin-top:0;margin-bottom:0;\"',\n  );\n  return newContent;\n}\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASA,cAAcA,CAACC,IAAI,EAAE;EACnC,IAAIC,UAAU,GAAGD,IAAI,CAACE,OAAO,CAAC,cAAc,EAAE,UAAUC,KAAK,EAAEC,OAAO,EAAE;IACtED,KAAK,GAAGA,KAAK,CAACD,OAAO,CAAC,iBAAiB,EAAE,EAAE,CAAC,CAACA,OAAO,CAAC,iBAAiB,EAAE,EAAE,CAAC;IAC3EC,KAAK,GAAGA,KAAK,CAACD,OAAO,CAAC,iBAAiB,EAAE,EAAE,CAAC,CAACA,OAAO,CAAC,iBAAiB,EAAE,EAAE,CAAC;IAC3EC,KAAK,GAAGA,KAAK,CAACD,OAAO,CAAC,kBAAkB,EAAE,EAAE,CAAC,CAACA,OAAO,CAAC,kBAAkB,EAAE,EAAE,CAAC;IAC7E,OAAOC,KAAK;EACd,CAAC,CAAC;EACFF,UAAU,GAAGA,UAAU,CAACC,OAAO,CAAC,iBAAiB,EAAE,UAAUC,KAAK,EAAEC,OAAO,EAAE;IAC3ED,KAAK,GAAGA,KAAK,CAACD,OAAO,CAAC,gBAAgB,EAAE,iBAAiB,CAAC,CAACA,OAAO,CAAC,gBAAgB,EAAE,iBAAiB,CAAC;IACvG,OAAOC,KAAK;EACd,CAAC,CAAC;EACFF,UAAU,GAAGA,UAAU,CAACC,OAAO,CAAC,eAAe,EAAE,EAAE,CAAC;EACpDD,UAAU,GAAGA,UAAU,CAACC,OAAO,CAC7B,SAAS,EACT,qFAAqF,CACtF;EACD,OAAOD,UAAU;AACnB"}]}