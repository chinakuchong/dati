{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/pages/marketing/storeBargain/create.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/pages/marketing/storeBargain/create.vue","mtime":1689324015227},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/babel.config.js","mtime":1689324015052},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/.babelrc","mtime":1689324015050},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5hc3luYy1pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC50by1zdHJpbmctdGFnLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi50by1zdHJpbmctdGFnLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubWF0aC50by1zdHJpbmctdGFnLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1wcm90b3R5cGUtb2YuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5lcnJvci5jYXVzZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Quc2V0LXByb3RvdHlwZS1vZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0IF90eXBlb2YgZnJvbSAiL1ZvbHVtZXMvbWFjL3dlYndvcmsvMjAyMy9kYXRpL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AdnVlL2JhYmVsLXByZXNldC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZi5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVm9sdW1lcy9tYWMvd2Vid29yay8yMDIzL2RhdGkvdGVtcGxhdGUvYWRtaW4vbm9kZV9tb2R1bGVzL0B2dWUvYmFiZWwtcHJlc2V0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiL1ZvbHVtZXMvbWFjL3dlYndvcmsvMjAyMy9kYXRpL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AdnVlL2JhYmVsLXByZXNldC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5LmpzIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1ZvbHVtZXMvbWFjL3dlYndvcmsvMjAyMy9kYXRpL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AdnVlL2JhYmVsLXByZXNldC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9Wb2x1bWVzL21hYy93ZWJ3b3JrLzIwMjMvZGF0aS90ZW1wbGF0ZS9hZG1pbi9ub2RlX21vZHVsZXMvQHZ1ZS9iYWJlbC1wcmVzZXQtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eS5qcyI7CmZ1bmN0aW9uIF9yZWdlbmVyYXRvclJ1bnRpbWUoKSB7ICJ1c2Ugc3RyaWN0IjsgLyohIHJlZ2VuZXJhdG9yLXJ1bnRpbWUgLS0gQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuIC0tIGxpY2Vuc2UgKE1JVCk6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9ibG9iL21haW4vTElDRU5TRSAqLyBfcmVnZW5lcmF0b3JSdW50aW1lID0gZnVuY3Rpb24gX3JlZ2VuZXJhdG9yUnVudGltZSgpIHsgcmV0dXJuIGV4cG9ydHM7IH07IHZhciBleHBvcnRzID0ge30sIE9wID0gT2JqZWN0LnByb3RvdHlwZSwgaGFzT3duID0gT3AuaGFzT3duUHJvcGVydHksIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5IHx8IGZ1bmN0aW9uIChvYmosIGtleSwgZGVzYykgeyBvYmpba2V5XSA9IGRlc2MudmFsdWU7IH0sICRTeW1ib2wgPSAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgPyBTeW1ib2wgOiB7fSwgaXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLml0ZXJhdG9yIHx8ICJAQGl0ZXJhdG9yIiwgYXN5bmNJdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuYXN5bmNJdGVyYXRvciB8fCAiQEBhc3luY0l0ZXJhdG9yIiwgdG9TdHJpbmdUYWdTeW1ib2wgPSAkU3ltYm9sLnRvU3RyaW5nVGFnIHx8ICJAQHRvU3RyaW5nVGFnIjsgZnVuY3Rpb24gZGVmaW5lKG9iaiwga2V5LCB2YWx1ZSkgeyByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCB9KSwgb2JqW2tleV07IH0gdHJ5IHsgZGVmaW5lKHt9LCAiIik7IH0gY2F0Y2ggKGVycikgeyBkZWZpbmUgPSBmdW5jdGlvbiBkZWZpbmUob2JqLCBrZXksIHZhbHVlKSB7IHJldHVybiBvYmpba2V5XSA9IHZhbHVlOyB9OyB9IGZ1bmN0aW9uIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHsgdmFyIHByb3RvR2VuZXJhdG9yID0gb3V0ZXJGbiAmJiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvciA/IG91dGVyRm4gOiBHZW5lcmF0b3IsIGdlbmVyYXRvciA9IE9iamVjdC5jcmVhdGUocHJvdG9HZW5lcmF0b3IucHJvdG90eXBlKSwgY29udGV4dCA9IG5ldyBDb250ZXh0KHRyeUxvY3NMaXN0IHx8IFtdKTsgcmV0dXJuIGRlZmluZVByb3BlcnR5KGdlbmVyYXRvciwgIl9pbnZva2UiLCB7IHZhbHVlOiBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpIH0pLCBnZW5lcmF0b3I7IH0gZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIG9iaiwgYXJnKSB7IHRyeSB7IHJldHVybiB7IHR5cGU6ICJub3JtYWwiLCBhcmc6IGZuLmNhbGwob2JqLCBhcmcpIH07IH0gY2F0Y2ggKGVycikgeyByZXR1cm4geyB0eXBlOiAidGhyb3ciLCBhcmc6IGVyciB9OyB9IH0gZXhwb3J0cy53cmFwID0gd3JhcDsgdmFyIENvbnRpbnVlU2VudGluZWwgPSB7fTsgZnVuY3Rpb24gR2VuZXJhdG9yKCkge30gZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fSBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9IHZhciBJdGVyYXRvclByb3RvdHlwZSA9IHt9OyBkZWZpbmUoSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KTsgdmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mLCBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvICYmIGdldFByb3RvKGdldFByb3RvKHZhbHVlcyhbXSkpKTsgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgJiYgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgIT09IE9wICYmIGhhc093bi5jYWxsKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCkgJiYgKEl0ZXJhdG9yUHJvdG90eXBlID0gTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUpOyB2YXIgR3AgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPSBHZW5lcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSk7IGZ1bmN0aW9uIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhwcm90b3R5cGUpIHsgWyJuZXh0IiwgInRocm93IiwgInJldHVybiJdLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkgeyBkZWZpbmUocHJvdG90eXBlLCBtZXRob2QsIGZ1bmN0aW9uIChhcmcpIHsgcmV0dXJuIHRoaXMuX2ludm9rZShtZXRob2QsIGFyZyk7IH0pOyB9KTsgfSBmdW5jdGlvbiBBc3luY0l0ZXJhdG9yKGdlbmVyYXRvciwgUHJvbWlzZUltcGwpIHsgZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpIHsgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGdlbmVyYXRvclttZXRob2RdLCBnZW5lcmF0b3IsIGFyZyk7IGlmICgidGhyb3ciICE9PSByZWNvcmQudHlwZSkgeyB2YXIgcmVzdWx0ID0gcmVjb3JkLmFyZywgdmFsdWUgPSByZXN1bHQudmFsdWU7IHJldHVybiB2YWx1ZSAmJiAib2JqZWN0IiA9PSBfdHlwZW9mKHZhbHVlKSAmJiBoYXNPd24uY2FsbCh2YWx1ZSwgIl9fYXdhaXQiKSA/IFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUuX19hd2FpdCkudGhlbihmdW5jdGlvbiAodmFsdWUpIHsgaW52b2tlKCJuZXh0IiwgdmFsdWUsIHJlc29sdmUsIHJlamVjdCk7IH0sIGZ1bmN0aW9uIChlcnIpIHsgaW52b2tlKCJ0aHJvdyIsIGVyciwgcmVzb2x2ZSwgcmVqZWN0KTsgfSkgOiBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uICh1bndyYXBwZWQpIHsgcmVzdWx0LnZhbHVlID0gdW53cmFwcGVkLCByZXNvbHZlKHJlc3VsdCk7IH0sIGZ1bmN0aW9uIChlcnJvcikgeyByZXR1cm4gaW52b2tlKCJ0aHJvdyIsIGVycm9yLCByZXNvbHZlLCByZWplY3QpOyB9KTsgfSByZWplY3QocmVjb3JkLmFyZyk7IH0gdmFyIHByZXZpb3VzUHJvbWlzZTsgZGVmaW5lUHJvcGVydHkodGhpcywgIl9pbnZva2UiLCB7IHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShtZXRob2QsIGFyZykgeyBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHsgcmV0dXJuIG5ldyBQcm9taXNlSW1wbChmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KTsgfSk7IH0gcmV0dXJuIHByZXZpb3VzUHJvbWlzZSA9IHByZXZpb3VzUHJvbWlzZSA/IHByZXZpb3VzUHJvbWlzZS50aGVuKGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLCBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZykgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpOyB9IH0pOyB9IGZ1bmN0aW9uIG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCkgeyB2YXIgc3RhdGUgPSAic3VzcGVuZGVkU3RhcnQiOyByZXR1cm4gZnVuY3Rpb24gKG1ldGhvZCwgYXJnKSB7IGlmICgiZXhlY3V0aW5nIiA9PT0gc3RhdGUpIHRocm93IG5ldyBFcnJvcigiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZyIpOyBpZiAoImNvbXBsZXRlZCIgPT09IHN0YXRlKSB7IGlmICgidGhyb3ciID09PSBtZXRob2QpIHRocm93IGFyZzsgcmV0dXJuIGRvbmVSZXN1bHQoKTsgfSBmb3IgKGNvbnRleHQubWV0aG9kID0gbWV0aG9kLCBjb250ZXh0LmFyZyA9IGFyZzs7KSB7IHZhciBkZWxlZ2F0ZSA9IGNvbnRleHQuZGVsZWdhdGU7IGlmIChkZWxlZ2F0ZSkgeyB2YXIgZGVsZWdhdGVSZXN1bHQgPSBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTsgaWYgKGRlbGVnYXRlUmVzdWx0KSB7IGlmIChkZWxlZ2F0ZVJlc3VsdCA9PT0gQ29udGludWVTZW50aW5lbCkgY29udGludWU7IHJldHVybiBkZWxlZ2F0ZVJlc3VsdDsgfSB9IGlmICgibmV4dCIgPT09IGNvbnRleHQubWV0aG9kKSBjb250ZXh0LnNlbnQgPSBjb250ZXh0Ll9zZW50ID0gY29udGV4dC5hcmc7ZWxzZSBpZiAoInRocm93IiA9PT0gY29udGV4dC5tZXRob2QpIHsgaWYgKCJzdXNwZW5kZWRTdGFydCIgPT09IHN0YXRlKSB0aHJvdyBzdGF0ZSA9ICJjb21wbGV0ZWQiLCBjb250ZXh0LmFyZzsgY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZyk7IH0gZWxzZSAicmV0dXJuIiA9PT0gY29udGV4dC5tZXRob2QgJiYgY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGNvbnRleHQuYXJnKTsgc3RhdGUgPSAiZXhlY3V0aW5nIjsgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpOyBpZiAoIm5vcm1hbCIgPT09IHJlY29yZC50eXBlKSB7IGlmIChzdGF0ZSA9IGNvbnRleHQuZG9uZSA/ICJjb21wbGV0ZWQiIDogInN1c3BlbmRlZFlpZWxkIiwgcmVjb3JkLmFyZyA9PT0gQ29udGludWVTZW50aW5lbCkgY29udGludWU7IHJldHVybiB7IHZhbHVlOiByZWNvcmQuYXJnLCBkb25lOiBjb250ZXh0LmRvbmUgfTsgfSAidGhyb3ciID09PSByZWNvcmQudHlwZSAmJiAoc3RhdGUgPSAiY29tcGxldGVkIiwgY29udGV4dC5tZXRob2QgPSAidGhyb3ciLCBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmcpOyB9IH07IH0gZnVuY3Rpb24gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCkgeyB2YXIgbWV0aG9kTmFtZSA9IGNvbnRleHQubWV0aG9kLCBtZXRob2QgPSBkZWxlZ2F0ZS5pdGVyYXRvclttZXRob2ROYW1lXTsgaWYgKHVuZGVmaW5lZCA9PT0gbWV0aG9kKSByZXR1cm4gY29udGV4dC5kZWxlZ2F0ZSA9IG51bGwsICJ0aHJvdyIgPT09IG1ldGhvZE5hbWUgJiYgZGVsZWdhdGUuaXRlcmF0b3IucmV0dXJuICYmIChjb250ZXh0Lm1ldGhvZCA9ICJyZXR1cm4iLCBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZCwgbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCksICJ0aHJvdyIgPT09IGNvbnRleHQubWV0aG9kKSB8fCAicmV0dXJuIiAhPT0gbWV0aG9kTmFtZSAmJiAoY29udGV4dC5tZXRob2QgPSAidGhyb3ciLCBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJyIgKyBtZXRob2ROYW1lICsgIicgbWV0aG9kIikpLCBDb250aW51ZVNlbnRpbmVsOyB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2gobWV0aG9kLCBkZWxlZ2F0ZS5pdGVyYXRvciwgY29udGV4dC5hcmcpOyBpZiAoInRocm93IiA9PT0gcmVjb3JkLnR5cGUpIHJldHVybiBjb250ZXh0Lm1ldGhvZCA9ICJ0aHJvdyIsIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZywgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGwsIENvbnRpbnVlU2VudGluZWw7IHZhciBpbmZvID0gcmVjb3JkLmFyZzsgcmV0dXJuIGluZm8gPyBpbmZvLmRvbmUgPyAoY29udGV4dFtkZWxlZ2F0ZS5yZXN1bHROYW1lXSA9IGluZm8udmFsdWUsIGNvbnRleHQubmV4dCA9IGRlbGVnYXRlLm5leHRMb2MsICJyZXR1cm4iICE9PSBjb250ZXh0Lm1ldGhvZCAmJiAoY29udGV4dC5tZXRob2QgPSAibmV4dCIsIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkKSwgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGwsIENvbnRpbnVlU2VudGluZWwpIDogaW5mbyA6IChjb250ZXh0Lm1ldGhvZCA9ICJ0aHJvdyIsIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcigiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3QiKSwgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGwsIENvbnRpbnVlU2VudGluZWwpOyB9IGZ1bmN0aW9uIHB1c2hUcnlFbnRyeShsb2NzKSB7IHZhciBlbnRyeSA9IHsgdHJ5TG9jOiBsb2NzWzBdIH07IDEgaW4gbG9jcyAmJiAoZW50cnkuY2F0Y2hMb2MgPSBsb2NzWzFdKSwgMiBpbiBsb2NzICYmIChlbnRyeS5maW5hbGx5TG9jID0gbG9jc1syXSwgZW50cnkuYWZ0ZXJMb2MgPSBsb2NzWzNdKSwgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpOyB9IGZ1bmN0aW9uIHJlc2V0VHJ5RW50cnkoZW50cnkpIHsgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb24gfHwge307IHJlY29yZC50eXBlID0gIm5vcm1hbCIsIGRlbGV0ZSByZWNvcmQuYXJnLCBlbnRyeS5jb21wbGV0aW9uID0gcmVjb3JkOyB9IGZ1bmN0aW9uIENvbnRleHQodHJ5TG9jc0xpc3QpIHsgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiAicm9vdCIgfV0sIHRyeUxvY3NMaXN0LmZvckVhY2gocHVzaFRyeUVudHJ5LCB0aGlzKSwgdGhpcy5yZXNldCghMCk7IH0gZnVuY3Rpb24gdmFsdWVzKGl0ZXJhYmxlKSB7IGlmIChpdGVyYWJsZSkgeyB2YXIgaXRlcmF0b3JNZXRob2QgPSBpdGVyYWJsZVtpdGVyYXRvclN5bWJvbF07IGlmIChpdGVyYXRvck1ldGhvZCkgcmV0dXJuIGl0ZXJhdG9yTWV0aG9kLmNhbGwoaXRlcmFibGUpOyBpZiAoImZ1bmN0aW9uIiA9PSB0eXBlb2YgaXRlcmFibGUubmV4dCkgcmV0dXJuIGl0ZXJhYmxlOyBpZiAoIWlzTmFOKGl0ZXJhYmxlLmxlbmd0aCkpIHsgdmFyIGkgPSAtMSwgbmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7IGZvciAoOyArK2kgPCBpdGVyYWJsZS5sZW5ndGg7KSBpZiAoaGFzT3duLmNhbGwoaXRlcmFibGUsIGkpKSByZXR1cm4gbmV4dC52YWx1ZSA9IGl0ZXJhYmxlW2ldLCBuZXh0LmRvbmUgPSAhMSwgbmV4dDsgcmV0dXJuIG5leHQudmFsdWUgPSB1bmRlZmluZWQsIG5leHQuZG9uZSA9ICEwLCBuZXh0OyB9OyByZXR1cm4gbmV4dC5uZXh0ID0gbmV4dDsgfSB9IHJldHVybiB7IG5leHQ6IGRvbmVSZXN1bHQgfTsgfSBmdW5jdGlvbiBkb25lUmVzdWx0KCkgeyByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiAhMCB9OyB9IHJldHVybiBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgZGVmaW5lUHJvcGVydHkoR3AsICJjb25zdHJ1Y3RvciIsIHsgdmFsdWU6IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBjb25maWd1cmFibGU6ICEwIH0pLCBkZWZpbmVQcm9wZXJ0eShHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgImNvbnN0cnVjdG9yIiwgeyB2YWx1ZTogR2VuZXJhdG9yRnVuY3Rpb24sIGNvbmZpZ3VyYWJsZTogITAgfSksIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gZGVmaW5lKEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCB0b1N0cmluZ1RhZ1N5bWJvbCwgIkdlbmVyYXRvckZ1bmN0aW9uIiksIGV4cG9ydHMuaXNHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uIChnZW5GdW4pIHsgdmFyIGN0b3IgPSAiZnVuY3Rpb24iID09IHR5cGVvZiBnZW5GdW4gJiYgZ2VuRnVuLmNvbnN0cnVjdG9yOyByZXR1cm4gISFjdG9yICYmIChjdG9yID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fCAiR2VuZXJhdG9yRnVuY3Rpb24iID09PSAoY3Rvci5kaXNwbGF5TmFtZSB8fCBjdG9yLm5hbWUpKTsgfSwgZXhwb3J0cy5tYXJrID0gZnVuY3Rpb24gKGdlbkZ1bikgeyByZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKGdlbkZ1biwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpIDogKGdlbkZ1bi5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgZGVmaW5lKGdlbkZ1biwgdG9TdHJpbmdUYWdTeW1ib2wsICJHZW5lcmF0b3JGdW5jdGlvbiIpKSwgZ2VuRnVuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR3ApLCBnZW5GdW47IH0sIGV4cG9ydHMuYXdyYXAgPSBmdW5jdGlvbiAoYXJnKSB7IHJldHVybiB7IF9fYXdhaXQ6IGFyZyB9OyB9LCBkZWZpbmVJdGVyYXRvck1ldGhvZHMoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUpLCBkZWZpbmUoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUsIGFzeW5jSXRlcmF0b3JTeW1ib2wsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0pLCBleHBvcnRzLkFzeW5jSXRlcmF0b3IgPSBBc3luY0l0ZXJhdG9yLCBleHBvcnRzLmFzeW5jID0gZnVuY3Rpb24gKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0LCBQcm9taXNlSW1wbCkgeyB2b2lkIDAgPT09IFByb21pc2VJbXBsICYmIChQcm9taXNlSW1wbCA9IFByb21pc2UpOyB2YXIgaXRlciA9IG5ldyBBc3luY0l0ZXJhdG9yKHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpLCBQcm9taXNlSW1wbCk7IHJldHVybiBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24ob3V0ZXJGbikgPyBpdGVyIDogaXRlci5uZXh0KCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7IHJldHVybiByZXN1bHQuZG9uZSA/IHJlc3VsdC52YWx1ZSA6IGl0ZXIubmV4dCgpOyB9KTsgfSwgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEdwKSwgZGVmaW5lKEdwLCB0b1N0cmluZ1RhZ1N5bWJvbCwgIkdlbmVyYXRvciIpLCBkZWZpbmUoR3AsIGl0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KSwgZGVmaW5lKEdwLCAidG9TdHJpbmciLCBmdW5jdGlvbiAoKSB7IHJldHVybiAiW29iamVjdCBHZW5lcmF0b3JdIjsgfSksIGV4cG9ydHMua2V5cyA9IGZ1bmN0aW9uICh2YWwpIHsgdmFyIG9iamVjdCA9IE9iamVjdCh2YWwpLCBrZXlzID0gW107IGZvciAodmFyIGtleSBpbiBvYmplY3QpIGtleXMucHVzaChrZXkpOyByZXR1cm4ga2V5cy5yZXZlcnNlKCksIGZ1bmN0aW9uIG5leHQoKSB7IGZvciAoOyBrZXlzLmxlbmd0aDspIHsgdmFyIGtleSA9IGtleXMucG9wKCk7IGlmIChrZXkgaW4gb2JqZWN0KSByZXR1cm4gbmV4dC52YWx1ZSA9IGtleSwgbmV4dC5kb25lID0gITEsIG5leHQ7IH0gcmV0dXJuIG5leHQuZG9uZSA9ICEwLCBuZXh0OyB9OyB9LCBleHBvcnRzLnZhbHVlcyA9IHZhbHVlcywgQ29udGV4dC5wcm90b3R5cGUgPSB7IGNvbnN0cnVjdG9yOiBDb250ZXh0LCByZXNldDogZnVuY3Rpb24gcmVzZXQoc2tpcFRlbXBSZXNldCkgeyBpZiAodGhpcy5wcmV2ID0gMCwgdGhpcy5uZXh0ID0gMCwgdGhpcy5zZW50ID0gdGhpcy5fc2VudCA9IHVuZGVmaW5lZCwgdGhpcy5kb25lID0gITEsIHRoaXMuZGVsZWdhdGUgPSBudWxsLCB0aGlzLm1ldGhvZCA9ICJuZXh0IiwgdGhpcy5hcmcgPSB1bmRlZmluZWQsIHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpLCAhc2tpcFRlbXBSZXNldCkgZm9yICh2YXIgbmFtZSBpbiB0aGlzKSAidCIgPT09IG5hbWUuY2hhckF0KDApICYmIGhhc093bi5jYWxsKHRoaXMsIG5hbWUpICYmICFpc05hTigrbmFtZS5zbGljZSgxKSkgJiYgKHRoaXNbbmFtZV0gPSB1bmRlZmluZWQpOyB9LCBzdG9wOiBmdW5jdGlvbiBzdG9wKCkgeyB0aGlzLmRvbmUgPSAhMDsgdmFyIHJvb3RSZWNvcmQgPSB0aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjsgaWYgKCJ0aHJvdyIgPT09IHJvb3RSZWNvcmQudHlwZSkgdGhyb3cgcm9vdFJlY29yZC5hcmc7IHJldHVybiB0aGlzLnJ2YWw7IH0sIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbiBkaXNwYXRjaEV4Y2VwdGlvbihleGNlcHRpb24pIHsgaWYgKHRoaXMuZG9uZSkgdGhyb3cgZXhjZXB0aW9uOyB2YXIgY29udGV4dCA9IHRoaXM7IGZ1bmN0aW9uIGhhbmRsZShsb2MsIGNhdWdodCkgeyByZXR1cm4gcmVjb3JkLnR5cGUgPSAidGhyb3ciLCByZWNvcmQuYXJnID0gZXhjZXB0aW9uLCBjb250ZXh0Lm5leHQgPSBsb2MsIGNhdWdodCAmJiAoY29udGV4dC5tZXRob2QgPSAibmV4dCIsIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkKSwgISFjYXVnaHQ7IH0gZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkgeyB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV0sIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247IGlmICgicm9vdCIgPT09IGVudHJ5LnRyeUxvYykgcmV0dXJuIGhhbmRsZSgiZW5kIik7IGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7IHZhciBoYXNDYXRjaCA9IGhhc093bi5jYWxsKGVudHJ5LCAiY2F0Y2hMb2MiKSwgaGFzRmluYWxseSA9IGhhc093bi5jYWxsKGVudHJ5LCAiZmluYWxseUxvYyIpOyBpZiAoaGFzQ2F0Y2ggJiYgaGFzRmluYWxseSkgeyBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsICEwKTsgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7IH0gZWxzZSBpZiAoaGFzQ2F0Y2gpIHsgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCAhMCk7IH0gZWxzZSB7IGlmICghaGFzRmluYWxseSkgdGhyb3cgbmV3IEVycm9yKCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseSIpOyBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTsgfSB9IH0gfSwgYWJydXB0OiBmdW5jdGlvbiBhYnJ1cHQodHlwZSwgYXJnKSB7IGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHsgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldOyBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldiAmJiBoYXNPd24uY2FsbChlbnRyeSwgImZpbmFsbHlMb2MiKSAmJiB0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7IHZhciBmaW5hbGx5RW50cnkgPSBlbnRyeTsgYnJlYWs7IH0gfSBmaW5hbGx5RW50cnkgJiYgKCJicmVhayIgPT09IHR5cGUgfHwgImNvbnRpbnVlIiA9PT0gdHlwZSkgJiYgZmluYWxseUVudHJ5LnRyeUxvYyA8PSBhcmcgJiYgYXJnIDw9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jICYmIChmaW5hbGx5RW50cnkgPSBudWxsKTsgdmFyIHJlY29yZCA9IGZpbmFsbHlFbnRyeSA/IGZpbmFsbHlFbnRyeS5jb21wbGV0aW9uIDoge307IHJldHVybiByZWNvcmQudHlwZSA9IHR5cGUsIHJlY29yZC5hcmcgPSBhcmcsIGZpbmFsbHlFbnRyeSA/ICh0aGlzLm1ldGhvZCA9ICJuZXh0IiwgdGhpcy5uZXh0ID0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2MsIENvbnRpbnVlU2VudGluZWwpIDogdGhpcy5jb21wbGV0ZShyZWNvcmQpOyB9LCBjb21wbGV0ZTogZnVuY3Rpb24gY29tcGxldGUocmVjb3JkLCBhZnRlckxvYykgeyBpZiAoInRocm93IiA9PT0gcmVjb3JkLnR5cGUpIHRocm93IHJlY29yZC5hcmc7IHJldHVybiAiYnJlYWsiID09PSByZWNvcmQudHlwZSB8fCAiY29udGludWUiID09PSByZWNvcmQudHlwZSA/IHRoaXMubmV4dCA9IHJlY29yZC5hcmcgOiAicmV0dXJuIiA9PT0gcmVjb3JkLnR5cGUgPyAodGhpcy5ydmFsID0gdGhpcy5hcmcgPSByZWNvcmQuYXJnLCB0aGlzLm1ldGhvZCA9ICJyZXR1cm4iLCB0aGlzLm5leHQgPSAiZW5kIikgOiAibm9ybWFsIiA9PT0gcmVjb3JkLnR5cGUgJiYgYWZ0ZXJMb2MgJiYgKHRoaXMubmV4dCA9IGFmdGVyTG9jKSwgQ29udGludWVTZW50aW5lbDsgfSwgZmluaXNoOiBmdW5jdGlvbiBmaW5pc2goZmluYWxseUxvYykgeyBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7IHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTsgaWYgKGVudHJ5LmZpbmFsbHlMb2MgPT09IGZpbmFsbHlMb2MpIHJldHVybiB0aGlzLmNvbXBsZXRlKGVudHJ5LmNvbXBsZXRpb24sIGVudHJ5LmFmdGVyTG9jKSwgcmVzZXRUcnlFbnRyeShlbnRyeSksIENvbnRpbnVlU2VudGluZWw7IH0gfSwgY2F0Y2g6IGZ1bmN0aW9uIF9jYXRjaCh0cnlMb2MpIHsgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkgeyB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07IGlmIChlbnRyeS50cnlMb2MgPT09IHRyeUxvYykgeyB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjsgaWYgKCJ0aHJvdyIgPT09IHJlY29yZC50eXBlKSB7IHZhciB0aHJvd24gPSByZWNvcmQuYXJnOyByZXNldFRyeUVudHJ5KGVudHJ5KTsgfSByZXR1cm4gdGhyb3duOyB9IH0gdGhyb3cgbmV3IEVycm9yKCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHQiKTsgfSwgZGVsZWdhdGVZaWVsZDogZnVuY3Rpb24gZGVsZWdhdGVZaWVsZChpdGVyYWJsZSwgcmVzdWx0TmFtZSwgbmV4dExvYykgeyByZXR1cm4gdGhpcy5kZWxlZ2F0ZSA9IHsgaXRlcmF0b3I6IHZhbHVlcyhpdGVyYWJsZSksIHJlc3VsdE5hbWU6IHJlc3VsdE5hbWUsIG5leHRMb2M6IG5leHRMb2MgfSwgIm5leHQiID09PSB0aGlzLm1ldGhvZCAmJiAodGhpcy5hcmcgPSB1bmRlZmluZWQpLCBDb250aW51ZVNlbnRpbmVsOyB9IH0sIGV4cG9ydHM7IH0KaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb3J0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCBnb29kc0xpc3QgZnJvbSAnQC9jb21wb25lbnRzL2dvb2RzTGlzdC9pbmRleCc7CmltcG9ydCB1cGxvYWRQaWN0dXJlcyBmcm9tICdAL2NvbXBvbmVudHMvdXBsb2FkUGljdHVyZXMnOwppbXBvcnQgeyBiYXJnYWluSW5mb0FwaSwgYmFyZ2FpbkNyZWF0QXBpLCBwcm9kdWN0QXR0cnNBcGkgfSBmcm9tICdAL2FwaS9tYXJrZXRpbmcnOwppbXBvcnQgeyBwcm9kdWN0R2V0VGVtcGxhdGVBcGkgfSBmcm9tICdAL2FwaS9wcm9kdWN0JzsKaW1wb3J0IGZyZWlnaHRUZW1wbGF0ZSBmcm9tICdAL2NvbXBvbmVudHMvZnJlaWdodFRlbXBsYXRlL2luZGV4JzsKaW1wb3J0IFdhbmdFZGl0b3IgZnJvbSAnQC9jb21wb25lbnRzL3dhbmdFZGl0b3IvaW5kZXgudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdzdG9yZUJhcmdhaW5DcmVhdGUnLAogIGNvbXBvbmVudHM6IHsKICAgIGdvb2RzTGlzdDogZ29vZHNMaXN0LAogICAgdXBsb2FkUGljdHVyZXM6IHVwbG9hZFBpY3R1cmVzLAogICAgZnJlaWdodFRlbXBsYXRlOiBmcmVpZ2h0VGVtcGxhdGUsCiAgICBXYW5nRWRpdG9yOiBXYW5nRWRpdG9yCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3VibWl0T3BlbjogZmFsc2UsCiAgICAgIHNwaW5TaG93OiBmYWxzZSwKICAgICAgbXlDb25maWc6IHsKICAgICAgICBhdXRvSGVpZ2h0RW5hYmxlZDogZmFsc2UsCiAgICAgICAgLy8g57yW6L6R5Zmo5LiN6Ieq5Yqo6KKr5YaF5a655pKR6auYCiAgICAgICAgaW5pdGlhbEZyYW1lSGVpZ2h0OiA1MDAsCiAgICAgICAgLy8g5Yid5aeL5a655Zmo6auY5bqmCiAgICAgICAgaW5pdGlhbEZyYW1lV2lkdGg6ICcxMDAlJywKICAgICAgICAvLyDliJ3lp4vlrrnlmajlrr3luqYKICAgICAgICBVRURJVE9SX0hPTUVfVVJMOiAnL1VFZGl0b3IvJywKICAgICAgICBzZXJ2ZXJVcmw6ICcnCiAgICAgIH0sCiAgICAgIGlzQ2hvaWNlOiAnJywKICAgICAgY3VycmVudDogMCwKICAgICAgbW9kYWxQaWM6IGZhbHNlLAogICAgICBncmlkOiB7CiAgICAgICAgeGw6IDEyLAogICAgICAgIGxnOiAyMCwKICAgICAgICBtZDogMjQsCiAgICAgICAgc206IDI0LAogICAgICAgIHhzOiAyNAogICAgICB9LAogICAgICBncmlkMjogewogICAgICAgIHhsOiA4LAogICAgICAgIGxnOiA4LAogICAgICAgIG1kOiAxMiwKICAgICAgICBzbTogMjQsCiAgICAgICAgeHM6IDI0CiAgICAgIH0sCiAgICAgIGdyaWRQaWM6IHsKICAgICAgICB4bDogNiwKICAgICAgICBsZzogOCwKICAgICAgICBtZDogMTIsCiAgICAgICAgc206IDEyLAogICAgICAgIHhzOiAxMgogICAgICB9LAogICAgICBncmlkQnRuOiB7CiAgICAgICAgeGw6IDQsCiAgICAgICAgbGc6IDgsCiAgICAgICAgbWQ6IDgsCiAgICAgICAgc206IDgsCiAgICAgICAgeHM6IDgKICAgICAgfSwKICAgICAgbW9kYWxzOiBmYWxzZSwKICAgICAgbW9kYWxfbG9hZGluZzogZmFsc2UsCiAgICAgIGltYWdlczogW10sCiAgICAgIHRlbXBsYXRlTGlzdDogW10sCiAgICAgIGNvbHVtbnM6IFtdLAogICAgICBzcGVjc0RhdGE6IFtdLAogICAgICBmb3JtVmFsaWRhdGU6IF9kZWZpbmVQcm9wZXJ0eSh7CiAgICAgICAgaW1hZ2VzOiBbXSwKICAgICAgICBpbmZvOiAnJywKICAgICAgICB0aXRsZTogJycsCiAgICAgICAgc3RvcmVfbmFtZTogJycsCiAgICAgICAgaW1hZ2U6ICcnLAogICAgICAgIHVuaXRfbmFtZTogJycsCiAgICAgICAgcHJpY2U6IDAsCiAgICAgICAgbWluX3ByaWNlOiAwLAogICAgICAgIGJhcmdhaW5fbWF4X3ByaWNlOiAxMCwKICAgICAgICBiYXJnYWluX21pbl9wcmljZTogMC4wMSwKICAgICAgICBjb3N0OiAwLAogICAgICAgIGJhcmdhaW5fbnVtOiAxLAogICAgICAgIHBlb3BsZV9udW06IDIsCiAgICAgICAgc3RvY2s6IDEsCiAgICAgICAgc2FsZXM6IDAsCiAgICAgICAgc29ydDogMCwKICAgICAgICBudW06IDEsCiAgICAgICAgZ2l2ZV9pbnRlZ3JhbDogMCwKICAgICAgICBwb3N0YWdlOiAwLAogICAgICAgIGlzX3Bvc3RhZ2U6IDAsCiAgICAgICAgaXNfaG90OiAwLAogICAgICAgIHN0YXR1czogMCwKICAgICAgICBzZWN0aW9uX3RpbWU6IFtdLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBydWxlOiAnJywKICAgICAgICBpZDogMCwKICAgICAgICBwcm9kdWN0X2lkOiAwLAogICAgICAgIHRlbXBfaWQ6ICcnLAogICAgICAgIGF0dHJzOiBbXSwKICAgICAgICBpdGVtczogW10sCiAgICAgICAgbG9naXN0aWNzOiBbJzEnXSwKICAgICAgICAvL+mAieaLqeeJqea1geaWueW8jwogICAgICAgIGZyZWlnaHQ6IDIKICAgICAgfSwgInBvc3RhZ2UiLCAxKSwKICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICBydWxlOiAnJywKICAgICAgcnVsZVZhbGlkYXRlOiB7CiAgICAgICAgaW1hZ2U6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6nkuLvlm74nLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICB9XSwKICAgICAgICBpbWFnZXM6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIHR5cGU6ICdhcnJheScsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup5Li75Zu+JywKICAgICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgICAgfSwgewogICAgICAgICAgdHlwZTogJ2FycmF5JywKICAgICAgICAgIG1pbjogMSwKICAgICAgICAgIG1lc3NhZ2U6ICdDaG9vc2UgdHdvIGhvYmJpZXMgYXQgYmVzdCcsCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICAgIH1dLAogICAgICAgIHRpdGxlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl56CN5Lu35rS75Yqo5ZCN56ewJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIGluZm86IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXnoI3ku7fmtLvliqjnroDku4snLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgc3RvcmVfbmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeegjeS7t+WVhuWTgeWQjeensCcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBzZWN0aW9uX3RpbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIHR5cGU6ICdhcnJheScsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup5rS75Yqo5pe26Ze0JywKICAgICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgICAgfV0sCiAgICAgICAgdW5pdF9uYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5Y2V5L2NJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHByaWNlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICB0eXBlOiAnbnVtYmVyJywKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXljp/ku7cnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgbWluX3ByaWNlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICB0eXBlOiAnbnVtYmVyJywKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXmnIDkvY7otK3kubDku7cnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgLy8gYmFyZ2Fpbl9tYXhfcHJpY2U6IFsKICAgICAgICAvLyAgICAgeyByZXF1aXJlZDogdHJ1ZSwgdHlwZTogJ251bWJlcicsIG1lc3NhZ2U6ICfor7fovpPljZXmrKHnoI3ku7fmnIDlpKfph5Hpop0nLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgIC8vIF0sCiAgICAgICAgLy8gYmFyZ2Fpbl9taW5fcHJpY2U6IFsKICAgICAgICAvLyAgICAgeyByZXF1aXJlZDogdHJ1ZSwgdHlwZTogJ251bWJlcicsIG1lc3NhZ2U6ICfljZXmrKHnoI3ku7fmnIDlsI/ph5Hpop0nLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgIC8vIF0sCiAgICAgICAgY29zdDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgdHlwZTogJ251bWJlcicsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5oiQ5pys5Lu3JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIGJhcmdhaW5fbnVtOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICB0eXBlOiAnbnVtYmVyJywKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXluK7noI3mrKHmlbAnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgcGVvcGxlX251bTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgdHlwZTogJ251bWJlcicsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl56CN5Lu35Lq65pWwJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHN0b2NrOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICB0eXBlOiAnbnVtYmVyJywKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXlupPlrZgnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgbnVtOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICB0eXBlOiAnbnVtYmVyJywKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXljZXmrKHlhYHorrjotK3kubDmlbDph48nLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgdGVtcF9pZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+mAieaLqei/kOi0ueaooeadvycsCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJywKICAgICAgICAgIHR5cGU6ICdudW1iZXInCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgY3VycmVudGlkOiAnJywKICAgICAgcGljVGl0OiAnJywKICAgICAgdGFibGVJbmRleDogMCwKICAgICAgY29weTogMAogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKCdtZWRpYScsIFsnaXNNb2JpbGUnXSkpLCB7fSwgewogICAgbGFiZWxXaWR0aDogZnVuY3Rpb24gbGFiZWxXaWR0aCgpIHsKICAgICAgcmV0dXJuIHRoaXMuaXNNb2JpbGUgPyB1bmRlZmluZWQgOiAxNDA7CiAgICB9LAogICAgbGFiZWxQb3NpdGlvbjogZnVuY3Rpb24gbGFiZWxQb3NpdGlvbigpIHsKICAgICAgcmV0dXJuIHRoaXMuaXNNb2JpbGUgPyAndG9wJyA6ICdyaWdodCc7CiAgICB9CiAgfSksCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgIT09ICcwJyAmJiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpIHsKICAgICAgdGhpcy5jb3B5ID0gdGhpcy4kcm91dGUucGFyYW1zLmNvcHk7CiAgICAgIHRoaXMuY3VycmVudCA9IDE7CiAgICAgIHRoaXMuZ2V0SW5mbygpOwogICAgfQogICAgdGhpcy5wcm9kdWN0R2V0VGVtcGxhdGUoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOivpuaDheWGheWuuQogICAgZ2V0RWRpdG9yQ29udGVudDogZnVuY3Rpb24gZ2V0RWRpdG9yQ29udGVudChkYXRhKSB7CiAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkYXRhOwogICAgfSwKICAgIC8vIOinhOWImeWGheWuuQogICAgZ2V0RWRpdG9yQ29udGVudDI6IGZ1bmN0aW9uIGdldEVkaXRvckNvbnRlbnQyKGRhdGEpIHsKICAgICAgdGhpcy5ydWxlID0gZGF0YTsKICAgIH0sCiAgICAvLyDmt7vliqDov5DotLnmqKHmnb8KICAgIGZyZWlnaHQ6IGZ1bmN0aW9uIGZyZWlnaHQoKSB7CiAgICAgIHRoaXMuJHJlZnMudGVtcGxhdGUuaWQgPSAwOwogICAgICB0aGlzLiRyZWZzLnRlbXBsYXRlLmlzVGVtcGxhdGUgPSB0cnVlOwogICAgfSwKICAgIC8vIOegjeS7t+inhOagvO+8mwogICAgcHJvZHVjdEF0dHJzOiBmdW5jdGlvbiBwcm9kdWN0QXR0cnMocm93KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgcHJvZHVjdEF0dHJzQXBpKHJvdy5pZCwgMikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YS5pbmZvOwogICAgICAgIHZhciByYWRpbyA9IHsKICAgICAgICAgIHRpdGxlOiAn6YCJ5oupJywKICAgICAgICAgIGtleTogJ2Nob3NlJywKICAgICAgICAgIHdpZHRoOiA2MCwKICAgICAgICAgIGFsaWduOiAnY2VudGVyJywKICAgICAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgsIHBhcmFtcykgewogICAgICAgICAgICB2YXIgdWlkID0gcGFyYW1zLmluZGV4OwogICAgICAgICAgICB2YXIgZmxhZyA9IGZhbHNlOwogICAgICAgICAgICBpZiAoX3RoaXMuY3VycmVudGlkID09PSB1aWQpIHsKICAgICAgICAgICAgICBmbGFnID0gdHJ1ZTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBmbGFnID0gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIHNlbGYgPSBfdGhpczsKICAgICAgICAgICAgcmV0dXJuIGgoJ2RpdicsIFtoKCdSYWRpbycsIHsKICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgdmFsdWU6IGZsYWcKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICAnb24tY2hhbmdlJzogZnVuY3Rpb24gb25DaGFuZ2UoKSB7CiAgICAgICAgICAgICAgICAgIHNlbGYuY3VycmVudGlkID0gdWlkOwogICAgICAgICAgICAgICAgICB2YXIgYXR0cnMgPSBbXTsKICAgICAgICAgICAgICAgICAgYXR0cnMucHVzaChwYXJhbXMucm93KTsKICAgICAgICAgICAgICAgICAgc2VsZi5mb3JtVmFsaWRhdGUuYXR0cnMgPSBhdHRyczsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pXSk7CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICB0aGF0LmNvbHVtbnMgPSBkYXRhLmhlYWRlcjsKICAgICAgICB0aGF0LmNvbHVtbnMudW5zaGlmdChyYWRpbyk7CiAgICAgICAgdGhhdC5zcGVjc0RhdGEgPSBkYXRhLmF0dHJzOwogICAgICAgIHRoYXQuaW5wdXRDaGFuZ2UoZGF0YSk7CiAgICAgICAgdGhhdC5mb3JtVmFsaWRhdGUuaXRlbXMgPSBkYXRhLml0ZW1zOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdGhhdC4kTWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgfSk7CiAgICB9LAogICAgaW5wdXRDaGFuZ2U6IGZ1bmN0aW9uIGlucHV0Q2hhbmdlKGRhdGEpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICB2YXIgJGluZGV4ID0gW107CiAgICAgIGRhdGEuaGVhZGVyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gMSkgewogICAgICAgICAgJGluZGV4LnB1c2goewogICAgICAgICAgICBpbmRleDogaW5kZXgsCiAgICAgICAgICAgIGtleTogaXRlbS5rZXksCiAgICAgICAgICAgIHRpdGxlOiBpdGVtLnRpdGxlCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICAkaW5kZXguZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICB2YXIgdGl0bGUgPSBpdGVtLnRpdGxlOwogICAgICAgIHZhciBrZXkgPSBpdGVtLmtleTsKICAgICAgICB2YXIgcm93ID0gewogICAgICAgICAgdGl0bGU6IHRpdGxlLAogICAgICAgICAga2V5OiBrZXksCiAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgICBtaW5XaWR0aDogMTAwLAogICAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCwgcGFyYW1zKSB7CiAgICAgICAgICAgIHJldHVybiBoKCdkaXYnLCBbaCgnSW5wdXROdW1iZXInLCB7CiAgICAgICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICAgIG1pbjogMSwKICAgICAgICAgICAgICAgIHByZWNpc2lvbjogMCwKICAgICAgICAgICAgICAgIHZhbHVlOiBwYXJhbXMucm93LnF1b3RhCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBvbjogewogICAgICAgICAgICAgICAgJ29uLWNoYW5nZSc6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHsKICAgICAgICAgICAgICAgICAgcGFyYW1zLnJvdy5xdW90YSA9IGU7CiAgICAgICAgICAgICAgICAgIHRoYXQuc3BlY3NEYXRhW3BhcmFtcy5pbmRleF0gPSBwYXJhbXMucm93OwogICAgICAgICAgICAgICAgICBpZiAoISF0aGF0LmZvcm1WYWxpZGF0ZS5hdHRycyAmJiB0aGF0LmZvcm1WYWxpZGF0ZS5hdHRycy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICB0aGF0LmZvcm1WYWxpZGF0ZS5hdHRycy5mb3JFYWNoKGZ1bmN0aW9uICh2LCBpbmRleCkgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHYuaWQgPT09IHBhcmFtcy5yb3cuaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5mb3JtVmFsaWRhdGUuYXR0cnMuc3BsaWNlKGluZGV4LCAxLCBwYXJhbXMucm93KTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSldKTsKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIHRoYXQuY29sdW1ucy5zcGxpY2UoaXRlbS5pbmRleCwgMSwgcm93KTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6I635Y+W6L+Q6LS55qih5p2/77ybCiAgICBwcm9kdWN0R2V0VGVtcGxhdGU6IGZ1bmN0aW9uIHByb2R1Y3RHZXRUZW1wbGF0ZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHByb2R1Y3RHZXRUZW1wbGF0ZUFwaSgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi50ZW1wbGF0ZUxpc3QgPSByZXMuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5ZWG5ZOBaWQKICAgIGdldFByb2R1Y3RJZDogZnVuY3Rpb24gZ2V0UHJvZHVjdElkKHJvdykgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdGhpcy5tb2RhbF9sb2FkaW5nID0gZmFsc2U7CiAgICAgIHRoaXMubW9kYWxzID0gZmFsc2U7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfdGhpczMkZm9ybVZhbGlkYXRlOwogICAgICAgIF90aGlzMy5mb3JtVmFsaWRhdGUgPSAoX3RoaXMzJGZvcm1WYWxpZGF0ZSA9IHsKICAgICAgICAgIGltYWdlczogcm93LnNsaWRlcl9pbWFnZSwKICAgICAgICAgIGluZm86IHJvdy5zdG9yZV9pbmZvLAogICAgICAgICAgdGl0bGU6IHJvdy5zdG9yZV9uYW1lLAogICAgICAgICAgc3RvcmVfbmFtZTogcm93LnN0b3JlX25hbWUsCiAgICAgICAgICBpbWFnZTogcm93LmltYWdlLAogICAgICAgICAgdW5pdF9uYW1lOiByb3cudW5pdF9uYW1lLAogICAgICAgICAgcHJpY2U6IDAsCiAgICAgICAgICAvLyDkuI3lj5bllYblk4HkuK3nmoTljp/ku7cKICAgICAgICAgIG1pbl9wcmljZTogMCwKICAgICAgICAgIGJhcmdhaW5fbWF4X3ByaWNlOiAxMCwKICAgICAgICAgIGJhcmdhaW5fbWluX3ByaWNlOiAwLjAxLAogICAgICAgICAgY29zdDogcm93LmNvc3QsCiAgICAgICAgICBiYXJnYWluX251bTogMSwKICAgICAgICAgIHBlb3BsZV9udW06IDIsCiAgICAgICAgICBzdG9jazogcm93LnN0b2NrLAogICAgICAgICAgc2FsZXM6IHJvdy5zYWxlcywKICAgICAgICAgIHNvcnQ6IHJvdy5zb3J0LAogICAgICAgICAgbnVtOiAxLAogICAgICAgICAgZ2l2ZV9pbnRlZ3JhbDogcm93LmdpdmVfaW50ZWdyYWwsCiAgICAgICAgICBwb3N0YWdlOiByb3cucG9zdGFnZSwKICAgICAgICAgIGlzX3Bvc3RhZ2U6IHJvdy5pc19wb3N0YWdlLAogICAgICAgICAgaXNfaG90OiByb3cuaXNfaG90LAogICAgICAgICAgc3RhdHVzOiAwLAogICAgICAgICAgc2VjdGlvbl90aW1lOiBbXSwKICAgICAgICAgIGRlc2NyaXB0aW9uOiByb3cuZGVzY3JpcHRpb24sCiAgICAgICAgICAvLyDkuI3lj5bllYblk4HkuK3nmoQKICAgICAgICAgIHJ1bGU6ICcnLAogICAgICAgICAgaWQ6IDAsCiAgICAgICAgICBwcm9kdWN0X2lkOiByb3cuaWQsCiAgICAgICAgICB0ZW1wX2lkOiByb3cudGVtcF9pZCwKICAgICAgICAgIGxvZ2lzdGljczogcm93LnRlbXBfaWQsCiAgICAgICAgICAvL+mAieaLqeeJqea1geaWueW8jwogICAgICAgICAgZnJlaWdodDogcm93LmZyZWlnaHQKICAgICAgICB9LCBfZGVmaW5lUHJvcGVydHkoX3RoaXMzJGZvcm1WYWxpZGF0ZSwgInBvc3RhZ2UiLCByb3cucG9zdGFnZSksIF9kZWZpbmVQcm9wZXJ0eShfdGhpczMkZm9ybVZhbGlkYXRlLCAiY3VzdG9tX2Zvcm0iLCByb3cuY3VzdG9tX2Zvcm0pLCBfZGVmaW5lUHJvcGVydHkoX3RoaXMzJGZvcm1WYWxpZGF0ZSwgInZpcnR1YWxfdHlwZSIsIHJvdy52aXJ0dWFsX3R5cGUpLCBfdGhpczMkZm9ybVZhbGlkYXRlKTsKICAgICAgICBfdGhpczMucHJvZHVjdEF0dHJzKHJvdyk7CiAgICAgIH0sIDUwMCk7CiAgICB9LAogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHRoaXMubW9kYWxzID0gZmFsc2U7CiAgICB9LAogICAgLy8g56e75YqoCiAgICBoYW5kbGVEcmFnU3RhcnQ6IGZ1bmN0aW9uIGhhbmRsZURyYWdTdGFydChlLCBpdGVtKSB7CiAgICAgIHRoaXMuZHJhZ2dpbmcgPSBpdGVtOwogICAgfSwKICAgIGhhbmRsZURyYWdFbmQ6IGZ1bmN0aW9uIGhhbmRsZURyYWdFbmQoZSwgaXRlbSkgewogICAgICB0aGlzLmRyYWdnaW5nID0gbnVsbDsKICAgIH0sCiAgICAvLyDpppblhYjmiopkaXblj5jmiJDlj6/ku6XmlL7nva7nmoTlhYPntKDvvIzljbPph43lhplkcmFnZW50ZXIvZHJhZ292ZXIKICAgIGhhbmRsZURyYWdPdmVyOiBmdW5jdGlvbiBoYW5kbGVEcmFnT3ZlcihlKSB7CiAgICAgIGUuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSAnbW92ZSc7CiAgICB9LAogICAgaGFuZGxlRHJhZ0VudGVyOiBmdW5jdGlvbiBoYW5kbGVEcmFnRW50ZXIoZSwgaXRlbSkgewogICAgICBlLmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gJ21vdmUnOwogICAgICBpZiAoaXRlbSA9PT0gdGhpcy5kcmFnZ2luZykgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIgbmV3SXRlbXMgPSBfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5mb3JtVmFsaWRhdGUuaW1hZ2VzKTsKICAgICAgdmFyIHNyYyA9IG5ld0l0ZW1zLmluZGV4T2YodGhpcy5kcmFnZ2luZyk7CiAgICAgIHZhciBkc3QgPSBuZXdJdGVtcy5pbmRleE9mKGl0ZW0pOwogICAgICBuZXdJdGVtcy5zcGxpY2UuYXBwbHkobmV3SXRlbXMsIFtkc3QsIDBdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkobmV3SXRlbXMuc3BsaWNlKHNyYywgMSkpKSk7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmltYWdlcyA9IG5ld0l0ZW1zOwogICAgfSwKICAgIC8vIOWFt+S9k+aXpeacnwogICAgb25jaGFuZ2VUaW1lOiBmdW5jdGlvbiBvbmNoYW5nZVRpbWUoZSkgewogICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5zZWN0aW9uX3RpbWUgPSBlOwogICAgfSwKICAgIC8vIOivpuaDhQogICAgZ2V0SW5mbzogZnVuY3Rpb24gZ2V0SW5mbygpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIHRoaXMuc3BpblNob3cgPSB0cnVlOwogICAgICBiYXJnYWluSW5mb0FwaSh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUocmVzKSB7CiAgICAgICAgICB2YXIgdGhhdCwgaW5mbywgcmFkaW8sIGRlZmF1bHRBdHRyczsKICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHRoYXQgPSBfdGhpczQ7CiAgICAgICAgICAgICAgICBpbmZvID0gcmVzLmRhdGEuaW5mbzsKICAgICAgICAgICAgICAgIF90aGlzNC5mb3JtVmFsaWRhdGUgPSBpbmZvOwogICAgICAgICAgICAgICAgX3RoaXM0LmZvcm1WYWxpZGF0ZS5ydWxlID0gaW5mby5ydWxlID09PSBudWxsID8gJycgOiBpbmZvLnJ1bGU7CiAgICAgICAgICAgICAgICBfdGhpczQuJHNldChfdGhpczQuZm9ybVZhbGlkYXRlLCAnaXRlbXMnLCBpbmZvLmF0dHJzLml0ZW1zKTsKICAgICAgICAgICAgICAgIF90aGlzNC5kZXNjcmlwdGlvbiA9IF90aGlzNC5mb3JtVmFsaWRhdGUuZGVzY3JpcHRpb247CiAgICAgICAgICAgICAgICBfdGhpczQuY29sdW1ucyA9IGluZm8uYXR0cnMuaGVhZGVyOwogICAgICAgICAgICAgICAgcmFkaW8gPSB7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiAn6YCJ5oupJywKICAgICAgICAgICAgICAgICAga2V5OiAnY2hvc2UnLAogICAgICAgICAgICAgICAgICB3aWR0aDogNjAsCiAgICAgICAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJywKICAgICAgICAgICAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCwgcGFyYW1zKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHVpZCA9IHBhcmFtcy5pbmRleDsKICAgICAgICAgICAgICAgICAgICB2YXIgZmxhZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczQuY3VycmVudGlkID09PSB1aWQpIHsKICAgICAgICAgICAgICAgICAgICAgIGZsYWcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICBmbGFnID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHZhciBzZWxmID0gX3RoaXM0OwogICAgICAgICAgICAgICAgICAgIHJldHVybiBoKCdkaXYnLCBbaCgnUmFkaW8nLCB7CiAgICAgICAgICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZmxhZwogICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICdvbi1jaGFuZ2UnOiBmdW5jdGlvbiBvbkNoYW5nZSgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmN1cnJlbnRpZCA9IHVpZDsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXR0cnMgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRycy5wdXNoKHBhcmFtcy5yb3cpOwogICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZm9ybVZhbGlkYXRlLmF0dHJzID0gYXR0cnM7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KV0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgdGhhdC5jb2x1bW5zLnVuc2hpZnQocmFkaW8pOwogICAgICAgICAgICAgICAgX3RoaXM0LnNwZWNzRGF0YSA9IGluZm8uYXR0cnMudmFsdWU7CiAgICAgICAgICAgICAgICBkZWZhdWx0QXR0cnMgPSBbXTsKICAgICAgICAgICAgICAgIGluZm8uYXR0cnMudmFsdWUuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ub3B0KSB7CiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdEF0dHJzLnB1c2goaXRlbSk7CiAgICAgICAgICAgICAgICAgICAgdGhhdC4kc2V0KHRoYXQsICdjdXJyZW50aWQnLCBpbmRleCk7CiAgICAgICAgICAgICAgICAgICAgdGhhdC4kc2V0KHRoYXQuZm9ybVZhbGlkYXRlLCAnYXR0cnMnLCBkZWZhdWx0QXR0cnMpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF90aGlzNC5zcGluU2hvdyA9IGZhbHNlOwogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgIH0pKTsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNC5zcGluU2hvdyA9IGZhbHNlOwogICAgICAgIF90aGlzNC4kTWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5LiL5LiA5q2lCiAgICBuZXh0OiBmdW5jdGlvbiBuZXh0KG5hbWUpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CiAgICAgIGlmICh0aGlzLmN1cnJlbnQgPT09IDMpIHsKICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5kZXNjcmlwdGlvbiA9IHRoaXMuZGVzY3JpcHRpb247CiAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUucnVsZSA9IHRoaXMucnVsZTsKICAgICAgICB0aGlzLiRyZWZzW25hbWVdLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAgIGlmIChfdGhpczUuY29weSA9PSAxKSBfdGhpczUuZm9ybVZhbGlkYXRlLmNvcHkgPSAxOwogICAgICAgICAgICBfdGhpczUuZm9ybVZhbGlkYXRlLmlkID0gX3RoaXM1LiRyb3V0ZS5wYXJhbXMuaWQgfHwgMDsKICAgICAgICAgICAgX3RoaXM1LnN1Ym1pdE9wZW4gPSB0cnVlOwogICAgICAgICAgICBiYXJnYWluQ3JlYXRBcGkoX3RoaXM1LmZvcm1WYWxpZGF0ZSkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKHJlcykgewogICAgICAgICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5zdWJtaXRPcGVuID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczUuJE1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczUuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBfdGhpczUuJHJvdXRlUHJvU3RyICsgJy9tYXJrZXRpbmcvc3RvcmVfYmFyZ2Fpbi9pbmRleCcKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICB9LCA1MDApOwogICAgICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDIpIHsKICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0oKSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgIF90aGlzNS5zdWJtaXRPcGVuID0gZmFsc2U7CiAgICAgICAgICAgICAgX3RoaXM1LiRNZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmN1cnJlbnQgPT09IDEpIHsKICAgICAgICB0aGlzLiRyZWZzW25hbWVdLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAgIGlmIChfdGhpczUuY3VycmVudGlkID09PSAnJykgewogICAgICAgICAgICAgIHJldHVybiBfdGhpczUuJE1lc3NhZ2UuZXJyb3IoJ+ivt+mAieaLqeWxnuaAp+inhOagvCcpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHZhciB2YWwgPSBfdGhpczUuc3BlY3NEYXRhW190aGlzNS5jdXJyZW50aWRdOwogICAgICAgICAgICAgIHZhciBmb3JtVmFsaWRhdGUgPSBfdGhpczUuZm9ybVZhbGlkYXRlLmF0dHJzWzBdOwogICAgICAgICAgICAgIGZvcm1WYWxpZGF0ZS5wcmljZSA9IHZhbC5wcmljZTsKICAgICAgICAgICAgICBmb3JtVmFsaWRhdGUubWluX3ByaWNlID0gdmFsLm1pbl9wcmljZTsKICAgICAgICAgICAgICBmb3JtVmFsaWRhdGUucXVvdGEgPSB2YWwucXVvdGE7CiAgICAgICAgICAgICAgaWYgKF90aGlzNS5mb3JtVmFsaWRhdGUuYXR0cnNbMF0ucXVvdGEgPD0gMCkgewogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS4kTWVzc2FnZS5lcnJvcign56CN5Lu36ZmQ6YeP5b+F6aG75aSn5LqOMCcpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpZiAoX3RoaXM1LmZvcm1WYWxpZGF0ZS5hdHRyc1swXS5xdW90YSA+IF90aGlzNS5mb3JtVmFsaWRhdGUuYXR0cnNbMF1bJ3N0b2NrJ10pIHsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczUuJE1lc3NhZ2UuZXJyb3IoJ+egjeS7t+mZkOmHj+S4jeiDvei2hei/h+inhOagvOW6k+WtmCcpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBfdGhpczUuY3VycmVudCArPSAxOwogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgX3RoaXM1LmZvcm1WYWxpZGF0ZS5kZXNjcmlwdGlvbiArPSAnICc7CiAgICAgICAgICAgIH0sIDApOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzNS4kTWVzc2FnZS53YXJuaW5nKCfor7flrozlloTmgqjnmoTkv6Hmga8nKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAodGhpcy5mb3JtVmFsaWRhdGUuaW1hZ2UpIHsKICAgICAgICAgIHRoaXMuY3VycmVudCArPSAxOwogICAgICAgICAgaWYgKHRoaXMuY3VycmVudCA9PSAzKSB7CiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICBfdGhpczUuZm9ybVZhbGlkYXRlLnJ1bGUgKz0gJyAnOwogICAgICAgICAgICB9LCAwKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kTWVzc2FnZS53YXJuaW5nKCfor7fpgInmi6nllYblk4EnKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvLyDkuIrkuIDmraUKICAgIHN0ZXA6IGZ1bmN0aW9uIHN0ZXAoKSB7CiAgICAgIHRoaXMuY3VycmVudC0tOwogICAgfSwKICAgIC8vIOWGheWuuQogICAgZ2V0Q29udGVudDogZnVuY3Rpb24gZ2V0Q29udGVudCh2YWwpIHsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuZGVzY3JpcHRpb24gPSB2YWw7CiAgICB9LAogICAgLy8g6KeE5YiZCiAgICBnZXRSb2xlOiBmdW5jdGlvbiBnZXRSb2xlKHZhbCkgewogICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5ydWxlID0gdmFsOwogICAgfSwKICAgIC8vIOeCueWHu+WVhuWTgeWbvgogICAgbW9kYWxQaWNUYXA6IGZ1bmN0aW9uIG1vZGFsUGljVGFwKHRpdCwgcGljVGl0LCBpbmRleCkgewogICAgICB0aGlzLm1vZGFsUGljID0gdHJ1ZTsKICAgICAgdGhpcy5pc0Nob2ljZSA9IHRpdCA9PT0gJ2RhbicgPyAn5Y2V6YCJJyA6ICflpJrpgIknOwogICAgICB0aGlzLnBpY1RpdCA9IHBpY1RpdDsKICAgICAgdGhpcy50YWJsZUluZGV4ID0gaW5kZXg7CiAgICB9LAogICAgLy8g6I635Y+W5Y2V5byg5Zu+54mH5L+h5oGvCiAgICBnZXRQaWM6IGZ1bmN0aW9uIGdldFBpYyhwYykgewogICAgICBzd2l0Y2ggKHRoaXMucGljVGl0KSB7CiAgICAgICAgY2FzZSAnZGFuRnJvbSc6CiAgICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5pbWFnZSA9IHBjLmF0dF9kaXI7CiAgICAgICAgICBicmVhazsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgdGhpcy5zcGVjc0RhdGFbdGhpcy50YWJsZUluZGV4XS5waWMgPSBwYy5hdHRfZGlyOwogICAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuYXR0cnNbMF0ucGljID0gcGMuYXR0X2RpcjsKICAgICAgfQogICAgICB0aGlzLm1vZGFsUGljID0gZmFsc2U7CiAgICB9LAogICAgLy8g6I635Y+W5aSa5byg5Zu+5L+h5oGvCiAgICBnZXRQaWNEOiBmdW5jdGlvbiBnZXRQaWNEKHBjKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwogICAgICB0aGlzLmltYWdlcyA9IHBjOwogICAgICB0aGlzLmltYWdlcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBfdGhpczYuZm9ybVZhbGlkYXRlLmltYWdlcy5wdXNoKGl0ZW0uYXR0X2Rpcik7CiAgICAgICAgX3RoaXM2LmZvcm1WYWxpZGF0ZS5pbWFnZXMgPSBfdGhpczYuZm9ybVZhbGlkYXRlLmltYWdlcy5zcGxpY2UoMCwgMTApOwogICAgICB9KTsKICAgICAgdGhpcy5tb2RhbFBpYyA9IGZhbHNlOwogICAgfSwKICAgIGhhbmRsZVJlbW92ZTogZnVuY3Rpb24gaGFuZGxlUmVtb3ZlKGkpIHsKICAgICAgdGhpcy5pbWFnZXMuc3BsaWNlKGksIDEpOwogICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5pbWFnZXMuc3BsaWNlKGksIDEpOwogICAgfSwKICAgIC8vIOmAieaLqeWVhuWTgQogICAgY2hhbmdlR29vZHM6IGZ1bmN0aW9uIGNoYW5nZUdvb2RzKCkgewogICAgICB0aGlzLm1vZGFscyA9IHRydWU7CiAgICAgIHRoaXMuJHJlZnMuZ29vZHNsaXN0LmZvcm1WYWxpZGF0ZS5pc19wcmVzYWxlID0gMDsKICAgICAgdGhpcy4kcmVmcy5nb29kc2xpc3QuZm9ybVZhbGlkYXRlLmlzX3ZpcnR1YWwgPSAwOwogICAgICB0aGlzLiRyZWZzLmdvb2RzbGlzdC5nZXRMaXN0KCk7CiAgICAgIHRoaXMuJHJlZnMuZ29vZHNsaXN0Lmdvb2RzQ2F0ZWdvcnkoKTsKICAgIH0sCiAgICAvLyDooajljZXpqozor4EKICAgIHZhbGlkYXRlOiBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wLCBzdGF0dXMsIGVycm9yKSB7CiAgICAgIGlmIChzdGF0dXMgPT09IGZhbHNlKSB7CiAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcihlcnJvcik7CiAgICAgIH0KICAgIH0sCiAgICAvLyDmt7vliqDoh6rlrprkuYnlvLnnqpcKICAgIGFkZEN1c3RvbURpYWxvZzogZnVuY3Rpb24gYWRkQ3VzdG9tRGlhbG9nKGVkaXRvcklkKSB7CiAgICAgIHdpbmRvdy5VRS5yZWdpc3RlclVJKCd0ZXN0LWRpYWxvZycsIGZ1bmN0aW9uIChlZGl0b3IsIHVpTmFtZSkgewogICAgICAgIC8vIOWIm+W7uiBkaWFsb2cKICAgICAgICB2YXIgZGlhbG9nID0gbmV3IHdpbmRvdy5VRS51aS5EaWFsb2coewogICAgICAgICAgLy8g5oyH5a6a5by55Ye65bGC5Lit6aG16Z2i55qE6Lev5b6E77yM6L+Z6YeM5Y+q6IO95pSv5oyB6aG16Z2i77yM6Lev5b6E5Y+C6ICD5bi46KeB6Zeu6aKYIDIKICAgICAgICAgIGlmcmFtZVVybDogdGhpcy4kcm91dGVQcm9TdHIgKyAnL3dpZGdldC5pbWFnZXMvaW5kZXguaHRtbD9mb2RkZXI9ZGlhbG9nJywKICAgICAgICAgIC8vIOmcgOimgeaMh+WumuW9k+WJjeeahOe8lui+keWZqOWunuS+iwogICAgICAgICAgZWRpdG9yOiBlZGl0b3IsCiAgICAgICAgICAvLyDmjIflrpogZGlhbG9nIOeahOWQjeWtlwogICAgICAgICAgbmFtZTogdWlOYW1lLAogICAgICAgICAgLy8gZGlhbG9nIOeahOagh+mimAogICAgICAgICAgdGl0bGU6ICfkuIrkvKDlm77niYcnLAogICAgICAgICAgLy8g5oyH5a6aIGRpYWxvZyDnmoTlpJblm7TmoLflvI8KICAgICAgICAgIGNzc1J1bGVzOiAnd2lkdGg6OTYwcHg7aGVpZ2h0OjU1MHB4O3BhZGRpbmc6MjBweDsnCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5kaWFsb2cgPSBkaWFsb2c7CiAgICAgICAgdmFyIGJ0biA9IG5ldyB3aW5kb3cuVUUudWkuQnV0dG9uKHsKICAgICAgICAgIG5hbWU6ICdkaWFsb2ctYnV0dG9uJywKICAgICAgICAgIHRpdGxlOiAn5LiK5Lyg5Zu+54mHJywKICAgICAgICAgIGNzc1J1bGVzOiAiYmFja2dyb3VuZC1pbWFnZTogdXJsKC4uLy4uLy4uL2Fzc2V0cy9pbWFnZXMvaWNvbnMucG5nKTtiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNzI2cHggLTc3cHg7IiwKICAgICAgICAgIG9uY2xpY2s6IGZ1bmN0aW9uIG9uY2xpY2soKSB7CiAgICAgICAgICAgIC8vIOa4suafk2RpYWxvZwogICAgICAgICAgICBkaWFsb2cucmVuZGVyKCk7CiAgICAgICAgICAgIGRpYWxvZy5vcGVuKCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIGJ0bjsKICAgICAgfSwgMzcpOwogICAgfQogIH0KfTs="},{"version":3,"names":["mapState","goodsList","uploadPictures","bargainInfoApi","bargainCreatApi","productAttrsApi","productGetTemplateApi","freightTemplate","WangEditor","name","components","data","submitOpen","spinShow","myConfig","autoHeightEnabled","initialFrameHeight","initialFrameWidth","UEDITOR_HOME_URL","serverUrl","isChoice","current","modalPic","grid","xl","lg","md","sm","xs","grid2","gridPic","gridBtn","modals","modal_loading","images","templateList","columns","specsData","formValidate","_defineProperty","info","title","store_name","image","unit_name","price","min_price","bargain_max_price","bargain_min_price","cost","bargain_num","people_num","stock","sales","sort","num","give_integral","postage","is_postage","is_hot","status","section_time","description","rule","id","product_id","temp_id","attrs","items","logistics","freight","ruleValidate","required","message","trigger","type","min","currentid","picTit","tableIndex","copy","computed","_objectSpread","labelWidth","isMobile","undefined","labelPosition","mounted","$route","params","getInfo","productGetTemplate","methods","getEditorContent","getEditorContent2","$refs","template","isTemplate","productAttrs","row","_this","that","then","res","radio","key","width","align","render","h","uid","index","flag","self","props","value","on","onChange","push","header","unshift","inputChange","catch","$Message","error","msg","$index","forEach","item","minWidth","precision","quota","e","length","v","splice","_this2","getProductId","_this3","setTimeout","_this3$formValidate","slider_image","store_info","custom_form","virtual_type","cancel","handleDragStart","dragging","handleDragEnd","handleDragOver","dataTransfer","dropEffect","handleDragEnter","effectAllowed","newItems","_toConsumableArray","src","indexOf","dst","apply","concat","onchangeTime","_this4","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","defaultAttrs","wrap","_callee$","_context","prev","next","$set","opt","stop","_x","arguments","_this5","validate","valid","_ref2","_callee2","_callee2$","_context2","success","$router","path","$routeProStr","_x2","val","warning","step","getContent","getRole","modalPicTap","tit","getPic","pc","att_dir","pic","getPicD","_this6","map","handleRemove","i","changeGoods","goodslist","is_presale","is_virtual","getList","goodsCategory","prop","addCustomDialog","editorId","window","UE","registerUI","editor","uiName","dialog","ui","Dialog","iframeUrl","cssRules","btn","Button","onclick","open"],"sources":["src/pages/marketing/storeBargain/create.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"i-layout-page-header header-title\">\n      <div class=\"fl_header\">\n        <router-link :to=\"{ path: $routeProStr + '/marketing/store_bargain/index' }\"\n          ><Button icon=\"ios-arrow-back\" size=\"small\" type=\"text\"></Button></router-link\n        >\n        <Divider type=\"vertical\" />\n        <span\n          class=\"ivu-page-header-title mr20\"\n          style=\"padding: 0\"\n          v-text=\"$route.params.id !== '0' ? '' : ''\"\n        ></span>\n      </div>\n    </div>\n    <Card :bordered=\"false\" dis-hover class=\"ivu-mt\">\n      <Row type=\"flex\" class=\"mt30 acea-row row-middle row-center\">\n        <Col span=\"20\">\n          <Steps :current=\"current\">\n            <Step title=\"\"></Step>\n            <Step title=\"\"></Step>\n            <Step title=\"\"></Step>\n            <Step title=\"\"></Step>\n          </Steps>\n        </Col>\n        <Col span=\"23\">\n          <Form\n            class=\"form mt30\"\n            ref=\"formValidate\"\n            :rules=\"ruleValidate\"\n            :model=\"formValidate\"\n            @on-validate=\"validate\"\n            :label-width=\"labelWidth\"\n            :label-position=\"labelPosition\"\n            @submit.native.prevent\n          >\n            <FormItem label=\"\" prop=\"image_input\" v-show=\"current === 0\">\n              <div class=\"picBox\" @click=\"changeGoods\">\n                <div class=\"pictrue\" v-if=\"formValidate.image\">\n                  <img v-lazy=\"formValidate.image\" />\n                </div>\n                <div class=\"upLoad acea-row row-center-wrapper\" v-else>\n                  <Icon type=\"ios-camera-outline\" size=\"26\" class=\"iconfonts\" />\n                </div>\n              </div>\n            </FormItem>\n            <Row v-show=\"current === 1\" type=\"flex\">\n              <Col span=\"24\">\n                <FormItem label=\"\" prop=\"image\">\n                  <div class=\"picBox\" @click=\"modalPicTap('dan', 'danFrom')\">\n                    <div class=\"pictrue\" v-if=\"formValidate.image\">\n                      <img v-lazy=\"formValidate.image\" />\n                    </div>\n                    <div class=\"upLoad acea-row row-center-wrapper\" v-else>\n                      <Icon type=\"ios-camera-outline\" size=\"26\" class=\"iconfonts\" />\n                    </div>\n                  </div>\n                </FormItem>\n              </Col>\n              <Col span=\"24\">\n                <FormItem label=\"\" prop=\"images\">\n                  <div class=\"acea-row\">\n                    <div\n                      class=\"pictrue\"\n                      v-for=\"(item, index) in formValidate.images\"\n                      :key=\"index\"\n                      draggable=\"true\"\n                      @dragstart=\"handleDragStart($event, item)\"\n                      @dragover.prevent=\"handleDragOver($event, item)\"\n                      @dragenter=\"handleDragEnter($event, item)\"\n                      @dragend=\"handleDragEnd($event, item)\"\n                    >\n                      <img v-lazy=\"item\" />\n                      <Button\n                        shape=\"circle\"\n                        icon=\"md-close\"\n                        @click.native=\"handleRemove(index)\"\n                        class=\"btndel\"\n                      ></Button>\n                    </div>\n                    <div\n                      v-if=\"formValidate.images.length < 10\"\n                      class=\"upLoad acea-row row-center-wrapper\"\n                      @click=\"modalPicTap('duo')\"\n                    >\n                      <Icon type=\"ios-camera-outline\" size=\"26\" class=\"iconfonts\" />\n                    </div>\n                  </div>\n                </FormItem>\n              </Col>\n              <Col span=\"24\">\n                <Col v-bind=\"grid\">\n                  <FormItem label=\"\" prop=\"title\" label-for=\"title\">\n                    <Input placeholder=\"\" element-id=\"title\" v-model=\"formValidate.title\" />\n                  </FormItem>\n                </Col>\n              </Col>\n              <Col span=\"24\">\n                <Col v-bind=\"grid\">\n                  <FormItem label=\"\" prop=\"info\" label-for=\"info\">\n                    <Input\n                      placeholder=\"\"\n                      type=\"textarea\"\n                      :rows=\"4\"\n                      element-id=\"info\"\n                      v-model=\"formValidate.info\"\n                    />\n                  </FormItem>\n                </Col>\n              </Col>\n              <Col span=\"24\">\n                <FormItem label=\"\" prop=\"section_time\">\n                  <div class=\"acea-row row-middle\">\n                    <DatePicker\n                      :editable=\"false\"\n                      type=\"datetimerange\"\n                      format=\"yyyy-MM-dd HH:mm\"\n                      placeholder=\"\"\n                      @on-change=\"onchangeTime\"\n                      class=\"perW30\"\n                      :value=\"formValidate.section_time\"\n                      v-model=\"formValidate.section_time\"\n                    ></DatePicker>\n                    <div class=\"ml10 grey\"></div>\n                  </div>\n                </FormItem>\n              </Col>\n              <Col span=\"24\" v-if=\"formValidate.virtual_type == 0\">\n                <FormItem label=\"\" prop=\"logistics\">\n                  <CheckboxGroup v-model=\"formValidate.logistics\" @on-change=\"logisticsBtn\">\n                    <Checkbox label=\"1\"></Checkbox>\n                    <Checkbox label=\"2\"></Checkbox>\n                  </CheckboxGroup>\n                </FormItem>\n              </Col>\n              <Col span=\"24\" v-if=\"formValidate.virtual_type == 0\">\n                <FormItem label=\"\" :prop=\"formValidate.freight != 1 ? 'freight' : ''\">\n                  <RadioGroup v-model=\"formValidate.freight\">\n                    <Radio :label=\"2\"></Radio>\n                    <Radio :label=\"3\"></Radio>\n                  </RadioGroup>\n                </FormItem>\n              </Col>\n              <Col\n                span=\"24\"\n                v-if=\"formValidate.freight != 3 && formValidate.freight != 1 && formValidate.virtual_type == 0\"\n              >\n                <FormItem label=\"\">\n                  <div class=\"acea-row\">\n                    <InputNumber\n                      min=\"0.01\"\n                      max=\"10000\"\n                      v-model=\"formValidate.postage\"\n                      placeholder=\"\"\n                      class=\"perW20 maxW\"\n                    />\n                  </div>\n                </FormItem>\n              </Col>\n              <Col span=\"24\" v-if=\"formValidate.freight == 3 && formValidate.virtual_type == 0\">\n                <FormItem label=\"\" prop=\"temp_id\">\n                  <div class=\"acea-row\">\n                    <Select v-model=\"formValidate.temp_id\" clearable placeholder=\"\" class=\"perW20 maxW\">\n                      <Option v-for=\"(item, index) in templateList\" :value=\"item.id\" :key=\"index\">{{\n                        item.name\n                      }}</Option>\n                    </Select>\n                    <span class=\"addfont\" @click=\"freight\"></span>\n                  </div>\n                </FormItem>\n              </Col>\n              <Col span=\"24\">\n                <FormItem label=\"\" prop=\"people_num\" label-for=\"people_num\">\n                  <div class=\"acea-row row-middle\">\n                    <InputNumber\n                      placeholder=\"\"\n                      element-id=\"people_num\"\n                      :min=\"2\"\n                      :max=\"10000\"\n                      :precision=\"0\"\n                      v-model=\"formValidate.people_num\"\n                      class=\"perW20\"\n                    />\n                    <div class=\"ml10 grey\"></div>\n                  </div>\n                </FormItem>\n              </Col>\n              <Col span=\"24\">\n                <FormItem label=\"\" prop=\"bargain_num\" label-for=\"bargain_num\">\n                  <div class=\"acea-row row-middle\">\n                    <InputNumber\n                      placeholder=\"\"\n                      element-id=\"bargain_num\"\n                      :min=\"1\"\n                      :max=\"10000\"\n                      :precision=\"0\"\n                      v-model=\"formValidate.bargain_num\"\n                      class=\"perW20\"\n                    />\n                    <div class=\"ml10 grey\">\n                      1A\n                    </div>\n                  </div>\n                </FormItem>\n              </Col>\n              <Col span=\"24\">\n                <FormItem label=\"\" prop=\"num\">\n                  <div class=\"acea-row row-middle\">\n                    <InputNumber\n                      placeholder=\"\"\n                      :min=\"1\"\n                      :max=\"10000\"\n                      :precision=\"0\"\n                      v-model=\"formValidate.num\"\n                      class=\"perW20\"\n                    />\n                    <div class=\"ml10 grey\"></div>\n                  </div>\n                </FormItem>\n              </Col>\n              <Col span=\"24\">\n                <FormItem label=\"\" prop=\"unit_name\" label-for=\"unit_name\">\n                  <Input\n                    placeholder=\"\"\n                    element-id=\"unit_name\"\n                    v-model=\"formValidate.unit_name\"\n                    class=\"perW20\"\n                  />\n                </FormItem>\n              </Col>\n              <Col span=\"24\">\n                <FormItem label=\"\">\n                  <InputNumber\n                    placeholder=\"\"\n                    element-id=\"sort\"\n                    :min=\"0\"\n                    :max=\"10000\"\n                    :precision=\"0\"\n                    v-model=\"formValidate.sort\"\n                    class=\"perW10\"\n                  />\n                </FormItem>\n              </Col>\n              <Col span=\"24\">\n                <FormItem label=\"\" props=\"status\" label-for=\"status\">\n                  <RadioGroup element-id=\"status\" v-model=\"formValidate.status\">\n                    <Radio :label=\"1\" class=\"radio\"></Radio>\n                    <Radio :label=\"0\"></Radio>\n                  </RadioGroup>\n                </FormItem>\n              </Col>\n              <Col span=\"24\">\n                <FormItem label=\"\">\n                  <Table :data=\"specsData\" :columns=\"columns\" border>\n                    <template slot-scope=\"{ row, index }\" slot=\"pic\">\n                      <div\n                        class=\"acea-row row-middle row-center-wrapper\"\n                        @click=\"modalPicTap('dan', 'danTable', index)\"\n                      >\n                        <div class=\"pictrue pictrueTab\" v-if=\"specsData[index].pic\">\n                          <img v-lazy=\"specsData[index].pic\" />\n                        </div>\n                        <div class=\"upLoad pictrueTab acea-row row-center-wrapper\" v-else>\n                          <Icon type=\"ios-camera-outline\" size=\"21\" class=\"iconfonts\" />\n                        </div>\n                      </div>\n                    </template>\n                    <template slot-scope=\"{ row, index }\" slot=\"price\">\n                      <InputNumber\n                        v-model=\"specsData[index].price\"\n                        :min=\"0\"\n                        :precision=\"2\"\n                        class=\"priceBox\"\n                        :active-change=\"false\"\n                      ></InputNumber>\n                    </template>\n                    <template slot-scope=\"{ row, index }\" slot=\"min_price\">\n                      <InputNumber\n                        v-model=\"specsData[index].min_price\"\n                        :min=\"0\"\n                        :precision=\"2\"\n                        class=\"priceBox\"\n                        :active-change=\"false\"\n                      ></InputNumber>\n                    </template>\n                    <template slot-scope=\"{ row, index }\" slot=\"quota\">\n                      <InputNumber\n                        v-model=\"specsData[index].quota\"\n                        :min=\"1\"\n                        active-change\n                        class=\"priceBox\"\n                      ></InputNumber>\n                    </template>\n                  </Table>\n                </FormItem>\n              </Col>\n            </Row>\n            <div v-if=\"current === 2\">\n              <FormItem label=\"\">\n                <WangEditor\n                  style=\"width: 90%\"\n                  :content=\"formValidate.description\"\n                  @editorContent=\"getEditorContent\"\n                ></WangEditor>\n              </FormItem>\n            </div>\n            <div v-if=\"current === 3\">\n              <FormItem label=\"\">\n                <WangEditor\n                  style=\"width: 90%\"\n                  :content=\"formValidate.rule\"\n                  @editorContent=\"getEditorContent2\"\n                ></WangEditor>\n              </FormItem>\n            </div>\n            <FormItem>\n              <Button\n                class=\"submission mr15\"\n                @click=\"step\"\n                v-show=\"current !== 0\"\n                :disabled=\"$route.params.id && $route.params.id !== '0' && current === 1\"\n                ></Button\n              >\n              <Button\n                type=\"primary\"\n                :disabled=\"submitOpen && current === 3\"\n                class=\"submission\"\n                @click=\"next('formValidate')\"\n                v-text=\"current === 3 ? '' : ''\"\n              ></Button>\n            </FormItem>\n            <Spin size=\"large\" fix v-if=\"spinShow\"></Spin>\n          </Form>\n        </Col>\n      </Row>\n    </Card>\n    <!-- -->\n    <Modal\n      v-model=\"modals\"\n      title=\"\"\n      footerHide\n      class=\"paymentFooter\"\n      scrollable\n      width=\"900\"\n      @on-cancel=\"cancel\"\n    >\n      <goods-list ref=\"goodslist\" @getProductId=\"getProductId\"></goods-list>\n    </Modal>\n\n    <!-- -->\n    <Modal\n      v-model=\"modalPic\"\n      width=\"950px\"\n      scrollable\n      footer-hide\n      closable\n      title=\"\"\n      :mask-closable=\"false\"\n      :z-index=\"888\"\n    >\n      <uploadPictures\n        :isChoice=\"isChoice\"\n        @getPic=\"getPic\"\n        @getPicD=\"getPicD\"\n        :gridBtn=\"gridBtn\"\n        :gridPic=\"gridPic\"\n        v-if=\"modalPic\"\n      ></uploadPictures>\n    </Modal>\n    <!-- -->\n    <freight-template ref=\"template\" @addSuccess=\"productGetTemplate\"></freight-template>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport goodsList from '@/components/goodsList/index';\nimport uploadPictures from '@/components/uploadPictures';\nimport { bargainInfoApi, bargainCreatApi, productAttrsApi } from '@/api/marketing';\nimport { productGetTemplateApi } from '@/api/product';\nimport freightTemplate from '@/components/freightTemplate/index';\nimport WangEditor from '@/components/wangEditor/index.vue';\n\nexport default {\n  name: 'storeBargainCreate',\n  components: {\n    goodsList,\n    uploadPictures,\n    freightTemplate,\n    WangEditor,\n  },\n  data() {\n    return {\n      submitOpen: false,\n      spinShow: false,\n      myConfig: {\n        autoHeightEnabled: false, // \n        initialFrameHeight: 500, // \n        initialFrameWidth: '100%', // \n        UEDITOR_HOME_URL: '/UEditor/',\n        serverUrl: '',\n      },\n      isChoice: '',\n      current: 0,\n      modalPic: false,\n      grid: {\n        xl: 12,\n        lg: 20,\n        md: 24,\n        sm: 24,\n        xs: 24,\n      },\n      grid2: {\n        xl: 8,\n        lg: 8,\n        md: 12,\n        sm: 24,\n        xs: 24,\n      },\n      gridPic: {\n        xl: 6,\n        lg: 8,\n        md: 12,\n        sm: 12,\n        xs: 12,\n      },\n      gridBtn: {\n        xl: 4,\n        lg: 8,\n        md: 8,\n        sm: 8,\n        xs: 8,\n      },\n      modals: false,\n      modal_loading: false,\n      images: [],\n      templateList: [],\n      columns: [],\n      specsData: [],\n      formValidate: {\n        images: [],\n        info: '',\n        title: '',\n        store_name: '',\n        image: '',\n        unit_name: '',\n        price: 0,\n        min_price: 0,\n        bargain_max_price: 10,\n        bargain_min_price: 0.01,\n        cost: 0,\n        bargain_num: 1,\n        people_num: 2,\n        stock: 1,\n        sales: 0,\n        sort: 0,\n        num: 1,\n        give_integral: 0,\n        postage: 0,\n        is_postage: 0,\n        is_hot: 0,\n        status: 0,\n        section_time: [],\n        description: '',\n        rule: '',\n        id: 0,\n        product_id: 0,\n        temp_id: '',\n        attrs: [],\n        items: [],\n        logistics: ['1'], //\n        freight: 2, //\n        postage: 1, //\n      },\n      description: '',\n      rule: '',\n      ruleValidate: {\n        image: [{ required: true, message: '', trigger: 'change' }],\n        images: [\n          {\n            required: true,\n            type: 'array',\n            message: '',\n            trigger: 'change',\n          },\n          {\n            type: 'array',\n            min: 1,\n            message: 'Choose two hobbies at best',\n            trigger: 'change',\n          },\n        ],\n        title: [{ required: true, message: '', trigger: 'blur' }],\n        info: [{ required: true, message: '', trigger: 'blur' }],\n        store_name: [{ required: true, message: '', trigger: 'blur' }],\n        section_time: [\n          {\n            required: true,\n            type: 'array',\n            message: '',\n            trigger: 'change',\n          },\n        ],\n        unit_name: [{ required: true, message: '', trigger: 'blur' }],\n        price: [\n          {\n            required: true,\n            type: 'number',\n            message: '',\n            trigger: 'blur',\n          },\n        ],\n        min_price: [\n          {\n            required: true,\n            type: 'number',\n            message: '',\n            trigger: 'blur',\n          },\n        ],\n        // bargain_max_price: [\n        //     { required: true, type: 'number', message: '', trigger: 'blur' }\n        // ],\n        // bargain_min_price: [\n        //     { required: true, type: 'number', message: '', trigger: 'blur' }\n        // ],\n        cost: [\n          {\n            required: true,\n            type: 'number',\n            message: '',\n            trigger: 'blur',\n          },\n        ],\n        bargain_num: [\n          {\n            required: true,\n            type: 'number',\n            message: '',\n            trigger: 'blur',\n          },\n        ],\n        people_num: [\n          {\n            required: true,\n            type: 'number',\n            message: '',\n            trigger: 'blur',\n          },\n        ],\n        stock: [\n          {\n            required: true,\n            type: 'number',\n            message: '',\n            trigger: 'blur',\n          },\n        ],\n        num: [\n          {\n            required: true,\n            type: 'number',\n            message: '',\n            trigger: 'blur',\n          },\n        ],\n        temp_id: [\n          {\n            required: true,\n            message: '',\n            trigger: 'change',\n            type: 'number',\n          },\n        ],\n      },\n      currentid: '',\n      picTit: '',\n      tableIndex: 0,\n      copy: 0,\n    };\n  },\n  computed: {\n    ...mapState('media', ['isMobile']),\n    labelWidth() {\n      return this.isMobile ? undefined : 140;\n    },\n    labelPosition() {\n      return this.isMobile ? 'top' : 'right';\n    },\n  },\n  mounted() {\n    if (this.$route.params.id !== '0' && this.$route.params.id) {\n      this.copy = this.$route.params.copy;\n      this.current = 1;\n      this.getInfo();\n    }\n    this.productGetTemplate();\n  },\n  methods: {\n    // \n    getEditorContent(data) {\n      this.description = data;\n    },\n    // \n    getEditorContent2(data) {\n      this.rule = data;\n    },\n    // \n    freight() {\n      this.$refs.template.id = 0;\n      this.$refs.template.isTemplate = true;\n    },\n    // \n    productAttrs(row) {\n      let that = this;\n      productAttrsApi(row.id, 2)\n        .then((res) => {\n          let data = res.data.info;\n          let radio = {\n            title: '',\n            key: 'chose',\n            width: 60,\n            align: 'center',\n            render: (h, params) => {\n              let uid = params.index;\n              let flag = false;\n              if (this.currentid === uid) {\n                flag = true;\n              } else {\n                flag = false;\n              }\n              let self = this;\n              return h('div', [\n                h('Radio', {\n                  props: {\n                    value: flag,\n                  },\n                  on: {\n                    'on-change': () => {\n                      self.currentid = uid;\n                      let attrs = [];\n                      attrs.push(params.row);\n                      self.formValidate.attrs = attrs;\n                    },\n                  },\n                }),\n              ]);\n            },\n          };\n          that.columns = data.header;\n          that.columns.unshift(radio);\n          that.specsData = data.attrs;\n          that.inputChange(data);\n          that.formValidate.items = data.items;\n        })\n        .catch((res) => {\n          that.$Message.error(res.msg);\n        });\n    },\n    inputChange(data) {\n      let that = this;\n      let $index = [];\n      data.header.forEach(function (item, index) {\n        if (item.type === 1) {\n          $index.push({ index: index, key: item.key, title: item.title });\n        }\n      });\n      $index.forEach(function (item, index) {\n        let title = item.title;\n        let key = item.key;\n        let row = {\n          title: title,\n          key: key,\n          align: 'center',\n          minWidth: 100,\n          render: (h, params) => {\n            return h('div', [\n              h('InputNumber', {\n                props: {\n                  min: 1,\n                  precision: 0,\n                  value: params.row.quota,\n                },\n                on: {\n                  'on-change': (e) => {\n                    params.row.quota = e;\n                    that.specsData[params.index] = params.row;\n                    if (!!that.formValidate.attrs && that.formValidate.attrs.length) {\n                      that.formValidate.attrs.forEach((v, index) => {\n                        if (v.id === params.row.id) {\n                          that.formValidate.attrs.splice(index, 1, params.row);\n                        }\n                      });\n                    }\n                  },\n                },\n              }),\n            ]);\n          },\n        };\n        that.columns.splice(item.index, 1, row);\n      });\n    },\n    // \n    productGetTemplate() {\n      productGetTemplateApi().then((res) => {\n        this.templateList = res.data;\n      });\n    },\n    // id\n    getProductId(row) {\n      this.modal_loading = false;\n      this.modals = false;\n      setTimeout(() => {\n        this.formValidate = {\n          images: row.slider_image,\n          info: row.store_info,\n          title: row.store_name,\n          store_name: row.store_name,\n          image: row.image,\n          unit_name: row.unit_name,\n          price: 0, // \n          min_price: 0,\n          bargain_max_price: 10,\n          bargain_min_price: 0.01,\n          cost: row.cost,\n          bargain_num: 1,\n          people_num: 2,\n          stock: row.stock,\n          sales: row.sales,\n          sort: row.sort,\n          num: 1,\n          give_integral: row.give_integral,\n          postage: row.postage,\n          is_postage: row.is_postage,\n          is_hot: row.is_hot,\n          status: 0,\n          section_time: [],\n          description: row.description, // \n          rule: '',\n          id: 0,\n          product_id: row.id,\n          temp_id: row.temp_id,\n          logistics: row.temp_id, //\n          freight: row.freight, //\n          postage: row.postage, //\n          custom_form: row.custom_form, //\n          virtual_type: row.virtual_type, //\n        };\n        this.productAttrs(row);\n      }, 500);\n    },\n    cancel() {\n      this.modals = false;\n    },\n    // \n    handleDragStart(e, item) {\n      this.dragging = item;\n    },\n    handleDragEnd(e, item) {\n      this.dragging = null;\n    },\n    // divdragenter/dragover\n    handleDragOver(e) {\n      e.dataTransfer.dropEffect = 'move';\n    },\n    handleDragEnter(e, item) {\n      e.dataTransfer.effectAllowed = 'move';\n      if (item === this.dragging) {\n        return;\n      }\n      const newItems = [...this.formValidate.images];\n      const src = newItems.indexOf(this.dragging);\n      const dst = newItems.indexOf(item);\n      newItems.splice(dst, 0, ...newItems.splice(src, 1));\n      this.formValidate.images = newItems;\n    },\n    // \n    onchangeTime(e) {\n      this.formValidate.section_time = e;\n    },\n    // \n    getInfo() {\n      this.spinShow = true;\n      bargainInfoApi(this.$route.params.id)\n        .then(async (res) => {\n          let that = this;\n          let info = res.data.info;\n          this.formValidate = info;\n          this.formValidate.rule = info.rule === null ? '' : info.rule;\n          this.$set(this.formValidate, 'items', info.attrs.items);\n          this.description = this.formValidate.description;\n\n          this.columns = info.attrs.header;\n          let radio = {\n            title: '',\n            key: 'chose',\n            width: 60,\n            align: 'center',\n            render: (h, params) => {\n              let uid = params.index;\n              let flag = false;\n              if (this.currentid === uid) {\n                flag = true;\n              } else {\n                flag = false;\n              }\n              let self = this;\n              return h('div', [\n                h('Radio', {\n                  props: {\n                    value: flag,\n                  },\n                  on: {\n                    'on-change': () => {\n                      self.currentid = uid;\n                      let attrs = [];\n                      attrs.push(params.row);\n                      self.formValidate.attrs = attrs;\n                    },\n                  },\n                }),\n              ]);\n            },\n          };\n          that.columns.unshift(radio);\n          this.specsData = info.attrs.value;\n          let defaultAttrs = [];\n          info.attrs.value.forEach(function (item, index) {\n            if (item.opt) {\n              defaultAttrs.push(item);\n              that.$set(that, 'currentid', index);\n              that.$set(that.formValidate, 'attrs', defaultAttrs);\n            }\n          });\n          this.spinShow = false;\n        })\n        .catch((res) => {\n          this.spinShow = false;\n          this.$Message.error(res.msg);\n        });\n    },\n    // \n    next(name) {\n      if (this.current === 3) {\n        this.formValidate.description = this.description;\n        this.formValidate.rule = this.rule;\n        this.$refs[name].validate((valid) => {\n          if (valid) {\n            if (this.copy == 1) this.formValidate.copy = 1;\n            this.formValidate.id = this.$route.params.id || 0;\n            this.submitOpen = true;\n            bargainCreatApi(this.formValidate)\n              .then(async (res) => {\n                this.submitOpen = false;\n                this.$Message.success(res.msg);\n                setTimeout(() => {\n                  this.$router.push({\n                    path: this.$routeProStr + '/marketing/store_bargain/index',\n                  });\n                }, 500);\n              })\n              .catch((res) => {\n                this.submitOpen = false;\n                this.$Message.error(res.msg);\n              });\n          } else {\n            return false;\n          }\n        });\n      } else if (this.current === 1) {\n        this.$refs[name].validate((valid) => {\n          if (valid) {\n            if (this.currentid === '') {\n              return this.$Message.error('');\n            } else {\n              let val = this.specsData[this.currentid];\n              let formValidate = this.formValidate.attrs[0];\n              formValidate.price = val.price;\n              formValidate.min_price = val.min_price;\n              formValidate.quota = val.quota;\n              if (this.formValidate.attrs[0].quota <= 0) {\n                return this.$Message.error('0');\n              }\n              if (this.formValidate.attrs[0].quota > this.formValidate.attrs[0]['stock']) {\n                return this.$Message.error('');\n              }\n            }\n            this.current += 1;\n            setTimeout((e) => {\n              this.formValidate.description += ' ';\n            }, 0);\n          } else {\n            return this.$Message.warning('');\n          }\n        });\n      } else {\n        if (this.formValidate.image) {\n          this.current += 1;\n          if (this.current == 3) {\n            setTimeout((e) => {\n              this.formValidate.rule += ' ';\n            }, 0);\n          }\n        } else {\n          this.$Message.warning('');\n        }\n      }\n    },\n    // \n    step() {\n      this.current--;\n    },\n    // \n    getContent(val) {\n      this.formValidate.description = val;\n    },\n    // \n    getRole(val) {\n      this.formValidate.rule = val;\n    },\n    // \n    modalPicTap(tit, picTit, index) {\n      this.modalPic = true;\n      this.isChoice = tit === 'dan' ? '' : '';\n      this.picTit = picTit;\n      this.tableIndex = index;\n    },\n    // \n    getPic(pc) {\n      switch (this.picTit) {\n        case 'danFrom':\n          this.formValidate.image = pc.att_dir;\n          break;\n        default:\n          this.specsData[this.tableIndex].pic = pc.att_dir;\n          this.formValidate.attrs[0].pic = pc.att_dir;\n      }\n      this.modalPic = false;\n    },\n    // \n    getPicD(pc) {\n      this.images = pc;\n      this.images.map((item) => {\n        this.formValidate.images.push(item.att_dir);\n        this.formValidate.images = this.formValidate.images.splice(0, 10);\n      });\n      this.modalPic = false;\n    },\n    handleRemove(i) {\n      this.images.splice(i, 1);\n      this.formValidate.images.splice(i, 1);\n    },\n    // \n    changeGoods() {\n      this.modals = true;\n      this.$refs.goodslist.formValidate.is_presale = 0;\n      this.$refs.goodslist.formValidate.is_virtual = 0;\n      this.$refs.goodslist.getList();\n      this.$refs.goodslist.goodsCategory();\n    },\n    // \n    validate(prop, status, error) {\n      if (status === false) {\n        this.$Message.error(error);\n      }\n    },\n    // \n    addCustomDialog(editorId) {\n      window.UE.registerUI(\n        'test-dialog',\n        function (editor, uiName) {\n          //  dialog\n          let dialog = new window.UE.ui.Dialog({\n            //  2\n            iframeUrl: this.$routeProStr + '/widget.images/index.html?fodder=dialog',\n            // \n            editor: editor,\n            //  dialog \n            name: uiName,\n            // dialog \n            title: '',\n            //  dialog \n            cssRules: 'width:960px;height:550px;padding:20px;',\n          });\n          this.dialog = dialog;\n          var btn = new window.UE.ui.Button({\n            name: 'dialog-button',\n            title: '',\n            cssRules: `background-image: url(../../../assets/images/icons.png);background-position: -726px -77px;`,\n            onclick: function () {\n              // dialog\n              dialog.render();\n              dialog.open();\n            },\n          });\n          return btn;\n        },\n        37,\n      );\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"stylus\">\n.grey {\n  color: #999;\n}\n\n.maxW /deep/.ivu-select-dropdown {\n  max-width: 600px;\n}\n\n.ivu-table-wrapper {\n  border-left: 1px solid #dcdee2;\n  border-top: 1px solid #dcdee2;\n}\n\n.tabBox_img {\n  width: 50px;\n  height: 50px;\n}\n\n.tabBox_img img {\n  width: 100%;\n  height: 100%;\n}\n\n.priceBox {\n  width: 100%;\n}\n\n.form {\n  .picBox {\n    display: inline-block;\n    cursor: pointer;\n  }\n\n  .pictrue {\n    width: 60px;\n    height: 60px;\n    border: 1px dotted rgba(0, 0, 0, 0.1);\n    margin-right: 15px;\n    display: inline-block;\n    position: relative;\n    cursor: pointer;\n\n    img {\n      width: 100%;\n      height: 100%;\n    }\n\n    .btndel {\n      position: absolute;\n      z-index: 9;\n      width: 20px !important;\n      height: 20px !important;\n      left: 46px;\n      top: -4px;\n    }\n  }\n\n  .upLoad {\n    width: 58px;\n    height: 58px;\n    line-height: 58px;\n    border: 1px dotted rgba(0, 0, 0, 0.1);\n    border-radius: 4px;\n    background: rgba(0, 0, 0, 0.02);\n    cursor: pointer;\n  }\n\n  .col {\n    color: #2d8cf0;\n    cursor: pointer;\n  }\n}\n\n.addfont {\n  font-size: 13px;\n  color: #1890FF;\n  margin-left: 14px;\n  cursor: pointer;\n  margin-left: 10px;\n  cursor: pointer;\n}\n</style>\n"],"mappings":"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"}]}