{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/components/diyComponents/c_goods.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/components/diyComponents/c_goods.vue","mtime":1689324015142},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/babel.config.js","mtime":1689324015052},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/.babelrc","mtime":1689324015050},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKaW1wb3J0IHZ1ZWRyYWdnYWJsZSBmcm9tICd2dWVkcmFnZ2FibGUnOwppbXBvcnQgZ29vZHNMaXN0IGZyb20gJ0AvY29tcG9uZW50cy9nb29kc0xpc3QnOwppbXBvcnQgc29ydExpc3QgZnJvbSAnQC9jb21wb25lbnRzL3NvcnRMaXN0JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdjX2dvb2RzJywKICBwcm9wczogewogICAgbmFtZTogewogICAgICB0eXBlOiBTdHJpbmcKICAgIH0sCiAgICBjb25maWdEYXRhOiB7CiAgICAgIHR5cGU6IG51bGwKICAgIH0sCiAgICBjb25maWdOdW06IHsKICAgICAgdHlwZTogTnVtYmVyIHwgU3RyaW5nLAogICAgICBkZWZhdWx0OiAnZGVmYXVsdCcKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIGdvb2RzTGlzdDogZ29vZHNMaXN0LAogICAgc29ydExpc3Q6IHNvcnRMaXN0LAogICAgZHJhZ2dhYmxlOiB2dWVkcmFnZ2FibGUKICB9LAogIHdhdGNoOiB7CiAgICBjb25maWdEYXRhOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIoblZhbCwgb1ZhbCkgewogICAgICAgIHRoaXMuZGVmYXVsdHMgPSBuVmFsW3RoaXMuY29uZmlnTnVtXTsKICAgICAgICB2YXIgZ29vZFR5cGUgPSBuVmFsW3RoaXMuY29uZmlnTnVtXS50aXRsZUluZm8gPyBuVmFsW3RoaXMuY29uZmlnTnVtXS50aXRsZUluZm8udHlwZSA6IDA7CiAgICAgICAgdGhpcy50eXBlID0gblZhbFt0aGlzLmNvbmZpZ051bV0uc2VsZWN0Q29uZmlnLnR5cGUgPyBuVmFsW3RoaXMuY29uZmlnTnVtXS5zZWxlY3RDb25maWcudHlwZSA6IGdvb2RUeXBlID8gZ29vZFR5cGUgOiAwOwogICAgICAgIHN3aXRjaCAodGhpcy50eXBlKSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHRoaXMudGl0bGVzID0gJ+WVhuWTgeWIl+ihqCc7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICB0aGlzLnRpdGxlcyA9ICfliIbnsbvliJfooagnOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgdGhpcy50aXRsZXMgPSAn56CN5Lu35YiX6KGoJzsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHRoaXMudGl0bGVzID0gJ+enkuadgOWIl+ihqCc7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICB0aGlzLnRpdGxlcyA9ICfmi7zlm6LliJfooagnOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgfQogICAgICB9LAogICAgICBpbW1lZGlhdGU6IHRydWUsCiAgICAgIGRlZXA6IHRydWUKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtb2RhbHM6IGZhbHNlLAogICAgICBnb29kc0xpc3Q6IFtdLAogICAgICB0ZW1wR29vZHM6IFtdLAogICAgICBkZWZhdWx0czoge30sCiAgICAgIHR5cGU6ICcnLAogICAgICBpc19uZXc6ICcnLAogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICB0aXRsZXM6ICcnCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZGVmYXVsdHMgPSB0aGlzLmNvbmZpZ0RhdGFbdGhpcy5jb25maWdOdW1dOwogICAgdGhpcy5pc19uZXcgPSB0aGlzLmNvbmZpZ0RhdGFbdGhpcy5jb25maWdOdW1dLmlzX25ldzsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFByb2R1Y3REaXk6IGZ1bmN0aW9uIGdldFByb2R1Y3REaXkoZGF0YSkgewogICAgICB0aGlzLnRlbXBHb29kcyA9IGRhdGE7CiAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgfSwKICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkgewogICAgICB0aGlzLnRlbXBHb29kcyA9IFtdOwogICAgfSwKICAgIC8v5a+56LGh5pWw57uE5Y676YeN77ybCiAgICB1bmlxdWU6IGZ1bmN0aW9uIHVuaXF1ZShhcnIpIHsKICAgICAgdmFyIHJlcyA9IG5ldyBNYXAoKTsKICAgICAgcmV0dXJuIGFyci5maWx0ZXIoZnVuY3Rpb24gKGFycikgewogICAgICAgIHJldHVybiAhcmVzLmhhcyhhcnIuaWQpICYmIHJlcy5zZXQoYXJyLmlkLCAxKTsKICAgICAgfSk7CiAgICB9LAogICAgb2s6IGZ1bmN0aW9uIG9rKCkgewogICAgICBpZiAoIXRoaXMudGVtcEdvb2RzLmxlbmd0aCkgewogICAgICAgIHJldHVybiB0aGlzLiRNZXNzYWdlLndhcm5pbmcoJ+ivt+WFiOmAieaLqeWVhuWTgScpOwogICAgICB9CiAgICAgIHZhciBsaXN0ID0gdGhpcy5kZWZhdWx0cy5nb29kc0xpc3QubGlzdDsKICAgICAgbGlzdC5wdXNoLmFwcGx5KGxpc3QsIHRoaXMudGVtcEdvb2RzKTsKICAgICAgLy8gbGlzdC5wdXNoKHRoaXMudGVtcEdvb2RzKTsKICAgICAgdmFyIHBpY0xpc3QgPSB0aGlzLnVuaXF1ZShsaXN0KTsKICAgICAgdGhpcy5kZWZhdWx0cy5nb29kc0xpc3QubGlzdCA9IHBpY0xpc3Q7CiAgICAgIC8vIHRoaXMuZGVmYXVsdHMuZ29vZHNMaXN0Lmxpc3QucHVzaCh0aGlzLnRlbXBHb29kcyk7CiAgICB9LAogICAgYmluZERlbGV0ZTogZnVuY3Rpb24gYmluZERlbGV0ZShpbmRleCkgewogICAgICB0aGlzLmRlZmF1bHRzLmdvb2RzTGlzdC5saXN0LnNwbGljZShpbmRleCwgMSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["vuedraggable","goodsList","sortList","name","props","type","String","configData","configNum","Number","default","components","draggable","watch","handler","nVal","oVal","defaults","goodType","titleInfo","selectConfig","titles","immediate","deep","data","modals","tempGoods","is_new","loading","created","methods","getProductDiy","cancel","unique","arr","res","Map","filter","has","id","set","ok","length","$Message","warning","list","push","apply","picList","bindDelete","index","splice"],"sources":["src/components/diyComponents/c_goods.vue"],"sourcesContent":["<template>\n  <div class=\"goods-box\" v-if=\"defaults.goodsList\">\n    <div class=\"wrapper\">\n      <draggable class=\"dragArea list-group\" :list=\"defaults.goodsList.list\" group=\"peoples\">\n        <div\n          class=\"item\"\n          v-for=\"(goods, index) in defaults.goodsList.list\"\n          :key=\"index\"\n          v-if=\"defaults.goodsList.list.length\"\n        >\n          <img :src=\"type == 1 ? goods.pic : goods.image\" alt=\"\" />\n          <span class=\"iconfont icondel_1\" @click.stop=\"bindDelete(index)\"></span>\n        </div>\n        <div class=\"add-item item\" @click=\"modals = true\"><span class=\"iconfont iconaddto\"></span></div>\n      </draggable>\n    </div>\n\n    <Modal\n      v-model=\"modals\"\n      :loading=\"loading\"\n      :title=\"titles\"\n      class=\"paymentFooter\"\n      :class=\"type ? '' : 'middleTop'\"\n      scrollable\n      width=\"900\"\n      @on-cancel=\"cancel\"\n      @on-ok=\"ok\"\n    >\n      <sort-list ref=\"goodslist\" @getProductDiy=\"getProductDiy\" v-if=\"modals && type == 1\"></sort-list>\n      <goods-list\n        ref=\"goodslist\"\n        @getProductDiy=\"getProductDiy\"\n        :ischeckbox=\"true\"\n        :type=\"type\"\n        :is_new=\"is_new\"\n        :diy=\"true\"\n        v-if=\"modals && type != 1\"\n      ></goods-list>\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport vuedraggable from 'vuedraggable';\nimport goodsList from '@/components/goodsList';\nimport sortList from '@/components/sortList';\nexport default {\n  name: 'c_goods',\n  props: {\n    name: {\n      type: String,\n    },\n    configData: {\n      type: null,\n    },\n    configNum: {\n      type: Number | String,\n      default: 'default',\n    },\n  },\n  components: {\n    goodsList,\n    sortList,\n    draggable: vuedraggable,\n  },\n  watch: {\n    configData: {\n      handler(nVal, oVal) {\n        this.defaults = nVal[this.configNum];\n        let goodType = nVal[this.configNum].titleInfo ? nVal[this.configNum].titleInfo.type : 0;\n        this.type = nVal[this.configNum].selectConfig.type\n          ? nVal[this.configNum].selectConfig.type\n          : goodType\n          ? goodType\n          : 0;\n        switch (this.type) {\n          case 0:\n            this.titles = '商品列表';\n            break;\n          case 1:\n            this.titles = '分类列表';\n            break;\n          case 8:\n            this.titles = '砍价列表';\n            break;\n          case 2:\n            this.titles = '秒杀列表';\n            break;\n          case 3:\n            this.titles = '拼团列表';\n            break;\n          default:\n        }\n      },\n      immediate: true,\n      deep: true,\n    },\n  },\n  data() {\n    return {\n      modals: false,\n      goodsList: [],\n      tempGoods: [],\n      defaults: {},\n      type: '',\n      is_new: '',\n      loading: true,\n      titles: '',\n    };\n  },\n  created() {\n    this.defaults = this.configData[this.configNum];\n    this.is_new = this.configData[this.configNum].is_new;\n  },\n  methods: {\n    getProductDiy(data) {\n      this.tempGoods = data;\n      this.loading = false;\n    },\n    cancel() {\n      this.tempGoods = [];\n    },\n    //对象数组去重；\n    unique(arr) {\n      const res = new Map();\n      return arr.filter((arr) => !res.has(arr.id) && res.set(arr.id, 1));\n    },\n    ok() {\n      if (!this.tempGoods.length) {\n        return this.$Message.warning('请先选择商品');\n      }\n      let list = this.defaults.goodsList.list;\n      list.push.apply(list, this.tempGoods);\n      // list.push(this.tempGoods);\n      let picList = this.unique(list);\n      this.defaults.goodsList.list = picList;\n      // this.defaults.goodsList.list.push(this.tempGoods);\n    },\n    bindDelete(index) {\n      this.defaults.goodsList.list.splice(index, 1);\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"stylus\">\n.middleTop /deep/.ivu-modal-wrap .ivu-modal{\n    top:50%!important;\n    margin-top:-350px;\n}\n.goods-box\n    padding 16px 0\n    margin-bottom 16px\n    border-top 1px solid rgba(0,0,0,0.05)\n    border-bottom 1px solid rgba(0,0,0,0.05)\n    .wrapper,.list-group\n        display flex\n        flex-wrap wrap\n    .add-item\n        display flex\n        align-items center\n        justify-content center\n        width 80px\n        height 80px\n        margin-bottom 10px\n        background #F7F7F7\n        .iconfont\n            font-size 18px\n            color #D8D8D8\n    .item\n        position relative\n        width 80px\n        height 80px\n        margin-bottom 20px\n        margin-right 12px\n        &:nth-child(4n)\n           margin-right 0\n        img\n            width 100%\n            height 100%\n        .icondel_1\n            position absolute\n            right -10px\n            top -16px\n            color #999999\n            font-size 28px\n            cursor pointer\n</style>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA,OAAAA,YAAA;AACA,OAAAC,SAAA;AACA,OAAAC,QAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACAD,IAAA;MACAE,IAAA,EAAAC;IACA;IACAC,UAAA;MACAF,IAAA;IACA;IACAG,SAAA;MACAH,IAAA,EAAAI,MAAA,GAAAH,MAAA;MACAI,OAAA;IACA;EACA;EACAC,UAAA;IACAV,SAAA,EAAAA,SAAA;IACAC,QAAA,EAAAA,QAAA;IACAU,SAAA,EAAAZ;EACA;EACAa,KAAA;IACAN,UAAA;MACAO,OAAA,WAAAA,QAAAC,IAAA,EAAAC,IAAA;QACA,KAAAC,QAAA,GAAAF,IAAA,MAAAP,SAAA;QACA,IAAAU,QAAA,GAAAH,IAAA,MAAAP,SAAA,EAAAW,SAAA,GAAAJ,IAAA,MAAAP,SAAA,EAAAW,SAAA,CAAAd,IAAA;QACA,KAAAA,IAAA,GAAAU,IAAA,MAAAP,SAAA,EAAAY,YAAA,CAAAf,IAAA,GACAU,IAAA,MAAAP,SAAA,EAAAY,YAAA,CAAAf,IAAA,GACAa,QAAA,GACAA,QAAA,GACA;QACA,aAAAb,IAAA;UACA;YACA,KAAAgB,MAAA;YACA;UACA;YACA,KAAAA,MAAA;YACA;UACA;YACA,KAAAA,MAAA;YACA;UACA;YACA,KAAAA,MAAA;YACA;UACA;YACA,KAAAA,MAAA;YACA;UACA;QAAA;MAEA;MACAC,SAAA;MACAC,IAAA;IACA;EACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,MAAA;MACAxB,SAAA;MACAyB,SAAA;MACAT,QAAA;MACAZ,IAAA;MACAsB,MAAA;MACAC,OAAA;MACAP,MAAA;IACA;EACA;EACAQ,OAAA,WAAAA,QAAA;IACA,KAAAZ,QAAA,QAAAV,UAAA,MAAAC,SAAA;IACA,KAAAmB,MAAA,QAAApB,UAAA,MAAAC,SAAA,EAAAmB,MAAA;EACA;EACAG,OAAA;IACAC,aAAA,WAAAA,cAAAP,IAAA;MACA,KAAAE,SAAA,GAAAF,IAAA;MACA,KAAAI,OAAA;IACA;IACAI,MAAA,WAAAA,OAAA;MACA,KAAAN,SAAA;IACA;IACA;IACAO,MAAA,WAAAA,OAAAC,GAAA;MACA,IAAAC,GAAA,OAAAC,GAAA;MACA,OAAAF,GAAA,CAAAG,MAAA,WAAAH,GAAA;QAAA,QAAAC,GAAA,CAAAG,GAAA,CAAAJ,GAAA,CAAAK,EAAA,KAAAJ,GAAA,CAAAK,GAAA,CAAAN,GAAA,CAAAK,EAAA;MAAA;IACA;IACAE,EAAA,WAAAA,GAAA;MACA,UAAAf,SAAA,CAAAgB,MAAA;QACA,YAAAC,QAAA,CAAAC,OAAA;MACA;MACA,IAAAC,IAAA,QAAA5B,QAAA,CAAAhB,SAAA,CAAA4C,IAAA;MACAA,IAAA,CAAAC,IAAA,CAAAC,KAAA,CAAAF,IAAA,OAAAnB,SAAA;MACA;MACA,IAAAsB,OAAA,QAAAf,MAAA,CAAAY,IAAA;MACA,KAAA5B,QAAA,CAAAhB,SAAA,CAAA4C,IAAA,GAAAG,OAAA;MACA;IACA;IACAC,UAAA,WAAAA,WAAAC,KAAA;MACA,KAAAjC,QAAA,CAAAhB,SAAA,CAAA4C,IAAA,CAAAM,MAAA,CAAAD,KAAA;IACA;EACA;AACA"}]}