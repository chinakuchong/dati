{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/layout/component/main.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/layout/component/main.vue","mtime":1689324015181},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/babel.config.js","mtime":1689324015052},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/.babelrc","mtime":1689324015050},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBMYXlvdXRQYXJlbnRWaWV3IGZyb20gJ0AvbGF5b3V0L3JvdXRlclZpZXcvcGFyZW50LnZ1ZSc7CmltcG9ydCBGb290ZXJzIGZyb20gJ0AvbGF5b3V0L2Zvb3Rlci9pbmRleC52dWUnOwppbXBvcnQgTGlua3MgZnJvbSAnQC9sYXlvdXQvcm91dGVyVmlldy9saW5rLnZ1ZSc7CmltcG9ydCBJZnJhbWVzIGZyb20gJ0AvbGF5b3V0L3JvdXRlclZpZXcvaWZyYW1lcy52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2xheW91dE1haW4nLAogIGNvbXBvbmVudHM6IHsKICAgIExheW91dFBhcmVudFZpZXc6IExheW91dFBhcmVudFZpZXcsCiAgICBGb290ZXJzOiBGb290ZXJzLAogICAgTGlua3M6IExpbmtzLAogICAgSWZyYW1lczogSWZyYW1lcwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGhlYWRlckhlaWdodDogJycsCiAgICAgIGN1cnJlbnRSb3V0ZU1ldGE6IHt9LAogICAgICBpc1Nob3dMaW5rOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAvLyDojrflj5bluIPlsYDphY3nva7kv6Hmga8KICAgIGdldFRoZW1lQ29uZmlnOiBmdW5jdGlvbiBnZXRUaGVtZUNvbmZpZygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnRoZW1lQ29uZmlnLnRoZW1lQ29uZmlnOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuaW5pdEhlYWRlckhlaWdodCgpOwogICAgdGhpcy5pbml0Q3VycmVudFJvdXRlTWV0YSh0aGlzLiRyb3V0ZS5tZXRhKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOWIneWni+WMluW9k+WJjei3r+eUsSBtZXRhIOS/oeaBrwogICAgaW5pdEN1cnJlbnRSb3V0ZU1ldGE6IGZ1bmN0aW9uIGluaXRDdXJyZW50Um91dGVNZXRhKG1ldGEpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdGhpcy5pc1Nob3dMaW5rID0gZmFsc2U7CiAgICAgIHRoaXMuY3VycmVudFJvdXRlTWV0YSA9IG1ldGE7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLmlzU2hvd0xpbmsgPSB0cnVlOwogICAgICB9LCAxMDApOwogICAgfSwKICAgIC8vIOiuvue9riBtYWluIOeahOmrmOW6pgogICAgaW5pdEhlYWRlckhlaWdodDogZnVuY3Rpb24gaW5pdEhlYWRlckhlaWdodCgpIHsKICAgICAgdmFyIGlzVGFnc3ZpZXcgPSB0aGlzLiRzdG9yZS5zdGF0ZS50aGVtZUNvbmZpZy50aGVtZUNvbmZpZy5pc1RhZ3N2aWV3OwogICAgICBpZiAoaXNUYWdzdmlldykgcmV0dXJuIHRoaXMuaGVhZGVySGVpZ2h0ID0gIjg0cHgiO2Vsc2UgcmV0dXJuIHRoaXMuaGVhZGVySGVpZ2h0ID0gIjUwcHgiOwogICAgfSwKICAgIC8vIOWtkOe7hOS7tuinpuWPkeabtOaWsAogICAgb25HZXRDdXJyZW50Um91dGVNZXRhOiBmdW5jdGlvbiBvbkdldEN1cnJlbnRSb3V0ZU1ldGEoKSB7CiAgICAgIHRoaXMuaW5pdEN1cnJlbnRSb3V0ZU1ldGEodGhpcy4kcm91dGUubWV0YSk7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgLy8g55uR5ZCsIHZ1ZXgg5pWw5o2u5Y+Y5YyWCiAgICAnJHN0b3JlLnN0YXRlLnRoZW1lQ29uZmlnLnRoZW1lQ29uZmlnJzogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHZhbCkgewogICAgICAgIHRoaXMuaGVhZGVySGVpZ2h0ID0gdmFsLmlzVGFnc3ZpZXcgPyAnODRweCcgOiAnNTBweCc7CiAgICAgICAgaWYgKHZhbC5pc0ZpeGVkSGVhZGVyQ2hhbmdlICE9PSB2YWwuaXNGaXhlZEhlYWRlcikgewogICAgICAgICAgaWYgKCF0aGlzLiRyZWZzLmxheW91dFNjcm9sbGJhclJlZikgcmV0dXJuIGZhbHNlOwogICAgICAgICAgdGhpcy4kcmVmcy5sYXlvdXRTY3JvbGxiYXJSZWYudXBkYXRlKCk7CiAgICAgICAgfQogICAgICB9LAogICAgICBkZWVwOiB0cnVlCiAgICB9LAogICAgLy8g55uR5ZCs6Lev55Sx55qE5Y+Y5YyWCiAgICAkcm91dGU6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih0bykgewogICAgICAgIHRoaXMuaW5pdEN1cnJlbnRSb3V0ZU1ldGEodG8ubWV0YSk7CiAgICAgICAgdGhpcy4kcmVmcy5sYXlvdXRTY3JvbGxiYXJSZWYud3JhcC5zY3JvbGxUb3AgPSAwOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlCiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["LayoutParentView","Footers","Links","Iframes","name","components","data","headerHeight","currentRouteMeta","isShowLink","computed","getThemeConfig","$store","state","themeConfig","mounted","initHeaderHeight","initCurrentRouteMeta","$route","meta","methods","_this","setTimeout","isTagsview","onGetCurrentRouteMeta","watch","handler","val","isFixedHeaderChange","isFixedHeader","$refs","layoutScrollbarRef","update","deep","to","wrap","scrollTop"],"sources":["src/layout/component/main.vue"],"sourcesContent":["<template>\n  <el-main class=\"layout-main\">\n    <el-scrollbar\n      class=\"layout-scrollbar\"\n      ref=\"layoutScrollbarRef\"\n      v-show=\"!currentRouteMeta.isLink && !currentRouteMeta.isIframe\"\n      :style=\"{ minHeight: `calc(100vh - ${headerHeight}` }\"\n    >\n      <LayoutParentView />\n      <Footers v-if=\"getThemeConfig.isFooter\" />\n    </el-scrollbar>\n    <Links\n      :style=\"{ height: `calc(100vh - ${headerHeight}` }\"\n      :meta=\"currentRouteMeta\"\n      v-if=\"currentRouteMeta.isLink && !currentRouteMeta.isIframe\"\n    />\n    <Iframes\n      :style=\"{ height: `calc(100vh - ${headerHeight}` }\"\n      :meta=\"currentRouteMeta\"\n      v-if=\"currentRouteMeta.isLink && currentRouteMeta.isIframe && isShowLink\"\n      @getCurrentRouteMeta=\"onGetCurrentRouteMeta\"\n    />\n  </el-main>\n</template>\n\n<script>\nimport LayoutParentView from '@/layout/routerView/parent.vue';\nimport Footers from '@/layout/footer/index.vue';\nimport Links from '@/layout/routerView/link.vue';\nimport Iframes from '@/layout/routerView/iframes.vue';\nexport default {\n  name: 'layoutMain',\n  components: { LayoutParentView, Footers, Links, Iframes },\n  data() {\n    return {\n      headerHeight: '',\n      currentRouteMeta: {},\n      isShowLink: false,\n    };\n  },\n  computed: {\n    // 获取布局配置信息\n    getThemeConfig() {\n      return this.$store.state.themeConfig.themeConfig;\n    },\n  },\n  mounted() {\n    this.initHeaderHeight();\n    this.initCurrentRouteMeta(this.$route.meta);\n  },\n  methods: {\n    // 初始化当前路由 meta 信息\n    initCurrentRouteMeta(meta) {\n      this.isShowLink = false;\n      this.currentRouteMeta = meta;\n      setTimeout(() => {\n        this.isShowLink = true;\n      }, 100);\n    },\n    // 设置 main 的高度\n    initHeaderHeight() {\n      let { isTagsview } = this.$store.state.themeConfig.themeConfig;\n      if (isTagsview) return (this.headerHeight = `84px`);\n      else return (this.headerHeight = `50px`);\n    },\n    // 子组件触发更新\n    onGetCurrentRouteMeta() {\n      this.initCurrentRouteMeta(this.$route.meta);\n    },\n  },\n  watch: {\n    // 监听 vuex 数据变化\n    '$store.state.themeConfig.themeConfig': {\n      handler(val) {\n        this.headerHeight = val.isTagsview ? '84px' : '50px';\n        if (val.isFixedHeaderChange !== val.isFixedHeader) {\n          if (!this.$refs.layoutScrollbarRef) return false;\n          this.$refs.layoutScrollbarRef.update();\n        }\n      },\n      deep: true,\n    },\n    // 监听路由的变化\n    $route: {\n      handler(to) {\n        this.initCurrentRouteMeta(to.meta);\n        this.$refs.layoutScrollbarRef.wrap.scrollTop = 0;\n      },\n      deep: true,\n    },\n  },\n};\n</script>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,OAAAA,gBAAA;AACA,OAAAC,OAAA;AACA,OAAAC,KAAA;AACA,OAAAC,OAAA;AACA;EACAC,IAAA;EACAC,UAAA;IAAAL,gBAAA,EAAAA,gBAAA;IAAAC,OAAA,EAAAA,OAAA;IAAAC,KAAA,EAAAA,KAAA;IAAAC,OAAA,EAAAA;EAAA;EACAG,IAAA,WAAAA,KAAA;IACA;MACAC,YAAA;MACAC,gBAAA;MACAC,UAAA;IACA;EACA;EACAC,QAAA;IACA;IACAC,cAAA,WAAAA,eAAA;MACA,YAAAC,MAAA,CAAAC,KAAA,CAAAC,WAAA,CAAAA,WAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAC,gBAAA;IACA,KAAAC,oBAAA,MAAAC,MAAA,CAAAC,IAAA;EACA;EACAC,OAAA;IACA;IACAH,oBAAA,WAAAA,qBAAAE,IAAA;MAAA,IAAAE,KAAA;MACA,KAAAZ,UAAA;MACA,KAAAD,gBAAA,GAAAW,IAAA;MACAG,UAAA;QACAD,KAAA,CAAAZ,UAAA;MACA;IACA;IACA;IACAO,gBAAA,WAAAA,iBAAA;MACA,IAAAO,UAAA,QAAAX,MAAA,CAAAC,KAAA,CAAAC,WAAA,CAAAA,WAAA,CAAAS,UAAA;MACA,IAAAA,UAAA,cAAAhB,YAAA,eACA,YAAAA,YAAA;IACA;IACA;IACAiB,qBAAA,WAAAA,sBAAA;MACA,KAAAP,oBAAA,MAAAC,MAAA,CAAAC,IAAA;IACA;EACA;EACAM,KAAA;IACA;IACA;MACAC,OAAA,WAAAA,QAAAC,GAAA;QACA,KAAApB,YAAA,GAAAoB,GAAA,CAAAJ,UAAA;QACA,IAAAI,GAAA,CAAAC,mBAAA,KAAAD,GAAA,CAAAE,aAAA;UACA,UAAAC,KAAA,CAAAC,kBAAA;UACA,KAAAD,KAAA,CAAAC,kBAAA,CAAAC,MAAA;QACA;MACA;MACAC,IAAA;IACA;IACA;IACAf,MAAA;MACAQ,OAAA,WAAAA,QAAAQ,EAAA;QACA,KAAAjB,oBAAA,CAAAiB,EAAA,CAAAf,IAAA;QACA,KAAAW,KAAA,CAAAC,kBAAA,CAAAI,IAAA,CAAAC,SAAA;MACA;MACAH,IAAA;IACA;EACA;AACA"}]}