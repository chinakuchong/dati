{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/pages/system/onlineUpgrade/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/pages/system/onlineUpgrade/index.vue","mtime":1689324015280},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/babel.config.js","mtime":1689324015052},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/.babelrc","mtime":1689324015050},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmFzeW5jLWl0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLnRvLXN0cmluZy10YWcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnRvLXN0cmluZy10YWcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5tYXRoLnRvLXN0cmluZy10YWcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmVycm9yLmNhdXNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Quc2V0LXByb3RvdHlwZS1vZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0IF90eXBlb2YgZnJvbSAiL1ZvbHVtZXMvbWFjL3dlYndvcmsvMjAyMy9kYXRpL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AdnVlL2JhYmVsLXByZXNldC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZi5qcyI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiL1ZvbHVtZXMvbWFjL3dlYndvcmsvMjAyMy9kYXRpL3RlbXBsYXRlL2FkbWluL25vZGVfbW9kdWxlcy9AdnVlL2JhYmVsLXByZXNldC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5LmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Wb2x1bWVzL21hYy93ZWJ3b3JrLzIwMjMvZGF0aS90ZW1wbGF0ZS9hZG1pbi9ub2RlX21vZHVsZXMvQHZ1ZS9iYWJlbC1wcmVzZXQtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuanMiOwpmdW5jdGlvbiBfcmVnZW5lcmF0b3JSdW50aW1lKCkgeyAidXNlIHN0cmljdCI7IC8qISByZWdlbmVyYXRvci1ydW50aW1lIC0tIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLiAtLSBsaWNlbnNlIChNSVQpOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvYmxvYi9tYWluL0xJQ0VOU0UgKi8gX3JlZ2VuZXJhdG9yUnVudGltZSA9IGZ1bmN0aW9uIF9yZWdlbmVyYXRvclJ1bnRpbWUoKSB7IHJldHVybiBleHBvcnRzOyB9OyB2YXIgZXhwb3J0cyA9IHt9LCBPcCA9IE9iamVjdC5wcm90b3R5cGUsIGhhc093biA9IE9wLmhhc093blByb3BlcnR5LCBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSB8fCBmdW5jdGlvbiAob2JqLCBrZXksIGRlc2MpIHsgb2JqW2tleV0gPSBkZXNjLnZhbHVlOyB9LCAkU3ltYm9sID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sID8gU3ltYm9sIDoge30sIGl0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5pdGVyYXRvciB8fCAiQEBpdGVyYXRvciIsIGFzeW5jSXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLmFzeW5jSXRlcmF0b3IgfHwgIkBAYXN5bmNJdGVyYXRvciIsIHRvU3RyaW5nVGFnU3ltYm9sID0gJFN5bWJvbC50b1N0cmluZ1RhZyB8fCAiQEB0b1N0cmluZ1RhZyI7IGZ1bmN0aW9uIGRlZmluZShvYmosIGtleSwgdmFsdWUpIHsgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAgfSksIG9ialtrZXldOyB9IHRyeSB7IGRlZmluZSh7fSwgIiIpOyB9IGNhdGNoIChlcnIpIHsgZGVmaW5lID0gZnVuY3Rpb24gZGVmaW5lKG9iaiwga2V5LCB2YWx1ZSkgeyByZXR1cm4gb2JqW2tleV0gPSB2YWx1ZTsgfTsgfSBmdW5jdGlvbiB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSB7IHZhciBwcm90b0dlbmVyYXRvciA9IG91dGVyRm4gJiYgb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IgPyBvdXRlckZuIDogR2VuZXJhdG9yLCBnZW5lcmF0b3IgPSBPYmplY3QuY3JlYXRlKHByb3RvR2VuZXJhdG9yLnByb3RvdHlwZSksIGNvbnRleHQgPSBuZXcgQ29udGV4dCh0cnlMb2NzTGlzdCB8fCBbXSk7IHJldHVybiBkZWZpbmVQcm9wZXJ0eShnZW5lcmF0b3IsICJfaW52b2tlIiwgeyB2YWx1ZTogbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KSB9KSwgZ2VuZXJhdG9yOyB9IGZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBvYmosIGFyZykgeyB0cnkgeyByZXR1cm4geyB0eXBlOiAibm9ybWFsIiwgYXJnOiBmbi5jYWxsKG9iaiwgYXJnKSB9OyB9IGNhdGNoIChlcnIpIHsgcmV0dXJuIHsgdHlwZTogInRocm93IiwgYXJnOiBlcnIgfTsgfSB9IGV4cG9ydHMud3JhcCA9IHdyYXA7IHZhciBDb250aW51ZVNlbnRpbmVsID0ge307IGZ1bmN0aW9uIEdlbmVyYXRvcigpIHt9IGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uKCkge30gZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUoKSB7fSB2YXIgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTsgZGVmaW5lKEl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSk7IHZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiwgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90byAmJiBnZXRQcm90byhnZXRQcm90byh2YWx1ZXMoW10pKSk7IE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICYmIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICE9PSBPcCAmJiBoYXNPd24uY2FsbChOYXRpdmVJdGVyYXRvclByb3RvdHlwZSwgaXRlcmF0b3JTeW1ib2wpICYmIChJdGVyYXRvclByb3RvdHlwZSA9IE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlKTsgdmFyIEdwID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUucHJvdG90eXBlID0gR2VuZXJhdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUpOyBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHMocHJvdG90eXBlKSB7IFsibmV4dCIsICJ0aHJvdyIsICJyZXR1cm4iXS5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHsgZGVmaW5lKHByb3RvdHlwZSwgbWV0aG9kLCBmdW5jdGlvbiAoYXJnKSB7IHJldHVybiB0aGlzLl9pbnZva2UobWV0aG9kLCBhcmcpOyB9KTsgfSk7IH0gZnVuY3Rpb24gQXN5bmNJdGVyYXRvcihnZW5lcmF0b3IsIFByb21pc2VJbXBsKSB7IGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KSB7IHZhciByZWNvcmQgPSB0cnlDYXRjaChnZW5lcmF0b3JbbWV0aG9kXSwgZ2VuZXJhdG9yLCBhcmcpOyBpZiAoInRocm93IiAhPT0gcmVjb3JkLnR5cGUpIHsgdmFyIHJlc3VsdCA9IHJlY29yZC5hcmcsIHZhbHVlID0gcmVzdWx0LnZhbHVlOyByZXR1cm4gdmFsdWUgJiYgIm9iamVjdCIgPT0gX3R5cGVvZih2YWx1ZSkgJiYgaGFzT3duLmNhbGwodmFsdWUsICJfX2F3YWl0IikgPyBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlLl9fYXdhaXQpLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7IGludm9rZSgibmV4dCIsIHZhbHVlLCByZXNvbHZlLCByZWplY3QpOyB9LCBmdW5jdGlvbiAoZXJyKSB7IGludm9rZSgidGhyb3ciLCBlcnIsIHJlc29sdmUsIHJlamVjdCk7IH0pIDogUHJvbWlzZUltcGwucmVzb2x2ZSh2YWx1ZSkudGhlbihmdW5jdGlvbiAodW53cmFwcGVkKSB7IHJlc3VsdC52YWx1ZSA9IHVud3JhcHBlZCwgcmVzb2x2ZShyZXN1bHQpOyB9LCBmdW5jdGlvbiAoZXJyb3IpIHsgcmV0dXJuIGludm9rZSgidGhyb3ciLCBlcnJvciwgcmVzb2x2ZSwgcmVqZWN0KTsgfSk7IH0gcmVqZWN0KHJlY29yZC5hcmcpOyB9IHZhciBwcmV2aW91c1Byb21pc2U7IGRlZmluZVByb3BlcnR5KHRoaXMsICJfaW52b2tlIiwgeyB2YWx1ZTogZnVuY3Rpb24gdmFsdWUobWV0aG9kLCBhcmcpIHsgZnVuY3Rpb24gY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKSB7IHJldHVybiBuZXcgUHJvbWlzZUltcGwoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCk7IH0pOyB9IHJldHVybiBwcmV2aW91c1Byb21pc2UgPSBwcmV2aW91c1Byb21pc2UgPyBwcmV2aW91c1Byb21pc2UudGhlbihjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZywgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcpIDogY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKTsgfSB9KTsgfSBmdW5jdGlvbiBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpIHsgdmFyIHN0YXRlID0gInN1c3BlbmRlZFN0YXJ0IjsgcmV0dXJuIGZ1bmN0aW9uIChtZXRob2QsIGFyZykgeyBpZiAoImV4ZWN1dGluZyIgPT09IHN0YXRlKSB0aHJvdyBuZXcgRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmciKTsgaWYgKCJjb21wbGV0ZWQiID09PSBzdGF0ZSkgeyBpZiAoInRocm93IiA9PT0gbWV0aG9kKSB0aHJvdyBhcmc7IHJldHVybiBkb25lUmVzdWx0KCk7IH0gZm9yIChjb250ZXh0Lm1ldGhvZCA9IG1ldGhvZCwgY29udGV4dC5hcmcgPSBhcmc7OykgeyB2YXIgZGVsZWdhdGUgPSBjb250ZXh0LmRlbGVnYXRlOyBpZiAoZGVsZWdhdGUpIHsgdmFyIGRlbGVnYXRlUmVzdWx0ID0gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7IGlmIChkZWxlZ2F0ZVJlc3VsdCkgeyBpZiAoZGVsZWdhdGVSZXN1bHQgPT09IENvbnRpbnVlU2VudGluZWwpIGNvbnRpbnVlOyByZXR1cm4gZGVsZWdhdGVSZXN1bHQ7IH0gfSBpZiAoIm5leHQiID09PSBjb250ZXh0Lm1ldGhvZCkgY29udGV4dC5zZW50ID0gY29udGV4dC5fc2VudCA9IGNvbnRleHQuYXJnO2Vsc2UgaWYgKCJ0aHJvdyIgPT09IGNvbnRleHQubWV0aG9kKSB7IGlmICgic3VzcGVuZGVkU3RhcnQiID09PSBzdGF0ZSkgdGhyb3cgc3RhdGUgPSAiY29tcGxldGVkIiwgY29udGV4dC5hcmc7IGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpOyB9IGVsc2UgInJldHVybiIgPT09IGNvbnRleHQubWV0aG9kICYmIGNvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBjb250ZXh0LmFyZyk7IHN0YXRlID0gImV4ZWN1dGluZyI7IHZhciByZWNvcmQgPSB0cnlDYXRjaChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTsgaWYgKCJub3JtYWwiID09PSByZWNvcmQudHlwZSkgeyBpZiAoc3RhdGUgPSBjb250ZXh0LmRvbmUgPyAiY29tcGxldGVkIiA6ICJzdXNwZW5kZWRZaWVsZCIsIHJlY29yZC5hcmcgPT09IENvbnRpbnVlU2VudGluZWwpIGNvbnRpbnVlOyByZXR1cm4geyB2YWx1ZTogcmVjb3JkLmFyZywgZG9uZTogY29udGV4dC5kb25lIH07IH0gInRocm93IiA9PT0gcmVjb3JkLnR5cGUgJiYgKHN0YXRlID0gImNvbXBsZXRlZCIsIGNvbnRleHQubWV0aG9kID0gInRocm93IiwgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnKTsgfSB9OyB9IGZ1bmN0aW9uIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpIHsgdmFyIG1ldGhvZE5hbWUgPSBjb250ZXh0Lm1ldGhvZCwgbWV0aG9kID0gZGVsZWdhdGUuaXRlcmF0b3JbbWV0aG9kTmFtZV07IGlmICh1bmRlZmluZWQgPT09IG1ldGhvZCkgcmV0dXJuIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsLCAidGhyb3ciID09PSBtZXRob2ROYW1lICYmIGRlbGVnYXRlLml0ZXJhdG9yLnJldHVybiAmJiAoY29udGV4dC5tZXRob2QgPSAicmV0dXJuIiwgY29udGV4dC5hcmcgPSB1bmRlZmluZWQsIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpLCAidGhyb3ciID09PSBjb250ZXh0Lm1ldGhvZCkgfHwgInJldHVybiIgIT09IG1ldGhvZE5hbWUgJiYgKGNvbnRleHQubWV0aG9kID0gInRocm93IiwgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICciICsgbWV0aG9kTmFtZSArICInIG1ldGhvZCIpKSwgQ29udGludWVTZW50aW5lbDsgdmFyIHJlY29yZCA9IHRyeUNhdGNoKG1ldGhvZCwgZGVsZWdhdGUuaXRlcmF0b3IsIGNvbnRleHQuYXJnKTsgaWYgKCJ0aHJvdyIgPT09IHJlY29yZC50eXBlKSByZXR1cm4gY29udGV4dC5tZXRob2QgPSAidGhyb3ciLCBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmcsIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsLCBDb250aW51ZVNlbnRpbmVsOyB2YXIgaW5mbyA9IHJlY29yZC5hcmc7IHJldHVybiBpbmZvID8gaW5mby5kb25lID8gKGNvbnRleHRbZGVsZWdhdGUucmVzdWx0TmFtZV0gPSBpbmZvLnZhbHVlLCBjb250ZXh0Lm5leHQgPSBkZWxlZ2F0ZS5uZXh0TG9jLCAicmV0dXJuIiAhPT0gY29udGV4dC5tZXRob2QgJiYgKGNvbnRleHQubWV0aG9kID0gIm5leHQiLCBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZCksIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsLCBDb250aW51ZVNlbnRpbmVsKSA6IGluZm8gOiAoY29udGV4dC5tZXRob2QgPSAidGhyb3ciLCBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0IiksIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsLCBDb250aW51ZVNlbnRpbmVsKTsgfSBmdW5jdGlvbiBwdXNoVHJ5RW50cnkobG9jcykgeyB2YXIgZW50cnkgPSB7IHRyeUxvYzogbG9jc1swXSB9OyAxIGluIGxvY3MgJiYgKGVudHJ5LmNhdGNoTG9jID0gbG9jc1sxXSksIDIgaW4gbG9jcyAmJiAoZW50cnkuZmluYWxseUxvYyA9IGxvY3NbMl0sIGVudHJ5LmFmdGVyTG9jID0gbG9jc1szXSksIHRoaXMudHJ5RW50cmllcy5wdXNoKGVudHJ5KTsgfSBmdW5jdGlvbiByZXNldFRyeUVudHJ5KGVudHJ5KSB7IHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uIHx8IHt9OyByZWNvcmQudHlwZSA9ICJub3JtYWwiLCBkZWxldGUgcmVjb3JkLmFyZywgZW50cnkuY29tcGxldGlvbiA9IHJlY29yZDsgfSBmdW5jdGlvbiBDb250ZXh0KHRyeUxvY3NMaXN0KSB7IHRoaXMudHJ5RW50cmllcyA9IFt7IHRyeUxvYzogInJvb3QiIH1dLCB0cnlMb2NzTGlzdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyksIHRoaXMucmVzZXQoITApOyB9IGZ1bmN0aW9uIHZhbHVlcyhpdGVyYWJsZSkgeyBpZiAoaXRlcmFibGUpIHsgdmFyIGl0ZXJhdG9yTWV0aG9kID0gaXRlcmFibGVbaXRlcmF0b3JTeW1ib2xdOyBpZiAoaXRlcmF0b3JNZXRob2QpIHJldHVybiBpdGVyYXRvck1ldGhvZC5jYWxsKGl0ZXJhYmxlKTsgaWYgKCJmdW5jdGlvbiIgPT0gdHlwZW9mIGl0ZXJhYmxlLm5leHQpIHJldHVybiBpdGVyYWJsZTsgaWYgKCFpc05hTihpdGVyYWJsZS5sZW5ndGgpKSB7IHZhciBpID0gLTEsIG5leHQgPSBmdW5jdGlvbiBuZXh0KCkgeyBmb3IgKDsgKytpIDwgaXRlcmFibGUubGVuZ3RoOykgaWYgKGhhc093bi5jYWxsKGl0ZXJhYmxlLCBpKSkgcmV0dXJuIG5leHQudmFsdWUgPSBpdGVyYWJsZVtpXSwgbmV4dC5kb25lID0gITEsIG5leHQ7IHJldHVybiBuZXh0LnZhbHVlID0gdW5kZWZpbmVkLCBuZXh0LmRvbmUgPSAhMCwgbmV4dDsgfTsgcmV0dXJuIG5leHQubmV4dCA9IG5leHQ7IH0gfSByZXR1cm4geyBuZXh0OiBkb25lUmVzdWx0IH07IH0gZnVuY3Rpb24gZG9uZVJlc3VsdCgpIHsgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogITAgfTsgfSByZXR1cm4gR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIGRlZmluZVByb3BlcnR5KEdwLCAiY29uc3RydWN0b3IiLCB7IHZhbHVlOiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgY29uZmlndXJhYmxlOiAhMCB9KSwgZGVmaW5lUHJvcGVydHkoR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsICJjb25zdHJ1Y3RvciIsIHsgdmFsdWU6IEdlbmVyYXRvckZ1bmN0aW9uLCBjb25maWd1cmFibGU6ICEwIH0pLCBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IGRlZmluZShHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgdG9TdHJpbmdUYWdTeW1ib2wsICJHZW5lcmF0b3JGdW5jdGlvbiIpLCBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbiAoZ2VuRnVuKSB7IHZhciBjdG9yID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgZ2VuRnVuICYmIGdlbkZ1bi5jb25zdHJ1Y3RvcjsgcmV0dXJuICEhY3RvciAmJiAoY3RvciA9PT0gR2VuZXJhdG9yRnVuY3Rpb24gfHwgIkdlbmVyYXRvckZ1bmN0aW9uIiA9PT0gKGN0b3IuZGlzcGxheU5hbWUgfHwgY3Rvci5uYW1lKSk7IH0sIGV4cG9ydHMubWFyayA9IGZ1bmN0aW9uIChnZW5GdW4pIHsgcmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihnZW5GdW4sIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKSA6IChnZW5GdW4uX19wcm90b19fID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIGRlZmluZShnZW5GdW4sIHRvU3RyaW5nVGFnU3ltYm9sLCAiR2VuZXJhdG9yRnVuY3Rpb24iKSksIGdlbkZ1bi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEdwKSwgZ2VuRnVuOyB9LCBleHBvcnRzLmF3cmFwID0gZnVuY3Rpb24gKGFyZykgeyByZXR1cm4geyBfX2F3YWl0OiBhcmcgfTsgfSwgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKSwgZGVmaW5lKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlLCBhc3luY0l0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KSwgZXhwb3J0cy5Bc3luY0l0ZXJhdG9yID0gQXN5bmNJdGVyYXRvciwgZXhwb3J0cy5hc3luYyA9IGZ1bmN0aW9uIChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCwgUHJvbWlzZUltcGwpIHsgdm9pZCAwID09PSBQcm9taXNlSW1wbCAmJiAoUHJvbWlzZUltcGwgPSBQcm9taXNlKTsgdmFyIGl0ZXIgPSBuZXcgQXN5bmNJdGVyYXRvcih3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSwgUHJvbWlzZUltcGwpOyByZXR1cm4gZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uKG91dGVyRm4pID8gaXRlciA6IGl0ZXIubmV4dCgpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgeyByZXR1cm4gcmVzdWx0LmRvbmUgPyByZXN1bHQudmFsdWUgOiBpdGVyLm5leHQoKTsgfSk7IH0sIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhHcCksIGRlZmluZShHcCwgdG9TdHJpbmdUYWdTeW1ib2wsICJHZW5lcmF0b3IiKSwgZGVmaW5lKEdwLCBpdGVyYXRvclN5bWJvbCwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSksIGRlZmluZShHcCwgInRvU3RyaW5nIiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gIltvYmplY3QgR2VuZXJhdG9yXSI7IH0pLCBleHBvcnRzLmtleXMgPSBmdW5jdGlvbiAodmFsKSB7IHZhciBvYmplY3QgPSBPYmplY3QodmFsKSwga2V5cyA9IFtdOyBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSBrZXlzLnB1c2goa2V5KTsgcmV0dXJuIGtleXMucmV2ZXJzZSgpLCBmdW5jdGlvbiBuZXh0KCkgeyBmb3IgKDsga2V5cy5sZW5ndGg7KSB7IHZhciBrZXkgPSBrZXlzLnBvcCgpOyBpZiAoa2V5IGluIG9iamVjdCkgcmV0dXJuIG5leHQudmFsdWUgPSBrZXksIG5leHQuZG9uZSA9ICExLCBuZXh0OyB9IHJldHVybiBuZXh0LmRvbmUgPSAhMCwgbmV4dDsgfTsgfSwgZXhwb3J0cy52YWx1ZXMgPSB2YWx1ZXMsIENvbnRleHQucHJvdG90eXBlID0geyBjb25zdHJ1Y3RvcjogQ29udGV4dCwgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KHNraXBUZW1wUmVzZXQpIHsgaWYgKHRoaXMucHJldiA9IDAsIHRoaXMubmV4dCA9IDAsIHRoaXMuc2VudCA9IHRoaXMuX3NlbnQgPSB1bmRlZmluZWQsIHRoaXMuZG9uZSA9ICExLCB0aGlzLmRlbGVnYXRlID0gbnVsbCwgdGhpcy5tZXRob2QgPSAibmV4dCIsIHRoaXMuYXJnID0gdW5kZWZpbmVkLCB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KSwgIXNraXBUZW1wUmVzZXQpIGZvciAodmFyIG5hbWUgaW4gdGhpcykgInQiID09PSBuYW1lLmNoYXJBdCgwKSAmJiBoYXNPd24uY2FsbCh0aGlzLCBuYW1lKSAmJiAhaXNOYU4oK25hbWUuc2xpY2UoMSkpICYmICh0aGlzW25hbWVdID0gdW5kZWZpbmVkKTsgfSwgc3RvcDogZnVuY3Rpb24gc3RvcCgpIHsgdGhpcy5kb25lID0gITA7IHZhciByb290UmVjb3JkID0gdGhpcy50cnlFbnRyaWVzWzBdLmNvbXBsZXRpb247IGlmICgidGhyb3ciID09PSByb290UmVjb3JkLnR5cGUpIHRocm93IHJvb3RSZWNvcmQuYXJnOyByZXR1cm4gdGhpcy5ydmFsOyB9LCBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24gZGlzcGF0Y2hFeGNlcHRpb24oZXhjZXB0aW9uKSB7IGlmICh0aGlzLmRvbmUpIHRocm93IGV4Y2VwdGlvbjsgdmFyIGNvbnRleHQgPSB0aGlzOyBmdW5jdGlvbiBoYW5kbGUobG9jLCBjYXVnaHQpIHsgcmV0dXJuIHJlY29yZC50eXBlID0gInRocm93IiwgcmVjb3JkLmFyZyA9IGV4Y2VwdGlvbiwgY29udGV4dC5uZXh0ID0gbG9jLCBjYXVnaHQgJiYgKGNvbnRleHQubWV0aG9kID0gIm5leHQiLCBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZCksICEhY2F1Z2h0OyB9IGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHsgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldLCByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uOyBpZiAoInJvb3QiID09PSBlbnRyeS50cnlMb2MpIHJldHVybiBoYW5kbGUoImVuZCIpOyBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldikgeyB2YXIgaGFzQ2F0Y2ggPSBoYXNPd24uY2FsbChlbnRyeSwgImNhdGNoTG9jIiksIGhhc0ZpbmFsbHkgPSBoYXNPd24uY2FsbChlbnRyeSwgImZpbmFsbHlMb2MiKTsgaWYgKGhhc0NhdGNoICYmIGhhc0ZpbmFsbHkpIHsgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCAhMCk7IGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpOyB9IGVsc2UgaWYgKGhhc0NhdGNoKSB7IGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgITApOyB9IGVsc2UgeyBpZiAoIWhhc0ZpbmFsbHkpIHRocm93IG5ldyBFcnJvcigidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHkiKTsgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7IH0gfSB9IH0sIGFicnVwdDogZnVuY3Rpb24gYWJydXB0KHR5cGUsIGFyZykgeyBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7IHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTsgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYgJiYgaGFzT3duLmNhbGwoZW50cnksICJmaW5hbGx5TG9jIikgJiYgdGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykgeyB2YXIgZmluYWxseUVudHJ5ID0gZW50cnk7IGJyZWFrOyB9IH0gZmluYWxseUVudHJ5ICYmICgiYnJlYWsiID09PSB0eXBlIHx8ICJjb250aW51ZSIgPT09IHR5cGUpICYmIGZpbmFsbHlFbnRyeS50cnlMb2MgPD0gYXJnICYmIGFyZyA8PSBmaW5hbGx5RW50cnkuZmluYWxseUxvYyAmJiAoZmluYWxseUVudHJ5ID0gbnVsbCk7IHZhciByZWNvcmQgPSBmaW5hbGx5RW50cnkgPyBmaW5hbGx5RW50cnkuY29tcGxldGlvbiA6IHt9OyByZXR1cm4gcmVjb3JkLnR5cGUgPSB0eXBlLCByZWNvcmQuYXJnID0gYXJnLCBmaW5hbGx5RW50cnkgPyAodGhpcy5tZXRob2QgPSAibmV4dCIsIHRoaXMubmV4dCA9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jLCBDb250aW51ZVNlbnRpbmVsKSA6IHRoaXMuY29tcGxldGUocmVjb3JkKTsgfSwgY29tcGxldGU6IGZ1bmN0aW9uIGNvbXBsZXRlKHJlY29yZCwgYWZ0ZXJMb2MpIHsgaWYgKCJ0aHJvdyIgPT09IHJlY29yZC50eXBlKSB0aHJvdyByZWNvcmQuYXJnOyByZXR1cm4gImJyZWFrIiA9PT0gcmVjb3JkLnR5cGUgfHwgImNvbnRpbnVlIiA9PT0gcmVjb3JkLnR5cGUgPyB0aGlzLm5leHQgPSByZWNvcmQuYXJnIDogInJldHVybiIgPT09IHJlY29yZC50eXBlID8gKHRoaXMucnZhbCA9IHRoaXMuYXJnID0gcmVjb3JkLmFyZywgdGhpcy5tZXRob2QgPSAicmV0dXJuIiwgdGhpcy5uZXh0ID0gImVuZCIpIDogIm5vcm1hbCIgPT09IHJlY29yZC50eXBlICYmIGFmdGVyTG9jICYmICh0aGlzLm5leHQgPSBhZnRlckxvYyksIENvbnRpbnVlU2VudGluZWw7IH0sIGZpbmlzaDogZnVuY3Rpb24gZmluaXNoKGZpbmFsbHlMb2MpIHsgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkgeyB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07IGlmIChlbnRyeS5maW5hbGx5TG9jID09PSBmaW5hbGx5TG9jKSByZXR1cm4gdGhpcy5jb21wbGV0ZShlbnRyeS5jb21wbGV0aW9uLCBlbnRyeS5hZnRlckxvYyksIHJlc2V0VHJ5RW50cnkoZW50cnkpLCBDb250aW51ZVNlbnRpbmVsOyB9IH0sIGNhdGNoOiBmdW5jdGlvbiBfY2F0Y2godHJ5TG9jKSB7IGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHsgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldOyBpZiAoZW50cnkudHJ5TG9jID09PSB0cnlMb2MpIHsgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247IGlmICgidGhyb3ciID09PSByZWNvcmQudHlwZSkgeyB2YXIgdGhyb3duID0gcmVjb3JkLmFyZzsgcmVzZXRUcnlFbnRyeShlbnRyeSk7IH0gcmV0dXJuIHRocm93bjsgfSB9IHRocm93IG5ldyBFcnJvcigiaWxsZWdhbCBjYXRjaCBhdHRlbXB0Iik7IH0sIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uIGRlbGVnYXRlWWllbGQoaXRlcmFibGUsIHJlc3VsdE5hbWUsIG5leHRMb2MpIHsgcmV0dXJuIHRoaXMuZGVsZWdhdGUgPSB7IGl0ZXJhdG9yOiB2YWx1ZXMoaXRlcmFibGUpLCByZXN1bHROYW1lOiByZXN1bHROYW1lLCBuZXh0TG9jOiBuZXh0TG9jIH0sICJuZXh0IiA9PT0gdGhpcy5tZXRob2QgJiYgKHRoaXMuYXJnID0gdW5kZWZpbmVkKSwgQ29udGludWVTZW50aW5lbDsgfSB9LCBleHBvcnRzOyB9Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgppbXBvcnQgeyB1cGdyYWRlTGlzdEFwaSwgdXBncmFkZVByb2dyZXNzQXBpLCB1cGdyYWRlQWdyZWVtZW50QXBpLCB1cGdyYWRlU3RhdHVzQXBpLCB1cGdyYWRlTG9nTGlzdEFwaSwgdXBncmFkZWFibGVMaXN0QXBpLCBkb3dubG9hZEFwaSB9IGZyb20gJ0AvYXBpL3N5c3RlbSc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IEFjY291bnRMb2dvdXQgfSBmcm9tICdAL2FwaS9hY2NvdW50JzsKaW1wb3J0IHsgZ2V0Q29va2llcywgcmVtb3ZlQ29va2llcyB9IGZyb20gJ0AvbGlicy91dGlsJzsKaW1wb3J0IFNldHRpbmcgZnJvbSAnQC9zZXR0aW5nJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdzeXN0ZW1VcGdyYWRlY2xpZW50JywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgUGFuZWw6ICcxJywKICAgICAgY3VycmVudFRhYjogJzEnLAogICAgICBkZWNsYXJhdGlvbjogZmFsc2UsCiAgICAgIHVwZGF0ZU1vZGFsOiBmYWxzZSwKICAgICAgbW9kYWxfbG9hZGluZzogZmFsc2UsCiAgICAgIHBlcmNlbnQ6IDAsCiAgICAgIHBhcmFtczogW10sCiAgICAgIGFycjogW10sCiAgICAgIGR5bmFtaWM6IGZhbHNlLAogICAgICBzdGF0dXM6IGZhbHNlLAogICAgICB2ZXJzaW9uOiAnJywKICAgICAgZm9yY2VWZXJzaW9uOiAnJywKICAgICAgaGVhZGVyTGlzdDogW3sKICAgICAgICBsYWJlbDogJ+ezu+e7n+WNh+e6pycsCiAgICAgICAgdmFsdWU6IDEKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAn5Y2H57qn6K6w5b2VJywKICAgICAgICB2YWx1ZTogMgogICAgICB9XSwKICAgICAgdXBncmFkZUxpc3Q6IFtdLAogICAgICB1cGdyYWRlTG9nTGlzdDogW10sCiAgICAgIHVwZ3JhZGVhYmxlTGlzdDogW10sCiAgICAgIHVwZ3JhZGVQcm9ncmVzczogewogICAgICAgIHNwZWVkOiAwCiAgICAgIH0sCiAgICAgIHVwZ3JhZGVBZ3JlZW1lbnQ6IFtdLAogICAgICB1cGdyYWRlU3RhdHVzOiB7fSwKICAgICAgZG93bmxvYWRTdGF0dXM6IG51bGwsCiAgICAgIHBhZ2U6IDEsCiAgICAgIGxpbWl0OiAxNSwKICAgICAgLy8g5a6a5pe25ZmoCiAgICAgIHRpbWVyOiBudWxsLAogICAgICBwYXJhbXNfa2V5OiB1bmRlZmluZWQsCiAgICAgIG5ld0tleTogbnVsbCwKICAgICAgc2VydmlvblN0YXR1czogZmFsc2UsCiAgICAgIGNvdW50OiAwCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIC8vIHRoaXMuZ2V0VXBncmFkZUxpc3QoKTsKICAgIC8vIHRoaXMuZ2V0VXBncmFkZUxvZ0xpc3QoKTsKICAgIC8vIHRoaXMuZ2V0dXBncmFkZWFibGVMaXN0KCk7CiAgICAvLyBpZiAodGhpcy4kcm91dGUucGFyYW1zLml0ZW1zKSB7CiAgICAvLyAgIHRoaXMuZ2V0VXBncmFkZUFncmVlbWVudCgpOwogICAgLy8gfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfdGhpcy5nZXRVcGdyYWRlU3RhdHVzKCk7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0VXBncmFkZUxpc3QoKTsKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXR1cGdyYWRlYWJsZUxpc3QoKTsKICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgaWYgKF90aGlzLiRzdG9yZS5zdGF0ZS51cGdyYWRlLnRvZ2dsZVN0YXR1cykgewogICAgICAgICAgICAgIF90aGlzLnNlcnZpb25TdGF0dXMgPSB0cnVlOwogICAgICAgICAgICAgIF90aGlzLmdldFVwZ3JhZGVBZ3JlZW1lbnQoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyB0aGlzLmNvbXBhcmUoKTsKICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgd2F0Y2g6IHsKICAgICd1cGdyYWRlUHJvZ3Jlc3Muc3BlZWQnOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIobmV3VmFsLCBvbGRWYWwpIHsKICAgICAgICBpZiAobmV3VmFsID09PSAnMTAwLjAnKSB7CiAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgLy8gJ3RoaXMuZG93bmxvYWRTdGF0dXMnOiB7CiAgICAvLyAgIGhhbmRsZXIobmV3VmFsLCBvbGRWYWwpIHsKICAgIC8vICAgICBpZiAobmV3VmFsID0gJzIwMCcpIHsKICAgIC8vICAgICAgIHRoaXMudXBkYXRlTW9kYWwgPSBmYWxzZTsKICAgIC8vICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7CiAgICAvLyAgICAgfQogICAgLy8gICB9CiAgICAvLyB9CiAgfSwKCiAgbWV0aG9kczogewogICAgaGFuZGxlUmVhY2hCb3R0b206IGZ1bmN0aW9uIGhhbmRsZVJlYWNoQm90dG9tKCkgewogICAgICBpZiAodGhpcy5jb3VudCA9PT0gdGhpcy51cGdyYWRlTG9nTGlzdC5sZW5ndGgpIHsKICAgICAgICB0aGlzLiRNZXNzYWdlLndhcm5pbmcoJ+aaguaXoOabtOWkmuWNh+e6p+iusOW9lScpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZ2V0VXBncmFkZUxvZ0xpc3QoKTsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZUNsaWNrOiBmdW5jdGlvbiBoYW5kbGVDbGljayh0YWIsIGV2ZW50KSB7CiAgICAgIHRoaXMucGFnZSA9IDE7CiAgICAgIGlmICh0YWIgPT0gMSkgewogICAgICAgIHRoaXMuZ2V0dXBncmFkZWFibGVMaXN0KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy51cGdyYWRlTG9nTGlzdCA9IFtdOwogICAgICAgIHRoaXMuZ2V0VXBncmFkZUxvZ0xpc3QoKTsKICAgICAgfQogICAgfSwKICAgIC8vIOWNh+e6p+WIl+ihqAogICAgZ2V0VXBncmFkZUxpc3Q6IGZ1bmN0aW9uIGdldFVwZ3JhZGVMaXN0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGRhdGEsIHJlczsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgIHBhZ2U6IF90aGlzMi5wYWdlLAogICAgICAgICAgICAgICAgbGltaXQ6IF90aGlzMi5saW1pdAogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiB1cGdyYWRlTGlzdEFwaShkYXRhKTsKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIF90aGlzMi51cGdyYWRlTGlzdCA9IHJlcy5kYXRhLmxpc3Q7CiAgICAgICAgICAgICAgX3RoaXMyLnVwZ3JhZGVMaXN0ID0gcmVzLmRhdGEubGlzdDsKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5Y2H57qn6K6w5b2VCiAgICBnZXRVcGdyYWRlTG9nTGlzdDogZnVuY3Rpb24gZ2V0VXBncmFkZUxvZ0xpc3QoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICBwYWdlOiB0aGlzLnBhZ2UsCiAgICAgICAgbGltaXQ6IHRoaXMubGltaXQKICAgICAgfTsKICAgICAgdXBncmFkZUxvZ0xpc3RBcGkoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMzLnVwZ3JhZGVMb2dMaXN0ID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShfdGhpczMudXBncmFkZUxvZ0xpc3QpLCBfdG9Db25zdW1hYmxlQXJyYXkocmVzLmRhdGEubGlzdCkpOwogICAgICAgIF90aGlzMy5jb3VudCA9IHJlcy5kYXRhLmNvdW50OwogICAgICAgIGlmIChfdGhpczMudXBncmFkZUxvZ0xpc3QubGVuZ3RoIDwgX3RoaXMzLmNvdW50KSB7CiAgICAgICAgICBfdGhpczMucGFnZSsrOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMy4kTWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5Y+v5Y2H57qn5YiX6KGoCiAgICBnZXR1cGdyYWRlYWJsZUxpc3Q6IGZ1bmN0aW9uIGdldHVwZ3JhZGVhYmxlTGlzdCgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciByZXMsIGZpcnN0VmVyLCBkYXRhOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIHVwZ3JhZGVhYmxlTGlzdEFwaSgpOwogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgX3RoaXM0LnVwZ3JhZGVhYmxlTGlzdCA9IHJlcy5kYXRhOwogICAgICAgICAgICAgIGZpcnN0VmVyID0gcmVzLmRhdGFbMF07CiAgICAgICAgICAgICAgaWYgKF90aGlzNC4kc3RvcmUuc3RhdGUudXBncmFkZS50b2dnbGVTdGF0dXMgfHwgX3RoaXM0LnVwZ3JhZGVTdGF0dXMuZm9yY2VfcmVtaW5kZXIpIHsKICAgICAgICAgICAgICAgIGRhdGEgPSByZXMuZGF0YS5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLmZvcmNlX3JlbWluZGVyID09PSAxOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfdGhpczQubmV3S2V5ID0gZGF0YS5wYWNrYWdlX2tleTsKICAgICAgICAgICAgICAgIF90aGlzNC5mb3JjZVZlcnNpb24gPSBkYXRhLmZpcnN0X3ZlcnNpb24gKyAnLicgKyBkYXRhLnNlY29uZF92ZXJzaW9uICsgJy4nICsgZGF0YS50aGlyZF92ZXJzaW9uICsgJy4nICsgZGF0YS5mb3VydGhfdmVyc2lvbjsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgX3RoaXM0LnBhcmFtc19rZXkgPSBfdGhpczQudXBncmFkZWFibGVMaXN0WzBdLnBhY2thZ2Vfa2V5OwogICAgICAgICAgICAgICAgX3RoaXM0LmZvcmNlVmVyc2lvbiA9IGZpcnN0VmVyLmZpcnN0X3ZlcnNpb24gKyAnLicgKyBmaXJzdFZlci5zZWNvbmRfdmVyc2lvbiArICcuJyArIGZpcnN0VmVyLnRoaXJkX3ZlcnNpb24gKyAnLicgKyBmaXJzdFZlci5mb3VydGhfdmVyc2lvbjsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIC8vIGFyci5mb3JFYWNoKChpdGVtKSA9PiB7CiAgICAgICAgICAgICAgLy8gICB0aGlzLiRzZXQoCiAgICAgICAgICAgICAgLy8gICAgIGl0ZW0sCiAgICAgICAgICAgICAgLy8gICAgICdzZXJ2aW9uJywKICAgICAgICAgICAgICAvLyAgICAgaXRlbS5maXJzdF92ZXJzaW9uICsgJy4nICsgaXRlbS5zZWNvbmRfdmVyc2lvbiArICcuJyArIGl0ZW0udGhpcmRfdmVyc2lvbiArICcuJyArIGl0ZW0uZm91cnRoX3ZlcnNpb24sCiAgICAgICAgICAgICAgLy8gICApOwogICAgICAgICAgICAgIC8vIH0pOwoKICAgICAgICAgICAgICAvLyBsZXQgZGF0YSA9IFtdOwogICAgICAgICAgICAgIC8vIGFyci5tYXAoKGVsZSkgPT4gewogICAgICAgICAgICAgIC8vICAgZGF0YS5wdXNoKGVsZS5zZXJ2aW9uKTsKICAgICAgICAgICAgICAvLyB9KTsKICAgICAgICAgICAgICAvLyAvLyDniYjmnKzlj7fmjpLluo8KICAgICAgICAgICAgICAvLyBmdW5jdGlvbiBzb3J0VmVyc2lvbihsaXN0KSB7CiAgICAgICAgICAgICAgLy8gICByZXR1cm4gbGlzdC5zb3J0KCh2ZXJzaW9uMSwgdmVyc2lvbjIpID0+IHsKICAgICAgICAgICAgICAvLyAgICAgY29uc3QgYXJyMSA9IHZlcnNpb24xLnNwbGl0KCcuJykubWFwKChlKSA9PiBlICogMSk7CiAgICAgICAgICAgICAgLy8gICAgIGNvbnN0IGFycjIgPSB2ZXJzaW9uMi5zcGxpdCgnLicpLm1hcCgoZSkgPT4gZSAqIDEpOwogICAgICAgICAgICAgIC8vICAgICBjb25zdCBsZW5ndGggPSBNYXRoLm1heChhcnIxLmxlbmd0aCwgYXJyMi5sZW5ndGgpOwogICAgICAgICAgICAgIC8vICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgLy8gICAgICAgaWYgKChhcnIxW2ldIHx8IDApID4gKGFycjJbaV0gfHwgMCkpIHJldHVybiAxOwogICAgICAgICAgICAgIC8vICAgICAgIGlmICgoYXJyMVtpXSB8fCAwKSA8IChhcnIyW2ldIHx8IDApKSByZXR1cm4gLTE7CiAgICAgICAgICAgICAgLy8gICAgIH0KICAgICAgICAgICAgICAvLyAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgICAgLy8gICB9KTsKICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgICAgLy8gdGhpcy5mb3JjZVZlcnNpb24gPSBkYXRhWzBdOwogICAgICAgICAgICAgIC8vIHRoaXMucGFyYW1zLm1hcCgoaXRlbSkgPT4gewogICAgICAgICAgICAgIC8vICAgaWYgKGl0ZW0uc2VydmlvbiA9PSBkYXRhW2RhdGEubGVuZ3RoIC0gMV0pIHsKICAgICAgICAgICAgICAvLyAgICAgdGhpcy5uZXdLZXkgPSBpdGVtLnBhY2thZ2Vfa2V5OwogICAgICAgICAgICAgIC8vICAgfQogICAgICAgICAgICAgIC8vIH0pOwogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDkuIvovb3ljYfnuqfljIUKICAgIGdldGRvd25sb2FkOiBmdW5jdGlvbiBnZXRkb3dubG9hZCgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CiAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS51cGdyYWRlLnRvZ2dsZVN0YXR1cyB8fCB0aGlzLnVwZ3JhZGVTdGF0dXMuZm9yY2VfcmVtaW5kZXIpIHsKICAgICAgICB0aGlzLnBhcmFtc19rZXkgPSB0aGlzLm5ld0tleTsKICAgICAgfQogICAgICBkb3dubG9hZEFwaSh0aGlzLnBhcmFtc19rZXkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIC8vIHRoaXMuZG93bmxvYWRTdGF0dXMgPSByZXMuc3RhdHVzOwogICAgICAgIGlmIChyZXMuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgaWYgKF90aGlzNS51cGdyYWRlUHJvZ3Jlc3Muc3BlZWQgIT09ICcxMDAuMCcpIHsKICAgICAgICAgICAgX3RoaXM1LnRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgX3RoaXM1LmdldFVwZ3JhZGVQcm9ncmVzcygpOwogICAgICAgICAgICAgIH0sIDApOwogICAgICAgICAgICB9LCA1MDAwKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoX3RoaXM1LnRpbWVyKTsKICAgICAgICAgICAgX3RoaXM1LnVwZGF0ZU1vZGFsID0gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzNS51cGRhdGVNb2RhbCA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNsZWFySW50ZXJ2YWwoX3RoaXM1LnRpbWVyKTsKICAgICAgICBfdGhpczUuJE1lc3NhZ2UuZXJyb3IoJ+S4i+i9vee7iOatoicpOwogICAgICAgIF90aGlzNS51cGRhdGVNb2RhbCA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBkb3dubG9hZEZpbGU6IGZ1bmN0aW9uIGRvd25sb2FkRmlsZSh1cmwpIHsKICAgICAgd2luZG93Lm9wZW4odXJsLCAnX2JsYW5rJyk7CiAgICB9LAogICAgLy8g5Y2H57qn6L+b5bqmCiAgICBnZXRVcGdyYWRlUHJvZ3Jlc3M6IGZ1bmN0aW9uIGdldFVwZ3JhZGVQcm9ncmVzcygpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CiAgICAgIHVwZ3JhZGVQcm9ncmVzc0FwaSgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNi51cGdyYWRlUHJvZ3Jlc3MgPSByZXMuZGF0YTsKICAgICAgICBfdGhpczYuZG93bmxvYWRTdGF0dXMgPSByZXMuc3RhdHVzOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY2xlYXJJbnRlcnZhbChfdGhpczYudGltZXIpOwogICAgICAgIF90aGlzNi4kTWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5Y2H57qn5Y2P6K6uCiAgICBnZXRVcGdyYWRlQWdyZWVtZW50OiBmdW5jdGlvbiBnZXRVcGdyYWRlQWdyZWVtZW50KCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKICAgICAgdXBncmFkZUFncmVlbWVudEFwaSgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNy51cGdyYWRlQWdyZWVtZW50ID0gcmVzLmRhdGE7CiAgICAgICAgX3RoaXM3LmRlY2xhcmF0aW9uID0gdHJ1ZTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNy4kTWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5Y2H57qn54q25oCBCiAgICBnZXRVcGdyYWRlU3RhdHVzOiBmdW5jdGlvbiBnZXRVcGdyYWRlU3RhdHVzKCkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKICAgICAgdXBncmFkZVN0YXR1c0FwaSgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzOC51cGdyYWRlU3RhdHVzID0gcmVzLmRhdGE7CiAgICAgICAgaWYgKHJlcy5kYXRhLmZvcmNlX3JlbWluZGVyKSB7CiAgICAgICAgICBfdGhpczguZGVjbGFyYXRpb24gPSB0cnVlOwogICAgICAgICAgX3RoaXM4LmdldFVwZ3JhZGVBZ3JlZW1lbnQoKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczguJE1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOeri+WNs+abtOaWsAogICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoaXRlbSkgewogICAgICB0aGlzLmRlY2xhcmF0aW9uID0gdHJ1ZTsKICAgICAgaWYgKGl0ZW0gJiYgdGhpcy4kc3RvcmUuc3RhdGUudXBncmFkZS50b2dnbGVTdGF0dXMgPT0gZmFsc2UpIHsKICAgICAgICB0aGlzLnBhcmFtc19rZXkgPSBpdGVtLnBhcmFtc19rZXk7CiAgICAgIH0KICAgICAgLy8gdGhpcy52ZXJzaW9uID0gaXRlbS5maXJzdF92ZXJzaW9uICsgIi4iICsgaXRlbS5zZWNvbmRfdmVyc2lvbiArICIuIiArIGl0ZW0udGhpcmRfdmVyc2lvbiArICIuIiArIGl0ZW0uZm91cnRoX3ZlcnNpb247CiAgICAgIHRoaXMuZ2V0VXBncmFkZUFncmVlbWVudCgpOwogICAgfSwKICAgIC8vIOavlOi+g+ebuOWQjOeJiOacrOWPtwogICAgY29tcGFyZTogZnVuY3Rpb24gY29tcGFyZSgpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CiAgICAgIHRoaXMudXBncmFkZUxpc3QubWFwKGZ1bmN0aW9uIChlbGUsIGkpIHsKICAgICAgICBfdGhpczkuJHNldChfdGhpczkudXBncmFkZUxpc3RbaV0sICdtbicsIGVsZS5maXJzdF92ZXJzaW9uICsgZWxlLnNlY29uZF92ZXJzaW9uICsgZWxlLnRoaXJkX3ZlcnNpb24gKyBlbGUuZm91cnRoX3ZlcnNpb24pOwogICAgICAgIF90aGlzOS51cGdyYWRlYWJsZUxpc3QubWFwKGZ1bmN0aW9uIChpdGVtLCBpKSB7CiAgICAgICAgICBfdGhpczkuJHNldChfdGhpczkudXBncmFkZWFibGVMaXN0W2ldLCAnbW4nLCBpdGVtLmZpcnN0X3ZlcnNpb24gKyBpdGVtLnNlY29uZF92ZXJzaW9uICsgaXRlbS50aGlyZF92ZXJzaW9uICsgaXRlbS5mb3VydGhfdmVyc2lvbik7CiAgICAgICAgfSk7CiAgICAgICAgaWYgKF90aGlzOS51cGdyYWRlTGlzdFtpXS5tbiA9PSBfdGhpczkudXBncmFkZWFibGVMaXN0W2ldLm1uKSB7CiAgICAgICAgICBfdGhpczkuJHNldChfdGhpczkudXBncmFkZUxpc3RbaV0sICdpbmRleG4nLCB0cnVlKTsKICAgICAgICAgIF90aGlzOS4kc2V0KF90aGlzOS51cGdyYWRlTGlzdFtpXSwgJ3BhcmFtc19rZXknLCBfdGhpczkudXBncmFkZWFibGVMaXN0W2ldLnBhY2thZ2Vfa2V5KTsKICAgICAgICAgIF90aGlzOS4kc2V0KF90aGlzOS51cGdyYWRlYWJsZUxpc3RbaV0sICdpbmRleG4nLCB0cnVlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWQjOaEjwogICAgYWdyZWU6IGZ1bmN0aW9uIGFncmVlKCkgewogICAgICB0aGlzLmRlY2xhcmF0aW9uID0gZmFsc2U7CiAgICAgIHRoaXMudXBkYXRlTW9kYWwgPSB0cnVlOwogICAgICB0aGlzLmdldGRvd25sb2FkKCk7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgidXBncmFkZS9UT0dHTEVfU1RBVFVTIiwgZmFsc2UpOwogICAgfSwKICAgIHJlamVjdDogZnVuY3Rpb24gcmVqZWN0KCkgewogICAgICB0aGlzLmRlY2xhcmF0aW9uID0gZmFsc2U7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgidXBncmFkZS9UT0dHTEVfU1RBVFVTIiwgZmFsc2UpOwogICAgfSwKICAgIGJhY2s6IGZ1bmN0aW9uIGJhY2soKSB7CiAgICAgIHZhciBfdGhpczEwID0gdGhpczsKICAgICAgdGhpcy51cGRhdGVNb2RhbCA9IGZhbHNlOwogICAgICAvLyB0aGlzLmdldFVwZ3JhZGVMaXN0KCk7CiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7CiAgICAgIEFjY291bnRMb2dvdXQoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczEwLiRNZXNzYWdlLnN1Y2Nlc3MoJ+aCqOW3suaIkOWKn+mAgOWHuicpOwogICAgICAgIF90aGlzMTAuJHJvdXRlci5yZXBsYWNlKF90aGlzMTAuJHJvdXRlUHJvU3RyICsgJy9sb2dpbicpOwogICAgICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpOwogICAgICAgIHJlbW92ZUNvb2tpZXMoJ3Rva2VuJyk7CiAgICAgICAgcmVtb3ZlQ29va2llcygnZXhwaXJlc190aW1lJyk7CiAgICAgICAgcmVtb3ZlQ29va2llcygndXVpZCcpOwogICAgICAgIC8vIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVzKSB7fSk7CiAgICB9LAogICAgYmFja1N1cmU6IGZ1bmN0aW9uIGJhY2tTdXJlKCkgewogICAgICB0aGlzLnVwZGF0ZU1vZGFsID0gZmFsc2U7CiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7CiAgICB9LAogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHRoaXMudXBkYXRlTW9kYWwgPSBmYWxzZTsKICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTsKICAgIH0sCiAgICAvLyDlr7zlh7rlpIfku73mlofku7YKICAgIGV4cG9ydHM6IGZ1bmN0aW9uIGV4cG9ydHMoaXRlbSkgewogICAgICB2YXIgbmFtZSA9IGl0ZW0udGl0bGUgKyAndicgKyBpdGVtLmZpcnN0X3ZlcnNpb24gKyAnLicgKyBpdGVtLnNlY29uZF92ZXJzaW9uICsgJy4nICsgaXRlbS50aGlyZF92ZXJzaW9uICsgJy4nICsgaXRlbS5mb3VydGhfdmVyc2lvbiArICcuJyArIGl0ZW0udXBncmFkZV90aW1lOwogICAgICB2YXIgaHJlZiA9IFNldHRpbmcuYXBpQmFzZVVSTCArICIvc3lzdGVtL3VwZ3JhZGVfZXhwb3J0LyIuY29uY2F0KGl0ZW0uaWQsICIvZmlsZSIpOwogICAgICBheGlvcyh7CiAgICAgICAgbWV0aG9kOiAnZ2V0JywKICAgICAgICB1cmw6IGhyZWYsCiAgICAgICAgcmVzcG9uc2VUeXBlOiAnYmxvYicsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0F1dGhvcmktemF0aW9uJzogJ0JlYXJlciAnICsgZ2V0Q29va2llcygndG9rZW4nKQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbcmVzLmRhdGFdLCB7CiAgICAgICAgICB0eXBlOiAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtO2NoYXJzZXQ9VVRGLTgnCiAgICAgICAgfSk7CiAgICAgICAgdmFyIGRvd25sb2FkRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICAgICAgICAvLyDkuIvovb3nmoTmlofku7blkI0KICAgICAgICBkb3dubG9hZEVsZW1lbnQuZG93bmxvYWQgPSAiIi5jb25jYXQobmFtZSwgIi56aXAiKTsKICAgICAgICAvLyDliJvlu7rkuIvovb3nmoTpk77mjqUKICAgICAgICBkb3dubG9hZEVsZW1lbnQuaHJlZiA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOwogICAgICAgIC8vIOeCueWHu+S4i+i9vQogICAgICAgIGRvd25sb2FkRWxlbWVudC5jbGljaygpOwogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZG93bmxvYWRFbGVtZW50KTsKICAgICAgICAvLyDkuIvovb3lrozmiJDnp7vpmaTlhYPntKAKICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGRvd25sb2FkRWxlbWVudCk7CiAgICAgICAgLy8g6YeK5pS+5o6JYmxvYuWvueixoQogICAgICAgIHdpbmRvdy5VUkwucmV2b2tlT2JqZWN0VVJMKGRvd25sb2FkRWxlbWVudC5ocmVmKTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlRG93bmxvYWQ6IGZ1bmN0aW9uIGhhbmRsZURvd25sb2FkKGl0ZW0pIHsKICAgICAgdmFyIG5hbWUgPSBpdGVtLnRpdGxlICsgJ3YnICsgaXRlbS5maXJzdF92ZXJzaW9uICsgJy4nICsgaXRlbS5zZWNvbmRfdmVyc2lvbiArICcuJyArIGl0ZW0udGhpcmRfdmVyc2lvbiArICcuJyArIGl0ZW0uZm91cnRoX3ZlcnNpb24gKyAnLicgKyBpdGVtLnVwZ3JhZGVfdGltZTsKICAgICAgdmFyIGhyZWYgPSBTZXR0aW5nLmFwaUJhc2VVUkwgKyAiL3N5c3RlbS91cGdyYWRlX2V4cG9ydC8iLmNvbmNhdChpdGVtLmlkLCAiL2RhdGEiKTsKICAgICAgYXhpb3MoewogICAgICAgIG1ldGhvZDogJ2dldCcsCiAgICAgICAgdXJsOiBocmVmLAogICAgICAgIHJlc3BvbnNlVHlwZTogJ2Jsb2InLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdBdXRob3JpLXphdGlvbic6ICdCZWFyZXIgJyArIGdldENvb2tpZXMoJ3Rva2VuJykKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHZhciBibG9iID0gbmV3IEJsb2IoW3Jlcy5kYXRhXSwgewogICAgICAgICAgdHlwZTogJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbTtjaGFyc2V0PVVURi04JwogICAgICAgIH0pOwogICAgICAgIHZhciBkb3dubG9hZEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAgICAgLy8g5LiL6L2955qE5paH5Lu25ZCNCiAgICAgICAgZG93bmxvYWRFbGVtZW50LmRvd25sb2FkID0gIiIuY29uY2F0KG5hbWUsICIuZ3oiKTsKICAgICAgICAvLyDliJvlu7rkuIvovb3nmoTpk77mjqUKICAgICAgICBkb3dubG9hZEVsZW1lbnQuaHJlZiA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOwogICAgICAgIC8vIOeCueWHu+S4i+i9vQogICAgICAgIGRvd25sb2FkRWxlbWVudC5jbGljaygpOwogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZG93bmxvYWRFbGVtZW50KTsKICAgICAgICAvLyDkuIvovb3lrozmiJDnp7vpmaTlhYPntKAKICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGRvd25sb2FkRWxlbWVudCk7CiAgICAgICAgLy8g6YeK5pS+5o6JYmxvYuWvueixoQogICAgICAgIHdpbmRvdy5VUkwucmV2b2tlT2JqZWN0VVJMKGRvd25sb2FkRWxlbWVudC5ocmVmKTsKICAgICAgfSk7CiAgICB9LAogICAgcXVlYXJ5RXZlYXI6IGZ1bmN0aW9uIHF1ZWFyeUV2ZWFyKGlkLCBpbmRleCkgewogICAgICB0aGlzLmR5bmFtaWMgPSBpbmRleDsKICAgIH0KICB9LAogIGRlc3Ryb3llZDogZnVuY3Rpb24gZGVzdHJveWVkKCkgewogICAgLy/plIDmr4EKICAgIGNsZWFySW50ZXJ2YWwodGlocy50aW1lcik7CiAgfQp9Ow=="},{"version":3,"names":["upgradeListApi","upgradeProgressApi","upgradeAgreementApi","upgradeStatusApi","upgradeLogListApi","upgradeableListApi","downloadApi","axios","AccountLogout","getCookies","removeCookies","Setting","name","data","Panel","currentTab","declaration","updateModal","modal_loading","percent","params","arr","dynamic","status","version","forceVersion","headerList","label","value","upgradeList","upgradeLogList","upgradeableList","upgradeProgress","speed","upgradeAgreement","upgradeStatus","downloadStatus","page","limit","timer","params_key","undefined","newKey","servionStatus","count","created","mounted","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","getUpgradeStatus","getUpgradeList","getupgradeableList","$store","state","upgrade","toggleStatus","getUpgradeAgreement","stop","watch","handler","newVal","oldVal","clearInterval","methods","handleReachBottom","length","$Message","warning","getUpgradeLogList","handleClick","tab","event","_this2","_callee2","res","_callee2$","_context2","sent","list","_this3","then","concat","_toConsumableArray","catch","error","msg","_this4","_callee3","firstVer","_callee3$","_context3","force_reminder","find","item","package_key","first_version","second_version","third_version","fourth_version","getdownload","_this5","setInterval","setTimeout","getUpgradeProgress","err","downloadFile","url","window","open","_this6","_this7","_this8","update","compare","_this9","map","ele","i","$set","mn","agree","commit","reject","back","_this10","success","$router","replace","$routeProStr","localStorage","clear","backSure","cancel","exports","title","upgrade_time","href","apiBaseURL","id","method","responseType","headers","blob","Blob","type","downloadElement","document","createElement","download","URL","createObjectURL","click","body","appendChild","removeChild","revokeObjectURL","handleDownload","quearyEvear","index","destroyed","tihs"],"sources":["src/pages/system/onlineUpgrade/index.vue"],"sourcesContent":["<template>\n<div class=\"upgrade\">\n    <Card :bordered=\"false\" dis-hover class=\"ivu-mt\">\n      <div class=\"header\">\n        <div>当前版本<span class=\"v\"></span><span class=\"num\">{{$store.state.userInfo.version}}</span></div>\n        <div class=\"info title\">\n          更新说明：\n          <span v-if=\"upgradeStatus.status != 1\">已升级至最新版本，无需更新</span>\n        <ul v-if=\"upgradeStatus.status == 1\">\n          <li>{{upgradeStatus.title}}</li>\n        </ul>\n        </div>\n        <Button v-if=\"currentTab == 1 && upgradeStatus.status == 1\" type=\"primary\" class=\"primary btn update\" @click=\"update()\">立即更新</Button>\n      </div>\n    </Card>\n    <Card :bordered=\"false\" dis-hover class=\"ivu-mt\">\n        <div>\n          <Tabs v-model=\"currentTab\" @on-click=\"handleClick\">\n            <TabPane :label=\"item.label\" :name=\"item.value.toString()\" v-for=\"item in headerList\" :key=\"item.id\"/>\n          </Tabs>\n        </div>\n          <div class=\"contentTime\" v-if=\"currentTab == 1\">\n            <div class=\"acea-row row-top on\" @mouseenter=\"quearyEvear(item.id,index)\" v-for=\"(item, index) in upgradeList\" :key=\"index\" :class=\"{active:index==dynamic}\">\n                <div class=\"time\">{{item.release_time}}</div>\n                <Timeline class=\"list\">\n                    <TimelineItem>\n                        <!-- <Icon :type=\"index==0 ? 'md-radio-button-on' : 'md-radio-button-off'\" slot=\"dot\"/> -->\n                        <Collapse simple>\n                            <Panel hide-arrow>\n                                {{item.title}} v{{item.first_version}}.{{item.second_version}}.{{item.third_version}}.{{item.fourth_version}}<Icon type=\"ios-arrow-down\" />\n                              <p slot=\"content\" class=\"info\">\n                                <ul style=\"white-space: pre-wrap;\">\n                                  <li v-html=\"item.content\"></li>\n                                </ul>\n                              </p>\n                            </Panel>\n                        </Collapse>\n                    </TimelineItem>\n                    <Button v-if=\"item.client_package_link\" type=\"success\"  class=\"primary btn\" @click=\"downloadFile(item.client_package_link)\">移动端源码</Button>\n                    <Button v-if=\"item.pc_package_link\" type=\"primary\" class=\"primary btn1\" @click=\"downloadFile(item.pc_package_link)\">PC端源码</Button>\n                </Timeline>\n            </div>\n        </div>\n        <Scroll v-if=\"currentTab == 2\" :on-reach-bottom=\"handleReachBottom\" height=\"550\">\n        <div class=\"contentTime\" >\n            <div class=\"acea-row row-top off\" @mouseenter=\"quearyEvear(item.id,index)\" v-for=\"(item,index) in upgradeLogList\" :key=\"index\" :class=\"{active:index==dynamic}\">\n                <div class=\"time\">\n                    <div v-if=\"index == 0\">最近更新</div>\n                    <div>{{item.upgrade_time}}</div>\n                  </div>\n                <Timeline class=\"list\">\n                    <TimelineItem>\n                        <Icon :type=\"index==0 ? 'md-radio-button-on' : 'md-radio-button-off'\" slot=\"dot\"/>\n                        <Collapse simple>\n                            <Panel hide-arrow>\n                                {{item.title}} v{{item.first_version}}.{{item.second_version}}.{{item.third_version}}.{{item.fourth_version}}<Icon type=\"ios-arrow-down\" />\n                              <p slot=\"content\" class=\"info\">\n                                <ul style=\"white-space: pre-wrap;\">\n                                  <li v-html=\"item.content\"></li>\n                                </ul>\n                              </p>\n                            </Panel>\n                        </Collapse>\n                    </TimelineItem>\n                    <!-- <Button v-if=\"item.data_status == 1\" type=\"primary\" class=\"primary btn\" @click=\"handleDownload(item)\">数据库备份</Button>\n                    <Button v-if=\"item.file_status == 1\" type=\"primary\" class=\"primary btn1\" @click=\"exports(item)\">导出文件</Button> -->\n                </Timeline>\n            </div>\n        </div>\n        </Scroll>\n\n    </Card>\n    <!-- 免责声明 -->\n    <Modal :loading=\"modal_loading\" v-model=\"declaration\" width=\"340\" height=\"96\" :closable=\"false\" class-name=\"vertical-center-modal\" :mask-closable=\"false\">\n        <p slot=\"header\" class=\"header-modal\">\n          <span>{{upgradeAgreement.title}}</span>\n        </p>\n        <div class=\"describe\">\n          <p v-html=\"upgradeAgreement.content\"></p>\n        </div>\n        <div slot=\"footer\" class=\"footer\">\n            <Button class=\"cancel\" shape=\"circle\" @click=\"reject\">拒绝</Button>\n            <Button shape=\"circle\" type=\"primary\" @click=\"agree()\">同意</Button>\n        </div>\n    </Modal>\n    <!-- 升级 -->\n    <Modal v-model=\"updateModal\" width=\"340\" height=\"96\" :closable=\"false\" class-name=\"vertical-center-modal\" :mask-closable=\"false\" @on-cancel=\"cancel\">\n        <p slot=\"header\" class=\"header-modal2\">\n          <span >升级至v{{forceVersion}}</span>\n        </p>\n        <div class=\"describe\" v-if=\"upgradeProgress.speed != '100.0' || this.downloadStatus !='200'\">\n          <i-circle\n            :size=\"140\"\n            :trail-width=\"4\"\n            :stroke-width=\"5\"\n            :percent=\"Number(upgradeProgress.speed)\"\n            stroke-linecap=\"square\"\n            stroke-color=\"#43a3fb\">\n            <div class=\"demo-i-circle-custom\">\n                <p>{{upgradeProgress.tip || '升级中'}}</p>\n            </div>\n          </i-circle>\n          <div class=\"proportion\">{{!upgradeProgress.speed?'':upgradeProgress.speed+'%'}}</div>\n          <div class=\"wait\">正在更新，请耐心等候～</div>\n        </div>\n        <div slot=\"footer\">\n          <!-- <div v-if=\"upgradeProgress.speed == '100.0'\"><Button class=\"back\" type=\"primary\" shape=\"circle\" @click=\"updateModal = false\">确认</Button></div> -->\n        </div>\n        <div v-if=\"upgradeProgress.speed == '100.0'\" class=\"describe\">\n          <i-circle :percent=\"100\" stroke-color=\"#5cb85c\">\n            <Icon type=\"ios-checkmark\" size=\"90\" style=\"color:#5cb85c\"></Icon>\n          </i-circle>\n          <div class=\"success\">升级成功</div>\n        </div>\n        <!-- <div v-if=\"upgradeProgress.speed == '100.0'\" class=\"describe\">\n          <i-circle :percent=\"100\" stroke-color=\"#5cb85c\">\n            <Icon type=\"md-close\" size=\"90\" style=\"color:#5cb85c\">\n          </i-circle>\n          <div class=\"success\">升级失败</div>\n        </div> -->\n        <div v-if=\"upgradeProgress.speed == '100.0'\" slot=\"footer\" class=\"footer2\">\n          <Button class=\"confirm\" type=\"primary\" shape=\"circle\" @click=\"back()\">确认</Button>\n          <!-- <div><Button class=\"back\" shape=\"circle\" @click=\"backSure()\">返回</Button></div> -->\n        </div>\n    </Modal>\n</div>\n</template>\n\n<script>\nimport {\n  upgradeListApi,\n  upgradeProgressApi,\n  upgradeAgreementApi,\n  upgradeStatusApi,\n  upgradeLogListApi,\n  upgradeableListApi,\n  downloadApi,\n} from '@/api/system';\nimport axios from 'axios';\nimport { AccountLogout } from '@/api/account';\nimport { getCookies,removeCookies} from '@/libs/util';\n\nimport Setting from '@/setting';\nexport default {\n  name: 'systemUpgradeclient',\n  data() {\n    return {\n      Panel: '1',\n      currentTab: '1',\n      declaration: false,\n      updateModal: false,\n      modal_loading: false,\n      percent: 0,\n      params: [],\n      arr: [],\n      dynamic: false,\n      status: false,\n      version: '',\n      forceVersion: '',\n      headerList: [\n        {\n          label: '系统升级',\n          value: 1,\n        },\n        {\n          label: '升级记录',\n          value: 2,\n        },\n      ],\n      upgradeList: [],\n      upgradeLogList: [],\n      upgradeableList: [],\n      upgradeProgress: {\n        speed: 0,\n      },\n      upgradeAgreement: [],\n      upgradeStatus: {},\n      downloadStatus: null,\n      page: 1,\n      limit: 15,\n      // 定时器\n      timer: null,\n      params_key: undefined,\n      newKey: null,\n      servionStatus: false,\n      count:0\n    };\n  },\n  created() {\n    // this.getUpgradeList();\n    // this.getUpgradeLogList();\n    // this.getupgradeableList();\n    // if (this.$route.params.items) {\n    //   this.getUpgradeAgreement();\n    // }\n  },\n  async mounted() {\n\n    this.getUpgradeStatus();\n    await this.getUpgradeList();\n    await this.getupgradeableList();\n    if (this.$store.state.upgrade.toggleStatus) {\n      this.servionStatus = true;\n      this.getUpgradeAgreement();\n    }\n    // this.compare();\n  },\n  watch: {\n    'upgradeProgress.speed': {\n      handler(newVal, oldVal) {\n        if (newVal === '100.0') {\n          clearInterval(this.timer);\n        }\n      },\n    },\n    // 'this.downloadStatus': {\n    //   handler(newVal, oldVal) {\n    //     if (newVal = '200') {\n    //       this.updateModal = false;\n    //       clearInterval(this.timer);\n    //     }\n    //   }\n    // }\n  },\n  methods: {\n    handleReachBottom(){\n      if(this.count === this.upgradeLogList.length) {\n        this.$Message.warning('暂无更多升级记录')\n      } else {\n        this.getUpgradeLogList();\n      }\n    },\n    handleClick(tab, event) {\n      this.page = 1\n      if(tab == 1){\n        this.getupgradeableList();\n      } else {\n        this.upgradeLogList = []\n        this.getUpgradeLogList();\n      }\n    },\n    // 升级列表\n    async getUpgradeList() {\n      let data = {\n        page: this.page,\n        limit: this.limit,\n      };\n      let res = await upgradeListApi(data);\n      this.upgradeList = res.data.list;\n      this.upgradeList = res.data.list;\n    },\n    // 升级记录\n    getUpgradeLogList() {\n      let data = {\n        page: this.page,\n        limit: this.limit,\n      };\n      upgradeLogListApi(data)\n        .then((res) => {\n          this.upgradeLogList = [...this.upgradeLogList,...res.data.list]\n          this.count = res.data.count\n          if(this.upgradeLogList.length < this.count){\n            this.page++\n          }\n        })\n        .catch((res) => {\n          this.$Message.error(res.msg);\n        });\n    },\n\n    // 可升级列表\n    async getupgradeableList() {\n      let res = await upgradeableListApi();\n      this.upgradeableList = res.data;\n      let firstVer = res.data[0]\n      if(this.$store.state.upgrade.toggleStatus || this.upgradeStatus.force_reminder){\n        const data = res.data.find(item => item.force_reminder === 1)\n        this.newKey = data.package_key;\n        this.forceVersion = data.first_version + '.' + data.second_version + '.' + data.third_version + '.' + data.fourth_version\n      }else{\n        this.params_key = this.upgradeableList[0].package_key\n        this.forceVersion = firstVer.first_version + '.' + firstVer.second_version + '.' + firstVer.third_version + '.' + firstVer.fourth_version\n      }\n\n\n      // arr.forEach((item) => {\n      //   this.$set(\n      //     item,\n      //     'servion',\n      //     item.first_version + '.' + item.second_version + '.' + item.third_version + '.' + item.fourth_version,\n      //   );\n      // });\n\n      // let data = [];\n      // arr.map((ele) => {\n      //   data.push(ele.servion);\n      // });\n      // // 版本号排序\n      // function sortVersion(list) {\n      //   return list.sort((version1, version2) => {\n      //     const arr1 = version1.split('.').map((e) => e * 1);\n      //     const arr2 = version2.split('.').map((e) => e * 1);\n      //     const length = Math.max(arr1.length, arr2.length);\n      //     for (let i = 0; i < length; i++) {\n      //       if ((arr1[i] || 0) > (arr2[i] || 0)) return 1;\n      //       if ((arr1[i] || 0) < (arr2[i] || 0)) return -1;\n      //     }\n      //     return 0;\n      //   });\n      // }\n      // this.forceVersion = data[0];\n      // this.params.map((item) => {\n      //   if (item.servion == data[data.length - 1]) {\n      //     this.newKey = item.package_key;\n      //   }\n      // });\n    },\n    // 下载升级包\n    getdownload() {\n      if (this.$store.state.upgrade.toggleStatus || this.upgradeStatus.force_reminder) {\n        this.params_key = this.newKey;\n      }\n      downloadApi(this.params_key)\n        .then((res) => {\n          // this.downloadStatus = res.status;\n          if (res.status == 200) {\n            if (this.upgradeProgress.speed !== '100.0') {\n              this.timer = setInterval(() => {\n                setTimeout(() => {\n                    this.getUpgradeProgress();\n                }, 0);\n              }, 5000);\n            } else {\n              clearInterval(this.timer);\n              this.updateModal = false;\n            }\n          } else {\n            this.updateModal = false;\n          }\n        })\n        .catch((err) => {\n          clearInterval(this.timer);\n          this.$Message.error('下载终止');\n          this.updateModal = false;\n        });\n    },\n    downloadFile(url){\n      window.open(url, '_blank');\n    },\n\n    // 升级进度\n    getUpgradeProgress() {\n      upgradeProgressApi()\n        .then((res) => {\n          this.upgradeProgress = res.data;\n          this.downloadStatus = res.status;\n        })\n        .catch((res) => {\n          clearInterval(this.timer);\n          this.$Message.error(res.msg);\n        });\n    },\n    // 升级协议\n    getUpgradeAgreement() {\n      upgradeAgreementApi()\n        .then((res) => {\n          this.upgradeAgreement = res.data;\n          this.declaration = true;\n        })\n        .catch((res) => {\n          this.$Message.error(res.msg);\n        });\n    },\n    // 升级状态\n    getUpgradeStatus() {\n      upgradeStatusApi()\n        .then((res) => {\n          this.upgradeStatus = res.data;\n          if(res.data.force_reminder){\n            this.declaration = true\n            this.getUpgradeAgreement()\n          }\n        })\n        .catch((res) => {\n          this.$Message.error(res.msg);\n        });\n    },\n    // 立即更新\n    update(item) {\n      this.declaration = true;\n      if (item && this.$store.state.upgrade.toggleStatus == false) {\n        this.params_key = item.params_key;\n      }\n      // this.version = item.first_version + \".\" + item.second_version + \".\" + item.third_version + \".\" + item.fourth_version;\n      this.getUpgradeAgreement();\n    },\n    // 比较相同版本号\n    compare() {\n      this.upgradeList.map((ele, i) => {\n        this.$set(\n          this.upgradeList[i],\n          'mn',\n          ele.first_version + ele.second_version + ele.third_version + ele.fourth_version,\n        );\n\n        this.upgradeableList.map((item, i) => {\n          this.$set(\n            this.upgradeableList[i],\n            'mn',\n            item.first_version + item.second_version + item.third_version + item.fourth_version,\n          );\n        });\n        if (this.upgradeList[i].mn == this.upgradeableList[i].mn) {\n          this.$set(this.upgradeList[i], 'indexn', true);\n          this.$set(this.upgradeList[i], 'params_key', this.upgradeableList[i].package_key);\n          this.$set(this.upgradeableList[i], 'indexn', true);\n        }\n      });\n    },\n    // 同意\n    agree() {\n      this.declaration = false;\n      this.updateModal = true;\n      this.getdownload();\n      this.$store.commit(\"upgrade/TOGGLE_STATUS\",false)\n    },\n    reject(){\n      this.declaration = false\n      this.$store.commit(\"upgrade/TOGGLE_STATUS\",false)\n    },\n    back() {\n      this.updateModal = false;\n      // this.getUpgradeList();\n      clearInterval(this.timer);\n      AccountLogout()\n        .then((res) => {\n          this.$Message.success('您已成功退出');\n          this.$router.replace(this.$routeProStr + '/login');\n          localStorage.clear();\n          removeCookies('token');\n          removeCookies('expires_time');\n          removeCookies('uuid');\n          // window.location.reload()\n        })\n        .catch((res) => {});\n    },\n    backSure() {\n      this.updateModal = false;\n      clearInterval(this.timer);\n    },\n    cancel() {\n      this.updateModal = false;\n      clearInterval(this.timer);\n    },\n    // 导出备份文件\n    exports(item) {\n      let name =\n        item.title +\n        'v' +\n        item.first_version +\n        '.' +\n        item.second_version +\n        '.' +\n        item.third_version +\n        '.' +\n        item.fourth_version +\n        '.' +\n        item.upgrade_time;\n      let href = Setting.apiBaseURL + `/system/upgrade_export/${item.id}/file`;\n      axios({\n        method: 'get',\n        url: href,\n        responseType: 'blob',\n        headers: {\n          'Authori-zation': 'Bearer ' + getCookies('token'),\n        },\n      }).then((res) => {\n        var blob = new Blob([res.data], {\n          type: 'application/octet-stream;charset=UTF-8',\n        });\n        var downloadElement = document.createElement('a');\n        // 下载的文件名\n        downloadElement.download = `${name}.zip`;\n        // 创建下载的链接\n        downloadElement.href = window.URL.createObjectURL(blob);\n        // 点击下载\n        downloadElement.click();\n        document.body.appendChild(downloadElement);\n        // 下载完成移除元素\n        document.body.removeChild(downloadElement);\n        // 释放掉blob对象\n        window.URL.revokeObjectURL(downloadElement.href);\n      });\n    },\n    handleDownload(item) {\n      let name =\n        item.title +\n        'v' +\n        item.first_version +\n        '.' +\n        item.second_version +\n        '.' +\n        item.third_version +\n        '.' +\n        item.fourth_version +\n        '.' +\n        item.upgrade_time;\n      let href = Setting.apiBaseURL + `/system/upgrade_export/${item.id}/data`;\n      axios({\n        method: 'get',\n        url: href,\n        responseType: 'blob',\n        headers: {\n          'Authori-zation': 'Bearer ' + getCookies('token'),\n        },\n      }).then((res) => {\n        var blob = new Blob([res.data], {\n          type: 'application/octet-stream;charset=UTF-8',\n        });\n        var downloadElement = document.createElement('a');\n        // 下载的文件名\n        downloadElement.download = `${name}.gz`;\n        // 创建下载的链接\n        downloadElement.href = window.URL.createObjectURL(blob);\n        // 点击下载\n        downloadElement.click();\n        document.body.appendChild(downloadElement);\n        // 下载完成移除元素\n        document.body.removeChild(downloadElement);\n        // 释放掉blob对象\n        window.URL.revokeObjectURL(downloadElement.href);\n      });\n    },\n    quearyEvear(id, index) {\n      this.dynamic = index;\n    },\n  },\n  destroyed() {\n    //销毁\n    clearInterval(tihs.timer);\n  },\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n.active {\n  padding: 6px 0;\n  // background-color: #eee !important;\n}\n\n.active .ivu-collapse-simple {\n  // background-color: #eee !important;\n}\n\n.active .ivu-collapse-content {\n  // background-color: #eee !important;\n}\n\n.active .ivu-timeline-item-head-custom {\n  // background-color: #fff !important;\n  // z-index 9999\n}\n\n.active .btn {\n  top: 50px;\n}\n\n.primary {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n}\n\n.upgrade .header {\n  font-size: 12px;\n  color: #000;\n  // border-bottom:1px dotted rgba(221,221,221,1);\n  // padding-bottom: 25px;\n}\n\n.upgrade .header .v {\n  color: #1890FF;\n  margin-left: 10px;\n}\n\n.upgrade .header .num {\n  color: #1890FF;\n  font-size: 24px;\n}\n\n.upgrade .header .info {\n  color: #999999;\n}\n\n.upgrade .header .title {\n  color: #999999;\n  display: flex;\n}\n\n.upgrade .header .info ul {\n  color: #999999;\n  display: flex;\n  margin-left: 14px;\n}\n\n.upgrade .header .info ul li::marker {\n  color: red;\n}\n\n.upgrade .header .info ul li+li {\n  margin-left: 40px;\n}\n\n.upgrade .contentTime .acea-row {\n  padding: 5px;\n}\n\n.upgrade .contentTime .list {\n  position: relative;\n  width: 85%;\n}\n\n.upgrade .contentTime .info {\n  font-size: 12px !important;\n  color: #999 !important;\n  margin-top: 13px;\n}\n\n.upgrade .contentTime .info li {\n  list-style-type: disc;\n  margin-left: 16px;\n  line-height: 26px;\n  list-style: none;\n}\n\n.upgrade .contentTime .collapse {\n  width: 100%;\n}\n\n.upgrade .contentTime .ivu-collapse {\n  border: 0 !important;\n}\n\n.upgrade .contentTime .ivu-collapse > .ivu-collapse-item > .ivu-collapse-header {\n  height: unset !important;\n  line-height: 20px !important;\n  border: 0 !important;\n  font-size: 16px !important;\n  color: #333333;\n  font-weight: 600;\n  // background: #eee;\n}\n\n.upgrade .contentTime .ivu-collapse > .ivu-collapse-item > .ivu-collapse-header > i {\n  color: #BBBBBB !important;\n  margin-left: 9px;\n}\n\n.upgrade .contentTime .ivu-collapse > .ivu-collapse-item.ivu-collapse-item-active > .ivu-collapse-header > i {\n  transform: rotate(180deg);\n}\n\n.upgrade .contentTime {\n  margin-top: 30px;\n  position: relative;\n}\n\n.upgrade .contentTime .btn {\n  position: absolute;\n  top: 0;\n  right: 60px;\n  z-index: 99;\n}\n\n.upgrade .contentTime .btn1 {\n  position: absolute;\n  top: 0;\n  right: -29px;\n  z-index: 99;\n  margin-left: 14px;\n}\n\n.upgrade .contentTime .time {\n  font-size: 14px;\n  line-height: 14px;\n  color: #999;\n  text-align: right;\n  padding-right: 28px;\n  min-width: 150px;\n}\n\n.upgrade .contentTime .ivu-timeline-item:after {\n  content: ' ';\n  position: absolute;\n  top: 13px;\n  left: 6.5px;\n  width: 1px;\n  height: calc(100% - 13px);\n  background-color: #e8eaec;\n}\n\n.upgrade .contentTime:nth-child(2n) .ivu-timeline-item-head-custom {\n  z-index: 2;\n  font-size: 16px;\n  color: #DDDCDD;\n  // background: #eee;\n  margin-left: 12px;\n  margin-top: 10px;\n}\n\n.ivu-timeline-item-head-custom {\n  left: -24px;\n}\n.upgrade .contentTimed .on{\n  display:flex;\n  flex-wrap: nowrap;\n}\n.upgrade .contentTime .on:first-child .ivu-timeline-item-head-custom {\n  color: #1890FF;\n  font-size: 18px;\n}\n/deep/ .ivu-collapse > .ivu-collapse-item > .ivu-collapse-header{\n  line-height: 20px;\n\n}\n.upgrade .contentTimed .on .ivu-collapse > .ivu-collapse-item > .ivu-collapse-header {\n  color: #1890FF;\n}\n\n.on:first-child .ivu-collapse-header {\n  color: #1890FF !important;\n}\n\n.upgrade .contentTime .off:first-child .ivu-timeline-item-head-custom {\n  color: #1890FF;\n  font-size: 18px;\n}\n\n.off:first-child .ivu-collapse-header {\n  color: #1890FF !important;\n}\n\n.off:first-child .time {\n  color: #1890FF !important;\n}\n\n.header-modal {\n  background: url('../../../assets/images/bg.png') no-repeat;\n  background-size: 100% 100%;\n  text-align: center;\n  border-radius: 6px 6px 0 0;\n}\n\n.ivu-modal{\n  border-radius: 12px;\n  overflow: hidden;\n}\n\n.header-modal2 {\n  background: url('../../../assets/images/bg2.png') no-repeat;\n  background-size: 100% 100%;\n  text-align: center;\n  border-radius: 6px 6px 0 0;\n}\n\n.ivu-modal-header {\n  padding: 0;\n  border-radius: 10px;\n  border: none;\n}\n\n.ivu-modal-header .header-modal2 {\n  height: 74px;\n  line-height: 74px;\n  font-size: 20px;\n  font-weight: 500;\n}\n\n.ivu-modal-header p, .ivu-modal-header-inner {\n  height: 96px;\n  color: #fff;\n  line-height: 96px;\n  font-size: 24px;\n}\n\n.describe {\n  text-align: center;\n  padding-top: 30px;\n\n  .success {\n    font-size: 20px;\n    color: #333333;\n    margin-top: 10px;\n  }\n}\n\n.ivu-modal-footer {\n  border: none;\n  display: flex;\n  justify-content: center;\n}\n\n.footer .ivu-btn {\n  width: 128px;\n  height: 40px;\n  border: none;\n}\n\n.cancel {\n  background: #EEEEEE;\n}\n\n.vertical-center-modal {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  .ivu-modal {\n    top: 0;\n  }\n}\n/deep/ .vertical-center-modal .ivu-modal-header{\n  padding: 0 !important;\n  border: none;\n}\n/deep/ .ivu-modal-content{\n  border-radius: 14px 14px 0 0;\n  overflow hidden\n}\n.footer {\n  display: flex;\n  justify-content: space-around;\n}\n\n.demo-i-circle-custom {\n  & h1 {\n    color: #CCCCCC;\n    font-size: 12px;\n    font-weight: normal;\n    line-height: 17px;\n  }\n\n  & p {\n    color: #2A7EFB;\n    font-size: 14px;\n    line-height: 20px;\n    margin: 6px 0;\n  }\n\n  & span {\n    display: block;\n    color: #CCCCCC;\n    font-size: 12px;\n    line-height: 17px;\n  }\n\n  & span i {\n    font-style: normal;\n    color: #3f414d;\n  }\n}\n\n.proportion {\n  font-size: 20px;\n  font-weight: 600;\n  color: #2A7EFB;\n  margin: 12px 0 6px;\n}\n\n.wait {\n  font-size: 12px;\n  font-weight: 400;\n  color: #999999;\n}\n\n.footer2 {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content center\n  align-items: center\n  flex-direction: column;\n\n  .confirm, .back {\n    width: 210px;\n    height: 40px;\n  }\n\n  .back {\n    border: none;\n  }\n}\n\n.describe {\n  padding-top: 0;\n}\n\n.describe h2 {\n  font-size: 22px;\n  font-weight: 400;\n  color: #333333;\n  margin-bottom: 12px;\n}\n\n.acea-row.row-top {\n  position: relative;\n  overflow: hidden;\n}\n\n.update {\n  margin: 27px 16px;\n}\n</style>\n"],"mappings":"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"}]}