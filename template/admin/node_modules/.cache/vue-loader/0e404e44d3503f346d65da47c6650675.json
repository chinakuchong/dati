{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/pages/setting/storeService/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/pages/setting/storeService/index.vue","mtime":1689324015259},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IHNldENvb2tpZXMgfSBmcm9tICdAL2xpYnMvdXRpbCc7CmltcG9ydCB7CiAga2VmdUxpc3RBcGksCiAga2VmdWNyZWF0ZUFwaSwKICBrZWZ1YWRkQXBpLAogIGtlZnVBZGRBcGksCiAga2VmdXNldFN0YXR1c0FwaSwKICBrZWZ1RWRpdEFwaSwKICBrZWZ1UmVjb3JkQXBpLAogIGtlZnVDaGF0bGlzdEFwaSwKICBrZWZ1TG9naW4sCn0gZnJvbSAnQC9hcGkvc2V0dGluZyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnaW5kZXgnLAogIGZpbHRlcnM6IHsKICAgIHR5cGVGaWx0ZXIoc3RhdHVzKSB7CiAgICAgIGNvbnN0IHN0YXR1c01hcCA9IHsKICAgICAgICB3ZWNoYXQ6ICflvq7kv6HnlKjmiLcnLAogICAgICAgIHJvdXRpbmU6ICflsI/nqIvluo/nlKjmiLcnLAogICAgICB9OwogICAgICByZXR1cm4gc3RhdHVzTWFwW3N0YXR1c107CiAgICB9LAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcFN0YXRlKCdtZWRpYScsIFsnaXNNb2JpbGUnXSksCiAgICAuLi5tYXBTdGF0ZSgndXNlckxldmVsJywgWydjYXRlZ29yeUlkJ10pLAogICAgbGFiZWxXaWR0aCgpIHsKICAgICAgcmV0dXJuIHRoaXMuaXNNb2JpbGUgPyB1bmRlZmluZWQgOiA4MDsKICAgIH0sCiAgICBsYWJlbFBvc2l0aW9uKCkgewogICAgICByZXR1cm4gdGhpcy5pc01vYmlsZSA/ICd0b3AnIDogJ2xlZnQnOwogICAgfSwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc0NoYXQ6IHRydWUsCiAgICAgIGZvcm1WYWxpZGF0ZTM6IHsKICAgICAgICBwYWdlOiAxLAogICAgICAgIGxpbWl0OiAxNSwKICAgICAgfSwKICAgICAgdG90YWwzOiAwLAogICAgICBsb2FkaW5nMzogZmFsc2UsCiAgICAgIG1vZGFsczM6IGZhbHNlLAogICAgICB0YWJsZUxpc3QzOiBbXSwKICAgICAgY29sdW1uczM6IFsKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ+eUqOaIt+WQjeensCcsCiAgICAgICAgICBrZXk6ICduaWNrbmFtZScsCiAgICAgICAgICB3aWR0aDogMjAwLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICflrqLmnI3lpLTlg48nLAogICAgICAgICAgc2xvdDogJ2hlYWRpbWd1cmwnLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICfmk43kvZwnLAogICAgICAgICAgc2xvdDogJ2FjdGlvbicsCiAgICAgICAgfSwKICAgICAgXSwKICAgICAgZm9ybVZhbGlkYXRlNTogewogICAgICAgIHBhZ2U6IDEsCiAgICAgICAgbGltaXQ6IDE1LAogICAgICAgIHVpZDogMCwKICAgICAgICB0b191aWQ6IDAsCiAgICAgICAgaWQ6IDAsCiAgICAgIH0sCiAgICAgIHRvdGFsNTogMCwKICAgICAgbG9hZGluZzU6IGZhbHNlLAogICAgICB0YWJsZUxpc3Q1OiBbXSwKICAgICAgY29sdW1uczU6IFsKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ+eUqOaIt+WQjeensCcsCiAgICAgICAgICBrZXk6ICduaWNrbmFtZScsCiAgICAgICAgICB3aWR0aDogMjAwLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICfnlKjmiLflpLTlg48nLAogICAgICAgICAgc2xvdDogJ2F2YXRhcicsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ+WPkemAgea2iOaBrycsCiAgICAgICAgICBrZXk6ICdtc24nLAogICAgICAgICAgd2lkdGg6IDI1MCwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAn5Y+R6YCB5pe26Ze0JywKICAgICAgICAgIGtleTogJ2FkZF90aW1lJywKICAgICAgICB9LAogICAgICBdLAogICAgICBGcm9tRGF0YTogbnVsbCwKICAgICAgZm9ybVZhbGlkYXRlOiB7CiAgICAgICAgcGFnZTogMSwKICAgICAgICBsaW1pdDogMTUsCiAgICAgICAgZGF0YTogJycsCiAgICAgICAgdHlwZTogJycsCiAgICAgICAgbmlja25hbWU6ICcnLAogICAgICB9LAogICAgICB0YWJsZUxpc3QyOiBbXSwKICAgICAgbW9kYWxzOiBmYWxzZSwKICAgICAgdG90YWw6IDAsCiAgICAgIHRhYmxlRnJvbTogewogICAgICAgIHBhZ2U6IDEsCiAgICAgICAgbGltaXQ6IDE1LAogICAgICB9LAogICAgICB0aW1lVmFsOiBbXSwKICAgICAgZnJvbUxpc3Q6IHsKICAgICAgICB0aXRsZTogJ+mAieaLqeaXtumXtCcsCiAgICAgICAgY3VzdG9tOiB0cnVlLAogICAgICAgIGZyb21UeHQ6IFsKICAgICAgICAgIHsgdGV4dDogJ+WFqOmDqCcsIHZhbDogJycgfSwKICAgICAgICAgIHsgdGV4dDogJ+S7iuWkqScsIHZhbDogJ3RvZGF5JyB9LAogICAgICAgICAgeyB0ZXh0OiAn5pio5aSpJywgdmFsOiAneWVzdGVyZGF5JyB9LAogICAgICAgICAgeyB0ZXh0OiAn5pyA6L+RN+WkqScsIHZhbDogJ2xhdGVseTcnIH0sCiAgICAgICAgICB7IHRleHQ6ICfmnIDov5EzMOWkqScsIHZhbDogJ2xhdGVseTMwJyB9LAogICAgICAgICAgeyB0ZXh0OiAn5pys5pyIJywgdmFsOiAnbW9udGgnIH0sCiAgICAgICAgICB7IHRleHQ6ICfmnKzlubQnLCB2YWw6ICd5ZWFyJyB9LAogICAgICAgIF0sCiAgICAgIH0sCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICB0YWJsZUxpc3Q6IFtdLAogICAgICBjb2x1bW5zMTogWwogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAnSUQnLAogICAgICAgICAga2V5OiAnaWQnLAogICAgICAgICAgd2lkdGg6IDgwLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICflvq7kv6HnlKjmiLflkI3np7AnLAogICAgICAgICAga2V5OiAnbmlja25hbWUnLAogICAgICAgICAgbWluV2lkdGg6IDEyMCwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAn5a6i5pyN5aS05YOPJywKICAgICAgICAgIHNsb3Q6ICdhdmF0YXInLAogICAgICAgICAgbWluV2lkdGg6IDYwLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICflrqLmnI3lkI3np7AnLAogICAgICAgICAga2V5OiAnd3hfbmFtZScsCiAgICAgICAgICBtaW5XaWR0aDogMTIwLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICflrqLmnI3nirbmgIEnLAogICAgICAgICAgc2xvdDogJ3N0YXR1cycsCiAgICAgICAgICBtaW5XaWR0aDogMTIwLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICfmt7vliqDml7bpl7QnLAogICAgICAgICAga2V5OiAnYWRkX3RpbWUnLAogICAgICAgICAgbWluV2lkdGg6IDEyMCwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAn5pON5L2cJywKICAgICAgICAgIHNsb3Q6ICdhY3Rpb24nLAogICAgICAgICAgZml4ZWQ6ICdyaWdodCcsCiAgICAgICAgICBtaW5XaWR0aDogMTUwLAogICAgICAgIH0sCiAgICAgIF0sCiAgICAgIGNvbHVtbnM0OiBbCiAgICAgICAgewogICAgICAgICAgdHlwZTogJ3NlbGVjdGlvbicsCiAgICAgICAgICB3aWR0aDogNjAsCiAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ0lEJywKICAgICAgICAgIGtleTogJ3VpZCcsCiAgICAgICAgICB3aWR0aDogODAsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ+W+ruS/oeeUqOaIt+WQjeensCcsCiAgICAgICAgICBrZXk6ICduaWNrbmFtZScsCiAgICAgICAgICBtaW5XaWR0aDogMTYwLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICflrqLmnI3lpLTlg48nLAogICAgICAgICAgc2xvdDogJ2hlYWRpbWd1cmwnLAogICAgICAgICAgbWluV2lkdGg6IDYwLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICfnlKjmiLfnsbvlnosnLAogICAgICAgICAgc2xvdDogJ3VzZXJfdHlwZScsCiAgICAgICAgICB3aWR0aDogMTAwLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICfmgKfliKsnLAogICAgICAgICAgc2xvdDogJ3NleCcsCiAgICAgICAgICBtaW5XaWR0aDogNjAsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ+WcsOWMuicsCiAgICAgICAgICBzbG90OiAnY291bnRyeScsCiAgICAgICAgICBtaW5XaWR0aDogMTIwLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICfmmK/lkKblhbPms6jlhazkvJflj7cnLAogICAgICAgICAgc2xvdDogJ3N1YnNjcmliZScsCiAgICAgICAgICBtaW5XaWR0aDogMTIwLAogICAgICAgIH0sCiAgICAgIF0sCiAgICAgIGxvYWRpbmcyOiBmYWxzZSwKICAgICAgdG90YWwyOiAwLAogICAgICBhZGRGcm9tOiB7CiAgICAgICAgdWlkczogW10sCiAgICAgIH0sCiAgICAgIHNlbGVjdGlvbnM6IFtdLAogICAgICByb3dzOiB7fSwKICAgICAgcm93UmVjb3JkOiB7fSwKICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDov5vlhaXlt6XkvZzlj7AKICAgIGdvQ2hhdChpdGVtKSB7CiAgICAgIGtlZnVMb2dpbihpdGVtLmlkKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHZhciB1cmwgPSAnJzsKICAgICAgICAgIGlmIChyZXMuZGF0YS50b2tlbikgewogICAgICAgICAgICBsZXQgZXhwaXJlcyA9IHRoaXMuZ2V0RXhwaXJlc1RpbWUocmVzLmRhdGEuZXhwX3RpbWUpOwogICAgICAgICAgICBzZXRDb29raWVzKCdrZWZ1X3Rva2VuJywgcmVzLmRhdGEudG9rZW4sIGV4cGlyZXMpOwogICAgICAgICAgICBzZXRDb29raWVzKCdrZWZ1X3V1aWQnLCByZXMuZGF0YS5rZWZ1SW5mby51aWQsIGV4cGlyZXMpOwogICAgICAgICAgICBzZXRDb29raWVzKCdrZWZ1X2V4cGlyZXNfdGltZScsIHJlcy5kYXRhLmV4cF90aW1lLCBleHBpcmVzKTsKICAgICAgICAgICAgc2V0Q29va2llcygna2VmdUluZm8nLCByZXMuZGF0YS5rZWZ1SW5mbywgZXhwaXJlcyk7CiAgICAgICAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS5tZWRpYS5pc01vYmlsZSkgewogICAgICAgICAgICAgIHVybCA9IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArICcvLycgKyB3aW5kb3cubG9jYXRpb24uaG9zdCArICcva2VmdS9tb2JpbGVfbGlzdCc7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdXJsID0gd2luZG93LmxvY2F0aW9uLnByb3RvY29sICsgJy8vJyArIHdpbmRvdy5sb2NhdGlvbi5ob3N0ICsgJy9rZWZ1L3BjX2xpc3QnOwogICAgICAgICAgICB9CgogICAgICAgICAgICB3aW5kb3cub3Blbih1cmwsICdfYmxhbmsnKTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IoZXJyb3IubXNnKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBnZXRFeHBpcmVzVGltZShleHBpcmVzVGltZSkgewogICAgICBsZXQgbm93VGltZU51bSA9IE1hdGgucm91bmQobmV3IERhdGUoKSAvIDEwMDApOwogICAgICBsZXQgZXhwaXJlc1RpbWVOdW0gPSBleHBpcmVzVGltZSAtIG5vd1RpbWVOdW07CiAgICAgIHJldHVybiBwYXJzZUZsb2F0KHBhcnNlRmxvYXQocGFyc2VGbG9hdChleHBpcmVzVGltZU51bSAvIDYwKSAvIDYwKSAvIDI0KTsKICAgIH0sCiAgICBjYW5jZWwoKSB7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlID0gewogICAgICAgIHBhZ2U6IDEsCiAgICAgICAgbGltaXQ6IDEwLAogICAgICAgIGRhdGE6ICcnLAogICAgICAgIHR5cGU6ICcnLAogICAgICAgIG5pY2tuYW1lOiAnJywKICAgICAgfTsKICAgIH0sCiAgICBoYW5kbGVSZWFjaEJvdHRvbSgpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUucGFnZSA9IHRoaXMuZm9ybVZhbGlkYXRlLnBhZ2UgKyAxOwogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgLy8gdGhpcy5sb2FkaW5nMiA9IHRydWU7CiAgICAgICAgICBrZWZ1Y3JlYXRlQXBpKHRoaXMuZm9ybVZhbGlkYXRlKQogICAgICAgICAgICAudGhlbihhc3luYyAocmVzKSA9PiB7CiAgICAgICAgICAgICAgbGV0IGRhdGEgPSByZXMuZGF0YTsKICAgICAgICAgICAgICAvLyB0aGlzLnRhYmxlTGlzdDIgPSBkYXRhLmxpc3Q7CiAgICAgICAgICAgICAgaWYgKGRhdGEubGlzdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlTGlzdDIucHVzaChkYXRhLmxpc3RbaV0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB0aGlzLnRvdGFsMiA9IGRhdGEuY291bnQ7CiAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nMiA9IGZhbHNlOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgICAgIHRoaXMubG9hZGluZzIgPSBmYWxzZTsKICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICB9LCAyMDAwKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5p+l55yL5a+56K+dCiAgICBsb29rKHJvdykgewogICAgICB0aGlzLmlzQ2hhdCA9IGZhbHNlOwogICAgICB0aGlzLnJvd1JlY29yZCA9IHJvdzsKICAgICAgdGhpcy5nZXRDaGF0bGlzdCgpOwogICAgfSwKICAgIC8vIOafpeeci+WvueivneWIl+ihqAogICAgZ2V0Q2hhdGxpc3QoKSB7CiAgICAgIHRoaXMubG9hZGluZzUgPSB0cnVlOwogICAgICB0aGlzLmZvcm1WYWxpZGF0ZTUudWlkID0gdGhpcy5yb3dzLnVpZDsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGU1LnRvX3VpZCA9IHRoaXMucm93UmVjb3JkLnVpZDsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGU1LmlkID0gdGhpcy5yb3dzLmlkOwogICAgICBrZWZ1Q2hhdGxpc3RBcGkodGhpcy5mb3JtVmFsaWRhdGU1KQogICAgICAgIC50aGVuKGFzeW5jIChyZXMpID0+IHsKICAgICAgICAgIGxldCBkYXRhID0gcmVzLmRhdGE7CiAgICAgICAgICB0aGlzLnRhYmxlTGlzdDUgPSBkYXRhLmxpc3Q7CiAgICAgICAgICB0aGlzLnRvdGFsNSA9IGRhdGEuY291bnQ7CiAgICAgICAgICB0aGlzLmxvYWRpbmc1ID0gZmFsc2U7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgdGhpcy5sb2FkaW5nNSA9IGZhbHNlOwogICAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBwYWdlQ2hhbmdlNShpbmRleCkgewogICAgICB0aGlzLmZvcm1WYWxpZGF0ZTUucGFnZSA9IGluZGV4OwogICAgICB0aGlzLmdldENoYXRsaXN0KCk7CiAgICB9LAogICAgLy8g5L+u5pS55oiQ5YqfCiAgICBzdWJtaXRGYWlsKCkgewogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICAvLyDogYrlpKnorrDlvZUKICAgIHJlY29yZChyb3cpIHsKICAgICAgdGhpcy5yb3dzID0gcm93OwogICAgICB0aGlzLm1vZGFsczMgPSB0cnVlOwogICAgICB0aGlzLmlzQ2hhdCA9IHRydWU7CiAgICAgIHRoaXMuZ2V0TGlzdFJlY29yZCgpOwogICAgfSwKICAgIC8vIOiBiuWkqeiusOW9leWIl+ihqAogICAgZ2V0TGlzdFJlY29yZCgpIHsKICAgICAgdGhpcy5sb2FkaW5nMyA9IHRydWU7CiAgICAgIGtlZnVSZWNvcmRBcGkodGhpcy5mb3JtVmFsaWRhdGUzLCB0aGlzLnJvd3MuaWQpCiAgICAgICAgLnRoZW4oYXN5bmMgKHJlcykgPT4gewogICAgICAgICAgbGV0IGRhdGEgPSByZXMuZGF0YTsKICAgICAgICAgIHRoaXMudGFibGVMaXN0MyA9IGRhdGEubGlzdCA/IGRhdGEubGlzdCA6IFtdOwogICAgICAgICAgdGhpcy50b3RhbDMgPSBkYXRhLmNvdW50OwogICAgICAgICAgdGhpcy5sb2FkaW5nMyA9IGZhbHNlOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMubG9hZGluZzMgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgfSk7CiAgICB9LAogICAgcGFnZUNoYW5nZTMoaW5kZXgpIHsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGUzLnBhZ2UgPSBpbmRleDsKICAgICAgdGhpcy5nZXRMaXN0UmVjb3JkKCk7CiAgICB9LAogICAgLy8g57yW6L6RCiAgICBlZGl0KHJvdykgewogICAgICB0aGlzLiRtb2RhbEZvcm0oa2VmdUVkaXRBcGkocm93LmlkKSkudGhlbigoKSA9PiB0aGlzLmdldExpc3QoKSk7CiAgICB9LAogICAgLy8g5re75YqgCiAgICBhZGQoKSB7CiAgICAgIC8vIHRoaXMubW9kYWxzID0gdHJ1ZTsKICAgICAgLy8gdGhpcy5mb3JtVmFsaWRhdGUuZGF0YSA9ICcnOwogICAgICAvLyB0aGlzLmdldExpc3RTZXJ2aWNlKCk7CiAgICAgIHRoaXMuJG1vZGFsRm9ybShrZWZ1YWRkQXBpKCkpLnRoZW4oKCkgPT4gdGhpcy5nZXRMaXN0KCkpOwogICAgfSwKICAgIC8vIOWFqOmAiQogICAgb25TZWxlY3RUYWIoc2VsZWN0aW9uKSB7CiAgICAgIHRoaXMuc2VsZWN0aW9ucyA9IHNlbGVjdGlvbjsKICAgICAgbGV0IGRhdGEgPSBbXTsKICAgICAgdGhpcy5zZWxlY3Rpb25zLm1hcCgoaXRlbSkgPT4gewogICAgICAgIGRhdGEucHVzaChpdGVtLnVpZCk7CiAgICAgIH0pOwogICAgICB0aGlzLmFkZEZyb20udWlkcyA9IGRhdGE7CiAgICB9LAogICAgLy8g5YW35L2T5pel5pyfCiAgICBvbmNoYW5nZVRpbWUoZSkgewogICAgICB0aGlzLnRpbWVWYWwgPSBlOwogICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5kYXRhID0gdGhpcy50aW1lVmFsLmpvaW4oJy0nKTsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGUucGFnZSA9IDE7CiAgICAgIHRoaXMuZ2V0TGlzdFNlcnZpY2UoKTsKICAgIH0sCiAgICAvLyDpgInmi6nml7bpl7QKICAgIHNlbGVjdENoYW5nZSh0YWIpIHsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuZGF0YSA9IHRhYjsKICAgICAgdGhpcy50aW1lVmFsID0gW107CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLnBhZ2UgPSAxOwogICAgICB0aGlzLmdldExpc3RTZXJ2aWNlKCk7CiAgICB9LAogICAgLy8g5a6i5pyN5YiX6KGoCiAgICBnZXRMaXN0U2VydmljZSgpIHsKICAgICAgdGhpcy5sb2FkaW5nMiA9IHRydWUodGhpcy5mb3JtVmFsaWRhdGUpCiAgICAgICAgLnRoZW4oYXN5bmMgKHJlcykgPT4gewogICAgICAgICAgbGV0IGRhdGEgPSByZXMuZGF0YTsKICAgICAgICAgIHRoaXMudGFibGVMaXN0MiA9IGRhdGEubGlzdDsKICAgICAgICAgIHRoaXMudG90YWwyID0gZGF0YS5jb3VudDsKICAgICAgICAgIHRoaXMudGFibGVMaXN0Mi5tYXAoKGl0ZW0pID0+IHsKICAgICAgICAgICAgaXRlbS5faXNDaGVja2VkID0gZmFsc2U7CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMubG9hZGluZzIgPSBmYWxzZTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgICAgICB0a2VmdWNyZWF0ZUFwaWhpcy5sb2FkaW5nMiA9IGZhbHNlOwogICAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBwYWdlQ2hhbmdlMihwYWdlSW5kZXgpIHsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGUucGFnZSA9IHBhZ2VJbmRleDsKICAgICAgdGhpcy5nZXRMaXN0U2VydmljZSgpOwogICAgICB0aGlzLmFkZEZyb20udWlkcyA9IFtdOwogICAgfSwKICAgIC8vIOaQnOe0ogogICAgdXNlclNlYXJjaHMoKSB7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLnBhZ2UgPSAxOwogICAgICB0aGlzLmdldExpc3RTZXJ2aWNlKCk7CiAgICB9LAogICAgLy8g5Yig6ZmkCiAgICBkZWwocm93LCB0aXQsIG51bSkgewogICAgICBsZXQgZGVsZnJvbURhdGEgPSB7CiAgICAgICAgdGl0bGU6IHRpdCwKICAgICAgICBudW06IG51bSwKICAgICAgICB1cmw6IGBhcHAvd2VjaGF0L2tlZnUvJHtyb3cuaWR9YCwKICAgICAgICBtZXRob2Q6ICdERUxFVEUnLAogICAgICAgIGlkczogJycsCiAgICAgIH07CiAgICAgIHRoaXMuJG1vZGFsU3VyZShkZWxmcm9tRGF0YSkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICB0aGlzLnRhYmxlTGlzdC5zcGxpY2UobnVtLCAxKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgIH0pOwogICAgfSwKICAgIC8vIOWIl+ihqAogICAgZ2V0TGlzdCgpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAga2VmdUxpc3RBcGkodGhpcy50YWJsZUZyb20pCiAgICAgICAgLnRoZW4oYXN5bmMgKHJlcykgPT4gewogICAgICAgICAgbGV0IGRhdGEgPSByZXMuZGF0YTsKICAgICAgICAgIHRoaXMudGFibGVMaXN0ID0gZGF0YS5saXN0OwogICAgICAgICAgdGhpcy50b3RhbCA9IHJlcy5kYXRhLmNvdW50OwogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgIH0pOwogICAgfSwKICAgIHBhZ2VDaGFuZ2UoaW5kZXgpIHsKICAgICAgdGhpcy50YWJsZUZyb20ucGFnZSA9IGluZGV4OwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICAvLyDkv67mlLnmmK/lkKbmmL7npLoKICAgIG9uY2hhbmdlSXNTaG93KHJvdykgewogICAgICBsZXQgZGF0YSA9IHsKICAgICAgICBpZDogcm93LmlkLAogICAgICAgIHN0YXR1czogcm93LnN0YXR1cywKICAgICAgfTsKICAgICAga2VmdXNldFN0YXR1c0FwaShkYXRhKQogICAgICAgIC50aGVuKGFzeW5jIChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgfSk7CiAgICB9LAogICAgLy8g5re75Yqg5a6i5pyNCiAgICBwdXRSZW1hcmsoKSB7CiAgICAgIGlmICh0aGlzLmFkZEZyb20udWlkcy5sZW5ndGggPT09IDApIHsKICAgICAgICByZXR1cm4gdGhpcy4kTWVzc2FnZS53YXJuaW5nKCfor7fpgInmi6nopoHmt7vliqDnmoTlrqLmnI0nKTsKICAgICAgfQogICAgICBrZWZ1QWRkQXBpKHRoaXMuYWRkRnJvbSkKICAgICAgICAudGhlbihhc3luYyAocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICB0aGlzLm1vZGFscyA9IGZhbHNlOwogICAgICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgIH0pOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/setting/storeService","sourcesContent":["<template>\n  <div>\n    <Card :bordered=\"false\" dis-hover class=\"ivu-mt\">\n      <Row type=\"flex\" class=\"mb20\">\n        <Col span=\"24\">\n          <Button v-auth=\"['setting-store_service-add']\" type=\"primary\" icon=\"md-add\" @click=\"add\" class=\"mr10\"\n            >添加客服</Button\n          >\n        </Col>\n      </Row>\n      <Table\n        :columns=\"columns1\"\n        :data=\"tableList\"\n        :loading=\"loading\"\n        highlight-row\n        no-userFrom-text=\"暂无数据\"\n        no-filtered-userFrom-text=\"暂无筛选结果\"\n      >\n        <template slot-scope=\"{ row, index }\" slot=\"avatar\">\n          <div class=\"tabBox_img\" v-viewer>\n            <img v-lazy=\"row.avatar\" />\n          </div>\n        </template>\n        <template slot-scope=\"{ row, index }\" slot=\"status\">\n          <i-switch\n            v-model=\"row.status\"\n            :value=\"row.status\"\n            :true-value=\"1\"\n            :false-value=\"0\"\n            @on-change=\"onchangeIsShow(row)\"\n            size=\"large\"\n          >\n            <span slot=\"open\">开启</span>\n            <span slot=\"close\">关闭</span>\n          </i-switch>\n        </template>\n        <template slot-scope=\"{ row, index }\" slot=\"stop_time\">\n          <span> {{ row.stop_time | formatDate }}</span>\n        </template>\n\n        <template slot-scope=\"{ row, index }\" slot=\"action\">\n          <a @click=\"edit(row)\">编辑</a>\n          <Divider type=\"vertical\" />\n          <a @click=\"del(row, '删除客服', index)\">删除</a>\n          <Divider type=\"vertical\" v-if=\"row.status\" />\n          <a @click=\"goChat(row)\" v-if=\"row.status\">进入工作台</a>\n        </template>\n      </Table>\n      <div class=\"acea-row row-right page\">\n        <Page :total=\"total\" show-elevator show-total @on-change=\"pageChange\" :page-size=\"tableFrom.limit\" />\n      </div>\n    </Card>\n\n    <!--添加客户-->\n    <!--<Modal v-model=\"modals\" scrollable   closable title=\"添加客服\"  width=\"1000\"  @on-cancel=\"cancel\">-->\n    <!--<Form ref=\"formValidate\" :model=\"formValidate\" :label-width=\"labelWidth\" :label-position=\"labelPosition\" @submit.native.prevent>-->\n    <!--<Row :gutter=\"24\" type=\"flex\">-->\n    <!--<Col span=\"24\" class=\"ivu-text-left\">-->\n    <!--<FormItem label=\"选择时间：\">-->\n    <!--<RadioGroup v-model=\"formValidate.data\" type=\"button\" @on-change=\"selectChange(formValidate.data)\"-->\n    <!--class=\"mr\">-->\n    <!--<Radio :label=item.val v-for=\"(item,i) in fromList.fromTxt\" :key=\"i\">{{item.text}}</Radio>-->\n    <!--</RadioGroup>-->\n    <!--<DatePicker @on-change=\"onchangeTime\" :value=\"timeVal\" format=\"yyyy/MM/dd\" type=\"daterange\"-->\n    <!--placement=\"bottom-end\" placeholder=\"请选择时间\" style=\"width: 200px;\"></DatePicker>-->\n    <!--</FormItem>-->\n    <!--</Col>-->\n    <!--<Col span=\"12\" class=\"ivu-text-left\">-->\n    <!--<FormItem label=\"用户名称：\" >-->\n    <!--<Input search enter-button  placeholder=\"请输入用户名称\" v-model=\"formValidate.nickname\" style=\"width: 90%;\" @on-search=\"userSearchs\"></Input>-->\n    <!--</FormItem>-->\n    <!--</Col>-->\n    <!--<Col span=\"12\" class=\"ivu-text-left\">-->\n    <!--<FormItem label=\"用户类型：\" >-->\n    <!--<Select v-model=\"formValidate.type\" style=\"width:90%;\" @on-change=\"userSearchs\">-->\n    <!--<Option value=\"\">全部用户</Option>-->\n    <!--<Option value=\"wechat\">公众号</Option>-->\n    <!--<Option value=\"routine\">小程序</Option>-->\n    <!--</Select>-->\n    <!--</FormItem>-->\n    <!--</Col>-->\n    <!--</Row>-->\n    <!--</Form>-->\n    <!--<Table :loading=\"loading2\" highlight-row no-userFrom-text=\"暂无数据\" max-height=\"400\"-->\n    <!--@on-selection-change=\"onSelectTab\"-->\n    <!--no-filtered-userFrom-text=\"暂无筛选结果\" ref=\"selection\" :columns=\"columns4\" :data=\"tableList2\">-->\n    <!--<template slot-scope=\"{ row, index }\" slot=\"headimgurl\">-->\n    <!--<viewer>-->\n    <!--<div class=\"tabBox_img\">-->\n    <!--<img v-lazy=\"row.headimgurl\">-->\n    <!--</div>-->\n    <!--</viewer>-->\n    <!--</template>-->\n    <!--<template slot-scope=\"{ row, index }\" slot=\"user_type\">-->\n    <!--<span>{{ row.user_type | typeFilter }}</span>-->\n    <!--</template>-->\n    <!--<template slot-scope=\"{ row, index }\" slot=\"sex\">-->\n    <!--<span v-show=\"row.sex ===1\">男</span>-->\n    <!--<span v-show=\"row.sex ===2\">女</span>-->\n    <!--<span v-show=\"row.sex ===0\">保密</span>-->\n    <!--</template>-->\n    <!--<template slot-scope=\"{ row, index }\" slot=\"country\">-->\n    <!--<span>{{row.country + row.province + row.city}}</span>-->\n    <!--</template>-->\n    <!--<template slot-scope=\"{ row, index }\" slot=\"subscribe\">-->\n    <!--<span v-text=\"row.subscribe === 1?'关注':'未关注'\"></span>-->\n    <!--</template>-->\n    <!--</Table>-->\n    <!--<div class=\"acea-row row-right page\">-->\n    <!--<Page :total=\"total2\" :current=\"formValidate.page\" show-elevator show-total @on-change=\"pageChange2\"-->\n    <!--:page-size=\"formValidate.limit\"/>-->\n    <!--</div>-->\n    <!--<div slot=\"footer\">-->\n    <!--<Button  type=\"primary\"  @click=\"putRemark\">提交</Button>-->\n    <!--</div>-->\n    <!--</Modal>-->\n\n    <!--聊天记录-->\n    <Modal v-model=\"modals3\" footer-hide scrollable closable title=\"聊天记录\" width=\"700\">\n      <div v-if=\"isChat\" class=\"modelBox\">\n        <Table\n          :loading=\"loading3\"\n          highlight-row\n          no-userFrom-text=\"暂无数据\"\n          no-filtered-userFrom-text=\"暂无筛选结果\"\n          :columns=\"columns3\"\n          :data=\"tableList3\"\n        >\n          <template slot-scope=\"{ row, index }\" slot=\"headimgurl\">\n            <div class=\"tabBox_img\" v-viewer>\n              <img v-lazy=\"row.headimgurl\" />\n            </div>\n          </template>\n          <template slot-scope=\"{ row, index }\" slot=\"action\">\n            <a @click=\"look(row)\">查看对话</a>\n          </template>\n        </Table>\n        <div class=\"acea-row row-right page\">\n          <Page :total=\"total3\" show-elevator show-total @on-change=\"pageChange3\" :page-size=\"formValidate3.limit\" />\n        </div>\n      </div>\n      <div v-if=\"!isChat\">\n        <Button type=\"primary\" @click=\"isChat = true\">返回聊天记录</Button>\n        <Table\n          :loading=\"loading5\"\n          highlight-row\n          no-userFrom-text=\"暂无数据\"\n          class=\"mt20\"\n          no-filtered-userFrom-text=\"暂无筛选结果\"\n          :columns=\"columns5\"\n          :data=\"tableList5\"\n        >\n          <template slot-scope=\"{ row, index }\" slot=\"avatar\">\n            <div class=\"tabBox_img\" v-viewer>\n              <img v-lazy=\"row.avatar\" />\n            </div>\n          </template>\n          <template slot-scope=\"{ row, index }\" slot=\"action\">\n            <a @click=\"look(row)\">查看对话</a>\n          </template>\n        </Table>\n        <div class=\"acea-row row-right page\">\n          <Page :total=\"total5\" show-elevator show-total @on-change=\"pageChange5\" :page-size=\"formValidate5.limit\" />\n        </div>\n      </div>\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport { setCookies } from '@/libs/util';\nimport {\n  kefuListApi,\n  kefucreateApi,\n  kefuaddApi,\n  kefuAddApi,\n  kefusetStatusApi,\n  kefuEditApi,\n  kefuRecordApi,\n  kefuChatlistApi,\n  kefuLogin,\n} from '@/api/setting';\nexport default {\n  name: 'index',\n  filters: {\n    typeFilter(status) {\n      const statusMap = {\n        wechat: '微信用户',\n        routine: '小程序用户',\n      };\n      return statusMap[status];\n    },\n  },\n  computed: {\n    ...mapState('media', ['isMobile']),\n    ...mapState('userLevel', ['categoryId']),\n    labelWidth() {\n      return this.isMobile ? undefined : 80;\n    },\n    labelPosition() {\n      return this.isMobile ? 'top' : 'left';\n    },\n  },\n  data() {\n    return {\n      isChat: true,\n      formValidate3: {\n        page: 1,\n        limit: 15,\n      },\n      total3: 0,\n      loading3: false,\n      modals3: false,\n      tableList3: [],\n      columns3: [\n        {\n          title: '用户名称',\n          key: 'nickname',\n          width: 200,\n        },\n        {\n          title: '客服头像',\n          slot: 'headimgurl',\n        },\n        {\n          title: '操作',\n          slot: 'action',\n        },\n      ],\n      formValidate5: {\n        page: 1,\n        limit: 15,\n        uid: 0,\n        to_uid: 0,\n        id: 0,\n      },\n      total5: 0,\n      loading5: false,\n      tableList5: [],\n      columns5: [\n        {\n          title: '用户名称',\n          key: 'nickname',\n          width: 200,\n        },\n        {\n          title: '用户头像',\n          slot: 'avatar',\n        },\n        {\n          title: '发送消息',\n          key: 'msn',\n          width: 250,\n        },\n        {\n          title: '发送时间',\n          key: 'add_time',\n        },\n      ],\n      FromData: null,\n      formValidate: {\n        page: 1,\n        limit: 15,\n        data: '',\n        type: '',\n        nickname: '',\n      },\n      tableList2: [],\n      modals: false,\n      total: 0,\n      tableFrom: {\n        page: 1,\n        limit: 15,\n      },\n      timeVal: [],\n      fromList: {\n        title: '选择时间',\n        custom: true,\n        fromTxt: [\n          { text: '全部', val: '' },\n          { text: '今天', val: 'today' },\n          { text: '昨天', val: 'yesterday' },\n          { text: '最近7天', val: 'lately7' },\n          { text: '最近30天', val: 'lately30' },\n          { text: '本月', val: 'month' },\n          { text: '本年', val: 'year' },\n        ],\n      },\n      loading: false,\n      tableList: [],\n      columns1: [\n        {\n          title: 'ID',\n          key: 'id',\n          width: 80,\n        },\n        {\n          title: '微信用户名称',\n          key: 'nickname',\n          minWidth: 120,\n        },\n        {\n          title: '客服头像',\n          slot: 'avatar',\n          minWidth: 60,\n        },\n        {\n          title: '客服名称',\n          key: 'wx_name',\n          minWidth: 120,\n        },\n        {\n          title: '客服状态',\n          slot: 'status',\n          minWidth: 120,\n        },\n        {\n          title: '添加时间',\n          key: 'add_time',\n          minWidth: 120,\n        },\n        {\n          title: '操作',\n          slot: 'action',\n          fixed: 'right',\n          minWidth: 150,\n        },\n      ],\n      columns4: [\n        {\n          type: 'selection',\n          width: 60,\n          align: 'center',\n        },\n        {\n          title: 'ID',\n          key: 'uid',\n          width: 80,\n        },\n        {\n          title: '微信用户名称',\n          key: 'nickname',\n          minWidth: 160,\n        },\n        {\n          title: '客服头像',\n          slot: 'headimgurl',\n          minWidth: 60,\n        },\n        {\n          title: '用户类型',\n          slot: 'user_type',\n          width: 100,\n        },\n        {\n          title: '性别',\n          slot: 'sex',\n          minWidth: 60,\n        },\n        {\n          title: '地区',\n          slot: 'country',\n          minWidth: 120,\n        },\n        {\n          title: '是否关注公众号',\n          slot: 'subscribe',\n          minWidth: 120,\n        },\n      ],\n      loading2: false,\n      total2: 0,\n      addFrom: {\n        uids: [],\n      },\n      selections: [],\n      rows: {},\n      rowRecord: {},\n    };\n  },\n  created() {\n    this.getList();\n  },\n  methods: {\n    // 进入工作台\n    goChat(item) {\n      kefuLogin(item.id)\n        .then((res) => {\n          var url = '';\n          if (res.data.token) {\n            let expires = this.getExpiresTime(res.data.exp_time);\n            setCookies('kefu_token', res.data.token, expires);\n            setCookies('kefu_uuid', res.data.kefuInfo.uid, expires);\n            setCookies('kefu_expires_time', res.data.exp_time, expires);\n            setCookies('kefuInfo', res.data.kefuInfo, expires);\n            if (this.$store.state.media.isMobile) {\n              url = window.location.protocol + '//' + window.location.host + '/kefu/mobile_list';\n            } else {\n              url = window.location.protocol + '//' + window.location.host + '/kefu/pc_list';\n            }\n\n            window.open(url, '_blank');\n          }\n        })\n        .catch((error) => {\n          this.$Message.error(error.msg);\n        });\n    },\n    getExpiresTime(expiresTime) {\n      let nowTimeNum = Math.round(new Date() / 1000);\n      let expiresTimeNum = expiresTime - nowTimeNum;\n      return parseFloat(parseFloat(parseFloat(expiresTimeNum / 60) / 60) / 24);\n    },\n    cancel() {\n      this.formValidate = {\n        page: 1,\n        limit: 10,\n        data: '',\n        type: '',\n        nickname: '',\n      };\n    },\n    handleReachBottom() {\n      return new Promise((resolve) => {\n        this.formValidate.page = this.formValidate.page + 1;\n        setTimeout(() => {\n          // this.loading2 = true;\n          kefucreateApi(this.formValidate)\n            .then(async (res) => {\n              let data = res.data;\n              // this.tableList2 = data.list;\n              if (data.list.length > 0) {\n                for (let i = 0; i < data.list.length; i++) {\n                  this.tableList2.push(data.list[i]);\n                }\n              }\n              this.total2 = data.count;\n              this.loading2 = false;\n            })\n            .catch((res) => {\n              this.loading2 = false;\n              this.$Message.error(res.msg);\n            });\n          resolve();\n        }, 2000);\n      });\n    },\n    // 查看对话\n    look(row) {\n      this.isChat = false;\n      this.rowRecord = row;\n      this.getChatlist();\n    },\n    // 查看对话列表\n    getChatlist() {\n      this.loading5 = true;\n      this.formValidate5.uid = this.rows.uid;\n      this.formValidate5.to_uid = this.rowRecord.uid;\n      this.formValidate5.id = this.rows.id;\n      kefuChatlistApi(this.formValidate5)\n        .then(async (res) => {\n          let data = res.data;\n          this.tableList5 = data.list;\n          this.total5 = data.count;\n          this.loading5 = false;\n        })\n        .catch((res) => {\n          this.loading5 = false;\n          this.$Message.error(res.msg);\n        });\n    },\n    pageChange5(index) {\n      this.formValidate5.page = index;\n      this.getChatlist();\n    },\n    // 修改成功\n    submitFail() {\n      this.getList();\n    },\n    // 聊天记录\n    record(row) {\n      this.rows = row;\n      this.modals3 = true;\n      this.isChat = true;\n      this.getListRecord();\n    },\n    // 聊天记录列表\n    getListRecord() {\n      this.loading3 = true;\n      kefuRecordApi(this.formValidate3, this.rows.id)\n        .then(async (res) => {\n          let data = res.data;\n          this.tableList3 = data.list ? data.list : [];\n          this.total3 = data.count;\n          this.loading3 = false;\n        })\n        .catch((res) => {\n          this.loading3 = false;\n          this.$Message.error(res.msg);\n        });\n    },\n    pageChange3(index) {\n      this.formValidate3.page = index;\n      this.getListRecord();\n    },\n    // 编辑\n    edit(row) {\n      this.$modalForm(kefuEditApi(row.id)).then(() => this.getList());\n    },\n    // 添加\n    add() {\n      // this.modals = true;\n      // this.formValidate.data = '';\n      // this.getListService();\n      this.$modalForm(kefuaddApi()).then(() => this.getList());\n    },\n    // 全选\n    onSelectTab(selection) {\n      this.selections = selection;\n      let data = [];\n      this.selections.map((item) => {\n        data.push(item.uid);\n      });\n      this.addFrom.uids = data;\n    },\n    // 具体日期\n    onchangeTime(e) {\n      this.timeVal = e;\n      this.formValidate.data = this.timeVal.join('-');\n      this.formValidate.page = 1;\n      this.getListService();\n    },\n    // 选择时间\n    selectChange(tab) {\n      this.formValidate.data = tab;\n      this.timeVal = [];\n      this.formValidate.page = 1;\n      this.getListService();\n    },\n    // 客服列表\n    getListService() {\n      this.loading2 = true(this.formValidate)\n        .then(async (res) => {\n          let data = res.data;\n          this.tableList2 = data.list;\n          this.total2 = data.count;\n          this.tableList2.map((item) => {\n            item._isChecked = false;\n          });\n          this.loading2 = false;\n        })\n        .catch((res) => {\n          tkefucreateApihis.loading2 = false;\n          this.$Message.error(res.msg);\n        });\n    },\n    pageChange2(pageIndex) {\n      this.formValidate.page = pageIndex;\n      this.getListService();\n      this.addFrom.uids = [];\n    },\n    // 搜索\n    userSearchs() {\n      this.formValidate.page = 1;\n      this.getListService();\n    },\n    // 删除\n    del(row, tit, num) {\n      let delfromData = {\n        title: tit,\n        num: num,\n        url: `app/wechat/kefu/${row.id}`,\n        method: 'DELETE',\n        ids: '',\n      };\n      this.$modalSure(delfromData)\n        .then((res) => {\n          this.$Message.success(res.msg);\n          this.tableList.splice(num, 1);\n        })\n        .catch((res) => {\n          this.$Message.error(res.msg);\n        });\n    },\n    // 列表\n    getList() {\n      this.loading = true;\n      kefuListApi(this.tableFrom)\n        .then(async (res) => {\n          let data = res.data;\n          this.tableList = data.list;\n          this.total = res.data.count;\n          this.loading = false;\n        })\n        .catch((res) => {\n          this.loading = false;\n          this.$Message.error(res.msg);\n        });\n    },\n    pageChange(index) {\n      this.tableFrom.page = index;\n      this.getList();\n    },\n    // 修改是否显示\n    onchangeIsShow(row) {\n      let data = {\n        id: row.id,\n        status: row.status,\n      };\n      kefusetStatusApi(data)\n        .then(async (res) => {\n          this.$Message.success(res.msg);\n          this.getList();\n        })\n        .catch((res) => {\n          this.$Message.error(res.msg);\n        });\n    },\n    // 添加客服\n    putRemark() {\n      if (this.addFrom.uids.length === 0) {\n        return this.$Message.warning('请选择要添加的客服');\n      }\n      kefuAddApi(this.addFrom)\n        .then(async (res) => {\n          this.$Message.success(res.msg);\n          this.modals = false;\n          this.getList();\n        })\n        .catch((res) => {\n          this.loading = false;\n          this.$Message.error(res.msg);\n        });\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"stylus\">\n.tabBox_img\n    width 36px\n    height 36px\n    border-radius:4px;\n    cursor pointer\n    img\n        width 100%\n        height 100%\n.modelBox\n    >>>\n    .ivu-table-header\n        width 100% !important\n.trees-coadd\n    width: 100%;\n    height: 385px;\n    .scollhide\n        width: 100%;\n        height: 100%;\n        overflow-x: hidden;\n        overflow-y: scroll;\n// margin-left: 18px;\n.scollhide::-webkit-scrollbar {\n    display: none;\n}\n</style>\n"]}]}