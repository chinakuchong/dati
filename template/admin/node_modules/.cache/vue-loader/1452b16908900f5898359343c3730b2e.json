{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/pages/notify/smsConfig/components/loginFrom.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/pages/notify/smsConfig/components/loginFrom.vue","mtime":1689324015238},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGNvbmZpZ0FwaSB9IGZyb20gJ0AvYXBpL3NldHRpbmcnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2xvZ2luJywKICBkYXRhKCkgewogICAgY29uc3QgdmFsaWRhdGVQaG9uZSA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKICAgICAgaWYgKCF2YWx1ZSkgewogICAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+Whq+WGmeaJi+acuuWPtycpKTsKICAgICAgfSBlbHNlIGlmICghL14xWzM0NTY3ODldXGR7OX0kLy50ZXN0KHZhbHVlKSkgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign5omL5py65Y+35qC85byP5LiN5q2j56GuIScpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjYWxsYmFjaygpOwogICAgICB9CiAgICB9OwogICAgcmV0dXJuIHsKICAgICAgZm9ybUlubGluZTogewogICAgICAgIGFjY291bnQ6ICcnLAogICAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgfSwKICAgICAgcnVsZUlubGluZTogewogICAgICAgIGFjY291bnQ6IFt7IHJlcXVpcmVkOiB0cnVlLCB2YWxpZGF0b3I6IHZhbGlkYXRlUGhvbmUsIHRyaWdnZXI6ICdibHVyJyB9XSwKICAgICAgICBwYXNzd29yZDogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXlr4bnoIEnLCB0cmlnZ2VyOiAnYmx1cicgfV0sCiAgICAgIH0sCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICBkb2N1bWVudC5vbmtleWRvd24gPSBmdW5jdGlvbiAoZSkgewogICAgICBsZXQga2V5ID0gd2luZG93LmV2ZW50LmtleUNvZGU7CiAgICAgIGlmIChrZXkgPT09IDEzKSB7CiAgICAgICAgX3RoaXMuaGFuZGxlU3VibWl0KCdmb3JtSW5saW5lJyk7CiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVTdWJtaXQobmFtZSkgewogICAgICB0aGlzLiRyZWZzW25hbWVdLnZhbGlkYXRlKCh2YWxpZCkgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgY29uZmlnQXBpKHRoaXMuZm9ybUlubGluZSkKICAgICAgICAgICAgLnRoZW4oYXN5bmMgKHJlcykgPT4gewogICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2Vzcygn55m75b2V5oiQ5YqfIScpOwogICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ29uLUxvZ2luJyk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOS8keaUueWvhueggQogICAgY2hhbmdlUGFzc3dvcmQoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ29uLWNoYW5nZScpOwogICAgfSwKICAgIGNoYW5nZVJlZygpIHsKICAgICAgdGhpcy4kZW1pdCgnb24tY2hhbmdlcycpOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["loginFrom.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"loginFrom.vue","sourceRoot":"src/pages/notify/smsConfig/components","sourcesContent":["<template>\n  <Row type=\"flex\">\n    <Col span=\"24\">\n      <div class=\"index_from page-account-container\">\n        <div class=\"page-account-top\">\n          <span class=\"page-account-top-tit\">一号通账户登录</span>\n        </div>\n        <Form\n          ref=\"formInline\"\n          :model=\"formInline\"\n          :rules=\"ruleInline\"\n          @submit.native.prevent\n          @keyup.enter=\"handleSubmit('formInline')\"\n        >\n          <FormItem prop=\"sms_account\" class=\"maxInpt\">\n            <Input type=\"text\" v-model=\"formInline.account\" prefix=\"ios-contact-outline\" placeholder=\"请输入手机号\" />\n          </FormItem>\n          <FormItem prop=\"sms_token\" class=\"maxInpt\">\n            <Input type=\"password\" v-model=\"formInline.password\" prefix=\"ios-lock-outline\" placeholder=\"请输入密码\" />\n          </FormItem>\n          <FormItem class=\"maxInpt\">\n            <Button type=\"primary\" long size=\"large\" @click=\"handleSubmit('formInline')\" class=\"btn\">登录</Button>\n          </FormItem>\n        </Form>\n        <div class=\"page-account-other\">\n          <span @click=\"changePassword\">忘记密码 |</span>\n          <span @click=\"changeReg\"> 注册账户</span>\n        </div>\n      </div>\n    </Col>\n  </Row>\n</template>\n\n<script>\nimport { configApi } from '@/api/setting';\nexport default {\n  name: 'login',\n  data() {\n    const validatePhone = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error('请填写手机号'));\n      } else if (!/^1[3456789]\\d{9}$/.test(value)) {\n        callback(new Error('手机号格式不正确!'));\n      } else {\n        callback();\n      }\n    };\n    return {\n      formInline: {\n        account: '',\n        password: '',\n      },\n      ruleInline: {\n        account: [{ required: true, validator: validatePhone, trigger: 'blur' }],\n        password: [{ required: true, message: '请输入密码', trigger: 'blur' }],\n      },\n    };\n  },\n  created() {\n    var _this = this;\n    document.onkeydown = function (e) {\n      let key = window.event.keyCode;\n      if (key === 13) {\n        _this.handleSubmit('formInline');\n      }\n    };\n  },\n  methods: {\n    handleSubmit(name) {\n      this.$refs[name].validate((valid) => {\n        if (valid) {\n          configApi(this.formInline)\n            .then(async (res) => {\n              this.$Message.success('登录成功!');\n              this.$emit('on-Login');\n            })\n            .catch((res) => {\n              this.$Message.error(res.msg);\n            });\n        } else {\n          return false;\n        }\n      });\n    },\n    // 休改密码\n    changePassword() {\n      this.$emit('on-change');\n    },\n    changeReg() {\n      this.$emit('on-changes');\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"stylus\">\n.maxInpt {\n  max-width: 400px;\n  margin-left: auto;\n  margin-right: auto;\n}\n\n.page-account-container {\n  text-align: center;\n  padding: 50px 0;\n}\n\n.page-account-top {\n  margin-bottom: 20px;\n}\n\n.page-account-top-tit {\n  font-size: 21px;\n  color: #1890FF;\n}\n\n.page-account-other {\n  text-align: center;\n  color: #1890FF;\n  font-size: 12px;\n\n  span {\n    cursor: pointer;\n  }\n}\n</style>\n"]}]}