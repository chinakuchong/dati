{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/components/mobileConfigRightDiy/c_product.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/components/mobileConfigRightDiy/c_product.vue","mtime":1689324015158},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB2dWVkcmFnZ2FibGUgZnJvbSAndnVlZHJhZ2dhYmxlJzsKaW1wb3J0IGxpbmthZGRyZXNzIGZyb20gJ0AvY29tcG9uZW50cy9saW5rYWRkcmVzcyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2NfcHJvZHVjdCcsCiAgcHJvcHM6IHsKICAgIGNvbmZpZ09iajogewogICAgICB0eXBlOiBPYmplY3QsCiAgICB9LAogICAgY29uZmlnTm1lOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgIH0sCiAgICBpbmRleDogewogICAgICB0eXBlOiBudWxsLAogICAgfSwKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIGxpbmthZGRyZXNzLAogICAgZHJhZ2dhYmxlOiB2dWVkcmFnZ2FibGUsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGVmYXVsdHM6IHt9LAogICAgICBjb25maWdEYXRhOiB7fSwKICAgICAgaXRlbU9iajoge30sCiAgICAgIGFjdGl2ZUluZGV4OiAwLAogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgIHRoaXMuZGVmYXVsdHMgPSB0aGlzLmNvbmZpZ09iajsKICAgICAgdGhpcy5jb25maWdEYXRhID0gdGhpcy5jb25maWdPYmpbdGhpcy5jb25maWdObWVdOwogICAgfSk7CiAgfSwKICB3YXRjaDogewogICAgY29uZmlnT2JqOiB7CiAgICAgIGhhbmRsZXIoblZhbCwgb1ZhbCkgewogICAgICAgIHRoaXMuZGVmYXVsdHMgPSBuVmFsOwogICAgICAgIHRoaXMuY29uZmlnRGF0YSA9IG5WYWxbdGhpcy5jb25maWdObWVdOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlLAogICAgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIGxpbmtVcmwoZSkgewogICAgICB0aGlzLmNvbmZpZ0RhdGEubGlzdFt0aGlzLmFjdGl2ZUluZGV4XS5jaGlpbGRbMV0udmFsID0gZTsKICAgIH0sCiAgICBnZXRMaW5rKGluZGV4LCBrZXksIGl0ZW0pIHsKICAgICAgaWYgKCFrZXkgfHwgaXRlbS5saW5rKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSBpbmRleDsKICAgICAgdGhpcy4kcmVmcy5saW5rYWRkcmVzLm1vZGFscyA9IHRydWU7CiAgICB9LAogICAgYWRkSG90VHh0KCkgewogICAgICBpZiAodGhpcy5jb25maWdEYXRhLmxpc3QubGVuZ3RoID09IDApIHsKICAgICAgICBsZXQgc3RvcmFnZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2U7CiAgICAgICAgdGhpcy5pdGVtT2JqID0gSlNPTi5wYXJzZShzdG9yYWdlLmdldEl0ZW0oJ2l0ZW1PYmonKSk7CiAgICAgICAgaWYgKHRoaXMuaXRlbU9iai5saW5rKSB7CiAgICAgICAgICB0aGlzLml0ZW1PYmoubGluay5hY3RpdmVWYWwgPSAwOwogICAgICAgIH0KICAgICAgICB0aGlzLml0ZW1PYmouY2hpaWxkWzBdLnZhbCA9ICcnOwogICAgICAgIHRoaXMuaXRlbU9iai5jaGlpbGRbMV0udmFsID0gJyc7CiAgICAgICAgdGhpcy5jb25maWdEYXRhLmxpc3QucHVzaCh0aGlzLml0ZW1PYmopOwogICAgICB9IGVsc2UgewogICAgICAgIGxldCBvYmogPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuY29uZmlnRGF0YS5saXN0W3RoaXMuY29uZmlnRGF0YS5saXN0Lmxlbmd0aCAtIDFdKSk7CiAgICAgICAgaWYgKG9iai5jaGlpbGRbMF0uZW1wdHkpIHsKICAgICAgICAgIG9iai5jaGlpbGRbMF0udmFsID0gJyc7CiAgICAgICAgICBvYmouY2hpaWxkWzFdLnZhbCA9ICcnOwogICAgICAgIH0KICAgICAgICB0aGlzLmNvbmZpZ0RhdGEubGlzdC5wdXNoKG9iaik7CiAgICAgIH0KICAgIH0sCiAgICAvLyDliKDpmaTmlbDnu4QKICAgIGJpbmREZWxldGUoaW5kZXgpIHsKICAgICAgaWYgKHRoaXMuY29uZmlnRGF0YS5saXN0Lmxlbmd0aCA9PSAxKSB7CiAgICAgICAgbGV0IGl0ZW1PYmogPSB0aGlzLmNvbmZpZ0RhdGEubGlzdFswXTsKICAgICAgICB0aGlzLml0ZW1PYmogPSBpdGVtT2JqOwogICAgICAgIGxldCBzdG9yYWdlID0gd2luZG93LmxvY2FsU3RvcmFnZTsKICAgICAgICBzdG9yYWdlLnNldEl0ZW0oJ2l0ZW1PYmonLCBKU09OLnN0cmluZ2lmeShpdGVtT2JqKSk7CiAgICAgIH0KICAgICAgdGhpcy5jb25maWdEYXRhLmxpc3Quc3BsaWNlKGluZGV4LCAxKTsKICAgICAgdGhpcy5jb25maWdEYXRhLnRhYkN1ciA9IDA7CiAgICAgIHRoaXMuJGVtaXQoJ2dldENvbmZpZycsIHsgbmFtZTogJ2RlbGV0ZScsIGluZGV4czogMCB9KTsKICAgIH0sCiAgICBzbGlkZXJDaGFuZ2UoaW5kZXgpIHsKICAgICAgdGhpcy5jb25maWdEYXRhLnRhYkN1ciA9IGluZGV4OwogICAgICB0aGlzLiRlbWl0KCdnZXRDb25maWcnLCB7IG5hbWU6ICdwcm9kdWN0JywgaW5kZXhzOiBpbmRleCB9KTsKICAgIH0sCiAgICBhY3RpdmVCdG4oaW5kZXgpIHsKICAgICAgdGhpcy5jb25maWdEYXRhLnRhYkN1ciA9IGluZGV4OwogICAgICB0aGlzLiRlbWl0KCdnZXRDb25maWcnLCB7IG5hbWU6ICdwcm9kdWN0JywgaW5kZXhzOiBpbmRleCB9KTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["c_product.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"c_product.vue","sourceRoot":"src/components/mobileConfigRightDiy","sourcesContent":["<template>\n  <div class=\"c_product\" v-if=\"configData\">\n    <div class=\"title\">{{ configData.title }}</div>\n    <div class=\"list-box\">\n      <draggable class=\"dragArea list-group\" :list=\"configData.list\" group=\"peoples\" handle=\".move-icon\">\n        <div\n          class=\"item\"\n          v-for=\"(item, index) in configData.list\"\n          :key=\"index\"\n          @click=\"activeBtn(index)\"\n          v-model=\"configData.tabCur\"\n        >\n          <div class=\"move-icon\">\n            <span class=\"iconfont-diy icondrag2\"></span>\n          </div>\n          <div class=\"content\">\n            <div class=\"con-item\" v-for=\"(list, key) in item.chiild\" :key=\"key\">\n              <span>{{ list.title }}</span>\n              <div style=\"width: 100%\" @click=\"getLink(index, key, item)\">\n                <Input\n                  :icon=\"key && !item.link ? 'ios-arrow-forward' : ''\"\n                  :readonly=\"key && !item.link ? true : false\"\n                  v-model=\"list.val\"\n                  :placeholder=\"list.pla\"\n                  :maxlength=\"list.max\"\n                />\n              </div>\n            </div>\n            <div class=\"con-item\" v-if=\"item.link\">\n              <span>{{ item.link.title }}</span>\n              <Select v-model=\"item.link.activeVal\" style=\"\" @on-change=\"sliderChange(index)\">\n                <Option v-for=\"(item, j) in item.link.optiops\" :value=\"item.value\" :key=\"j\">{{ item.label }} </Option>\n              </Select>\n            </div>\n          </div>\n          <div class=\"delete\" @click.stop=\"bindDelete(index)\">\n            <Icon type=\"ios-close-circle\" size=\"26\" />\n          </div>\n        </div>\n      </draggable>\n    </div>\n    <div v-if=\"configData.list\">\n      <div class=\"add-btn\" @click=\"addHotTxt\" v-if=\"configData.list.length < configData.max\">\n        <Button type=\"primary\" ghost style=\"width: 100%; height: 40px; border-color: #1890ff; color: #1890ff\"\n          >添加模块</Button\n        >\n      </div>\n    </div>\n    <linkaddress ref=\"linkaddres\" @linkUrl=\"linkUrl\"></linkaddress>\n  </div>\n</template>\n\n<script>\nimport vuedraggable from 'vuedraggable';\nimport linkaddress from '@/components/linkaddress';\n\nexport default {\n  name: 'c_product',\n  props: {\n    configObj: {\n      type: Object,\n    },\n    configNme: {\n      type: String,\n    },\n    index: {\n      type: null,\n    },\n  },\n  components: {\n    linkaddress,\n    draggable: vuedraggable,\n  },\n  data() {\n    return {\n      defaults: {},\n      configData: {},\n      itemObj: {},\n      activeIndex: 0,\n    };\n  },\n  mounted() {\n    this.$nextTick(() => {\n      this.defaults = this.configObj;\n      this.configData = this.configObj[this.configNme];\n    });\n  },\n  watch: {\n    configObj: {\n      handler(nVal, oVal) {\n        this.defaults = nVal;\n        this.configData = nVal[this.configNme];\n      },\n      deep: true,\n    },\n  },\n  methods: {\n    linkUrl(e) {\n      this.configData.list[this.activeIndex].chiild[1].val = e;\n    },\n    getLink(index, key, item) {\n      if (!key || item.link) {\n        return;\n      }\n      this.activeIndex = index;\n      this.$refs.linkaddres.modals = true;\n    },\n    addHotTxt() {\n      if (this.configData.list.length == 0) {\n        let storage = window.localStorage;\n        this.itemObj = JSON.parse(storage.getItem('itemObj'));\n        if (this.itemObj.link) {\n          this.itemObj.link.activeVal = 0;\n        }\n        this.itemObj.chiild[0].val = '';\n        this.itemObj.chiild[1].val = '';\n        this.configData.list.push(this.itemObj);\n      } else {\n        let obj = JSON.parse(JSON.stringify(this.configData.list[this.configData.list.length - 1]));\n        if (obj.chiild[0].empty) {\n          obj.chiild[0].val = '';\n          obj.chiild[1].val = '';\n        }\n        this.configData.list.push(obj);\n      }\n    },\n    // 删除数组\n    bindDelete(index) {\n      if (this.configData.list.length == 1) {\n        let itemObj = this.configData.list[0];\n        this.itemObj = itemObj;\n        let storage = window.localStorage;\n        storage.setItem('itemObj', JSON.stringify(itemObj));\n      }\n      this.configData.list.splice(index, 1);\n      this.configData.tabCur = 0;\n      this.$emit('getConfig', { name: 'delete', indexs: 0 });\n    },\n    sliderChange(index) {\n      this.configData.tabCur = index;\n      this.$emit('getConfig', { name: 'product', indexs: index });\n    },\n    activeBtn(index) {\n      this.configData.tabCur = index;\n      this.$emit('getConfig', { name: 'product', indexs: index });\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"stylus\">\n/deep/.ivu-input\n    font-size 13px!important\n.c_product\n    border-bottom 1px solid rgba(0,0,0,0.05);\n    padding-bottom 20px\n    margin-bottom 20px\n    .list-box\n        .item\n            position relative\n            display flex\n            margin-top 23px\n            padding 18px 20px 18px 0\n            border: 1px solid rgba(238, 238, 238, 1);\n            box-shadow: 0 0 10px #eee;\n\n            .delete\n                position absolute\n                right 0\n                top 0\n                right: -13px;\n                top: -14px;\n                color #999999\n                cursor pointer\n\n        .move-icon\n            display flex\n            align-items center\n            justify-content center\n            width 50px\n            cursor move\n\n        .content\n            flex 1\n\n            .con-item\n                display flex\n                align-items center\n                margin-bottom 15px\n\n                &:last-child\n                    margin-bottom 0\n                span\n                    width 45px\n                    font-size 13px\n\n    .add-btn\n        margin-top 18px\n.title\n    padding-top 20px\n    font-size 12px\n    color #999\n.iconfont-diy\n    color #DDDDDD\n    font-size 38px\n</style>\n"]}]}