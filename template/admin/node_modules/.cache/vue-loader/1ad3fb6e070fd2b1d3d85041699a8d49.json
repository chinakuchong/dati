{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/pages/setting/devise/diyIndex.vue?vue&type=script&crossorigin=anonymous&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/pages/setting/devise/diyIndex.vue","mtime":1689324015252},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGNhdGVnb3J5TGlzdCwgZ2V0RGl5SW5mbywgc2F2ZURpeSwgZ2V0VXJsLCBzZXREZWZhdWx0LCByZWNvdmVyeSwgZ2V0Um91dGluZUNvZGUgfSBmcm9tICdAL2FwaS9kaXknOwppbXBvcnQgdnVlZHJhZ2dhYmxlIGZyb20gJ3Z1ZWRyYWdnYWJsZSc7CmltcG9ydCBtUGFnZSBmcm9tICdAL2NvbXBvbmVudHMvbW9iaWxlUGFnZURpeS9pbmRleC5qcyc7CmltcG9ydCBtQ29uZmlnIGZyb20gJ0AvY29tcG9uZW50cy9tb2JpbGVDb25maWdEaXkvaW5kZXguanMnOwppbXBvcnQgZm9vdFBhZ2UgZnJvbSAnQC9jb21wb25lbnRzL3BhZ2VzRm9vdCc7CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCBodG1sMmNhbnZhcyBmcm9tICdodG1sMmNhbnZhcyc7CmltcG9ydCBRUkNvZGUgZnJvbSAncXJjb2RlanMyJzsKCmxldCBpZEdsb2JhbCA9IDA7CmV4cG9ydCBkZWZhdWx0IHsKICBpbmplY3Q6IFsncmVsb2FkJ10sCiAgbmFtZTogJ2luZGV4LnZ1ZScsCiAgY29tcG9uZW50czogewogICAgZm9vdFBhZ2UsCiAgICBodG1sMmNhbnZhcywKICAgIGRyYWdnYWJsZTogdnVlZHJhZ2dhYmxlLAogICAgLi4ubVBhZ2UsCiAgICAuLi5tQ29uZmlnLAogIH0sCiAgZmlsdGVyczogewogICAgZmlsdGVyVHh0KHZhbCkgewogICAgICBpZiAodmFsKSB7CiAgICAgICAgcmV0dXJuICh2YWwgPSB2YWwuc3Vic3RyKDAsIHZhbC5sZW5ndGggLSAxKSk7CiAgICAgIH0KICAgIH0sCiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoewogICAgICB0aXRsZVR4dDogKHN0YXRlKSA9PiBzdGF0ZS5tb2JpbGRDb25maWcucGFnZVRpdGxlIHx8ICfpppbpobUnLAogICAgICBuYW1lVHh0OiAoc3RhdGUpID0+IHN0YXRlLm1vYmlsZENvbmZpZy5wYWdlTmFtZSB8fCAn5qih5p2/JywKICAgICAgc2hvd1R4dDogKHN0YXRlKSA9PiBzdGF0ZS5tb2JpbGRDb25maWcucGFnZVNob3csCiAgICAgIGNvbG9yVHh0OiAoc3RhdGUpID0+IHN0YXRlLm1vYmlsZENvbmZpZy5wYWdlQ29sb3IsCiAgICAgIHBpY1R4dDogKHN0YXRlKSA9PiBzdGF0ZS5tb2JpbGRDb25maWcucGFnZVBpYywKICAgICAgY29sb3JQaWNrZXJUeHQ6IChzdGF0ZSkgPT4gc3RhdGUubW9iaWxkQ29uZmlnLnBhZ2VDb2xvclBpY2tlciwKICAgICAgdGFiVmFsVHh0OiAoc3RhdGUpID0+IHN0YXRlLm1vYmlsZENvbmZpZy5wYWdlVGFiVmFsLAogICAgICBwaWNVcmxUeHQ6IChzdGF0ZSkgPT4gc3RhdGUubW9iaWxkQ29uZmlnLnBhZ2VQaWNVcmwsCiAgICB9KSwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjbGllbnRIZWlnaHQ6ICcnLCAvL+mhtemdouWKqOaAgemrmOW6pgogICAgICByb2xsSGVpZ2h0OiAnJywKICAgICAgbGVmdE1lbnU6IFtdLCAvLyDlt6bkvqfoj5zljZUKICAgICAgbENvbmZpZzogW10sIC8vIOW3puS+p+e7hOS7tgogICAgICBtQ29uZmlnOiBbXSwgLy8g5Lit6Ze057uE5Lu25riy5p+TCiAgICAgIHJDb25maWc6IFtdLCAvLyDlj7Pkvqfnu4Tku7bphY3nva4KICAgICAgYWN0aXZlQ29uZmlnTmFtZTogJycsCiAgICAgIHByb3BzT2JqOiB7fSwgLy8g57uE5Lu25Lyg6YCS55qE5pWw5o2uLAogICAgICBhY3RpdmVJbmRleDogLTEwMCwgLy8g6YCJ5Lit55qE5LiL5qCHCiAgICAgIG51bWJlcjogMCwKICAgICAgcGFnZUlkOiAnJywKICAgICAgcGFnZU5hbWU6ICcnLAogICAgICBwYWdlVHlwZTogJycsCiAgICAgIGNhdGVnb3J5OiBbXSwKICAgICAgdGFiTGlzdDogWwogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAn57uE5Lu25bqTJywKICAgICAgICAgIGtleTogMCwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAn6aG16Z2i6ZO+5o6lJywKICAgICAgICAgIGtleTogMSwKICAgICAgICB9LAogICAgICBdLAogICAgICB0YWJDdXI6IDAsCiAgICAgIHVybExpc3Q6IFtdLAogICAgICBmb290QWN0aXZlOiBmYWxzZSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGlzU2VhcmNoOiBmYWxzZSwKICAgICAgaXNUYWI6IGZhbHNlLAogICAgICBpc0ZsbG93OiBmYWxzZSwKICAgICAgcXJjb2RlSW1nOiAnJywKICAgICAgbW9kYWw6IGZhbHNlLAogICAgICBuYW1lTW9kYWw6IGZhbHNlLAogICAgICBzYXZlTmFtZTogJycsCiAgICB9OwogIH0sCiAgYmVmb3JlUm91dGVMZWF2ZSh0bywgZnJvbSwgbmV4dCkgewogICAgLy8g5a+86Iiq56a75byA6K+l57uE5Lu255qE5a+55bqU6Lev55Sx5pe26LCD55SoCiAgfSwKICBiZWZvcmVDcmVhdGUoKSB7CiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy90aXRsZVVwZGF0YScsICcnKTsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL25hbWVVcGRhdGEnLCAnJyk7CiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9zaG93VXBkYXRhJywgMSk7CiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9jb2xvclVwZGF0YScsIDApOwogICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvcGljVXBkYXRhJywgMCk7CiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9waWNrZXJVcGRhdGEnLCAnI2Y1ZjVmNScpOwogICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvcmFkaW9VcGRhdGEnLCAwKTsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL3BpY3VybFVwZGF0YScsICcnKTsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL1NFVEVNUFRZJyk7CiAgfSwKICBjcmVhdGVkKCkgewogICAgd2luZG93Lm9uYmVmb3JldW5sb2FkID0gKCkgPT4gewogICAgICByZXR1cm4gJ+WIt+aWsOmhtemdouWwhuS4ouWkseWGheWuuSzmmK/lkKbnu6fnu60/JzsKICAgIH07CiAgICB0aGlzLmNhdGVnb3J5TGlzdCgpOwogICAgdGhpcy5nZXRVcmxMaXN0KCk7CiAgICB0aGlzLnBhZ2VJZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmlkOwogICAgdGhpcy5wYWdlTmFtZSA9IHRoaXMuJHJvdXRlLnF1ZXJ5Lm5hbWU7CiAgICB0aGlzLnBhZ2VUeXBlID0gdGhpcy4kcm91dGUucXVlcnkudHlwZTsKICAgIHRoaXMubENvbmZpZyA9IHRoaXMub2JqVG9BcnIobVBhZ2UpOwogIH0sCiAgbW91bnRlZCgpIHsKICAgIC8vIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmJlZm9yZXVubG9hZCcsIHRoaXMuYmVmb3JlVW5sb2FkKTsKICAgIGxldCBpbWdMaXN0ID0gewogICAgICBpbWdMaXN0OiBbcmVxdWlyZSgnQC9hc3NldHMvaW1hZ2VzL2Zvb3QtMDA1LnBuZycpLCByZXF1aXJlKCdAL2Fzc2V0cy9pbWFnZXMvZm9vdC0wMDYucG5nJyldLAogICAgICBuYW1lOiAn6LSt54mp6L2mJywKICAgICAgbGluazogJy9wYWdlcy9vcmRlcl9hZGRjYXJ0L29yZGVyX2FkZGNhcnQnLAogICAgfTsKICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvRk9PVEVSJywgewogICAgICAgIHRpdGxlOiAn5LiT6aKY6aG15piv5ZCm5pi+56S6JywKICAgICAgICBuYW1lOiBpbWdMaXN0LAogICAgICB9KTsKICAgICAgdGhpcy5hcnJheVNvcnQoKTsKICAgICAgaWYgKHRoaXMucGFnZUlkICE9IDApIHsKICAgICAgICB0aGlzLmdldERlZmF1bHRDb25maWcoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNob3dUaXRsZSgpOwogICAgICB9CiAgICAgIHRoaXMuY2xpZW50SGVpZ2h0ID0gYCR7ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodH1gOyAvL+iOt+WPlua1j+iniOWZqOWPr+inhuWMuuWfn+mrmOW6pgogICAgICBsZXQgSCA9IGAke2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHR9YCAtIDE4MDsKICAgICAgdGhpcy5yb2xsSGVpZ2h0ID0gSCA+IDY1MCA/IDY1MCA6IEg7CiAgICAgIGxldCB0aGF0ID0gdGhpczsKICAgICAgd2luZG93Lm9ucmVzaXplID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoYXQuY2xpZW50SGVpZ2h0ID0gYCR7ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodH1gOwogICAgICAgIGxldCBIID0gYCR7ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodH1gIC0gMTgwOwogICAgICAgIHRoYXQucm9sbEhlaWdodCA9IEggPiA2NTAgPyA2NTAgOiBIOwogICAgICB9OwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzYXZlTW9kYWwoKSB7CiAgICAgIGlmICghdGhpcy5zYXZlTmFtZSkgcmV0dXJuIHRoaXMuJE1lc3NhZ2Uud2FybmluZygn6K+35YWI6L6T5YWl5qih5p2/5ZCN56ewJyk7CiAgICAgIHRoaXMuc2F2ZUNvbmZpZygxLCB0aGlzLnNhdmVOYW1lKTsKICAgIH0sCiAgICAvL+Wwj+eoi+W6j+S6jOe7tOeggQogICAgcm91dGluZUNvZGUoaWQpIHsKICAgICAgZ2V0Um91dGluZUNvZGUoaWQpCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgdGhpcy5xcmNvZGVJbWcgPSByZXMuZGF0YS5pbWFnZTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKGVycik7CiAgICAgICAgfSk7CiAgICB9LAogICAgcHJldmlldyhyb3cpIHsKICAgICAgdGhpcy5tb2RhbCA9IHRydWU7CiAgICAgIHRoaXMuY3JlYXRRckNvZGUocm93LmlkKTsKICAgICAgdGhpcy5yb3V0aW5lQ29kZSh0aGlzLiRyb3V0ZS5xdWVyeS5pZCk7CiAgICB9LAogICAgLy/nlJ/miJDkuoznu7TnoIEKICAgIGNyZWF0UXJDb2RlKGlkKSB7CiAgICAgIHRoaXMuJHJlZnMucXJDb2RlVXJsLmlubmVySFRNTCA9ICcnOwogICAgICBsZXQgdXJsID0gYCR7dGhpcy5CYXNlVVJMfXBhZ2VzL2FubmV4L3NwZWNpYWwvaW5kZXg/aWQ9JHtpZH1gOwogICAgICB2YXIgcXJjb2RlID0gbmV3IFFSQ29kZSh0aGlzLiRyZWZzLnFyQ29kZVVybCwgewogICAgICAgIHRleHQ6IHVybCwgLy8g6ZyA6KaB6L2s5o2i5Li65LqM57u056CB55qE5YaF5a65CiAgICAgICAgd2lkdGg6IDE2MCwKICAgICAgICBoZWlnaHQ6IDE2MCwKICAgICAgICBjb2xvckRhcms6ICcjMDAwMDAwJywKICAgICAgICBjb2xvckxpZ2h0OiAnI2ZmZmZmZicsCiAgICAgICAgY29ycmVjdExldmVsOiBRUkNvZGUuQ29ycmVjdExldmVsLkgsCiAgICAgIH0pOwogICAgfSwKICAgIGNsb3NlV2luZG93KCkgewogICAgICB0aGlzLiRNb2RhbC5jb25maXJtKHsKICAgICAgICB0aXRsZTogJ+ehruWumuWFs+mXreW9k+WJjemhteWQl++8nycsCiAgICAgICAgY29udGVudDogJ+WFs+mXremhtemdouWJjeivt+WFiOS/neWtmOaVsOaNru+8jOacquS/neWtmOeahOivneaVsOaNruS8muS4ouWksScsCiAgICAgICAgb2tUZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxUZXh0OiAn5Y+W5raIJywKICAgICAgICBsb2FkaW5nOiB0cnVlLAogICAgICAgIG9uT2s6ICgpID0+IHsKICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAvLyB0aGlzLnNhdmVDb25maWcoKTsKICAgICAgICAgICAgdGhpcy4kTW9kYWwucmVtb3ZlKCk7CiAgICAgICAgICAgIHdpbmRvdy5jbG9zZSgpOwogICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgfSwKICAgICAgICBvbkNhbmNlbDogKCkgPT4gewogICAgICAgICAgdGhpcy4kTW9kYWwucmVtb3ZlKCk7CiAgICAgICAgfSwKICAgICAgfSk7CiAgICB9LAogICAgbGVmdFJlbW92ZSh7IHRvLCBmcm9tLCBpdGVtLCBjbG9uZSwgb2xkSW5kZXgsIG5ld0luZGV4IH0pIHsKICAgICAgaWYgKHRoaXMuaXNTZWFyY2ggJiYgbmV3SW5kZXggPT0gMCkgewogICAgICAgIGlmIChpdGVtLl91bmRlcmx5aW5nX3ZtXy5uYW1lID09ICd6X3dlY2hhdF9hdHRlbnRpb24nKSB7CiAgICAgICAgICB0aGlzLmlzRmxsb3cgPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9BUlJBWVJFQVNUJywgdGhpcy5tQ29uZmlnWzBdLm51bSk7CiAgICAgICAgICB0aGlzLm1Db25maWcuc3BsaWNlKDAsIDEpOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoKHRoaXMuaXNGbGxvdyA9IHRydWUgJiYgbmV3SW5kZXggPj0gMSkpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9BUlJBWVJFQVNUJywgdGhpcy5tQ29uZmlnWzBdLm51bSk7CiAgICAgIH0KICAgIH0sCiAgICBvbk1vdmUoZSkgewogICAgICBpZiAoZS5yZWxhdGVkQ29udGV4dC5lbGVtZW50Lm5hbWUgPT0gJ3NlYXJjaF9ib3gnKSByZXR1cm4gZmFsc2U7CiAgICAgIGlmIChlLnJlbGF0ZWRDb250ZXh0LmVsZW1lbnQubmFtZSA9PSAnbmF2X2JhcicpIHJldHVybiBmYWxzZTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9LAogICAgb25Db3B5KGNvcHlEYXRhKSB7CiAgICAgIHRoaXMuJGNvcHlUZXh0KGNvcHlEYXRhKQogICAgICAgIC50aGVuKChtZXNzYWdlKSA9PiB7CiAgICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MoJ+WkjeWItuaIkOWKnycpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IoJ+WkjeWItuWksei0pScpOwogICAgICAgIH0pOwogICAgfSwKICAgIG9uRXJyb3IoKSB7CiAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IoJ+WkjeWItuWksei0pScpOwogICAgfSwKICAgIC8v6K6+572u6buY6K6k5pWw5o2uCiAgICBzZXRtb3JlbigpIHsKICAgICAgdGhpcy4kTW9kYWwuY29uZmlybSh7CiAgICAgICAgdGl0bGU6ICfkv53lrZjkuLrpu5jorqTmlbDmja4nLAogICAgICAgIGNvbnRlbnQ6ICfmgqjnoa7lrprlsIblvZPliY3orr7orqHorr7kuLrpu5jorqTmlbDmja7lkJfvvJ8nLAogICAgICAgIG9uT2s6ICgpID0+IHsKICAgICAgICAgIHNldERlZmF1bHQodGhpcy5wYWdlSWQpCiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcihlcnIubXNnKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBvbkNhbmNlbDogKCkgPT4ge30sCiAgICAgIH0pOwogICAgfSwKICAgIC8v5oGi5aSN6buY6K6kCiAgICBnZXRtb3JlbigpIHsKICAgICAgdGhpcy4kTW9kYWwuY29uZmlybSh7CiAgICAgICAgdGl0bGU6ICfmgaLlpI3pu5jorqTmlbDmja4nLAogICAgICAgIGNvbnRlbnQ6ICfmgqjnoa7lrprmgaLlpI3kuLrkuYvliY3kv53lrZjnmoTpu5jorqTmlbDmja7lkJfvvJ8nLAogICAgICAgIG9uT2s6ICgpID0+IHsKICAgICAgICAgIHJlY292ZXJ5KHRoaXMucGFnZUlkKQogICAgICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgICAgICAgIHRoaXMucmVsb2FkKCk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcihlcnIubXNnKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBvbkNhbmNlbDogKCkgPT4ge30sCiAgICAgIH0pOwogICAgfSwKICAgIC8vIOiOt+WPlnVybAogICAgZ2V0VXJsTGlzdCgpIHsKICAgICAgZ2V0VXJsKCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgdGhpcy51cmxMaXN0ID0gcmVzLmRhdGEudXJsOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDlt6bkvqd0YWIKICAgIGJpbmRUYWIoaW5kZXgpIHsKICAgICAgdGhpcy50YWJDdXIgPSBpbmRleDsKICAgIH0sCiAgICAvLyDpobXpnaLmoIfpopjngrnlh7sKICAgIHNob3dUaXRsZSgpIHsKICAgICAgdGhpcy5hY3RpdmVJbmRleCA9IC0xMDA7CiAgICAgIGxldCBvYmogPSB7fTsKICAgICAgZm9yICh2YXIgaSBpbiBtQ29uZmlnKSB7CiAgICAgICAgaWYgKGkgPT0gJ3BhZ2VUaXRsZScpIHsKICAgICAgICAgIC8vIHRoaXMuckNvbmZpZyA9IG9iagogICAgICAgICAgb2JqID0gbUNvbmZpZ1tpXTsKICAgICAgICAgIG9iai5jb25maWdOYW1lID0gbUNvbmZpZ1tpXS5uYW1lOwogICAgICAgICAgb2JqLmNuYW1lID0gJ+mhtemdouiuvue9ric7CiAgICAgICAgfQogICAgICB9CiAgICAgIGxldCBhYmMgPSBvYmo7CiAgICAgIHRoaXMuckNvbmZpZyA9IFtdOwogICAgICB0aGlzLnJDb25maWdbMF0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iaikpOwogICAgfSwKICAgIC8vIOmhtemdouW6lemDqOeCueWHuwogICAgc2hvd0Zvb3QoKSB7CiAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSAtMTAxOwogICAgICBsZXQgb2JqID0ge307CiAgICAgIGZvciAodmFyIGkgaW4gbUNvbmZpZykgewogICAgICAgIGlmIChpID09ICdwYWdlRm9vdCcpIHsKICAgICAgICAgIC8vIHRoaXMuckNvbmZpZyA9IG9iagogICAgICAgICAgb2JqID0gbUNvbmZpZ1tpXTsKICAgICAgICAgIG9iai5jb25maWdOYW1lID0gbUNvbmZpZ1tpXS5uYW1lOwogICAgICAgICAgb2JqLmNuYW1lID0gJ+W6lemDqOiPnOWNlSc7CiAgICAgICAgfQogICAgICB9CiAgICAgIGxldCBhYmMgPSBvYmo7CiAgICAgIHRoaXMuckNvbmZpZyA9IFtdOwogICAgICB0aGlzLnJDb25maWdbMF0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iaikpOwogICAgfSwKICAgIC8vIOWvueixoei9rOaVsOe7hAogICAgb2JqVG9BcnIoZGF0YSkgewogICAgICBsZXQgb2JqID0gT2JqZWN0LmtleXMoZGF0YSk7CiAgICAgIGxldCBtID0gb2JqLm1hcCgoa2V5KSA9PiBkYXRhW2tleV0pOwogICAgICByZXR1cm4gbTsKICAgIH0sCiAgICBsb2coZXZ0KSB7CiAgICAgIC8vIOS4remXtOaLluaLveaOkuW6jwogICAgICBpZiAoZXZ0Lm1vdmVkKSB7CiAgICAgICAgaWYgKGV2dC5tb3ZlZC5lbGVtZW50Lm5hbWUgPT0gJ3NlYXJjaF9ib3gnIHx8IGV2dC5tb3ZlZC5lbGVtZW50Lm5hbWUgPT0gJ25hdl9iYXInKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy4kTWVzc2FnZS53YXJuaW5nKCfor6Xnu4Tku7bnpoHmraLmi5bmi70nKTsKICAgICAgICB9CgogICAgICAgIC8vIGlmIChldnQubW92ZWQuZWxlbWVudC5uYW1lID09ICJuYXZfYmFyIikgewogICAgICAgIC8vICAgICByZXR1cm4gdGhpcy4kTWVzc2FnZS53YXJuaW5nKCLor6Xnu4Tku7bnpoHmraLmi5bmi70iKTsKICAgICAgICAvLyB9CiAgICAgICAgZXZ0Lm1vdmVkLm9sZE51bSA9IHRoaXMubUNvbmZpZ1tldnQubW92ZWQub2xkSW5kZXhdLm51bTsKICAgICAgICBldnQubW92ZWQubmV3TnVtID0gdGhpcy5tQ29uZmlnW2V2dC5tb3ZlZC5uZXdJbmRleF0ubnVtOwogICAgICAgIGV2dC5tb3ZlZC5zdGF0dXMgPSBldnQubW92ZWQub2xkSW5kZXggPiBldnQubW92ZWQubmV3SW5kZXg7CiAgICAgICAgdGhpcy5tQ29uZmlnLmZvckVhY2goKGVsLCBpbmRleCkgPT4gewogICAgICAgICAgZWwubnVtID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgKiAxMDAwICsgaW5kZXg7CiAgICAgICAgfSk7CiAgICAgICAgZXZ0Lm1vdmVkLmxpc3QgPSB0aGlzLm1Db25maWc7CiAgICAgICAgdGhpcy5yQ29uZmlnID0gW107CiAgICAgICAgbGV0IGl0ZW0gPSBldnQubW92ZWQuZWxlbWVudDsKICAgICAgICBsZXQgdGVtcEl0ZW0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGl0ZW0pKTsKICAgICAgICB0aGlzLnJDb25maWcucHVzaCh0ZW1wSXRlbSk7CiAgICAgICAgdGhpcy5hY3RpdmVJbmRleCA9IGV2dC5tb3ZlZC5uZXdJbmRleDsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9TRVRDT05GSUdOQU1FJywgaXRlbS5uYW1lKTsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9kZWZhdWx0QXJyYXlTb3J0JywgZXZ0Lm1vdmVkKTsKICAgICAgfQogICAgICAvLyDku47lt6blkJHlj7Pmi5bmi73mjpLluo8KICAgICAgaWYgKGV2dC5hZGRlZCkgewogICAgICAgIGxldCBkYXRhID0gZXZ0LmFkZGVkLmVsZW1lbnQ7CiAgICAgICAgbGV0IG9iaiA9IHt9OwogICAgICAgIGxldCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAqIDEwMDA7CiAgICAgICAgZGF0YS5udW0gPSB0aW1lc3RhbXA7CiAgICAgICAgdGhpcy5hY3RpdmVDb25maWdOYW1lID0gZGF0YS5uYW1lOwogICAgICAgIGxldCB0ZW1wSXRlbSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZGF0YSkpOwogICAgICAgIHRlbXBJdGVtLmlkID0gJ2lkJyArIHRlbXBJdGVtLm51bTsKICAgICAgICB0aGlzLm1Db25maWdbZXZ0LmFkZGVkLm5ld0luZGV4XSA9IHRlbXBJdGVtOwogICAgICAgIHRoaXMuckNvbmZpZyA9IFtdOwogICAgICAgIHRoaXMuckNvbmZpZy5wdXNoKHRlbXBJdGVtKTsKICAgICAgICB0aGlzLm1Db25maWcuZm9yRWFjaCgoZWwsIGluZGV4KSA9PiB7CiAgICAgICAgICBlbC5udW0gPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAqIDEwMDAgKyBpbmRleDsKICAgICAgICB9KTsKICAgICAgICBldnQuYWRkZWQubGlzdCA9IHRoaXMubUNvbmZpZzsKICAgICAgICB0aGlzLmFjdGl2ZUluZGV4ID0gZXZ0LmFkZGVkLm5ld0luZGV4OwogICAgICAgIC8vIOS/neWtmOe7hOS7tuWQjeensAogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL1NFVENPTkZJR05BTUUnLCBkYXRhLm5hbWUpOwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL2RlZmF1bHRBcnJheVNvcnQnLCBldnQuYWRkZWQpOwogICAgICB9CiAgICB9LAogICAgY2xvbmVEb2coZGF0YSkgewogICAgICAvLyB0aGlzLm1Db25maWcucHVzaCh0ZW1wSXRlbSkKICAgICAgcmV0dXJuIHsKICAgICAgICAuLi5kYXRhLAogICAgICB9OwogICAgfSwKICAgIC8v5pWw57uE5YWD57Sg5LqS5o2i5L2N572uCiAgICBzd2FwQXJyYXkoYXJyLCBpbmRleDEsIGluZGV4MikgewogICAgICBhcnJbaW5kZXgxXSA9IGFyci5zcGxpY2UoaW5kZXgyLCAxLCBhcnJbaW5kZXgxXSlbMF07CiAgICAgIHJldHVybiBhcnI7CiAgICB9LAogICAgLy/ngrnlh7vkuIrkuIvnp7vliqjvvJsKICAgIG1vdmVQYWdlKGl0ZW0sIGluZGV4LCB0eXBlKSB7CiAgICAgIGlmICh0eXBlKSB7CiAgICAgICAgaWYgKGluZGV4ID09IDApIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKGluZGV4ID09IHRoaXMubUNvbmZpZy5sZW5ndGggLSAxKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmIChpdGVtLm5hbWUgPT0gJ3NlYXJjaF9ib3gnIHx8IGl0ZW0ubmFtZSA9PSAnbmF2X2JhcicpIHsKICAgICAgICByZXR1cm4gdGhpcy4kTWVzc2FnZS53YXJuaW5nKCfor6Xnu4Tku7bnpoHmraLnp7vliqgnKTsKICAgICAgfQogICAgICAvLyBpZiAoaXRlbS5uYW1lID09ICJuYXZfYmFyIikgewogICAgICAvLyAgICAgcmV0dXJuIHRoaXMuJE1lc3NhZ2Uud2FybmluZygi6K+l57uE5Lu256aB5q2i56e75YqoIik7CiAgICAgIC8vIH0KICAgICAgaWYgKHR5cGUpIHsKICAgICAgICAvLyBpZih0aGlzLm1Db25maWdbaW5kZXgtMV0ubmFtZSAgPT0gInNlYXJjaF9ib3giIHx8IHRoaXMubUNvbmZpZ1tpbmRleC0xXS5uYW1lICA9PSAibmF2X2JhciIpewogICAgICAgIGlmICh0aGlzLm1Db25maWdbaW5kZXggLSAxXS5uYW1lID09ICdzZWFyY2hfYm94JykgewogICAgICAgICAgcmV0dXJuIHRoaXMuJE1lc3NhZ2Uud2FybmluZygn5pCc57Si5qGG5b+F6aG75Li66aG26YOoJyk7CiAgICAgICAgfQogICAgICAgIHRoaXMuc3dhcEFycmF5KHRoaXMubUNvbmZpZywgaW5kZXggLSAxLCBpbmRleCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zd2FwQXJyYXkodGhpcy5tQ29uZmlnLCBpbmRleCwgaW5kZXggKyAxKTsKICAgICAgfQogICAgICBsZXQgb2JqID0ge307CiAgICAgIHRoaXMuckNvbmZpZyA9IFtdOwogICAgICBvYmoub2xkSW5kZXggPSBpbmRleDsKICAgICAgaWYgKHR5cGUpIHsKICAgICAgICBvYmoubmV3SW5kZXggPSBpbmRleCAtIDE7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgb2JqLm5ld0luZGV4ID0gaW5kZXggKyAxOwogICAgICB9CiAgICAgIHRoaXMubUNvbmZpZy5mb3JFYWNoKChlbCwgaW5kZXgpID0+IHsKICAgICAgICBlbC5udW0gPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAqIDEwMDAgKyBpbmRleDsKICAgICAgfSk7CiAgICAgIGxldCB0ZW1wSXRlbSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoaXRlbSkpOwogICAgICB0aGlzLnJDb25maWcucHVzaCh0ZW1wSXRlbSk7CiAgICAgIG9iai5lbGVtZW50ID0gaXRlbTsKICAgICAgb2JqLmxpc3QgPSB0aGlzLm1Db25maWc7CiAgICAgIGlmICh0eXBlKSB7CiAgICAgICAgdGhpcy5hY3RpdmVJbmRleCA9IGluZGV4IC0gMTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmFjdGl2ZUluZGV4ID0gaW5kZXggKyAxOwogICAgICB9CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL1NFVENPTkZJR05BTUUnLCBpdGVtLm5hbWUpOwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9kZWZhdWx0QXJyYXlTb3J0Jywgb2JqKTsKICAgIH0sCiAgICAvLyDnu4Tku7bmt7vliqAKICAgIGFkZERvbUNvbihpdGVtLCB0eXBlLCBpbmRleCkgewogICAgICBpZiAoaXRlbS5uYW1lID09ICdzZWFyY2hfYm94JykgewogICAgICAgIGlmICh0aGlzLmlzU2VhcmNoKSByZXR1cm4gdGhpcy4kTWVzc2FnZS5lcnJvcign6K+l57uE5Lu25Y+q6IO95re75Yqg5LiA5qyhJyk7CiAgICAgICAgdGhpcy5pc1NlYXJjaCA9IHRydWU7CiAgICAgIH0KICAgICAgaWYgKGl0ZW0ubmFtZSA9PSAnbmF2X2JhcicpIHsKICAgICAgICBpZiAodGhpcy5pc1RhYikgcmV0dXJuIHRoaXMuJE1lc3NhZ2UuZXJyb3IoJ+ivpee7hOS7tuWPquiDvea3u+WKoOS4gOasoScpOwogICAgICAgIHRoaXMuaXNUYWIgPSB0cnVlOwogICAgICB9CiAgICAgIGlkR2xvYmFsICs9IDE7CiAgICAgIGxldCBvYmogPSB7fTsKICAgICAgbGV0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpICogMTAwMDsKICAgICAgaXRlbS5udW0gPSBgJHt0aW1lc3RhbXB9YDsKICAgICAgaXRlbS5pZCA9IGBpZCR7dGltZXN0YW1wfWA7CiAgICAgIHRoaXMuYWN0aXZlQ29uZmlnTmFtZSA9IGl0ZW0ubmFtZTsKICAgICAgbGV0IHRlbXBJdGVtID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShpdGVtKSk7CiAgICAgIGlmIChpdGVtLm5hbWUgPT0gJ3NlYXJjaF9ib3gnKSB7CiAgICAgICAgdGhpcy5yQ29uZmlnID0gW107CiAgICAgICAgdGhpcy5tQ29uZmlnLnVuc2hpZnQodGVtcEl0ZW0pOwogICAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSAwOwogICAgICAgIHRoaXMuckNvbmZpZy5wdXNoKHRlbXBJdGVtKTsKICAgICAgfQogICAgICAvLyDliqjmgIHmi5bliqjlj6/kuIrkvKDmraTpg6jliIbku6PnoIEKICAgICAgZWxzZSBpZiAoaXRlbS5uYW1lID09ICduYXZfYmFyJykgewogICAgICAgIHRoaXMuckNvbmZpZyA9IFtdOwogICAgICAgIGlmICh0aGlzLm1Db25maWdbMF0gJiYgdGhpcy5tQ29uZmlnWzBdLm5hbWUgPT09ICdzZWFyY2hfYm94JykgewogICAgICAgICAgdGhpcy5tQ29uZmlnLnNwbGljZSgxLCAwLCB0ZW1wSXRlbSk7CiAgICAgICAgICB0aGlzLmFjdGl2ZUluZGV4ID0gMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5tQ29uZmlnLnNwbGljZSgwLCAwLCB0ZW1wSXRlbSk7CiAgICAgICAgICB0aGlzLmFjdGl2ZUluZGV4ID0gMDsKICAgICAgICB9CiAgICAgICAgdGhpcy5yQ29uZmlnLnB1c2godGVtcEl0ZW0pOwogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0eXBlKSB7CiAgICAgICAgICB0aGlzLnJDb25maWcgPSBbXTsKICAgICAgICAgIHRoaXMubUNvbmZpZy5wdXNoKHRlbXBJdGVtKTsKICAgICAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSB0aGlzLm1Db25maWcubGVuZ3RoIC0gMTsKICAgICAgICAgIHRoaXMuckNvbmZpZy5wdXNoKHRlbXBJdGVtKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5tQ29uZmlnLnNwbGljZShpbmRleCArIDEsIDAsIHRlbXBJdGVtKTsKICAgICAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSBpbmRleDsKICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5tQ29uZmlnLmZvckVhY2goKGVsLCBpbmRleCkgPT4gewogICAgICAgIGVsLm51bSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpICogMTAwMCArIGluZGV4OwogICAgICB9KTsKICAgICAgLy8g5L+d5a2Y57uE5Lu25ZCN56ewCiAgICAgIG9iai5lbGVtZW50ID0gaXRlbTsKICAgICAgb2JqLmxpc3QgPSB0aGlzLm1Db25maWc7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL1NFVENPTkZJR05BTUUnLCBpdGVtLm5hbWUpOwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9kZWZhdWx0QXJyYXlTb3J0Jywgb2JqKTsKICAgIH0sCiAgICAvL+S4remXtOmhteeCueWHu+a3u+WKoOaooeWdl++8mwogICAgYmluZEFkZERvbShpdGVtLCB0eXBlLCBpbmRleCkgewogICAgICBsZXQgaSA9IGl0ZW07CiAgICAgIHRoaXMubENvbmZpZy5mb3JFYWNoKChqKSA9PiB7CiAgICAgICAgaWYgKGl0ZW0ubmFtZSA9PSBqLm5hbWUpIHsKICAgICAgICAgIGkgPSBqOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMuYWRkRG9tQ29uKGksIHR5cGUsIGluZGV4KTsKICAgIH0sCiAgICAvL+W3pui+uemFjee9ruaooeWdl+eCueWHu+a3u+WKoO+8mwogICAgYWRkRG9tKGl0ZW0sIHR5cGUpIHsKICAgICAgdGhpcy5hZGREb21Db24oaXRlbSwgdHlwZSk7CiAgICB9LAogICAgLy8g54K55Ye75pi+56S655u45bqU55qE6YWN572uCiAgICBiaW5kY29uZmlnKGl0ZW0sIGluZGV4KSB7CiAgICAgIGNvbnNvbGUubG9nKGl0ZW0sIGluZGV4KTsKICAgICAgdGhpcy5yQ29uZmlnID0gW107CiAgICAgIGxldCB0ZW1wSXRlbSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoaXRlbSkpOwogICAgICB0aGlzLnJDb25maWcucHVzaCh0ZW1wSXRlbSk7CiAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSBpbmRleDsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvU0VUQ09ORklHTkFNRScsIGl0ZW0ubmFtZSk7CiAgICB9LAogICAgLy8g57uE5Lu25Yig6ZmkCiAgICBiaW5kRGVsZXRlKGl0ZW0sIGtleSkgewogICAgICBpZiAoaXRlbS5uYW1lID09ICdzZWFyY2hfYm94JykgewogICAgICAgIHRoaXMuaXNTZWFyY2ggPSBmYWxzZTsKICAgICAgfQogICAgICBpZiAoaXRlbS5uYW1lID09ICduYXZfYmFyJykgewogICAgICAgIHRoaXMuaXNUYWIgPSBmYWxzZTsKICAgICAgfQogICAgICB0aGlzLm1Db25maWcuc3BsaWNlKGtleSwgMSk7CiAgICAgIHRoaXMuckNvbmZpZy5zcGxpY2UoMCwgMSk7CiAgICAgIGlmICh0aGlzLm1Db25maWcubGVuZ3RoICE9IGtleSkgewogICAgICAgIHRoaXMuckNvbmZpZy5wdXNoKHRoaXMubUNvbmZpZ1trZXldKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAodGhpcy5tQ29uZmlnLmxlbmd0aCkgewogICAgICAgICAgdGhpcy5hY3RpdmVJbmRleCA9IGtleSAtIDE7CiAgICAgICAgICB0aGlzLnJDb25maWcucHVzaCh0aGlzLm1Db25maWdba2V5IC0gMV0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnNob3dUaXRsZSgpOwogICAgICAgIH0KICAgICAgfQogICAgICAvLyDliKDpmaTnrKzlh6DkuKrphY3nva4KICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvREVMRVRFQVJSQVknLCBpdGVtKTsKICAgIH0sCiAgICAvLyDnu4Tku7bov5Tlm54KICAgIGNvbmZpZyhkYXRhKSB7CiAgICAgIGxldCBwcm9wc09iaiA9IHRoaXMucHJvcHNPYmo7CiAgICAgIHByb3BzT2JqLmRhdGEgPSBkYXRhOwogICAgICBwcm9wc09iai5uYW1lID0gdGhpcy5hY3RpdmVDb25maWdOYW1lOwogICAgfSwKICAgIGFkZFNvcnQoYXJyLCBpbmRleDEsIGluZGV4MikgewogICAgICBhcnJbaW5kZXgxXSA9IGFyci5zcGxpY2UoaW5kZXgyLCAxLCBhcnJbaW5kZXgxXSlbMF07CiAgICAgIHJldHVybiBhcnI7CiAgICB9LAogICAgLy8g5pWw57uE5o6S5bqPCiAgICBhcnJheVNvcnQoKSB7CiAgICAgIGxldCB0ZW1wQXJyID0gW107CiAgICAgIGxldCBiYXNpcyA9IHsKICAgICAgICB0aXRsZTogJ+WfuuehgOe7hOS7ticsCiAgICAgICAgbGlzdDogW10sCiAgICAgICAgaXNPcGVuOiB0cnVlLAogICAgICB9OwogICAgICBsZXQgbWFya2V0aW5nID0gewogICAgICAgIHRpdGxlOiAn6JCl6ZSA57uE5Lu2JywKICAgICAgICBsaXN0OiBbXSwKICAgICAgICBpc09wZW46IHRydWUsCiAgICAgIH07CiAgICAgIGxldCB0b29sID0gewogICAgICAgIHRpdGxlOiAn5bel5YW357uE5Lu2JywKICAgICAgICBsaXN0OiBbXSwKICAgICAgICBpc09wZW46IHRydWUsCiAgICAgIH07CiAgICAgIHRoaXMubENvbmZpZy5tYXAoKGVsLCBpbmRleCkgPT4gewogICAgICAgIGlmIChlbC50eXBlID09IDApIHsKICAgICAgICAgIGJhc2lzLmxpc3QucHVzaChlbCk7CiAgICAgICAgfQogICAgICAgIGlmIChlbC50eXBlID09IDEpIHsKICAgICAgICAgIG1hcmtldGluZy5saXN0LnB1c2goZWwpOwogICAgICAgIH0KICAgICAgICBpZiAoZWwudHlwZSA9PSAyKSB7CiAgICAgICAgICB0b29sLmxpc3QucHVzaChlbCk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGVtcEFyci5wdXNoKGJhc2lzLCBtYXJrZXRpbmcsIHRvb2wpOwogICAgICB0aGlzLmxlZnRNZW51ID0gdGVtcEFycjsKICAgIH0sCiAgICAvLyB0b0ltYWdlKHZhbCl7CiAgICAvLyAgICAgaHRtbDJjYW52YXModGhpcy4kcmVmcy5pbWdDb250YWluZXIsewogICAgLy8gICAgICAgICB1c2VDT1JTOnRydWUsCiAgICAvLyAgICAgICAgIGxvZ2dpbmc6dHJ1ZSwKICAgIC8vICAgICAgICAgdGFpbnRUZXN0OiBmYWxzZSwKICAgIC8vICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBudWxsCiAgICAvLyAgICAgfSkudGhlbigoY2FudmFzKSA9PiB7CiAgICAvLyAgICAgICAgIGxldCBpbWdVcmwgPSBjYW52YXMudG9EYXRhVVJMKCdpbWFnZS9qcGVnJyk7CiAgICAvLyAgICAgICAgIHRoaXMuZGl5U2F2ZURhdGUodmFsLGltZ1VybCkKICAgIC8vICAgICB9KTsKICAgIC8vIH0sCiAgICBkaXlTYXZlRGF0ZSh2YWwsIGluaXQsIG5hbWUpIHsKICAgICAgY29uc29sZS5sb2coaW5pdCwgbmFtZSk7CiAgICAgIHNhdmVEaXkoaW5pdCA/IDAgOiB0aGlzLnBhZ2VJZCwgewogICAgICAgIHR5cGU6IHRoaXMucGFnZVR5cGUsCiAgICAgICAgdmFsdWU6IHZhbCwKICAgICAgICB0aXRsZTogdGhpcy50aXRsZVR4dCwKICAgICAgICBuYW1lOiBuYW1lIHx8IHRoaXMubmFtZVR4dCwKICAgICAgICBpc19zaG93OiB0aGlzLnNob3dUeHQgPyAxIDogMCwKICAgICAgICBpc19iZ19jb2xvcjogdGhpcy5jb2xvclR4dCA/IDEgOiAwLAogICAgICAgIGNvbG9yX3BpY2tlcjogdGhpcy5jb2xvclBpY2tlclR4dCwKICAgICAgICBiZ19waWM6IHRoaXMucGljVXJsVHh0LAogICAgICAgIGJnX3RhYl92YWw6IHRoaXMudGFiVmFsVHh0LAogICAgICAgIGlzX2JnX3BpYzogdGhpcy5waWNUeHQgPyAxIDogMCwKICAgICAgfSkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIGlmICghaW5pdCkgewogICAgICAgICAgICB0aGlzLnBhZ2VJZCA9IHJlcy5kYXRhLmlkOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5zYXZlTmFtZSA9ICcnOwogICAgICAgICAgdGhpcy4kTWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICB9KTsKICAgIH0sCiAgICAvLyDkv53lrZjphY3nva4KICAgIHNhdmVDb25maWcoaW5pdCwgbmFtZSkgewogICAgICBpZiAodGhpcy5tQ29uZmlnLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJE1lc3NhZ2UuZXJyb3IoJ+aaguacqua3u+WKoOS7u+S9lee7hOS7tu+8jOS/neWtmOWksei0pe+8gScpOwogICAgICB9CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIGxldCB2YWwgPSB0aGlzLiRzdG9yZS5zdGF0ZS5tb2JpbGRDb25maWcuZGVmYXVsdEFycmF5OwogICAgICBpZiAoIXRoaXMuZm9vdEFjdGl2ZSkgewogICAgICAgIGxldCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAqIDEwMDA7CiAgICAgICAgdmFsW3RpbWVzdGFtcF0gPSB0aGlzLiRzdG9yZS5zdGF0ZS5tb2JpbGRDb25maWcucGFnZUZvb3RlcjsKICAgICAgICB0aGlzLmZvb3RBY3RpdmUgPSB0cnVlOwogICAgICB9CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLmRpeVNhdmVEYXRlKHZhbCwgaW5pdCwgbmFtZSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOiOt+WPlum7mOiupOmFjee9rgogICAgZ2V0RGVmYXVsdENvbmZpZygpIHsKICAgICAgZ2V0RGl5SW5mbyh0aGlzLnBhZ2VJZCkudGhlbigoeyBkYXRhIH0pID0+IHsKICAgICAgICBsZXQgb2JqID0ge307CiAgICAgICAgbGV0IHRlbXBBUlIgPSBbXTsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy90aXRsZVVwZGF0YScsIGRhdGEuaW5mby50aXRsZSk7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvbmFtZVVwZGF0YScsIGRhdGEuaW5mby5uYW1lKTsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9zaG93VXBkYXRhJywgZGF0YS5pbmZvLmlzX3Nob3cpOwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL2NvbG9yVXBkYXRhJywgZGF0YS5pbmZvLmlzX2JnX2NvbG9yIHx8IDApOwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL3BpY1VwZGF0YScsIGRhdGEuaW5mby5pc19iZ19waWMgfHwgMCk7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvcGlja2VyVXBkYXRhJywgZGF0YS5pbmZvLmNvbG9yX3BpY2tlciB8fCAnI2Y1ZjVmNScpOwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL3JhZGlvVXBkYXRhJywgZGF0YS5pbmZvLmJnX3RhYl92YWwgfHwgMCk7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvcGljdXJsVXBkYXRhJywgZGF0YS5pbmZvLmJnX3BpYyB8fCAnJyk7CiAgICAgICAgbGV0IG5ld0FyciA9IHRoaXMub2JqVG9BcnIoZGF0YS5pbmZvLnZhbHVlKTsKCiAgICAgICAgZnVuY3Rpb24gc29ydE51bWJlcihhLCBiKSB7CiAgICAgICAgICByZXR1cm4gYS50aW1lc3RhbXAgLSBiLnRpbWVzdGFtcDsKICAgICAgICB9CgogICAgICAgIG5ld0Fyci5zb3J0KHNvcnROdW1iZXIpOwogICAgICAgIG5ld0Fyci5tYXAoKGVsLCBpbmRleCkgPT4gewogICAgICAgICAgaWYgKGVsLm5hbWUgPT0gJ2hlYWRlclNlcmNoJykgewogICAgICAgICAgICB0aGlzLmlzU2VhcmNoID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChlbC5uYW1lID09ICd0YWJOYXYnKSB7CiAgICAgICAgICAgIHRoaXMuaXNUYWIgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgICAgaWYgKGVsLm5hbWUgPT0gJ2dvb2RMaXN0JykgewogICAgICAgICAgICBsZXQgc3RvcmFnZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2U7CiAgICAgICAgICAgIHN0b3JhZ2Uuc2V0SXRlbShlbC50aW1lc3RhbXAsIGVsLnNlbGVjdENvbmZpZy5hY3RpdmVWYWx1ZSk7CiAgICAgICAgICB9CiAgICAgICAgICBlbC5pZCA9ICdpZCcgKyBlbC50aW1lc3RhbXA7CiAgICAgICAgICB0aGlzLmxDb25maWcubWFwKChpdGVtLCBqKSA9PiB7CiAgICAgICAgICAgIGlmIChlbC5uYW1lID09IGl0ZW0uZGVmYXVsdE5hbWUpIHsKICAgICAgICAgICAgICBpdGVtLm51bSA9IGVsLnRpbWVzdGFtcDsKICAgICAgICAgICAgICBpdGVtLmlkID0gJ2lkJyArIGVsLnRpbWVzdGFtcDsKICAgICAgICAgICAgICBsZXQgdGVtcEl0ZW0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGl0ZW0pKTsKICAgICAgICAgICAgICB0ZW1wQVJSLnB1c2godGVtcEl0ZW0pOwogICAgICAgICAgICAgIG9ialtlbC50aW1lc3RhbXBdID0gZWw7CiAgICAgICAgICAgICAgdGhpcy5tQ29uZmlnLnB1c2godGVtcEl0ZW0pOwogICAgICAgICAgICAgIC8vIOS/neWtmOm7mOiupOe7hOS7tumFjee9rgogICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL0FEREFSUkFZJywgewogICAgICAgICAgICAgICAgbnVtOiBlbC50aW1lc3RhbXAsCiAgICAgICAgICAgICAgICB2YWw6IGVsLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKCiAgICAgICAgbGV0IG9ianMgPSBuZXdBcnJbbmV3QXJyLmxlbmd0aCAtIDFdOwoKICAgICAgICBpZiAob2Jqcy5uYW1lID09ICdwYWdlRm9vdCcpIHsKICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL2Zvb3RQYWdlVXBkYXRhJywgb2Jqcyk7CiAgICAgICAgfQogICAgICAgIHRoaXMuc2hvd1RpdGxlKCk7CiAgICAgICAgLy8gdGhpcy5yQ29uZmlnID0gW107CiAgICAgICAgLy8gdGhpcy5hY3RpdmVJbmRleCA9IDA7CiAgICAgICAgLy8gdGhpcy5yQ29uZmlnLnB1c2godGhpcy5tQ29uZmlnWzBdKTsKICAgICAgfSk7CiAgICB9LAogICAgY2F0ZWdvcnlMaXN0KCkgewogICAgICBjYXRlZ29yeUxpc3QoKHJlcykgPT4gewogICAgICAgIHRoaXMuY2F0ZWdvcnkgPSByZXMuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6YeN572uCiAgICByZWFzdCgpIHsKICAgICAgaWYgKHRoaXMucGFnZUlkID09IDApIHsKICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKCfmlrDlop7pobXpnaLvvIzml6Dms5Xph43nva4nKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRNb2RhbC5jb25maXJtKHsKICAgICAgICAgIHRpdGxlOiAn5o+Q56S6JywKICAgICAgICAgIGNvbnRlbnQ6ICc8cD7ph43nva7kvJrmgaLlpI3liLDkuIrmrKHkv53lrZjnmoTmlbDmja7vvIznoa7lrprkuI3kv53lrZjlvZPliY3mk43kvZzlkJfvvJ88L3A+JywKICAgICAgICAgIG9uT2s6ICgpID0+IHsKICAgICAgICAgICAgdGhpcy5tQ29uZmlnID0gW107CiAgICAgICAgICAgIHRoaXMuckNvbmZpZyA9IFtdOwogICAgICAgICAgICB0aGlzLmFjdGl2ZUluZGV4ID0gLTk5OwogICAgICAgICAgICB0aGlzLmdldERlZmF1bHRDb25maWcoKTsKICAgICAgICAgIH0sCiAgICAgICAgICBvbkNhbmNlbDogKCkgPT4ge30sCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgfSwKICBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvdGl0bGVVcGRhdGEnLCAnJyk7CiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9uYW1lVXBkYXRhJywgJycpOwogICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvc2hvd1VwZGF0YScsIDEpOwogICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvY29sb3JVcGRhdGEnLCAwKTsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL3BpY1VwZGF0YScsIDApOwogICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvcGlja2VyVXBkYXRhJywgJyNmNWY1ZjUnKTsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL3JhZGlvVXBkYXRhJywgMCk7CiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9waWN1cmxVcGRhdGEnLCAnJyk7CiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9TRVRFTVBUWScpOwogIH0sCiAgZGVzdHJveWVkKCkgewogICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvdGl0bGVVcGRhdGEnLCAnJyk7CiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9uYW1lVXBkYXRhJywgJycpOwogICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvc2hvd1VwZGF0YScsIDEpOwogICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvY29sb3JVcGRhdGEnLCAwKTsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL3BpY1VwZGF0YScsIDApOwogICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtb2JpbGRDb25maWcvcGlja2VyVXBkYXRhJywgJyNmNWY1ZjUnKTsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnbW9iaWxkQ29uZmlnL3JhZGlvVXBkYXRhJywgMCk7CiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9waWN1cmxVcGRhdGEnLCAnJyk7CiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21vYmlsZENvbmZpZy9TRVRFTVBUWScpOwogIH0sCn07Cg=="},{"version":3,"sources":["diyIndex.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"diyIndex.vue","sourceRoot":"src/pages/setting/devise","sourcesContent":["<template>\n  <div class=\"diy-page\">\n    <div class=\"i-layout-page-header header-title\">\n      <div class=\"fl_header\">\n        <!-- <router-link :to=\"{ path: $routeProStr + '/setting/pages/devise' }\"\n          ><Button icon=\"ios-arrow-back\" size=\"small\" type=\"text\">返回</Button></router-link\n        > -->\n        <!-- <Divider type=\"vertical\" /> -->\n        <span class=\"ivu-page-header-title mr20\" style=\"padding: 0\" v-text=\"$route.meta.title\"></span>\n        <div class=\"rbtn\">\n          <!-- <Button v-if=\"pageId !== 0\" class=\"bnt\" @click=\"setmoren\" :loading=\"loading\">保存默认</Button>\n          <Button v-if=\"pageId !== 0\" class=\"bnt ml20\" @click=\"getmoren\" :loading=\"loading\">恢复默认</Button> -->\n          <!-- <div class=\"data\" @click=\"setmoren\">设置默认</div>\n            <div class=\"data\" @click=\"getmoren\">恢复默认</div> -->\n          <Button class=\"bnt ml20\" type=\"info\" @click=\"preview\" :loading=\"loading\">预览</Button>\n          <Button class=\"bnt ml20\" type=\"primary\" @click=\"saveConfig(0)\" :loading=\"loading\">保存</Button>\n          <Button class=\"ml20\" type=\"error\" @click=\"closeWindow\" :loading=\"loading\">关闭</Button>\n        </div>\n      </div>\n    </div>\n\n    <Card :bordered=\"false\" dis-hover class=\"ivu-mt\" style=\"margin: 0 10px\">\n      <div class=\"diy-wrapper\">\n        <!-- 左侧 -->\n        <div class=\"left\">\n          <div class=\"title-bar\">\n            <div\n              class=\"title-item\"\n              :class=\"{ on: tabCur == index }\"\n              v-for=\"(item, index) in tabList\"\n              :key=\"index\"\n              @click=\"bindTab(index)\"\n            >\n              {{ item.title }}\n            </div>\n          </div>\n          <div class=\"wrapper\" v-if=\"tabCur == 0\">\n            <div v-for=\"(item, index) in leftMenu\" :key=\"index\">\n              <div class=\"tips\" @click=\"item.isOpen = !item.isOpen\">\n                {{ item.title }}\n\n                <Icon type=\"ios-arrow-forward\" size=\"16\" v-if=\"!item.isOpen\" />\n                <Icon type=\"ios-arrow-down\" size=\"16\" v-else />\n              </div>\n              <draggable\n                class=\"dragArea list-group\"\n                :list=\"item.list\"\n                :group=\"{ name: 'people', pull: 'clone', put: false }\"\n                :clone=\"cloneDog\"\n                dragClass=\"dragClass\"\n                filter=\".search , .navbar\"\n              >\n                <!--filter=\".search , .navbar\"-->\n                <!--:class=\"{ search: element.cname == '搜索框' , navbar: element.cname == '商品分类' }\"-->\n                <div\n                  class=\"list-group-item\"\n                  :class=\"{\n                    search: element.cname == '搜索框',\n                    navbar: element.cname == '商品分类',\n                  }\"\n                  v-for=\"(element, index) in item.list\"\n                  :key=\"element.id\"\n                  @click=\"addDom(element, 1)\"\n                  v-show=\"item.isOpen\"\n                >\n                  <div>\n                    <div class=\"position\" style=\"display: none\">释放鼠标将组建添加到此处</div>\n                    <span class=\"conter iconfont-diy\" :class=\"element.icon\"></span>\n                    <p class=\"conter\">{{ element.cname }}</p>\n                  </div>\n                </div>\n              </draggable>\n            </div>\n          </div>\n          <!--                    <div style=\"padding: 0 20px\"><Button type=\"primary\" style=\"width: 100%\" @click=\"saveConfig\">保存</Button></div>-->\n          <div class=\"wrapper\" v-else :style=\"'height:' + (clientHeight - 200) + 'px;'\">\n            <div class=\"link-item\" v-for=\"(item, index) in urlList\" :key=\"index\">\n              <div class=\"name\">{{ item.name }}</div>\n              <div class=\"link-txt\">地址：{{ item.url }}</div>\n              <div class=\"params\">\n                <span class=\"txt\">参数：</span>\n                <span>{{ item.parameter }}</span>\n              </div>\n              <div class=\"lable\">\n                <p class=\"txt\">例如：{{ item.example }}</p>\n                <Button size=\"small\" @click=\"onCopy(item.example)\">复制 </Button>\n              </div>\n            </div>\n          </div>\n        </div>\n        <!-- 中间 -->\n        <div\n          class=\"wrapper-con\"\n          style=\"flex: 1; background: #f0f2f5; display: flex; justify-content: center; padding-top: 20px; height: 100%\"\n        >\n          <div class=\"acticon\">\n            <Button class=\"bnt mb10\" @click=\"showTitle\">页面设置</Button>\n            <Button class=\"bnt mb10\" @click=\"nameModal = true\">另存模板</Button>\n            <Button class=\"bnt\" @click=\"reast\">重置</Button>\n          </div>\n          <div class=\"content\">\n            <div class=\"contxt\" style=\"display: flex; flex-direction: column; overflow: hidden; height: 100%\">\n              <div class=\"overflowy\">\n                <div class=\"picture\">\n                  <img src=\"@/assets/images/electric.png\" />\n                </div>\n                <div class=\"page-title\" :class=\"{ on: activeIndex == -100 }\" @click=\"showTitle\">\n                  {{ titleTxt }}\n                  <div class=\"delete-box\"></div>\n                  <div class=\"handle\"></div>\n                </div>\n              </div>\n              <div class=\"scrollCon\">\n                <div style=\"width: 460px; margin: 0 auto\">\n                  <div\n                    class=\"scroll-box\"\n                    :class=\"\n                      picTxt && tabValTxt == 2\n                        ? 'fullsize noRepeat'\n                        : picTxt && tabValTxt == 1\n                        ? 'repeat ysize'\n                        : 'noRepeat ysize'\n                    \"\n                    :style=\"\n                      'background-color:' +\n                      (colorTxt ? colorPickerTxt : '') +\n                      ';background-image: url(' +\n                      (picTxt ? picUrlTxt : '') +\n                      ');height:calc(100vh - 200px)'\n                    \"\n                    ref=\"imgContainer\"\n                  >\n                    <draggable\n                      class=\"dragArea list-group\"\n                      :list=\"mConfig\"\n                      group=\"people\"\n                      @change=\"log\"\n                      filter=\".top\"\n                      :move=\"onMove\"\n                      animation=\"300\"\n                    >\n                      <div\n                        class=\"mConfig-item\"\n                        :class=\"{\n                          on: activeIndex == key,\n                          top: item.name == 'search_box' || item.name == 'nav_bar',\n                        }\"\n                        v-for=\"(item, key) in mConfig\"\n                        :key=\"key\"\n                        @click.stop=\"bindconfig(item, key)\"\n                        :style=\"colorTxt ? 'background-color:' + colorPickerTxt + ';' : 'background-color:#fff;'\"\n                      >\n                        <component\n                          :is=\"item.name\"\n                          ref=\"getComponentData\"\n                          :configData=\"propsObj\"\n                          :index=\"key\"\n                          :num=\"item.num\"\n                        ></component>\n                        <div class=\"delete-box\">\n                          <div class=\"handleType\">\n                            <Tooltip content=\"删除当前模块\" placement=\"top\">\n                              <div class=\"iconfont iconshanchu2\" @click.stop=\"bindDelete(item, key)\"></div>\n                            </Tooltip>\n\n                            <div class=\"iconfont iconfuzhi\" @click.stop=\"bindAddDom(item, 0, key)\"></div>\n                            <div\n                              class=\"iconfont iconshangyi\"\n                              :class=\"key === 0 ? 'on' : ''\"\n                              @click.stop=\"movePage(item, key, 1)\"\n                            ></div>\n                            <div\n                              class=\"iconfont iconxiayi\"\n                              :class=\"key === mConfig.length - 1 ? 'on' : ''\"\n                              @click.stop=\"movePage(item, key, 0)\"\n                            ></div>\n                          </div>\n                        </div>\n                        <div class=\"handle\"></div>\n                      </div>\n                    </draggable>\n                  </div>\n                </div>\n              </div>\n              <div class=\"overflowy\">\n                <div class=\"page-foot\" @click=\"showFoot\" :class=\"{ on: activeIndex == -101 }\">\n                  <footPage></footPage>\n                  <div class=\"delete-box\"></div>\n                  <div class=\"handle\"></div>\n                </div>\n              </div>\n              <!-- <div class=\"defaultData\" v-if=\"pageId !== 0\">\n                <div class=\"data\" @click=\"setmoren\">设置默认</div>\n                <div class=\"data\" @click=\"getmoren\">恢复默认</div>\n              </div> -->\n            </div>\n          </div>\n        </div>\n        <!-- 右侧 -->\n        <div class=\"right-box\">\n          <div class=\"mConfig-item\" style=\"background-color: #fff\" v-for=\"(item, key) in rConfig\" :key=\"key\">\n            <div class=\"title-bar\">{{ item.cname }}</div>\n            <component\n              :is=\"item.configName\"\n              @config=\"config\"\n              :activeIndex=\"activeIndex\"\n              :num=\"item.num\"\n              :index=\"key\"\n            ></component>\n          </div>\n        </div>\n      </div>\n    </Card>\n    <!--<div class=\"foot-box\">-->\n    <!--<Button @click=\"reast\">重置</Button>-->\n    <!--<Button type=\"primary\" @click=\"saveConfig\" :loading=\"loading\"-->\n    <!--&gt;保存-->\n    <!--</Button-->\n    <!--&gt;-->\n    <!--</div>-->\n    <Modal v-model=\"modal\" title=\"预览\" footer-hide>\n      <div>\n        <div v-viewer class=\"acea-row row-around code\">\n          <div class=\"acea-row row-column-around row-between-wrapper\">\n            <div class=\"QRpic\" ref=\"qrCodeUrl\"></div>\n            <span class=\"mt10\">公众号二维码</span>\n          </div>\n          <div class=\"acea-row row-column-around row-between-wrapper\">\n            <div class=\"QRpic\">\n              <img v-lazy=\"qrcodeImg\" />\n            </div>\n            <span class=\"mt10\">小程序二维码</span>\n          </div>\n        </div>\n      </div>\n    </Modal>\n    <Modal v-model=\"nameModal\" title=\"设置模版名称\" :closable=\"false\" @on-ok=\"saveModal\" @on-cancel=\"nameModal = false\">\n      <Input v-model=\"saveName\" placeholder=\"请输入模版名称\"></Input>\n    </Modal>\n  </div>\n</template>\n\n<script crossorigin=\"anonymous\">\nimport { categoryList, getDiyInfo, saveDiy, getUrl, setDefault, recovery, getRoutineCode } from '@/api/diy';\nimport vuedraggable from 'vuedraggable';\nimport mPage from '@/components/mobilePageDiy/index.js';\nimport mConfig from '@/components/mobileConfigDiy/index.js';\nimport footPage from '@/components/pagesFoot';\nimport { mapState } from 'vuex';\nimport html2canvas from 'html2canvas';\nimport QRCode from 'qrcodejs2';\n\nlet idGlobal = 0;\nexport default {\n  inject: ['reload'],\n  name: 'index.vue',\n  components: {\n    footPage,\n    html2canvas,\n    draggable: vuedraggable,\n    ...mPage,\n    ...mConfig,\n  },\n  filters: {\n    filterTxt(val) {\n      if (val) {\n        return (val = val.substr(0, val.length - 1));\n      }\n    },\n  },\n  computed: {\n    ...mapState({\n      titleTxt: (state) => state.mobildConfig.pageTitle || '首页',\n      nameTxt: (state) => state.mobildConfig.pageName || '模板',\n      showTxt: (state) => state.mobildConfig.pageShow,\n      colorTxt: (state) => state.mobildConfig.pageColor,\n      picTxt: (state) => state.mobildConfig.pagePic,\n      colorPickerTxt: (state) => state.mobildConfig.pageColorPicker,\n      tabValTxt: (state) => state.mobildConfig.pageTabVal,\n      picUrlTxt: (state) => state.mobildConfig.pagePicUrl,\n    }),\n  },\n  data() {\n    return {\n      clientHeight: '', //页面动态高度\n      rollHeight: '',\n      leftMenu: [], // 左侧菜单\n      lConfig: [], // 左侧组件\n      mConfig: [], // 中间组件渲染\n      rConfig: [], // 右侧组件配置\n      activeConfigName: '',\n      propsObj: {}, // 组件传递的数据,\n      activeIndex: -100, // 选中的下标\n      number: 0,\n      pageId: '',\n      pageName: '',\n      pageType: '',\n      category: [],\n      tabList: [\n        {\n          title: '组件库',\n          key: 0,\n        },\n        {\n          title: '页面链接',\n          key: 1,\n        },\n      ],\n      tabCur: 0,\n      urlList: [],\n      footActive: false,\n      loading: false,\n      isSearch: false,\n      isTab: false,\n      isFllow: false,\n      qrcodeImg: '',\n      modal: false,\n      nameModal: false,\n      saveName: '',\n    };\n  },\n  beforeRouteLeave(to, from, next) {\n    // 导航离开该组件的对应路由时调用\n  },\n  beforeCreate() {\n    this.$store.commit('mobildConfig/titleUpdata', '');\n    this.$store.commit('mobildConfig/nameUpdata', '');\n    this.$store.commit('mobildConfig/showUpdata', 1);\n    this.$store.commit('mobildConfig/colorUpdata', 0);\n    this.$store.commit('mobildConfig/picUpdata', 0);\n    this.$store.commit('mobildConfig/pickerUpdata', '#f5f5f5');\n    this.$store.commit('mobildConfig/radioUpdata', 0);\n    this.$store.commit('mobildConfig/picurlUpdata', '');\n    this.$store.commit('mobildConfig/SETEMPTY');\n  },\n  created() {\n    window.onbeforeunload = () => {\n      return '刷新页面将丢失内容,是否继续?';\n    };\n    this.categoryList();\n    this.getUrlList();\n    this.pageId = this.$route.query.id;\n    this.pageName = this.$route.query.name;\n    this.pageType = this.$route.query.type;\n    this.lConfig = this.objToArr(mPage);\n  },\n  mounted() {\n    // window.addEventListener('onbeforeunload', this.beforeUnload);\n    let imgList = {\n      imgList: [require('@/assets/images/foot-005.png'), require('@/assets/images/foot-006.png')],\n      name: '购物车',\n      link: '/pages/order_addcart/order_addcart',\n    };\n    this.$nextTick(() => {\n      this.$store.commit('mobildConfig/FOOTER', {\n        title: '专题页是否显示',\n        name: imgList,\n      });\n      this.arraySort();\n      if (this.pageId != 0) {\n        this.getDefaultConfig();\n      } else {\n        this.showTitle();\n      }\n      this.clientHeight = `${document.documentElement.clientHeight}`; //获取浏览器可视区域高度\n      let H = `${document.documentElement.clientHeight}` - 180;\n      this.rollHeight = H > 650 ? 650 : H;\n      let that = this;\n      window.onresize = function () {\n        that.clientHeight = `${document.documentElement.clientHeight}`;\n        let H = `${document.documentElement.clientHeight}` - 180;\n        that.rollHeight = H > 650 ? 650 : H;\n      };\n    });\n  },\n  methods: {\n    saveModal() {\n      if (!this.saveName) return this.$Message.warning('请先输入模板名称');\n      this.saveConfig(1, this.saveName);\n    },\n    //小程序二维码\n    routineCode(id) {\n      getRoutineCode(id)\n        .then((res) => {\n          this.qrcodeImg = res.data.image;\n        })\n        .catch((err) => {\n          this.$Message.error(err);\n        });\n    },\n    preview(row) {\n      this.modal = true;\n      this.creatQrCode(row.id);\n      this.routineCode(this.$route.query.id);\n    },\n    //生成二维码\n    creatQrCode(id) {\n      this.$refs.qrCodeUrl.innerHTML = '';\n      let url = `${this.BaseURL}pages/annex/special/index?id=${id}`;\n      var qrcode = new QRCode(this.$refs.qrCodeUrl, {\n        text: url, // 需要转换为二维码的内容\n        width: 160,\n        height: 160,\n        colorDark: '#000000',\n        colorLight: '#ffffff',\n        correctLevel: QRCode.CorrectLevel.H,\n      });\n    },\n    closeWindow() {\n      this.$Modal.confirm({\n        title: '确定关闭当前页吗？',\n        content: '关闭页面前请先保存数据，未保存的话数据会丢失',\n        okText: '确定',\n        cancelText: '取消',\n        loading: true,\n        onOk: () => {\n          setTimeout(() => {\n            // this.saveConfig();\n            this.$Modal.remove();\n            window.close();\n          }, 1000);\n        },\n        onCancel: () => {\n          this.$Modal.remove();\n        },\n      });\n    },\n    leftRemove({ to, from, item, clone, oldIndex, newIndex }) {\n      if (this.isSearch && newIndex == 0) {\n        if (item._underlying_vm_.name == 'z_wechat_attention') {\n          this.isFllow = true;\n        } else {\n          this.$store.commit('mobildConfig/ARRAYREAST', this.mConfig[0].num);\n          this.mConfig.splice(0, 1);\n        }\n      }\n      if ((this.isFllow = true && newIndex >= 1)) {\n        this.$store.commit('mobildConfig/ARRAYREAST', this.mConfig[0].num);\n      }\n    },\n    onMove(e) {\n      if (e.relatedContext.element.name == 'search_box') return false;\n      if (e.relatedContext.element.name == 'nav_bar') return false;\n      return true;\n    },\n    onCopy(copyData) {\n      this.$copyText(copyData)\n        .then((message) => {\n          this.$Message.success('复制成功');\n        })\n        .catch((err) => {\n          this.$Message.error('复制失败');\n        });\n    },\n    onError() {\n      this.$Message.error('复制失败');\n    },\n    //设置默认数据\n    setmoren() {\n      this.$Modal.confirm({\n        title: '保存为默认数据',\n        content: '您确定将当前设计设为默认数据吗？',\n        onOk: () => {\n          setDefault(this.pageId)\n            .then((res) => {\n              this.$Message.success(res.msg);\n            })\n            .catch((err) => {\n              this.$Message.error(err.msg);\n            });\n        },\n        onCancel: () => {},\n      });\n    },\n    //恢复默认\n    getmoren() {\n      this.$Modal.confirm({\n        title: '恢复默认数据',\n        content: '您确定恢复为之前保存的默认数据吗？',\n        onOk: () => {\n          recovery(this.pageId)\n            .then((res) => {\n              this.$Message.success(res.msg);\n              this.reload();\n            })\n            .catch((err) => {\n              this.$Message.error(err.msg);\n            });\n        },\n        onCancel: () => {},\n      });\n    },\n    // 获取url\n    getUrlList() {\n      getUrl().then((res) => {\n        this.urlList = res.data.url;\n      });\n    },\n    // 左侧tab\n    bindTab(index) {\n      this.tabCur = index;\n    },\n    // 页面标题点击\n    showTitle() {\n      this.activeIndex = -100;\n      let obj = {};\n      for (var i in mConfig) {\n        if (i == 'pageTitle') {\n          // this.rConfig = obj\n          obj = mConfig[i];\n          obj.configName = mConfig[i].name;\n          obj.cname = '页面设置';\n        }\n      }\n      let abc = obj;\n      this.rConfig = [];\n      this.rConfig[0] = JSON.parse(JSON.stringify(obj));\n    },\n    // 页面底部点击\n    showFoot() {\n      this.activeIndex = -101;\n      let obj = {};\n      for (var i in mConfig) {\n        if (i == 'pageFoot') {\n          // this.rConfig = obj\n          obj = mConfig[i];\n          obj.configName = mConfig[i].name;\n          obj.cname = '底部菜单';\n        }\n      }\n      let abc = obj;\n      this.rConfig = [];\n      this.rConfig[0] = JSON.parse(JSON.stringify(obj));\n    },\n    // 对象转数组\n    objToArr(data) {\n      let obj = Object.keys(data);\n      let m = obj.map((key) => data[key]);\n      return m;\n    },\n    log(evt) {\n      // 中间拖拽排序\n      if (evt.moved) {\n        if (evt.moved.element.name == 'search_box' || evt.moved.element.name == 'nav_bar') {\n          return this.$Message.warning('该组件禁止拖拽');\n        }\n\n        // if (evt.moved.element.name == \"nav_bar\") {\n        //     return this.$Message.warning(\"该组件禁止拖拽\");\n        // }\n        evt.moved.oldNum = this.mConfig[evt.moved.oldIndex].num;\n        evt.moved.newNum = this.mConfig[evt.moved.newIndex].num;\n        evt.moved.status = evt.moved.oldIndex > evt.moved.newIndex;\n        this.mConfig.forEach((el, index) => {\n          el.num = new Date().getTime() * 1000 + index;\n        });\n        evt.moved.list = this.mConfig;\n        this.rConfig = [];\n        let item = evt.moved.element;\n        let tempItem = JSON.parse(JSON.stringify(item));\n        this.rConfig.push(tempItem);\n        this.activeIndex = evt.moved.newIndex;\n        this.$store.commit('mobildConfig/SETCONFIGNAME', item.name);\n        this.$store.commit('mobildConfig/defaultArraySort', evt.moved);\n      }\n      // 从左向右拖拽排序\n      if (evt.added) {\n        let data = evt.added.element;\n        let obj = {};\n        let timestamp = new Date().getTime() * 1000;\n        data.num = timestamp;\n        this.activeConfigName = data.name;\n        let tempItem = JSON.parse(JSON.stringify(data));\n        tempItem.id = 'id' + tempItem.num;\n        this.mConfig[evt.added.newIndex] = tempItem;\n        this.rConfig = [];\n        this.rConfig.push(tempItem);\n        this.mConfig.forEach((el, index) => {\n          el.num = new Date().getTime() * 1000 + index;\n        });\n        evt.added.list = this.mConfig;\n        this.activeIndex = evt.added.newIndex;\n        // 保存组件名称\n        this.$store.commit('mobildConfig/SETCONFIGNAME', data.name);\n        this.$store.commit('mobildConfig/defaultArraySort', evt.added);\n      }\n    },\n    cloneDog(data) {\n      // this.mConfig.push(tempItem)\n      return {\n        ...data,\n      };\n    },\n    //数组元素互换位置\n    swapArray(arr, index1, index2) {\n      arr[index1] = arr.splice(index2, 1, arr[index1])[0];\n      return arr;\n    },\n    //点击上下移动；\n    movePage(item, index, type) {\n      if (type) {\n        if (index == 0) {\n          return;\n        }\n      } else {\n        if (index == this.mConfig.length - 1) {\n          return;\n        }\n      }\n      if (item.name == 'search_box' || item.name == 'nav_bar') {\n        return this.$Message.warning('该组件禁止移动');\n      }\n      // if (item.name == \"nav_bar\") {\n      //     return this.$Message.warning(\"该组件禁止移动\");\n      // }\n      if (type) {\n        // if(this.mConfig[index-1].name  == \"search_box\" || this.mConfig[index-1].name  == \"nav_bar\"){\n        if (this.mConfig[index - 1].name == 'search_box') {\n          return this.$Message.warning('搜索框必须为顶部');\n        }\n        this.swapArray(this.mConfig, index - 1, index);\n      } else {\n        this.swapArray(this.mConfig, index, index + 1);\n      }\n      let obj = {};\n      this.rConfig = [];\n      obj.oldIndex = index;\n      if (type) {\n        obj.newIndex = index - 1;\n      } else {\n        obj.newIndex = index + 1;\n      }\n      this.mConfig.forEach((el, index) => {\n        el.num = new Date().getTime() * 1000 + index;\n      });\n      let tempItem = JSON.parse(JSON.stringify(item));\n      this.rConfig.push(tempItem);\n      obj.element = item;\n      obj.list = this.mConfig;\n      if (type) {\n        this.activeIndex = index - 1;\n      } else {\n        this.activeIndex = index + 1;\n      }\n      this.$store.commit('mobildConfig/SETCONFIGNAME', item.name);\n      this.$store.commit('mobildConfig/defaultArraySort', obj);\n    },\n    // 组件添加\n    addDomCon(item, type, index) {\n      if (item.name == 'search_box') {\n        if (this.isSearch) return this.$Message.error('该组件只能添加一次');\n        this.isSearch = true;\n      }\n      if (item.name == 'nav_bar') {\n        if (this.isTab) return this.$Message.error('该组件只能添加一次');\n        this.isTab = true;\n      }\n      idGlobal += 1;\n      let obj = {};\n      let timestamp = new Date().getTime() * 1000;\n      item.num = `${timestamp}`;\n      item.id = `id${timestamp}`;\n      this.activeConfigName = item.name;\n      let tempItem = JSON.parse(JSON.stringify(item));\n      if (item.name == 'search_box') {\n        this.rConfig = [];\n        this.mConfig.unshift(tempItem);\n        this.activeIndex = 0;\n        this.rConfig.push(tempItem);\n      }\n      // 动态拖动可上传此部分代码\n      else if (item.name == 'nav_bar') {\n        this.rConfig = [];\n        if (this.mConfig[0] && this.mConfig[0].name === 'search_box') {\n          this.mConfig.splice(1, 0, tempItem);\n          this.activeIndex = 1;\n        } else {\n          this.mConfig.splice(0, 0, tempItem);\n          this.activeIndex = 0;\n        }\n        this.rConfig.push(tempItem);\n      } else {\n        if (type) {\n          this.rConfig = [];\n          this.mConfig.push(tempItem);\n          this.activeIndex = this.mConfig.length - 1;\n          this.rConfig.push(tempItem);\n        } else {\n          this.mConfig.splice(index + 1, 0, tempItem);\n          this.activeIndex = index;\n        }\n      }\n      this.mConfig.forEach((el, index) => {\n        el.num = new Date().getTime() * 1000 + index;\n      });\n      // 保存组件名称\n      obj.element = item;\n      obj.list = this.mConfig;\n      this.$store.commit('mobildConfig/SETCONFIGNAME', item.name);\n      this.$store.commit('mobildConfig/defaultArraySort', obj);\n    },\n    //中间页点击添加模块；\n    bindAddDom(item, type, index) {\n      let i = item;\n      this.lConfig.forEach((j) => {\n        if (item.name == j.name) {\n          i = j;\n        }\n      });\n      this.addDomCon(i, type, index);\n    },\n    //左边配置模块点击添加；\n    addDom(item, type) {\n      this.addDomCon(item, type);\n    },\n    // 点击显示相应的配置\n    bindconfig(item, index) {\n      console.log(item, index);\n      this.rConfig = [];\n      let tempItem = JSON.parse(JSON.stringify(item));\n      this.rConfig.push(tempItem);\n      this.activeIndex = index;\n      this.$store.commit('mobildConfig/SETCONFIGNAME', item.name);\n    },\n    // 组件删除\n    bindDelete(item, key) {\n      if (item.name == 'search_box') {\n        this.isSearch = false;\n      }\n      if (item.name == 'nav_bar') {\n        this.isTab = false;\n      }\n      this.mConfig.splice(key, 1);\n      this.rConfig.splice(0, 1);\n      if (this.mConfig.length != key) {\n        this.rConfig.push(this.mConfig[key]);\n      } else {\n        if (this.mConfig.length) {\n          this.activeIndex = key - 1;\n          this.rConfig.push(this.mConfig[key - 1]);\n        } else {\n          this.showTitle();\n        }\n      }\n      // 删除第几个配置\n      this.$store.commit('mobildConfig/DELETEARRAY', item);\n    },\n    // 组件返回\n    config(data) {\n      let propsObj = this.propsObj;\n      propsObj.data = data;\n      propsObj.name = this.activeConfigName;\n    },\n    addSort(arr, index1, index2) {\n      arr[index1] = arr.splice(index2, 1, arr[index1])[0];\n      return arr;\n    },\n    // 数组排序\n    arraySort() {\n      let tempArr = [];\n      let basis = {\n        title: '基础组件',\n        list: [],\n        isOpen: true,\n      };\n      let marketing = {\n        title: '营销组件',\n        list: [],\n        isOpen: true,\n      };\n      let tool = {\n        title: '工具组件',\n        list: [],\n        isOpen: true,\n      };\n      this.lConfig.map((el, index) => {\n        if (el.type == 0) {\n          basis.list.push(el);\n        }\n        if (el.type == 1) {\n          marketing.list.push(el);\n        }\n        if (el.type == 2) {\n          tool.list.push(el);\n        }\n      });\n      tempArr.push(basis, marketing, tool);\n      this.leftMenu = tempArr;\n    },\n    // toImage(val){\n    //     html2canvas(this.$refs.imgContainer,{\n    //         useCORS:true,\n    //         logging:true,\n    //         taintTest: false,\n    //         backgroundColor: null\n    //     }).then((canvas) => {\n    //         let imgUrl = canvas.toDataURL('image/jpeg');\n    //         this.diySaveDate(val,imgUrl)\n    //     });\n    // },\n    diySaveDate(val, init, name) {\n      console.log(init, name);\n      saveDiy(init ? 0 : this.pageId, {\n        type: this.pageType,\n        value: val,\n        title: this.titleTxt,\n        name: name || this.nameTxt,\n        is_show: this.showTxt ? 1 : 0,\n        is_bg_color: this.colorTxt ? 1 : 0,\n        color_picker: this.colorPickerTxt,\n        bg_pic: this.picUrlTxt,\n        bg_tab_val: this.tabValTxt,\n        is_bg_pic: this.picTxt ? 1 : 0,\n      })\n        .then((res) => {\n          this.loading = false;\n          if (!init) {\n            this.pageId = res.data.id;\n          }\n          this.saveName = '';\n          this.$Message.success(res.msg);\n        })\n        .catch((res) => {\n          this.loading = false;\n          this.$Message.error(res.msg);\n        });\n    },\n    // 保存配置\n    saveConfig(init, name) {\n      if (this.mConfig.length == 0) {\n        return this.$Message.error('暂未添加任何组件，保存失败！');\n      }\n      this.loading = true;\n      let val = this.$store.state.mobildConfig.defaultArray;\n      if (!this.footActive) {\n        let timestamp = new Date().getTime() * 1000;\n        val[timestamp] = this.$store.state.mobildConfig.pageFooter;\n        this.footActive = true;\n      }\n      this.$nextTick(() => {\n        this.diySaveDate(val, init, name);\n      });\n    },\n    // 获取默认配置\n    getDefaultConfig() {\n      getDiyInfo(this.pageId).then(({ data }) => {\n        let obj = {};\n        let tempARR = [];\n        this.$store.commit('mobildConfig/titleUpdata', data.info.title);\n        this.$store.commit('mobildConfig/nameUpdata', data.info.name);\n        this.$store.commit('mobildConfig/showUpdata', data.info.is_show);\n        this.$store.commit('mobildConfig/colorUpdata', data.info.is_bg_color || 0);\n        this.$store.commit('mobildConfig/picUpdata', data.info.is_bg_pic || 0);\n        this.$store.commit('mobildConfig/pickerUpdata', data.info.color_picker || '#f5f5f5');\n        this.$store.commit('mobildConfig/radioUpdata', data.info.bg_tab_val || 0);\n        this.$store.commit('mobildConfig/picurlUpdata', data.info.bg_pic || '');\n        let newArr = this.objToArr(data.info.value);\n\n        function sortNumber(a, b) {\n          return a.timestamp - b.timestamp;\n        }\n\n        newArr.sort(sortNumber);\n        newArr.map((el, index) => {\n          if (el.name == 'headerSerch') {\n            this.isSearch = true;\n          }\n          if (el.name == 'tabNav') {\n            this.isTab = true;\n          }\n          if (el.name == 'goodList') {\n            let storage = window.localStorage;\n            storage.setItem(el.timestamp, el.selectConfig.activeValue);\n          }\n          el.id = 'id' + el.timestamp;\n          this.lConfig.map((item, j) => {\n            if (el.name == item.defaultName) {\n              item.num = el.timestamp;\n              item.id = 'id' + el.timestamp;\n              let tempItem = JSON.parse(JSON.stringify(item));\n              tempARR.push(tempItem);\n              obj[el.timestamp] = el;\n              this.mConfig.push(tempItem);\n              // 保存默认组件配置\n              this.$store.commit('mobildConfig/ADDARRAY', {\n                num: el.timestamp,\n                val: el,\n              });\n            }\n          });\n        });\n\n        let objs = newArr[newArr.length - 1];\n\n        if (objs.name == 'pageFoot') {\n          this.$store.commit('mobildConfig/footPageUpdata', objs);\n        }\n        this.showTitle();\n        // this.rConfig = [];\n        // this.activeIndex = 0;\n        // this.rConfig.push(this.mConfig[0]);\n      });\n    },\n    categoryList() {\n      categoryList((res) => {\n        this.category = res.data;\n      });\n    },\n    // 重置\n    reast() {\n      if (this.pageId == 0) {\n        this.$Message.error('新增页面，无法重置');\n      } else {\n        this.$Modal.confirm({\n          title: '提示',\n          content: '<p>重置会恢复到上次保存的数据，确定不保存当前操作吗？</p>',\n          onOk: () => {\n            this.mConfig = [];\n            this.rConfig = [];\n            this.activeIndex = -99;\n            this.getDefaultConfig();\n          },\n          onCancel: () => {},\n        });\n      }\n    },\n  },\n  beforeDestroy() {\n    this.$store.commit('mobildConfig/titleUpdata', '');\n    this.$store.commit('mobildConfig/nameUpdata', '');\n    this.$store.commit('mobildConfig/showUpdata', 1);\n    this.$store.commit('mobildConfig/colorUpdata', 0);\n    this.$store.commit('mobildConfig/picUpdata', 0);\n    this.$store.commit('mobildConfig/pickerUpdata', '#f5f5f5');\n    this.$store.commit('mobildConfig/radioUpdata', 0);\n    this.$store.commit('mobildConfig/picurlUpdata', '');\n    this.$store.commit('mobildConfig/SETEMPTY');\n  },\n  destroyed() {\n    this.$store.commit('mobildConfig/titleUpdata', '');\n    this.$store.commit('mobildConfig/nameUpdata', '');\n    this.$store.commit('mobildConfig/showUpdata', 1);\n    this.$store.commit('mobildConfig/colorUpdata', 0);\n    this.$store.commit('mobildConfig/picUpdata', 0);\n    this.$store.commit('mobildConfig/pickerUpdata', '#f5f5f5');\n    this.$store.commit('mobildConfig/radioUpdata', 0);\n    this.$store.commit('mobildConfig/picurlUpdata', '');\n    this.$store.commit('mobildConfig/SETEMPTY');\n  },\n};\n</script>\n\n<style scoped lang=\"stylus\">\n\n.ysize {\n  background-size: 100%;\n}\n\n.fullsize {\n  background-size: 100% 100%;\n}\n\n.repeat {\n  background-repeat: repeat;\n}\n\n.noRepeat {\n  background-repeat: no-repeat;\n}\n\n.wrapper-con {\n  position relative\n  .acticon{\n    position absolute\n    right: 20px\n    top 20px\n    display: flex;\n    flex-direction: column;\n    z-index: 1000;\n  }\n  /* min-width 700px; */\n}\n.main .content-wrapper{\n  padding: 0 !important;\n}\n.defaultData {\n  /* margin-left 20px; */\n  cursor: pointer;\n  position: absolute;\n  left: 50%;\n  margin-left: 245px;\n\n  .data {\n    margin-top: 20px;\n    color: #282828;\n    background-color: #fff;\n    width: 94px;\n    text-align: center;\n    height: 32px;\n    line-height: 32px;\n    border-radius: 3px;\n    font-size: 12px;\n  }\n\n  .data:hover {\n    background-color: #2d8cf0;\n    color: #fff;\n    border: 0;\n  }\n}\n\n.overflowy {\n  overflow-y: scroll;\n\n  .picture {\n    width: 379px;\n    height: 20px;\n    margin: 0 auto;\n    background-color: #fff;\n  }\n}\n\n.bnt {\n  width: 80px !important;\n}\n\n/* 定义滑块 内阴影+圆角 */\n::-webkit-scrollbar-thumb {\n  -webkit-box-shadow: inset 0 0 6px #fff;\n  display: none;\n}\n\n.left:hover::-webkit-scrollbar-thumb, .right-box:hover::-webkit-scrollbar-thumb {\n  display: block;\n}\n\n.contxt:hover ::-webkit-scrollbar-thumb {\n  display: block;\n}\n\n::-webkit-scrollbar {\n  width: 4px !important; /* 对垂直流动条有效 */\n}\n\n.scrollCon {\n  overflow-y: scroll;\n  overflow-x: hidden;\n}\n\n.scroll-box .position {\n  display: block !important;\n  height: 40px;\n  text-align: center;\n  line-height: 40px;\n  border: 1px dashed #1890ff;\n  color: #1890ff;\n  background-color: #edf4fb;\n}\n\n.scroll-box .conter {\n  display: none !important;\n}\n\n.dragClass {\n  background-color: #fff;\n}\n\n.ivu-mt {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 10px;\n}\n\n.iconfont-diy {\n  font-size: 24px;\n  color: var(--prev-color-primary);\n}\n\n.diy-wrapper {\n  max-width: 100%;\n  min-width: 1100px;\n  display: flex;\n  justify-content: space-between;\n  height: 100%;\n  .left {\n    min-width: 300px;\n    max-width: 300px;\n    /* border 1px solid #DDDDDD */\n    border-radius: 4px;\n    height: 100%;\n\n    .title-bar {\n      display: flex;\n      color: #333;\n      border-bottom: 1px solid #eee;\n      border-radius: 4px;\n      cursor: pointer;\n\n      .title-item {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        flex: 1;\n        height: 45px;\n\n        &.on {\n          color: var(--prev-color-primary);\n          font-size: 14px;\n          border-bottom: 1px solid var(--prev-color-primary);\n        }\n      }\n    }\n\n    .wrapper {\n      padding: 15px;\n      overflow-y: scroll;\n      -webkit-overflow-scrolling: touch;\n\n      .tips {\n        display: flex;\n        justify-content: space-between;\n        padding-bottom: 15px;\n        font-size: 13px;\n        color: #000;\n        cursor: pointer;\n\n        .ivu-icon {\n          color: #000;\n        }\n      }\n    }\n\n    .link-item {\n      padding: 10px;\n      border-bottom: 1px solid #F5F5F5;\n      font-size: 12px;\n      color: #323232;\n\n      .name {\n        font-size: 14px;\n        color: #1890FF;\n      }\n\n      .link-txt {\n        margin-top: 2px;\n        word-break: break-all;\n      }\n\n      .params {\n        margin-top: 5px;\n        color: #1CBE6B;\n        word-break: break-all;\n\n        .txt {\n          color: #323232;\n        }\n\n        span {\n          &:last-child i {\n            display: none;\n            color: red;\n          }\n        }\n      }\n\n      .lable {\n        display: flex;\n        margin-top: 5px;\n        color: #999;\n\n        p {\n          flex: 1;\n          word-break: break-all;\n        }\n\n        button {\n          margin-left: 30px;\n          width: 38px;\n        }\n      }\n    }\n\n    .dragArea.list-group {\n      display: flex;\n      flex-wrap: wrap;\n\n      .list-group-item {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        width: 74px;\n        height: 66px;\n        margin-right: 17px;\n        margin-bottom: 10px;\n        font-size: 12px;\n        color: #666;\n        cursor: pointer;\n        border-radius: 5px;\n        text-align: center;\n\n        &:hover {\n          box-shadow: 0 0 5px 0 rgba(24, 144, 255, 0.3);\n          border-right: 5px;\n          transform: scale(1.1);\n          transition: all 0.2s;\n        }\n\n        &:nth-child(3n) {\n          margin-right: 0;\n        }\n      }\n    }\n  }\n\n  .content {\n    position: relative;\n    height: 100%;\n    width: 100%;\n\n    .page-foot {\n      position: relative;\n      width: 379px;\n      margin: 0 auto 20px auto;\n\n      .delete-box {\n        display: none;\n        position: absolute;\n        left: -2px;\n        top: 0;\n        width: 383px;\n        height: 100%;\n        border: 2px dashed var(--prev-color-primary);\n        padding: 10px 0;\n      }\n\n      &:hover, &.on {\n        /* cursor: move; */\n        .delete-box {\n          /* display: block; */\n        }\n      }\n\n      &.on {\n        cursor: move;\n\n        .delete-box {\n          display: block;\n          border: 2px solid var(--prev-color-primary);\n          box-shadow: 0 0 10px 0 rgba(24, 144, 255, 0.3);\n        }\n      }\n    }\n\n    .page-title {\n      position: relative;\n      height: 35px;\n      line-height: 35px;\n      background: #fff;\n      font-size: 15px;\n      color: #333333;\n      text-align: center;\n      width: 379px;\n      margin: 0 auto;\n\n      .delete-box {\n        display: none;\n        position: absolute;\n        left: -2px;\n        top: 0;\n        width: 383px;\n        height: 100%;\n        border: 2px dashed var(--prev-color-primary);\n        padding: 10px 0;\n\n        span {\n          position: absolute;\n          right: 0;\n          bottom: 0;\n          width: 32px;\n          height: 16px;\n          line-height: 16px;\n          display: inline-block;\n          text-align: center;\n          font-size: 10px;\n          color: #fff;\n          background: rgba(0, 0, 0, 0.4);\n          margin-left: 2px;\n          cursor: pointer;\n          z-index: 11;\n        }\n      }\n\n      &:hover, &.on {\n        /* cursor: move; */\n        .delete-box {\n          /* display: block; */\n        }\n      }\n\n      &.on {\n        cursor: move;\n\n        .delete-box {\n          display: block;\n          border: 2px solid var(--prev-color-primary);\n          box-shadow: 0 0 10px 0 rgba(24, 144, 255, 0.3);\n        }\n      }\n    }\n\n    .scroll-box {\n      flex: 1;\n      background-color: #fff;\n      width: 379px;\n      margin: 0 auto;\n      padding-top: 1px;\n    }\n\n    .dragArea.list-group {\n      width: 100%;\n      height: 100%;\n\n      .mConfig-item {\n        position: relative;\n        cursor: move;\n\n        .delete-box {\n          display: none;\n          position: absolute;\n          left: -2px;\n          top: 0;\n          width: 383px;\n          height: 100%;\n          border: 2px dashed var(--prev-color-primary);\n\n          /* padding: 10px 0; */\n          .handleType {\n            position: absolute;\n            right: -43px;\n            top: 0;\n            width: 36px;\n            height: 143px;\n            border-radius: 4px;\n            background-color: #1890ff;\n            cursor: pointer;\n            color: #fff;\n            font-weight: bold;\n            text-align: center;\n            padding: 4px 0;\n\n            .iconfont {\n              padding: 5px 0;\n\n              &.on {\n                opacity: 0.4;\n              }\n            }\n          }\n        }\n\n        &.on {\n          cursor: move;\n\n          .delete-box {\n            display: block;\n            border: 2px solid var(--prev-color-primary);\n            box-shadow: 0 0 10px 0 rgba(24, 144, 255, 0.3);\n          }\n        }\n      }\n\n      .mConfig-item:hover {\n        transform: scale(1.01);\n        box-shadow: 0 0 10px 0 rgba(24, 144, 255, 0.3);\n        transition: all 0.2s;\n      }\n    }\n  }\n\n  .right-box {\n    max-width: 400px;\n    min-width: 400px;\n    height: 100%;\n    border-radius: 4px;\n    overflow: scroll;\n    -webkit-overflow-scrolling: touch;\n\n    /deep/ .ivu-tabs-bar {\n      margin-bottom: 16px;\n    }\n\n    .title-bar {\n      width: 100%;\n      height: 45px;\n      line-height: 45px;\n      padding-left: 24px;\n      color: #000;\n      border-radius: 4px;\n      border-bottom: 1px solid #eee;\n      font-size: 14px;\n    }\n  }\n\n  ::-webkit-scrollbar {\n    width: 6px;\n    background-color: transparent;\n  }\n\n  ::-webkit-scrollbar-track {\n    border-radius: 10px;\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background-color: #bfc1c4;\n  }\n}\n\n.foot-box {\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 80px;\n  background: #fff;\n  box-shadow: 0px -2px 4px 0px rgba(0, 0, 0, 0.03);\n\n  button {\n    width: 100px;\n    height: 32px;\n    font-size: 13px;\n\n    &:first-child {\n      margin-right: 20px;\n    }\n  }\n}\n\n/deep/ .ivu-scroll-loader {\n  display: none;\n}\n\n/deep/ .ivu-card-body {\n  width: 100%;\n  padding:0;\n  height: calc(100vh - 73px);\n\n}\n\n.rbtn {\n  position: absolute;\n  right: 20px;\n}\n.code {\n  position: relative;\n}\n\n.QRpic {\n  width: 160px;\n  height: 160px;\n\n  img {\n    width: 100%;\n    height: 100%;\n  }\n}\n</style>\n"]}]}