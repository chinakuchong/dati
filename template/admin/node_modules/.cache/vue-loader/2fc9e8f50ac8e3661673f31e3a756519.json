{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/pages/cms/addArticle/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/pages/cms/addArticle/index.vue","mtime":1689324015200},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCB1cGxvYWRQaWN0dXJlcyBmcm9tICdAL2NvbXBvbmVudHMvdXBsb2FkUGljdHVyZXMnOwppbXBvcnQgV2FuZ0VkaXRvciBmcm9tICdAL2NvbXBvbmVudHMvd2FuZ0VkaXRvci9pbmRleC52dWUnOwppbXBvcnQgeyBjbXNBZGRBcGksIGNyZWF0ZUFwaSwgY2F0ZWdvcnlUcmVlTGlzdEFwaSB9IGZyb20gJ0AvYXBpL2Ntcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnYWRkQXJ0aWNsZScsCiAgY29tcG9uZW50czogeyB1cGxvYWRQaWN0dXJlcywgV2FuZ0VkaXRvciB9LAogIGRhdGEoKSB7CiAgICBjb25zdCB2YWxpZGF0ZVVwbG9hZCA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKICAgICAgaWYgKHRoaXMuZm9ybVZhbGlkYXRlLmltYWdlX2lucHV0KSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+S4iuS8oOWbvuaWh+WwgemdoicpKTsKICAgICAgfQogICAgfTsKICAgIGNvbnN0IHZhbGlkYXRlVXBsb2FkMiA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKICAgICAgaWYgKCF0aGlzLmZvcm1WYWxpZGF0ZS5jaWQpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+mAieaLqeaWh+eroOWIhuexuycpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjYWxsYmFjaygpOwogICAgICB9CiAgICB9OwogICAgcmV0dXJuIHsKICAgICAgZGlhbG9nOiB7fSwKICAgICAgaXNDaG9pY2U6ICfljZXpgIknLAogICAgICBncmlkOiB7CiAgICAgICAgeGw6IDgsCiAgICAgICAgbGc6IDgsCiAgICAgICAgbWQ6IDEyLAogICAgICAgIHNtOiAyNCwKICAgICAgICB4czogMjQsCiAgICAgIH0sCiAgICAgIGdyaWRQaWM6IHsKICAgICAgICB4bDogNiwKICAgICAgICBsZzogOCwKICAgICAgICBtZDogMTIsCiAgICAgICAgc206IDEyLAogICAgICAgIHhzOiAxMiwKICAgICAgfSwKICAgICAgZ3JpZEJ0bjogewogICAgICAgIHhsOiA0LAogICAgICAgIGxnOiA4LAogICAgICAgIG1kOiA4LAogICAgICAgIHNtOiA4LAogICAgICAgIHhzOiA4LAogICAgICB9LAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgZm9ybVZhbGlkYXRlOiB7CiAgICAgICAgaWQ6IDAsCiAgICAgICAgdGl0bGU6ICcnLAogICAgICAgIGF1dGhvcjogJycsCiAgICAgICAgaW1hZ2VfaW5wdXQ6ICcnLAogICAgICAgIGNvbnRlbnQ6ICcnLAogICAgICAgIHN5bm9wc2lzOiAnJywKICAgICAgICB1cmw6ICcnLAogICAgICAgIGlzX2hvdDogMCwKICAgICAgICBpc19iYW5uZXI6IDAsCiAgICAgICAgY2lkOiAnJywKICAgICAgICB2aXNpdDogMCwKICAgICAgfSwKICAgICAgY29udGVudDogJycsCiAgICAgIHJ1bGVWYWxpZGF0ZTogewogICAgICAgIHRpdGxlOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeagh+mimCcsIHRyaWdnZXI6ICdibHVyJyB9XSwKICAgICAgICBjaWQ6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVVcGxvYWQyLAogICAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJywKICAgICAgICAgICAgdHlwZTogJ251bWJlcicsCiAgICAgICAgICB9LAogICAgICAgIF0sCiAgICAgICAgaW1hZ2VfaW5wdXQ6IFt7IHJlcXVpcmVkOiB0cnVlLCB2YWxpZGF0b3I6IHZhbGlkYXRlVXBsb2FkLCB0cmlnZ2VyOiAnY2hhbmdlJyB9XSwKICAgICAgICBjb250ZW50OiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeaWh+eroOWGheWuuScsIHRyaWdnZXI6ICdjaGFuZ2UnIH1dLAogICAgICB9LAogICAgICB2YWx1ZTogJycsCiAgICAgIG1vZGFsUGljOiBmYWxzZSwKICAgICAgdGVtcGxhdGU6IGZhbHNlLAogICAgICB0cmVlRGF0YTogW10sCiAgICAgIGZvcm1WYWxpZGF0ZTI6IHsKICAgICAgICB0eXBlOiAxLAogICAgICB9LAogICAgICBteUNvbmZpZzogewogICAgICAgIGF1dG9IZWlnaHRFbmFibGVkOiBmYWxzZSwgLy8g57yW6L6R5Zmo5LiN6Ieq5Yqo6KKr5YaF5a655pKR6auYCiAgICAgICAgaW5pdGlhbEZyYW1lSGVpZ2h0OiA1MDAsIC8vIOWIneWni+WuueWZqOmrmOW6pgogICAgICAgIGluaXRpYWxGcmFtZVdpZHRoOiAnMTAwJScsIC8vIOWIneWni+WuueWZqOWuveW6pgogICAgICAgIFVFRElUT1JfSE9NRV9VUkw6ICcvVUVkaXRvci8nLAogICAgICAgIHNlcnZlclVybDogJycsCiAgICAgIH0sCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcFN0YXRlKCdtZWRpYScsIFsnaXNNb2JpbGUnXSksCiAgICBsYWJlbFdpZHRoKCkgewogICAgICByZXR1cm4gdGhpcy5pc01vYmlsZSA/IHVuZGVmaW5lZCA6IDEyMDsKICAgIH0sCiAgICBsYWJlbFBvc2l0aW9uKCkgewogICAgICByZXR1cm4gdGhpcy5pc01vYmlsZSA/ICd0b3AnIDogJ3JpZ2h0JzsKICAgIH0sCiAgfSwKICB3YXRjaDogewogICAgJHJvdXRlKHRvLCBmcm9tKSB7CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpIHsKICAgICAgICB0aGlzLmdldERldGFpbHMoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZSA9IHsKICAgICAgICAgIGlkOiAwLAogICAgICAgICAgdGl0bGU6ICcnLAogICAgICAgICAgYXV0aG9yOiAnJywKICAgICAgICAgIGltYWdlX2lucHV0OiAnJywKICAgICAgICAgIGNvbnRlbnQ6ICcnLAogICAgICAgICAgc3lub3BzaXM6ICcnLAogICAgICAgICAgdXJsOiAnJywKICAgICAgICAgIGlzX2hvdDogMCwKICAgICAgICAgIGlzX2Jhbm5lcjogMCwKICAgICAgICB9OwogICAgICB9CiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgZ2V0RWRpdG9yQ29udGVudChkYXRhKSB7CiAgICAgIHRoaXMuY29udGVudCA9IGRhdGE7CiAgICB9LAogICAgLy8g6YCJ5oup5Zu+54mHCiAgICBtb2RhbFBpY1RhcCgpIHsKICAgICAgdGhpcy5tb2RhbFBpYyA9IHRydWU7CiAgICB9LAogICAgLy8g6YCJ5Lit5Zu+54mHCiAgICBnZXRQaWMocGMpIHsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuaW1hZ2VfaW5wdXQgPSBwYy5hdHRfZGlyOwogICAgICB0aGlzLm1vZGFsUGljID0gZmFsc2U7CiAgICB9LAogICAgLy8g5YiG57G7CiAgICBnZXRDbGFzcygpIHsKICAgICAgY2F0ZWdvcnlUcmVlTGlzdEFwaSgpCiAgICAgICAgLnRoZW4oYXN5bmMgKHJlcykgPT4gewogICAgICAgICAgdGhpcy50cmVlRGF0YSA9IHJlcy5kYXRhOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgfSk7CiAgICB9LAogICAgLy8g5o+Q5Lqk5pWw5o2uCiAgICBvbnN1Ym1pdChuYW1lKSB7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmNvbnRlbnQgPSB0aGlzLmNvbnRlbnQ7CiAgICAgIHRoaXMuJHJlZnNbbmFtZV0udmFsaWRhdGUoKHZhbGlkKSA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBjbXNBZGRBcGkodGhpcy5mb3JtVmFsaWRhdGUpCiAgICAgICAgICAgIC50aGVuKGFzeW5jIChyZXMpID0+IHsKICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6IHRoaXMuJHJvdXRlUHJvU3RyICsgJy9jbXMvYXJ0aWNsZS9pbmRleCcgfSk7CiAgICAgICAgICAgICAgfSwgNTAwKTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5paH56ug6K+m5oOFCiAgICBnZXREZXRhaWxzKCkgewogICAgICBjcmVhdGVBcGkodGhpcy4kcm91dGUucGFyYW1zLmlkID8gdGhpcy4kcm91dGUucGFyYW1zLmlkIDogMCkKICAgICAgICAudGhlbihhc3luYyAocmVzKSA9PiB7CiAgICAgICAgICBsZXQgZGF0YSA9IHJlcy5kYXRhOwogICAgICAgICAgbGV0IG5ld3MgPSBkYXRhLmluZm87CiAgICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZSA9IHsKICAgICAgICAgICAgaWQ6IG5ld3MuaWQsCiAgICAgICAgICAgIHRpdGxlOiBuZXdzLnRpdGxlLAogICAgICAgICAgICBhdXRob3I6IG5ld3MuYXV0aG9yLAogICAgICAgICAgICBpbWFnZV9pbnB1dDogbmV3cy5pbWFnZV9pbnB1dCwKICAgICAgICAgICAgY29udGVudDogbmV3cy5jb250ZW50LAogICAgICAgICAgICBzeW5vcHNpczogbmV3cy5zeW5vcHNpcywKICAgICAgICAgICAgdXJsOiBuZXdzLnVybCwKICAgICAgICAgICAgaXNfaG90OiBuZXdzLmlzX2hvdCwKICAgICAgICAgICAgaXNfYmFubmVyOiBuZXdzLmlzX2Jhbm5lciwKICAgICAgICAgICAgY2lkOiBuZXdzLmNpZCwKICAgICAgICAgICAgdmlzaXQ6IG5ld3MudmlzaXQsCiAgICAgICAgICB9OwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICB9KTsKICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkgewogICAgICB0aGlzLmdldERldGFpbHMoKTsKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldENsYXNzKCk7CiAgfSwKfTsK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/cms/addArticle","sourcesContent":["<template>\n  <div class=\"article-manager\">\n    <div class=\"i-layout-page-header header-title\">\n      <div class=\"fl_header\">\n        <span>\n          <Button icon=\"ios-arrow-back\" size=\"small\" type=\"text\" @click=\"$router.go(-1)\">返回</Button>\n        </span>\n        <Divider type=\"vertical\" />\n        <span class=\"ivu-page-header-title\">{{ $route.params.id ? '编辑文章' : '添加文章' }}</span>\n      </div>\n    </div>\n    <Card :bordered=\"false\" dis-hover class=\"ivu-mt\">\n      <Form\n        class=\"form\"\n        ref=\"formValidate\"\n        :model=\"formValidate\"\n        :rules=\"ruleValidate\"\n        :label-width=\"labelWidth\"\n        :label-position=\"labelPosition\"\n        @submit.native.prevent\n      >\n        <div class=\"goodsTitle acea-row\">\n          <div class=\"title\">文章信息</div>\n        </div>\n        <Row :gutter=\"24\" type=\"flex\">\n          <Col v-bind=\"grid\" class=\"mr50\">\n            <FormItem label=\"标题：\" prop=\"title\" label-for=\"title\">\n              <Input v-model=\"formValidate.title\" placeholder=\"请输入\" element-id=\"title\" style=\"width: 90%\" />\n            </FormItem>\n          </Col>\n          <Col v-bind=\"grid\" class=\"mr50\">\n            <FormItem label=\"作者：\" prop=\"author\" label-for=\"author\">\n              <Input v-model=\"formValidate.author\" placeholder=\"请输入\" element-id=\"author\" style=\"width: 90%\" />\n            </FormItem>\n          </Col>\n          <Col v-bind=\"grid\" class=\"mr50\">\n            <FormItem label=\"文章分类：\" label-for=\"cid\" prop=\"cid\">\n              <div class=\"perW90\">\n                <Select v-model=\"formValidate.cid\">\n                  <Option v-for=\"item in treeData\" :value=\"item.id\" :disabled=\"item.disabled\" :key=\"item.id\">{{\n                    item.html + item.title\n                  }}</Option>\n                </Select>\n              </div>\n            </FormItem>\n          </Col>\n          <Col v-bind=\"grid\" class=\"mr50\">\n            <FormItem label=\"文章简介：\" prop=\"synopsis\" label-for=\"synopsis\">\n              <Input v-model=\"formValidate.synopsis\" type=\"textarea\" placeholder=\"请输入\" style=\"width: 90%\" />\n            </FormItem>\n          </Col>\n          <Col v-bind=\"grid\" class=\"mr50\">\n            <FormItem label=\"图文封面：\" prop=\"image_input\">\n              <div class=\"picBox\" @click=\"modalPicTap('单选')\">\n                <div class=\"pictrue\" v-if=\"formValidate.image_input\">\n                  <img :src=\"formValidate.image_input\" />\n                </div>\n                <div class=\"upLoad acea-row row-center-wrapper\" v-else>\n                  <Icon type=\"ios-camera-outline\" size=\"24\" />\n                </div>\n              </div>\n              <div class=\"tip\">建议尺寸：500 x 312 px</div>\n            </FormItem>\n          </Col>\n        </Row>\n        <div class=\"goodsTitle acea-row\">\n          <div class=\"title\">文章内容</div>\n        </div>\n        <FormItem label=\"文章内容：\" prop=\"content\">\n          <WangEditor style=\"width: 90%\" :content=\"formValidate.content\" @editorContent=\"getEditorContent\"></WangEditor>\n        </FormItem>\n        <div class=\"goodsTitle acea-row\">\n          <div class=\"title\">其他设置</div>\n        </div>\n        <Row :gutter=\"24\" type=\"flex\">\n          <!--                    <Col span=\"24\">-->\n          <!--                        <FormItem label=\"原文链接：\">-->\n          <!--                            <Input v-model=\"formValidate.url\" placeholder=\"请输入\" element-id=\"url\" style=\"width: 60%\"/>-->\n          <!--                        </FormItem>-->\n          <!--                    </Col>-->\n          <Col span=\"24\">\n            <FormItem label=\"banner显示：\" label-for=\"is_banner\">\n              <RadioGroup v-model=\"formValidate.is_banner\" element-id=\"is_banner\">\n                <Radio :label=\"1\" class=\"radio\">显示</Radio>\n                <Radio :label=\"0\">不显示</Radio>\n              </RadioGroup>\n            </FormItem>\n          </Col>\n          <Col span=\"24\">\n            <FormItem label=\"热门文章：\" label-for=\"is_hot\">\n              <RadioGroup v-model=\"formValidate.is_hot\" element-id=\"is_hot\">\n                <Radio :label=\"1\" class=\"radio\">显示</Radio>\n                <Radio :label=\"0\">不显示</Radio>\n              </RadioGroup>\n            </FormItem>\n          </Col>\n        </Row>\n        <Button type=\"primary\" class=\"submission\" @click=\"onsubmit('formValidate')\">提交</Button>\n      </Form>\n      <Modal\n        v-model=\"modalPic\"\n        width=\"950px\"\n        scrollable\n        footer-hide\n        closable\n        title=\"上传商品图\"\n        :mask-closable=\"false\"\n        :z-index=\"888\"\n      >\n        <uploadPictures\n          :isChoice=\"isChoice\"\n          @getPic=\"getPic\"\n          :gridBtn=\"gridBtn\"\n          :gridPic=\"gridPic\"\n          v-if=\"modalPic\"\n        ></uploadPictures>\n      </Modal>\n    </Card>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport uploadPictures from '@/components/uploadPictures';\nimport WangEditor from '@/components/wangEditor/index.vue';\nimport { cmsAddApi, createApi, categoryTreeListApi } from '@/api/cms';\nexport default {\n  name: 'addArticle',\n  components: { uploadPictures, WangEditor },\n  data() {\n    const validateUpload = (rule, value, callback) => {\n      if (this.formValidate.image_input) {\n        callback();\n      } else {\n        callback(new Error('请上传图文封面'));\n      }\n    };\n    const validateUpload2 = (rule, value, callback) => {\n      if (!this.formValidate.cid) {\n        callback(new Error('请选择文章分类'));\n      } else {\n        callback();\n      }\n    };\n    return {\n      dialog: {},\n      isChoice: '单选',\n      grid: {\n        xl: 8,\n        lg: 8,\n        md: 12,\n        sm: 24,\n        xs: 24,\n      },\n      gridPic: {\n        xl: 6,\n        lg: 8,\n        md: 12,\n        sm: 12,\n        xs: 12,\n      },\n      gridBtn: {\n        xl: 4,\n        lg: 8,\n        md: 8,\n        sm: 8,\n        xs: 8,\n      },\n      loading: false,\n      formValidate: {\n        id: 0,\n        title: '',\n        author: '',\n        image_input: '',\n        content: '',\n        synopsis: '',\n        url: '',\n        is_hot: 0,\n        is_banner: 0,\n        cid: '',\n        visit: 0,\n      },\n      content: '',\n      ruleValidate: {\n        title: [{ required: true, message: '请输入标题', trigger: 'blur' }],\n        cid: [\n          {\n            required: true,\n            validator: validateUpload2,\n            trigger: 'change',\n            type: 'number',\n          },\n        ],\n        image_input: [{ required: true, validator: validateUpload, trigger: 'change' }],\n        content: [{ required: true, message: '请输入文章内容', trigger: 'change' }],\n      },\n      value: '',\n      modalPic: false,\n      template: false,\n      treeData: [],\n      formValidate2: {\n        type: 1,\n      },\n      myConfig: {\n        autoHeightEnabled: false, // 编辑器不自动被内容撑高\n        initialFrameHeight: 500, // 初始容器高度\n        initialFrameWidth: '100%', // 初始容器宽度\n        UEDITOR_HOME_URL: '/UEditor/',\n        serverUrl: '',\n      },\n    };\n  },\n  computed: {\n    ...mapState('media', ['isMobile']),\n    labelWidth() {\n      return this.isMobile ? undefined : 120;\n    },\n    labelPosition() {\n      return this.isMobile ? 'top' : 'right';\n    },\n  },\n  watch: {\n    $route(to, from) {\n      if (this.$route.params.id) {\n        this.getDetails();\n      } else {\n        this.formValidate = {\n          id: 0,\n          title: '',\n          author: '',\n          image_input: '',\n          content: '',\n          synopsis: '',\n          url: '',\n          is_hot: 0,\n          is_banner: 0,\n        };\n      }\n    },\n  },\n  methods: {\n    getEditorContent(data) {\n      this.content = data;\n    },\n    // 选择图片\n    modalPicTap() {\n      this.modalPic = true;\n    },\n    // 选中图片\n    getPic(pc) {\n      this.formValidate.image_input = pc.att_dir;\n      this.modalPic = false;\n    },\n    // 分类\n    getClass() {\n      categoryTreeListApi()\n        .then(async (res) => {\n          this.treeData = res.data;\n        })\n        .catch((res) => {\n          this.$Message.error(res.msg);\n        });\n    },\n    // 提交数据\n    onsubmit(name) {\n      this.formValidate.content = this.content;\n      this.$refs[name].validate((valid) => {\n        if (valid) {\n          cmsAddApi(this.formValidate)\n            .then(async (res) => {\n              this.$Message.success(res.msg);\n              setTimeout(() => {\n                this.$router.push({ path: this.$routeProStr + '/cms/article/index' });\n              }, 500);\n            })\n            .catch((res) => {\n              this.$Message.error(res.msg);\n            });\n        } else {\n          return false;\n        }\n      });\n    },\n    // 文章详情\n    getDetails() {\n      createApi(this.$route.params.id ? this.$route.params.id : 0)\n        .then(async (res) => {\n          let data = res.data;\n          let news = data.info;\n          this.formValidate = {\n            id: news.id,\n            title: news.title,\n            author: news.author,\n            image_input: news.image_input,\n            content: news.content,\n            synopsis: news.synopsis,\n            url: news.url,\n            is_hot: news.is_hot,\n            is_banner: news.is_banner,\n            cid: news.cid,\n            visit: news.visit,\n          };\n        })\n        .catch((res) => {\n          this.loading = false;\n          this.$Message.error(res.msg);\n        });\n    },\n  },\n  mounted() {\n    if (this.$route.params.id) {\n      this.getDetails();\n    }\n  },\n  created() {\n    this.getClass();\n  },\n};\n</script>\n<style scoped>\n/deep/.ivu-form-item-content {\n  line-height: unset !important;\n}\n.picBox {\n  display: inline-block;\n  cursor: pointer;\n}\n\n.form .goodsTitle {\n  border-bottom: 1px solid rgba(0, 0, 0, 0.09);\n  margin-bottom: 25px;\n}\n\n.form .goodsTitle ~ .goodsTitle {\n  margin-top: 20px;\n}\n\n.form .goodsTitle .title {\n  border-bottom: 2px solid #1890ff;\n  padding: 0 8px 12px 5px;\n  color: #000;\n  font-size: 14px;\n}\n\n.form .goodsTitle .icons {\n  font-size: 15px;\n  margin-right: 8px;\n  color: #999;\n}\n\n.form .add {\n  font-size: 12px;\n  color: #1890ff;\n  padding: 0 12px;\n  cursor: pointer;\n}\n\n.form .radio {\n  margin-right: 20px;\n}\n\n.form .submission {\n  width: 10%;\n  margin-left: 27px;\n}\n\n.form .upLoad {\n  width: 58px;\n  height: 58px;\n  line-height: 58px;\n  border: 1px dotted rgba(0, 0, 0, 0.1);\n  border-radius: 4px;\n  background: rgba(0, 0, 0, 0.02);\n}\n\n.form .iconfont {\n  color: #898989;\n}\n\n.form .pictrue {\n  width: 60px;\n  height: 60px;\n  border: 1px dotted rgba(0, 0, 0, 0.1);\n  margin-right: 10px;\n}\n\n.form .pictrue img {\n  width: 100%;\n  height: 100%;\n}\n\n.Modals .address {\n  width: 90%;\n}\n\n.Modals .address .iconfont {\n  font-size: 20px;\n}\n.tip {\n  margin-top: 10px;\n  color: #bbb;\n}\n</style>\n"]}]}