{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/pages/order/orderList/handle/orderRemark.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/pages/order/orderList/handle/orderRemark.vue","mtime":1689324015243},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHB1dFJlbWFya0RhdGEsIHB1dFJlZnVuZFJlbWFya0RhdGEgfSBmcm9tICdAL2FwaS9vcmRlcic7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnb3JkZXJNYXJrJywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybVZhbGlkYXRlOiB7CiAgICAgICAgcmVtYXJrOiAnJywKICAgICAgfSwKICAgICAgbW9kYWxzOiBmYWxzZSwKICAgICAgcnVsZVZhbGlkYXRlOiB7CiAgICAgICAgcmVtYXJrOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl5aSH5rOo5L+h5oGvJywgdHJpZ2dlcjogJ2JsdXInIH0sCiAgICAgICAgICAvLyB7IHR5cGU6ICdzdHJpbmcnLCBtaW46IDIwLCBtZXNzYWdlOiAnSW50cm9kdWNlIG5vIGxlc3MgdGhhbiAyMCB3b3JkcycsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgXSwKICAgICAgfSwKICAgIH07CiAgfSwKICBwcm9wczogewogICAgb3JkZXJJZDogTnVtYmVyLAogICAgcmVtYXJrVHlwZTogewogICAgICBkZWZhdWx0OiAnJywKICAgICAgdHlwZTogU3RyaW5nLAogICAgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIGNhbmNlbChuYW1lKSB7CiAgICAgIHRoaXMubW9kYWxzID0gZmFsc2U7CiAgICAgIHRoaXMuJHJlZnNbbmFtZV0ucmVzZXRGaWVsZHMoKTsKICAgIH0sCiAgICBwdXRSZW1hcmsobmFtZSkgewogICAgICBsZXQgZGF0YSA9IHsKICAgICAgICBpZDogdGhpcy5vcmRlcklkLAogICAgICAgIHJlbWFyazogdGhpcy5mb3JtVmFsaWRhdGUsCiAgICAgIH07CiAgICAgIHRoaXMuJHJlZnNbbmFtZV0udmFsaWRhdGUoKHZhbGlkKSA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAodGhpcy5yZW1hcmtUeXBlID8gcHV0UmVmdW5kUmVtYXJrRGF0YSA6IHB1dFJlbWFya0RhdGEpKGRhdGEpCiAgICAgICAgICAgIC50aGVuKGFzeW5jIChyZXMpID0+IHsKICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICAgICAgdGhpcy5tb2RhbHMgPSBmYWxzZTsKICAgICAgICAgICAgICB0aGlzLiRyZWZzW25hbWVdLnJlc2V0RmllbGRzKCk7CiAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnc3VibWl0RmFpbCcpOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRNZXNzYWdlLndhcm5pbmcoJ+ivt+Whq+WGmeWkh+azqOS/oeaBrycpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["orderRemark.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"orderRemark.vue","sourceRoot":"src/pages/order/orderList/handle","sourcesContent":["<template>\n  <Modal v-model=\"modals\" scrollable title=\"请修改内容\" class=\"order_box\" :closable=\"false\">\n    <Form ref=\"formValidate\" :model=\"formValidate\" :rules=\"ruleValidate\" :label-width=\"80\" @submit.native.prevent>\n      <FormItem label=\"备注：\" prop=\"remark\">\n        <Input\n          v-model=\"formValidate.remark\"\n          :maxlength=\"200\"\n          show-word-limit\n          type=\"textarea\"\n          placeholder=\"订单备注\"\n          style=\"width: 100%\"\n        />\n      </FormItem>\n    </Form>\n    <div slot=\"footer\">\n      <Button type=\"primary\" @click=\"putRemark('formValidate')\">提交</Button>\n      <Button @click=\"cancel('formValidate')\">取消</Button>\n    </div>\n  </Modal>\n</template>\n\n<script>\nimport { putRemarkData, putRefundRemarkData } from '@/api/order';\nexport default {\n  name: 'orderMark',\n  data() {\n    return {\n      formValidate: {\n        remark: '',\n      },\n      modals: false,\n      ruleValidate: {\n        remark: [\n          { required: true, message: '请输入备注信息', trigger: 'blur' },\n          // { type: 'string', min: 20, message: 'Introduce no less than 20 words', trigger: 'blur' }\n        ],\n      },\n    };\n  },\n  props: {\n    orderId: Number,\n    remarkType: {\n      default: '',\n      type: String,\n    },\n  },\n  methods: {\n    cancel(name) {\n      this.modals = false;\n      this.$refs[name].resetFields();\n    },\n    putRemark(name) {\n      let data = {\n        id: this.orderId,\n        remark: this.formValidate,\n      };\n      this.$refs[name].validate((valid) => {\n        if (valid) {\n          (this.remarkType ? putRefundRemarkData : putRemarkData)(data)\n            .then(async (res) => {\n              this.$Message.success(res.msg);\n              this.modals = false;\n              this.$refs[name].resetFields();\n              this.$emit('submitFail');\n            })\n            .catch((res) => {\n              this.$Message.error(res.msg);\n            });\n        } else {\n          this.$Message.warning('请填写备注信息');\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style scoped></style>\n"]}]}