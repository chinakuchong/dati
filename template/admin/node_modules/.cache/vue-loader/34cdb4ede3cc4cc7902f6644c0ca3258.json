{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/layout/navBars/breadcrumb/search.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/layout/navBars/breadcrumb/search.vue","mtime":1689324015184},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldEFsbFNpZGVyTWVudSB9IGZyb20gJ0AvbGlicy9zeXN0ZW0nOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2xheW91dEJyZWFkY3J1bWJTZWFyY2gnLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc1Nob3dTZWFyY2g6IGZhbHNlLAogICAgICBtZW51UXVlcnk6ICcnLAogICAgICB0YWdzVmlld0xpc3Q6IFtdLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOaQnOe0ouW8ueeql+aJk+W8gAogICAgb3BlblNlYXJjaCgpIHsKICAgICAgdGhpcy5tZW51UXVlcnkgPSAnJzsKICAgICAgdGhpcy5pc1Nob3dTZWFyY2ggPSB0cnVlOwogICAgICB0aGlzLmluaXRUYWdlVmlldygpOwogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy4kcmVmcy5sYXlvdXRNZW51QXV0b2NvbXBsZXRlUmVmLmZvY3VzKCk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOaQnOe0ouW8ueeql+WFs+mXrQogICAgY2xvc2VTZWFyY2goKSB7CiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMuaXNTaG93U2VhcmNoID0gZmFsc2U7CiAgICAgIH0sIDE1MCk7CiAgICB9LAogICAgLy8g6I+c5Y2V5pCc57Si5pWw5o2u6L+H5rukCiAgICBtZW51U2VhcmNoKHF1ZXJ5U3RyaW5nLCBjYikgewogICAgICBsZXQgcmVzdWx0cyA9IHF1ZXJ5U3RyaW5nID8gdGhpcy50YWdzVmlld0xpc3QuZmlsdGVyKHRoaXMuY3JlYXRlRmlsdGVyKHF1ZXJ5U3RyaW5nKSkgOiB0aGlzLnRhZ3NWaWV3TGlzdDsKICAgICAgY2IocmVzdWx0cyk7CiAgICB9LAogICAgLy8g6I+c5Y2V5pCc57Si6L+H5rukCiAgICBjcmVhdGVGaWx0ZXIocXVlcnlTdHJpbmcpIHsKICAgICAgcmV0dXJuIChyZXN0YXVyYW50KSA9PiB7CiAgICAgICAgcmV0dXJuICgKICAgICAgICAgIHJlc3RhdXJhbnQucGF0aC50b0xvd2VyQ2FzZSgpLmluZGV4T2YocXVlcnlTdHJpbmcudG9Mb3dlckNhc2UoKSkgPiAtMSB8fAogICAgICAgICAgcmVzdGF1cmFudC50aXRsZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YocXVlcnlTdHJpbmcudG9Mb3dlckNhc2UoKSkgPiAtMSB8fAogICAgICAgICAgdGhpcy4kdChyZXN0YXVyYW50LnRpdGxlKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YocXVlcnlTdHJpbmcudG9Mb3dlckNhc2UoKSkgPiAtMQogICAgICAgICk7CiAgICAgIH07CiAgICB9LAogICAgLy8g5Yid5aeL5YyW6I+c5Y2V5pWw5o2uCiAgICBpbml0VGFnZVZpZXcoKSB7CiAgICAgIGlmICh0aGlzLnRhZ3NWaWV3TGlzdC5sZW5ndGggPiAwKSByZXR1cm4gZmFsc2U7CiAgICAgIHRoaXMudGFnc1ZpZXdMaXN0ID0gZ2V0QWxsU2lkZXJNZW51KHRoaXMuJHN0b3JlLnN0YXRlLnJvdXRlc0xpc3Qucm91dGVzTGlzdCk7CiAgICAgIC8vIHRoaXMuJHN0b3JlLnN0YXRlLnRhZ3NWaWV3Um91dGVzLnRhZ3NWaWV3Um91dGVzLm1hcCgodikgPT4gewogICAgICAvLyAJaWYgKCF2LmlzSGlkZSkgdGhpcy50YWdzVmlld0xpc3QucHVzaCh7IC4uLnYgfSk7CiAgICAgIC8vIH0pOwogICAgfSwKICAgIC8vIOW9k+WJjeiPnOWNlemAieS4reaXtgogICAgb25IYW5kbGVTZWxlY3QoaXRlbSkgewogICAgICBsZXQgeyBwYXRoLCByZWRpcmVjdCB9ID0gaXRlbTsKICAgICAgaWYgKGl0ZW0uaXNMaW5rICYmICFpdGVtLmlzSWZyYW1lKSB3aW5kb3cub3BlbihpdGVtLmlzTGluayk7CiAgICAgIGVsc2UgaWYgKHJlZGlyZWN0KSB0aGlzLiRyb3V0ZXIucHVzaChyZWRpcmVjdCk7CiAgICAgIGVsc2UgdGhpcy4kcm91dGVyLnB1c2gocGF0aCk7CiAgICAgIHRoaXMuY2xvc2VTZWFyY2goKTsKICAgIH0sCiAgICAvLyBpbnB1dCDlpLHljrvnhKbngrnml7YKICAgIG9uU2VhcmNoQmx1cigpIHsKICAgICAgdGhpcy5jbG9zZVNlYXJjaCgpOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"search.vue","sourceRoot":"src/layout/navBars/breadcrumb","sourcesContent":["<template>\n  <div class=\"layout-search-dialog\">\n    <el-dialog\n      :visible.sync=\"isShowSearch\"\n      width=\"300px\"\n      destroy-on-close\n      :modal=\"false\"\n      fullscreen\n      :show-close=\"false\"\n    >\n      <el-autocomplete\n        v-model=\"menuQuery\"\n        :fetch-suggestions=\"menuSearch\"\n        :placeholder=\"$t('message.user.searchPlaceholder')\"\n        prefix-icon=\"el-icon-search\"\n        ref=\"layoutMenuAutocompleteRef\"\n        @select=\"onHandleSelect\"\n        @blur=\"onSearchBlur\"\n      >\n        <template slot-scope=\"{ item }\">\n          <div><i :class=\"item.icon\" class=\"mr10\"></i>{{ $t(item.title) }}</div>\n        </template>\n      </el-autocomplete>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { getAllSiderMenu } from '@/libs/system';\nexport default {\n  name: 'layoutBreadcrumbSearch',\n  data() {\n    return {\n      isShowSearch: false,\n      menuQuery: '',\n      tagsViewList: [],\n    };\n  },\n  methods: {\n    // 搜索弹窗打开\n    openSearch() {\n      this.menuQuery = '';\n      this.isShowSearch = true;\n      this.initTageView();\n      this.$nextTick(() => {\n        this.$refs.layoutMenuAutocompleteRef.focus();\n      });\n    },\n    // 搜索弹窗关闭\n    closeSearch() {\n      setTimeout(() => {\n        this.isShowSearch = false;\n      }, 150);\n    },\n    // 菜单搜索数据过滤\n    menuSearch(queryString, cb) {\n      let results = queryString ? this.tagsViewList.filter(this.createFilter(queryString)) : this.tagsViewList;\n      cb(results);\n    },\n    // 菜单搜索过滤\n    createFilter(queryString) {\n      return (restaurant) => {\n        return (\n          restaurant.path.toLowerCase().indexOf(queryString.toLowerCase()) > -1 ||\n          restaurant.title.toLowerCase().indexOf(queryString.toLowerCase()) > -1 ||\n          this.$t(restaurant.title).toLowerCase().indexOf(queryString.toLowerCase()) > -1\n        );\n      };\n    },\n    // 初始化菜单数据\n    initTageView() {\n      if (this.tagsViewList.length > 0) return false;\n      this.tagsViewList = getAllSiderMenu(this.$store.state.routesList.routesList);\n      // this.$store.state.tagsViewRoutes.tagsViewRoutes.map((v) => {\n      // \tif (!v.isHide) this.tagsViewList.push({ ...v });\n      // });\n    },\n    // 当前菜单选中时\n    onHandleSelect(item) {\n      let { path, redirect } = item;\n      if (item.isLink && !item.isIframe) window.open(item.isLink);\n      else if (redirect) this.$router.push(redirect);\n      else this.$router.push(path);\n      this.closeSearch();\n    },\n    // input 失去焦点时\n    onSearchBlur() {\n      this.closeSearch();\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.layout-search-dialog {\n  ::v-deep .el-dialog {\n    box-shadow: unset !important;\n    border-radius: 0 !important;\n    background: rgba(0, 0, 0, 0.5);\n  }\n  ::v-deep .el-autocomplete {\n    width: 560px;\n    position: absolute;\n    top: 100px;\n    left: 50%;\n    transform: translateX(-50%);\n  }\n}\n</style>\n"]}]}