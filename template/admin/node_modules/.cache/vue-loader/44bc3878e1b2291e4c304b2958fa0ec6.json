{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/pages/setting/agreement/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/pages/setting/agreement/index.vue","mtime":1689324015249},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCBXYW5nRWRpdG9yIGZyb20gJ0AvY29tcG9uZW50cy93YW5nRWRpdG9yL2luZGV4LnZ1ZSc7CmltcG9ydCB7IGdldEFncmVlbWVudHMsIHNldEFncmVlbWVudHMgfSBmcm9tICdAL2FwaS9zeXN0ZW0nOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsgV2FuZ0VkaXRvciB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkaW5nRXhpc3Q6IGZhbHNlLAogICAgICBjdXJyZW50VGFiOiAnMScsCiAgICAgIGhlYWRlckxpc3Q6IFsKICAgICAgICB7IGxhYmVsOiAn5LuY6LS55Lya5ZGY5Y2P6K6uJywgdmFsdWU6ICcxJyB9LAogICAgICAgIHsgbGFiZWw6ICfku6PnkIbllYbljY/orq4nLCB2YWx1ZTogJzInIH0sCiAgICAgICAgeyBsYWJlbDogJ+makOengeWNj+iuricsIHZhbHVlOiAnMycgfSwKICAgICAgICB7IGxhYmVsOiAn55So5oi35Y2P6K6uJywgdmFsdWU6ICc0JyB9LAogICAgICAgIHsgbGFiZWw6ICfms6jplIDljY/orq4nLCB2YWx1ZTogJzUnIH0sCiAgICAgICAgeyBsYWJlbDogJ+enr+WIhuWNj+iuricsIHZhbHVlOiAnNicgfSwKICAgICAgXSwKICAgICAgdWVDb25maWc6IHsKICAgICAgICBhdXRvSGVpZ2h0RW5hYmxlZDogZmFsc2UsCiAgICAgICAgaW5pdGlhbEZyYW1lSGVpZ2h0OiA1MDAsCiAgICAgICAgaW5pdGlhbEZyYW1lV2lkdGg6ICcxMDAlJywKICAgICAgICBVRURJVE9SX0hPTUVfVVJMOiAnL1VFZGl0b3IvJywKICAgICAgICBzZXJ2ZXJVcmw6ICcnLAogICAgICB9LAogICAgICBpZDogMCwKICAgICAgZm9ybVZhbGlkYXRlOiB7CiAgICAgICAgY29udGVudDogJycsCiAgICAgIH0sCiAgICAgIGNvbnRlbnQ6ICcnLAogICAgICBzcGluU2hvdzogZmFsc2UsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcFN0YXRlKCdsYXlvdXQnLCBbJ21lbnVDb2xsYXBzZSddKSwKICAgIC4uLm1hcFN0YXRlKCdhZG1pbi9sYXlvdXQnLCBbJ2lzTW9iaWxlJ10pLAogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuY2hhbmdlVGFiKHRoaXMuY3VycmVudFRhYik7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzYXZlKCkgewogICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5jb250ZW50ID0gdGhpcy5jb250ZW50OwogICAgICBzZXRBZ3JlZW1lbnRzKHRoaXMuZm9ybVZhbGlkYXRlKQogICAgICAgIC50aGVuKGFzeW5jIChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgIH0pOwogICAgfSwKICAgIGdldEVkaXRvckNvbnRlbnQoY29udGVudCkgewogICAgICB0aGlzLmNvbnRlbnQgPSBjb250ZW50OwogICAgfSwKICAgIGNoYW5nZVRhYihkYXRhKSB7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmNvbnRlbnQgPSAnICc7CiAgICAgIGdldEFncmVlbWVudHMoZGF0YSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuaWQgPSByZXMuZGF0YS5pZCB8fCAwOwogICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLnR5cGUgPSByZXMuZGF0YS50eXBlOwogICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLnRpdGxlID0gcmVzLmRhdGEudGl0bGU7CiAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuY29udGVudCA9IHJlcy5kYXRhLmNvbnRlbnQ7CiAgICAgICAgdGhpcy5jb250ZW50ID0gcmVzLmRhdGEuY29udGVudDsKICAgICAgfSk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/setting/agreement","sourcesContent":["<template>\n  <div class=\"agreemant\">\n    <Card :bordered=\"false\" dis-hover class=\"ivu-mt\">\n      <div class=\"new_card_pd\">\n        <Tabs v-model=\"currentTab\" @on-click=\"changeTab\">\n          <TabPane :label=\"item.label\" :name=\"item.value.toString()\" v-for=\"(item, index) in headerList\" :key=\"index\" />\n        </Tabs>\n      </div>\n    </Card>\n\n    <Row class=\"content\">\n      <Col span=\"16\">\n        <WangEditor style=\"width: 100%\" :content=\"formValidate.content\" @editorContent=\"getEditorContent\"></WangEditor>\n      </Col>\n      <Col span=\"6\" style=\"width: 33%\">\n        <div class=\"ifam\">\n          <div class=\"content\" v-html=\"content\"></div>\n        </div>\n      </Col>\n    </Row>\n    <!-- <Row class=\"mb10 content\">\n      <Button class=\"bnt\" type=\"primary\" @click=\"save\" :loading=\"loadingExist\"\n        >保存</Button\n      >\n    </Row> -->\n\n    <Card\n      :bordered=\"false\"\n      dis-hover\n      class=\"fixed-card\"\n      :style=\"{ left: `${!menuCollapse ? '240px' : isMobile ? '0' : '80px'}` }\"\n    >\n      <div class=\"acea-row row-center\">\n        <Button class=\"bnt\" type=\"primary\" @click=\"save\" :loading=\"loadingExist\">保存</Button>\n      </div>\n    </Card>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport WangEditor from '@/components/wangEditor/index.vue';\nimport { getAgreements, setAgreements } from '@/api/system';\n\nexport default {\n  components: { WangEditor },\n  data() {\n    return {\n      loadingExist: false,\n      currentTab: '1',\n      headerList: [\n        { label: '付费会员协议', value: '1' },\n        { label: '代理商协议', value: '2' },\n        { label: '隐私协议', value: '3' },\n        { label: '用户协议', value: '4' },\n        { label: '注销协议', value: '5' },\n        { label: '积分协议', value: '6' },\n      ],\n      ueConfig: {\n        autoHeightEnabled: false,\n        initialFrameHeight: 500,\n        initialFrameWidth: '100%',\n        UEDITOR_HOME_URL: '/UEditor/',\n        serverUrl: '',\n      },\n      id: 0,\n      formValidate: {\n        content: '',\n      },\n      content: '',\n      spinShow: false,\n    };\n  },\n  computed: {\n    ...mapState('layout', ['menuCollapse']),\n    ...mapState('admin/layout', ['isMobile']),\n  },\n  created() {\n    this.changeTab(this.currentTab);\n  },\n  methods: {\n    save() {\n      this.formValidate.content = this.content;\n      setAgreements(this.formValidate)\n        .then(async (res) => {\n          this.$Message.success(res.msg);\n        })\n        .catch((res) => {\n          this.$Message.error(res.msg);\n        });\n    },\n    getEditorContent(content) {\n      this.content = content;\n    },\n    changeTab(data) {\n      this.formValidate.content = ' ';\n      getAgreements(data).then((res) => {\n        this.formValidate.id = res.data.id || 0;\n        this.formValidate.type = res.data.type;\n        this.formValidate.title = res.data.title;\n        this.formValidate.content = res.data.content;\n        this.content = res.data.content;\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n.agreemant {\n  background-color: #fff;\n}\n\n.content {\n  padding: 10px 16px;\n}\n\n.ifam {\n  width: 344px;\n  height: 644px;\n  background: url('../../../assets/images/ag-phone.png') no-repeat center top;\n  background-size: 344px 644px;\n  padding: 40px 20px;\n  padding-top: 50px;\n  margin: 0 auto 0 20px;\n\n  .content {\n    height: 560px;\n    overflow: hidden;\n    scrollbar-width: none; /* firefox */\n    -ms-overflow-style: none; /* IE 10+ */\n    overflow-x: hidden;\n    overflow-y: auto;\n  }\n\n  .content::-webkit-scrollbar {\n    display: none; /* Chrome Safari */\n  }\n}\n\n.new_tab {\n  >>>.ivu-tabs-nav .ivu-tabs-tab {\n    padding: 4px 16px 20px !important;\n    font-weight: 500;\n  }\n}\n\n.fixed-card {\n  position: fixed;\n  right: 0;\n  bottom: 0;\n  left: 200px;\n  z-index: 8;\n  box-shadow: 0 -1px 2px rgb(240, 240, 240);\n\n  /deep/ .ivu-card-body {\n    padding: 15px 16px 14px;\n  }\n\n  .ivu-form-item {\n    margin-bottom: 0;\n  }\n\n  /deep/ .ivu-form-item-content {\n    margin-right: 124px;\n    text-align: center;\n  }\n}\n</style>\n"]}]}