{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/pages/kefu/mobile/orderList/index.vue?vue&type=style&index=0&id=6338f8f4&scoped=true&lang=stylus&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/pages/kefu/mobile/orderList/index.vue","mtime":1689324015213},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/@vue/cli-service/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/stylus-loader/index.js","mtime":1519606876000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoucG9zLW9yZGVyLWdvb2Rze3BhZGRpbmc6MCAwLjNyZW07YmFja2dyb3VuZC1jb2xvcjogI2ZmZjsgfQoucG9zLW9yZGVyLWdvb2RzIC5nb29kc3toZWlnaHQ6MS44NXJlbTt9Ci5wb3Mtb3JkZXItZ29vZHMgLmdvb2Rzfi5nb29kc3tib3JkZXItdG9wOjFweCBkYXNoZWQgI2U1ZTVlNTt9Ci5wb3Mtb3JkZXItZ29vZHMgLmdvb2RzIC5waWNUeHR7d2lkdGg6NS4xNXJlbTt9Ci5wb3Mtb3JkZXItZ29vZHMgLmdvb2RzIC5waWNUeHQgLnBpY3RydWV7d2lkdGg6MS4zcmVtO2hlaWdodDoxLjNyZW07fQoucG9zLW9yZGVyLWdvb2RzIC5nb29kcyAucGljVHh0IC5waWN0cnVlIGltZ3t3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2JvcmRlci1yYWRpdXM6MC4wNnJlbTt9Ci5wb3Mtb3JkZXItZ29vZHMgLmdvb2RzIC5waWNUeHQgLnRleHR7d2lkdGg6My42NXJlbTtoZWlnaHQ6MS4zcmVtO30KLnBvcy1vcmRlci1nb29kcyAuZ29vZHMgLnBpY1R4dCAudGV4dCAuaW5mb3tmb250LXNpemU6MC4yOHJlbTtjb2xvcjojMjgyODI4O30KLnBvcy1vcmRlci1nb29kcyAuZ29vZHMgLnBpY1R4dCAudGV4dCAuYXR0cntmb250LXNpemU6MC4ycmVtO2NvbG9yOiM5OTk7aGVpZ2h0OiAwLjhyZW07CiAgICBsaW5lLWhlaWdodDogMC44cmVtO30KLnBvcy1vcmRlci1nb29kcyAuZ29vZHMgLm1vbmV5e3dpZHRoOjEuNjRyZW07dGV4dC1hbGlnbjpyaWdodDtmb250LXNpemU6MC4yOHJlbTtoZWlnaHQ6IDEuM3JlbTt9Ci5wb3Mtb3JkZXItZ29vZHMgLmdvb2RzIC5tb25leSAueC1tb25leXtjb2xvcjojMjgyODI4O30KLnBvcy1vcmRlci1nb29kcyAuZ29vZHMgLm1vbmV5IC5udW17Y29sb3I6I2ZmOTYwMDttYXJnaW46MC4wNXJlbSAwO30KLnBvcy1vcmRlci1nb29kcyAuZ29vZHMgLm1vbmV5IC55LW1vbmV5e2NvbG9yOiM5OTk7dGV4dC1kZWNvcmF0aW9uOmxpbmUtdGhyb3VnaDt9Ci5wb3Mtb3JkZXItbGlzdHtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb24gY29sdW1uOyBiYWNrZ3JvdW5kOiAjZjVmNWY1OyBoZWlnaHQ6IDEwMCU7IH0KLnBvcy1vcmRlci1saXN0IC5oZWFkLWJveHsKICAgIHdpZHRoOjEwMCU7YmFja2dyb3VuZC1jb2xvcjojZmZmOwogICAgLmlucHV0LWJveHsKICAgICAgICB3aWR0aDogNi45cmVtOwogICAgICAgIG1hcmdpbjogLjJyZW0gYXV0bzsKICAgICAgICBiYWNrZ3JvdW5kOiAjRjVGNkY5OwogICAgICAgIGJvcmRlci1yYWRpdXM6IC4zOXJlbTsKICAgICAgICA+Pj4gLml2dS1pbnB1dHsKICAgICAgICAgICAgZm9udC1zaXplOiAuMjhyZW0gIWltcG9ydGFudDsKICAgICAgICAgICAgYmFja2dyb3VuZDogI0Y1RjZGOTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogLjM5cmVtOwogICAgICAgIH0KICAgICAgICA+Pj4gLml2dS1pbnB1dCwgLml2dS1pbnB1dDpob3ZlciwgLml2dS1pbnB1dDpmb2N1cyB7CiAgICAgICAgICAgIGJvcmRlcjogdHJhbnNwYXJlbnQ7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IG5vbmU7CiAgICAgICAgfQogICAgfQp9Ci5wb3Mtb3JkZXItbGlzdCAubmF2e3dpZHRoOjEwMCU7aGVpZ2h0OjAuOHJlbTtmb250LXNpemU6MC4zcmVtO2NvbG9yOiMyODI4Mjg7IGRpc3BsYXk6IGZsZXg7YWxpZ24taXRlbXM6IGNlbnRlcjt9Ci5wb3Mtb3JkZXItbGlzdCAubmF2IC5pdGVteyBwb3NpdGlvbjogcmVsYXRpdmU7IGxpbmUtaGVpZ2h0OiAuOHJlbX0KLnBvcy1vcmRlci1saXN0IC5uYXYgLml0ZW0ub257Y29sb3I6IzM4NzVFQTsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMzODc1RUE7fQoucG9zLW9yZGVyLWxpc3QgLmxpc3R7ZmxleCAxOyBtYXJnaW4tdG9wOjAuMXJlbTsgb3ZlcmZsb3cgaGlkZGVuO30KLnBvcy1vcmRlci1saXN0IC5saXN0IC5pdGVte2JhY2tncm91bmQtY29sb3I6I2ZmZjt3aWR0aDoxMDAlO30KLnBvcy1vcmRlci1saXN0IC5saXN0IC5pdGVtfi5pdGVte21hcmdpbi10b3A6MC4yNHJlbTt9Ci5wb3Mtb3JkZXItbGlzdCAubGlzdCAuaXRlbSAub3JkZXItbnVte2hlaWdodDoxLjI0cmVtO2JvcmRlci1ib3R0b206MXB4IHNvbGlkICNlZWU7Zm9udC1zaXplOjAuM3JlbTtmb250LXdlaWdodDpib2xkO2NvbG9yOiMyODI4Mjg7cGFkZGluZzowIDAuM3JlbTt9Ci5wb3Mtb3JkZXItbGlzdCAubGlzdCAuaXRlbSAub3JkZXItbnVtIC50aW1le2ZvbnQtc2l6ZTowLjI2cmVtO2ZvbnQtd2VpZ2h0Om5vcm1hbDtjb2xvcjojOTk5O21hcmdpbi10b3A6IC0wLjRyZW07fQoucG9zLW9yZGVyLWxpc3QgLmxpc3QgLml0ZW0gLm9wZXJhdGlvbntwYWRkaW5nOjAuMnJlbSAwLjNyZW07bWFyZ2luLXRvcDogMC4wM3JlbTt9Ci5wb3Mtb3JkZXItbGlzdCAubGlzdCAuaXRlbSAub3BlcmF0aW9uIC5tb3Jle3Bvc2l0aW9uOnJlbGF0aXZlO30KLnBvcy1vcmRlci1saXN0IC5saXN0IC5pdGVtIC5vcGVyYXRpb24gLmljb24tZ2VuZ2R1b3tmb250LXNpemU6MC41cmVtO2NvbG9yOiNhYWE7fQoKLnBvcy1vcmRlci1saXN0IC5saXN0IC5pdGVtIC5vcGVyYXRpb24gLm9yZGVyIC5hcnJvd3t3aWR0aDogMDtoZWlnaHQ6IDA7Ym9yZGVyLWxlZnQ6IDAuMTFyZW0gc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLXJpZ2h0OiAwLjExcmVtIHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci10b3A6IDAuMnJlbSBzb2xpZCAjZTVlNWU1O3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6IDAuMTVyZW07Ym90dG9tOi0wLjE4cmVtO30KLnBvcy1vcmRlci1saXN0IC5saXN0IC5pdGVtIC5vcGVyYXRpb24gLm9yZGVyIC5hcnJvdzpiZWZvcmV7Y29udGVudDonJzt3aWR0aDogMDtoZWlnaHQ6IDA7Ym9yZGVyLWxlZnQ6IDAuMDdyZW0gc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLXJpZ2h0OiAwLjA3cmVtIHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci10b3A6IDAuMnJlbSBzb2xpZCAjZmZmO3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTAuMDdyZW07Ym90dG9tOjA7fQoucG9zLW9yZGVyLWxpc3QgLmxpc3QgLml0ZW0gLm9wZXJhdGlvbiAub3JkZXJ7d2lkdGg6MnJlbTtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Ym9yZGVyOjFweCBzb2xpZCAjZWVlO2JvcmRlci1yYWRpdXM6MC4xcmVtO3Bvc2l0aW9uOmFic29sdXRlO3RvcDotMXJlbTt6LWluZGV4Ojk7fQoucG9zLW9yZGVyLWxpc3QgLmxpc3QgLml0ZW0gLm9wZXJhdGlvbiAub3JkZXIgLml0ZW1ze2hlaWdodDowLjc3cmVtO2xpbmUtaGVpZ2h0OjAuNzdyZW07dGV4dC1hbGlnbjpjZW50ZXI7fQoucG9zLW9yZGVyLWxpc3QgLmxpc3QgLml0ZW0gLm9wZXJhdGlvbiAub3JkZXIgLml0ZW1zfi5pdGVtc3tib3JkZXItdG9wOjFweCBzb2xpZCAjZjVmNWY1O30KCi5wb3Mtb3JkZXItbGlzdCAubGlzdCAuaXRlbSAub3BlcmF0aW9uIC5ibnR7Zm9udC1zaXplOjAuMjhyZW07Y29sb3I6IzVjNWM1Yzt3aWR0aDoxLjdyZW07aGVpZ2h0OjAuNnJlbTtib3JkZXItcmFkaXVzOjAuM3JlbTtib3JkZXI6MXB4IHNvbGlkICNiYmI7dGV4dC1hbGlnbjpjZW50ZXI7bGluZS1oZWlnaHQ6MC42cmVtO30KLnBvcy1vcmRlci1saXN0IC5saXN0IC5pdGVtIC5vcGVyYXRpb24gLmJudH4uYm50e21hcmdpbi1sZWZ0OjAuMTRyZW07fQoucHVibGljLXRvdGFse2ZvbnQtc2l6ZTowLjI4cmVtO2NvbG9yOiMyODI4Mjg7Ym9yZGVyLXRvcDoxcHggc29saWQgI2VlZTtoZWlnaHQ6MC45MnJlbTtsaW5lLWhlaWdodDowLjkycmVtO3RleHQtYWxpZ246cmlnaHQ7cGFkZGluZzowIDAuM3JlbTtiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO30KLnB1YmxpYy10b3RhbCAubW9uZXl7Y29sb3I6I2ZmNGMzYzt9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/kefu/mobile/orderList","sourcesContent":["<template>\n  <div class=\"pos-order-list\" ref=\"container\">\n    <div class=\"head-box\">\n      <div class=\"nav acea-row row-around row-middle\">\n        <div class=\"item\" :class=\"where.type === '' ? 'on' : ''\" @click=\"changeStatus('')\">全部</div>\n        <div class=\"item\" :class=\"where.type === 0 ? 'on' : ''\" @click=\"changeStatus(0)\">未支付</div>\n        <div class=\"item\" :class=\"where.type === 1 ? 'on' : ''\" @click=\"changeStatus(1)\">未发货</div>\n        <div class=\"item\" :class=\"where.type === -1 ? 'on' : ''\" @click=\"changeStatus(-1)\">退款中</div>\n      </div>\n      <div class=\"input-box\">\n        <Input placeholder=\"搜索订单编号\" v-model=\"where.search\" @on-enter=\"bindSearch\" />\n      </div>\n    </div>\n\n    <div class=\"list\">\n      <vue-scroll :ops=\"ops\" @load-before-deactivate=\"handleWordsScroll\" ref=\"scrollBox\" style=\"height: 100%\">\n        <div class=\"slot-load\" slot=\"load-deactive\"></div>\n        <div class=\"slot-load\" slot=\"load-beforeDeactive\"></div>\n        <div class=\"slot-load\" slot=\"load-active\">下滑加载更多</div>\n        <template v-if=\"list.length > 0\">\n          <div class=\"item\" v-for=\"(item, index) in list\" :key=\"index\">\n            <div class=\"order-num acea-row row-middle\" @click=\"toDetail(item)\">\n              订单号：{{ item.order_id }}\n              <span class=\"time\">下单时间：{{ item._add_time }}</span>\n            </div>\n            <template if=\"item.productList && item.productList.length\">\n              <div class=\"pos-order-goods\" v-for=\"(val, key) in item.cartInfo\" :key=\"key\">\n                <div class=\"goods acea-row row-between-wrapper\" @click=\"toDetail(item)\">\n                  <div class=\"picTxt acea-row row-between-wrapper\">\n                    <div class=\"pictrue\">\n                      <img :src=\"val.productInfo.image\" />\n                    </div>\n                    <div class=\"text\">\n                      <div class=\"info line2\">\n                        {{ val.productInfo.store_name }}\n                      </div>\n                      <div class=\"attr line1\" v-if=\"val.productInfo.attrInfo.suk\">\n                        {{ val.productInfo.attrInfo.suk }}\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"money\">\n                    <div class=\"x-money\">￥{{ val.productInfo.attrInfo.price }}</div>\n                    <div class=\"num\">x{{ val.cart_num }}</div>\n                    <div class=\"y-money\">\n                      <!--￥{{ val.info.productInfo.attrInfo.otPrice }}-->\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </template>\n            <div class=\"public-total\">\n              共{{ item.total_num }}件商品，应支付 <span class=\"money\">￥{{ item.pay_price }}</span> ( 邮费 ¥{{\n                item.pay_postage\n              }}\n              )\n            </div>\n            <div class=\"operation acea-row row-between-wrapper\">\n              <div class=\"more\">\n                <!--            <div class=\"iconfontYI icon-gengduo\" @click=\"more(index)\"></div>-->\n                <!--            <div class=\"order\" v-show=\"current === index\">-->\n                <!--              <div class=\"items\">-->\n                <!--                {{ where.status > 0 ? \"删除\" : \"取消\" }}订单-->\n                <!--              </div>-->\n                <!--              <div class=\"arrow\"></div>-->\n                <!--            </div>-->\n              </div>\n              <div class=\"acea-row row-middle\">\n                <div class=\"bnt\" @click=\"modify(item, 0)\" v-if=\"item.paid === 0\">一键改价</div>\n                <div class=\"bnt\" @click=\"modify(item, 1)\">订单备注</div>\n                <div class=\"bnt\" @click=\"modify(item, 0)\" v-if=\"item._status._type === -1 && item.refund_status === 1\">\n                  立即退款\n                </div>\n                <div class=\"bnt cancel\" v-if=\"item.pay_type === 'offline' && item.paid === 0\" @click=\"offlinePay(item)\">\n                  确认付款\n                </div>\n                <router-link\n                  class=\"bnt\"\n                  v-if=\"item._status._type === 1 && item.shipping_type !== 2\"\n                  :to=\"'/kefu/orderDelivery/' + item.id + '/' + item.order_id\"\n                  >去发货\n                </router-link>\n                <div\n                  class=\"bnt cancel\"\n                  v-if=\"item._status._type === 1 && item.shipping_type === 2\"\n                  @click=\"storeCancellation(item)\"\n                >\n                  去核销\n                </div>\n              </div>\n            </div>\n          </div>\n        </template>\n        <template v-if=\"!loading && list.length === 0 && where.type === ''\">\n          <div style=\"text-align: center\">\n            <img src=\"@/assets/images/no_all.png\" alt=\"\" style=\"width: 3.9rem\" />\n            <p style=\"color: #9f9f9f\">亲，该客户暂无订单～</p>\n          </div>\n        </template>\n        <template v-if=\"!loading && list.length === 0 && where.type === 0\">\n          <div style=\"text-align: center\">\n            <img src=\"@/assets/images/no_zf.png\" alt=\"\" style=\"width: 3.9rem\" />\n            <p style=\"color: #9f9f9f\">暂无未支付订单～</p>\n          </div>\n        </template>\n        <template v-if=\"!loading && list.length === 0 && where.type === 2\">\n          <div style=\"text-align: center\">\n            <img src=\"@/assets/images/no_fh.png\" alt=\"\" style=\"width: 3.9rem\" />\n            <p style=\"color: #9f9f9f\">暂无未收货订单～</p>\n          </div>\n        </template>\n        <template v-if=\"!loading && list.length === 0 && where.type === -1\">\n          <div style=\"text-align: center\">\n            <img src=\"@/assets/images/no_tk.png\" alt=\"\" style=\"width: 3.9rem\" />\n            <p style=\"color: #9f9f9f\">暂无退款订单～</p>\n          </div>\n        </template>\n      </vue-scroll>\n    </div>\n    <!--        <Loading :loaded=\"loaded\" :loading=\"loading\"></Loading>-->\n    <PriceChange\n      v-if=\"orderInfo\"\n      :change=\"change\"\n      :orderInfo=\"orderInfo\"\n      v-on:closechange=\"changeclose($event)\"\n      @closeChange=\"closeChange($event)\"\n      :status=\"status\"\n    ></PriceChange>\n    <write-off\n      v-if=\"iShidden\"\n      :iShidden=\"iShidden\"\n      :orderInfo=\"orderInfo\"\n      @cancel=\"cancel\"\n      @confirm=\"confirm\"\n    ></write-off>\n  </div>\n</template>\n<script>\nimport PriceChange from '../../components/PriceChange';\nimport Loading from '../../components/Loading';\nimport { getorderList, orderVerificApi } from '@/api/kefu';\nimport { required, num } from '@/utils/validate';\nimport { validatorDefaultCatch } from '@/libs/dialog';\nimport WriteOff from '../../components/writeOff';\nimport { HappyScroll } from 'vue-happy-scroll';\nimport { serviceInfo } from '@/api/kefu_mobile';\nexport default {\n  name: 'AdminOrderList',\n  components: {\n    WriteOff,\n    PriceChange,\n    Loading,\n    HappyScroll,\n  },\n  props: {},\n  data: function () {\n    return {\n      current: '',\n      change: false,\n      types: 0,\n      where: {\n        page: 1,\n        limit: 15,\n        search: '',\n        type: '',\n      },\n      list: [],\n      loaded: false,\n      loading: false,\n      orderInfo: {},\n      status: null,\n      iShidden: false,\n      ops: {\n        vuescroll: {\n          mode: 'slide',\n          enable: false,\n          tips: {\n            deactive: 'Push to Load',\n            active: 'Release to Load',\n            start: 'Loading...',\n            beforeDeactive: 'Load Successfully!',\n          },\n          auto: false,\n          autoLoadDistance: 0,\n          pullRefresh: {\n            enable: false,\n          },\n          pushLoad: {\n            enable: true,\n            auto: true,\n            autoLoadDistance: 10,\n          },\n        },\n        bar: {\n          background: '#393232',\n          opacity: '.5',\n          size: '2px',\n        },\n      },\n    };\n  },\n  watch: {\n    '$route.params.type': function (newVal) {\n      let that = this;\n      if (newVal != undefined) {\n        that.where.type = newVal;\n        that.init();\n      }\n    },\n    types: function () {\n      this.getIndex();\n    },\n  },\n  created() {\n    // import('@/assets/js/media_750')\n    serviceInfo().then((res) => {\n      window.document.title = `${res.data.site_name} - 订单列表`;\n    });\n  },\n  mounted() {\n    this.current = '';\n    this.getIndex();\n    this.$scroll(this.$refs.container, () => {\n      !this.loading && this.getIndex();\n    });\n  },\n  methods: {\n    // 搜索回车\n    bindSearch() {\n      this.init();\n    },\n    // 去核销\n    storeCancellation(item) {\n      this.orderInfo = item;\n      this.iShidden = true;\n    },\n    cancel: function (res) {\n      this.iShidden = res;\n    },\n    confirm: function () {\n      orderVerificApi(this.orderInfo.id)\n        .then((res) => {\n          this.iShidden = false;\n          this.init();\n          this.$dialog.success(res.msg);\n        })\n        .catch((res) => {\n          this.$dialog.error(res.msg);\n        });\n    },\n    more: function (index) {\n      if (this.current === index) this.current = '';\n      else this.current = index;\n    },\n    modify: function (item, status) {\n      this.change = true;\n      this.orderInfo = item;\n      this.status = status;\n    },\n    closeChange(msg) {\n      this.change = msg;\n    },\n    changeclose: function (msg) {\n      this.change = msg;\n      this.init();\n    },\n    // 拒绝退款\n    getRefuse(id) {\n      orderRefuseApi(data)\n        .then(() => {\n          that.change = false;\n          that.$dialog.success('已拒绝退款');\n          that.init();\n        })\n        .catch((error) => {\n          that.$dialog.error(error.message);\n        });\n    },\n    async savePrice(opt) {\n      let that = this,\n        data = {},\n        price = opt.price,\n        refundPrice = opt.refundPrice,\n        refundStatus = that.orderInfo.refundStatus,\n        remark = opt.remark;\n      if (that.status == 0 && refundStatus === 0) {\n        try {\n          await this.$validator({\n            price: [required(required.message('金额'))],\n          }).validate({ price });\n        } catch (e) {\n          return validatorDefaultCatch(e);\n        }\n        data.price = price;\n        data.orderId = opt.orderId;\n        editPriceApi(data)\n          .then(() => {\n            that.change = false;\n            that.$dialog.success('改价成功');\n            that.init();\n          })\n          .catch((error) => {\n            that.$dialog.error(error.message);\n          });\n      } else if (that.status == 0 && refundStatus === 1) {\n        try {\n          await this.$validator({\n            refundPrice: [required(required.message('金额')), num(num.message('金额'))],\n          }).validate({ refundPrice });\n        } catch (e) {\n          return validatorDefaultCatch(e);\n        }\n        data.amount = refundPrice;\n        data.type = opt.type;\n        data.orderId = opt.orderId;\n        orderRefundApi(data).then(\n          (res) => {\n            that.change = false;\n            that.$dialog.success('退款成功');\n            that.init();\n          },\n          (err) => {\n            that.change = false;\n            that.$dialog.error(err.message);\n          },\n        );\n      } else {\n        try {\n          await this.$validator({\n            remark: [required(required.message('备注'))],\n          }).validate({ remark });\n        } catch (e) {\n          return validatorDefaultCatch(e);\n        }\n        data.mark = remark;\n        data.id = opt.id;\n        orderMarkApi(data).then(\n          (res) => {\n            that.change = false;\n            that.$dialog.success('提交成功');\n            that.init();\n          },\n          (err) => {\n            that.change = false;\n            that.$dialog.error(err.msg);\n          },\n        );\n      }\n    },\n    init: function () {\n      this.list = [];\n      this.where.page = 1;\n      this.loaded = false;\n      this.loading = false;\n      this.getIndex();\n      this.current = '';\n    },\n    getIndex() {\n      if (this.loading || this.loaded) return;\n      this.loading = true;\n      getorderList(this.$route.params.toUid, this.where).then(\n        (res) => {\n          this.loading = false;\n          this.loaded = res.data.length < this.where.limit;\n          this.list.push.apply(this.list, res.data || []);\n          this.where.page = this.where.page + 1;\n          this.$nextTick(() => {\n            if (this.list.length > 0) this.$refs['scrollBox'].refresh();\n          });\n        },\n        (err) => {\n          this.$dialog.error(err.msg);\n        },\n      );\n    },\n    changeStatus(val) {\n      if (this.where.type !== val) {\n        this.where.type = val;\n        this.init();\n      }\n    },\n    toDetail(item) {\n      this.$router.push({ path: '/kefu/orderDetail/' + item.id });\n    },\n    offlinePay(item) {\n      // setOfflinePay({ order_id: item.order_id }).then(\n      //   res => {\n      //     this.$dialog.success(res.message);\n      //     this.init();\n      //   },\n      //   error => {\n      //     this.$dialog.error(error.message);\n      //   }\n      // );\n    },\n    // 话术滚动到底部\n    handleWordsScroll(vm, refreshDom, done) {\n      this.getIndex();\n      done();\n    },\n  },\n};\n</script>\n<style scoped lang=\"stylus\">\n.pos-order-goods{padding:0 0.3rem;background-color: #fff; }\n.pos-order-goods .goods{height:1.85rem;}\n.pos-order-goods .goods~.goods{border-top:1px dashed #e5e5e5;}\n.pos-order-goods .goods .picTxt{width:5.15rem;}\n.pos-order-goods .goods .picTxt .pictrue{width:1.3rem;height:1.3rem;}\n.pos-order-goods .goods .picTxt .pictrue img{width:100%;height:100%;border-radius:0.06rem;}\n.pos-order-goods .goods .picTxt .text{width:3.65rem;height:1.3rem;}\n.pos-order-goods .goods .picTxt .text .info{font-size:0.28rem;color:#282828;}\n.pos-order-goods .goods .picTxt .text .attr{font-size:0.2rem;color:#999;height: 0.8rem;\n    line-height: 0.8rem;}\n.pos-order-goods .goods .money{width:1.64rem;text-align:right;font-size:0.28rem;height: 1.3rem;}\n.pos-order-goods .goods .money .x-money{color:#282828;}\n.pos-order-goods .goods .money .num{color:#ff9600;margin:0.05rem 0;}\n.pos-order-goods .goods .money .y-money{color:#999;text-decoration:line-through;}\n.pos-order-list{display:flex;flex-direction column; background: #f5f5f5; height: 100%; }\n.pos-order-list .head-box{\n    width:100%;background-color:#fff;\n    .input-box{\n        width: 6.9rem;\n        margin: .2rem auto;\n        background: #F5F6F9;\n        border-radius: .39rem;\n        >>> .ivu-input{\n            font-size: .28rem !important;\n            background: #F5F6F9;\n            border-radius: .39rem;\n        }\n        >>> .ivu-input, .ivu-input:hover, .ivu-input:focus {\n            border: transparent;\n            box-shadow: none;\n        }\n    }\n}\n.pos-order-list .nav{width:100%;height:0.8rem;font-size:0.3rem;color:#282828; display: flex;align-items: center;}\n.pos-order-list .nav .item{ position: relative; line-height: .8rem}\n.pos-order-list .nav .item.on{color:#3875EA; border-bottom: 1px solid #3875EA;}\n.pos-order-list .list{flex 1; margin-top:0.1rem; overflow hidden;}\n.pos-order-list .list .item{background-color:#fff;width:100%;}\n.pos-order-list .list .item~.item{margin-top:0.24rem;}\n.pos-order-list .list .item .order-num{height:1.24rem;border-bottom:1px solid #eee;font-size:0.3rem;font-weight:bold;color:#282828;padding:0 0.3rem;}\n.pos-order-list .list .item .order-num .time{font-size:0.26rem;font-weight:normal;color:#999;margin-top: -0.4rem;}\n.pos-order-list .list .item .operation{padding:0.2rem 0.3rem;margin-top: 0.03rem;}\n.pos-order-list .list .item .operation .more{position:relative;}\n.pos-order-list .list .item .operation .icon-gengduo{font-size:0.5rem;color:#aaa;}\n\n.pos-order-list .list .item .operation .order .arrow{width: 0;height: 0;border-left: 0.11rem solid transparent;border-right: 0.11rem solid transparent;border-top: 0.2rem solid #e5e5e5;position:absolute;left: 0.15rem;bottom:-0.18rem;}\n.pos-order-list .list .item .operation .order .arrow:before{content:'';width: 0;height: 0;border-left: 0.07rem solid transparent;border-right: 0.07rem solid transparent;border-top: 0.2rem solid #fff;position:absolute;left:-0.07rem;bottom:0;}\n.pos-order-list .list .item .operation .order{width:2rem;background-color:#fff;border:1px solid #eee;border-radius:0.1rem;position:absolute;top:-1rem;z-index:9;}\n.pos-order-list .list .item .operation .order .items{height:0.77rem;line-height:0.77rem;text-align:center;}\n.pos-order-list .list .item .operation .order .items~.items{border-top:1px solid #f5f5f5;}\n\n.pos-order-list .list .item .operation .bnt{font-size:0.28rem;color:#5c5c5c;width:1.7rem;height:0.6rem;border-radius:0.3rem;border:1px solid #bbb;text-align:center;line-height:0.6rem;}\n.pos-order-list .list .item .operation .bnt~.bnt{margin-left:0.14rem;}\n.public-total{font-size:0.28rem;color:#282828;border-top:1px solid #eee;height:0.92rem;line-height:0.92rem;text-align:right;padding:0 0.3rem;background-color: #fff;}\n.public-total .money{color:#ff4c3c;}\n</style>\n"]}]}