{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/pages/app/wechat/reply/follow.vue?vue&type=style&index=0&id=d3c80f06&scoped=true&lang=stylus&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/pages/app/wechat/reply/follow.vue","mtime":1689324015197},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/@vue/cli-service/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/stylus-loader/index.js","mtime":1519606876000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiogewogICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTsgLyrngavni5AqLwogICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTsgLyp3ZWJraXTmtY/op4jlmagqLwogICAgLW1zLXVzZXItc2VsZWN0OiBub25lOyAvKklFMTAqLwogICAgLWtodG1sLXVzZXItc2VsZWN0OiBub25lOyAvKuaXqeacn+a1j+iniOWZqCovCiAgICB1c2VyLXNlbGVjdDogbm9uZTsKfQoKLmFycmJveCB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKICAgIGZvbnQtc2l6ZTogMTJweDsKICAgIGJvcmRlcjogMXB4IHNvbGlkICNkY2RlZTI7CiAgICBib3JkZXItcmFkaXVzOiA2cHg7CiAgICBtYXJnaW4tYm90dG9tOiAwcHg7CiAgICBwYWRkaW5nOjAgNXB4OwogICAgdGV4dC1hbGlnbjogbGVmdDsKICAgIGJveC1zaXppbmcgYm9yZGVyLWJveDsKICAgIHdpZHRoOiA5MCU7Cn0KCi5hcnJib3hfaXAgewogICAgZm9udC1zaXplOiAxMnB4OwogICAgYm9yZGVyOiBub25lOwogICAgYm94LXNoYWRvdzogbm9uZTsKICAgIG91dGxpbmU6IG5vbmU7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsKICAgIHBhZGRpbmc6IDA7CiAgICBtYXJnaW46IDA7CiAgICB3aWR0aDogYXV0byAhaW1wb3J0YW50OwogICAgbWF4LXdpZHRoOiBpbmhlcml0OwogICAgbWluLXdpZHRoOiA4MHB4OwogICAgdmVydGljYWwtYWxpZ246IHRvcDsKICAgIGhlaWdodDogMzBweDsKICAgIGNvbG9yOiAjMzQ0OTVlOwogICAgbWFyZ2luOiAycHg7CiAgICBsaW5lLWhlaWdodDogMzBweDsKfQoKLmxlZnQgewogICAgbWluLXdpZHRoOiAzOTBweDsKICAgIG1pbi1oZWlnaHQ6IDU1MHB4OwogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgcGFkZGluZy1sZWZ0OiA0MHB4Owp9CgoudG9wIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHRvcDogMHB4Owp9CgouYm90dG9tIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIGJvdHRvbTogMHB4Owp9CgouY2VudGVudCB7CiAgICBiYWNrZ3JvdW5kOiAjZjRmNWY5OwogICAgbWluLWhlaWdodDogNDM4cHg7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB0b3A6IDYzcHg7CiAgICB3aWR0aDogMzIwcHg7CiAgICBoZWlnaHQ6IDYwJTsKICAgIG92ZXJmbG93LXk6IGF1dG87CiAgICBwYWRkaW5nOiAxNXB4OwogICAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKfQoKLnJpZ2h0IHsKICAgIGJhY2tncm91bmQ6ICNmZmY7CiAgICBtaW4taGVpZ2h0OiAzMDBweDsKfQoKLmJveC1jb250ZW50IHsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIG1heC13aWR0aDogNjAlOwogICAgbWluLWhlaWdodDogNDBweDsKICAgIG1hcmdpbi1sZWZ0OiAxNXB4OwogICAgcGFkZGluZzogMTBweDsKICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjOwogICAgd29yZC1icmVhazogYnJlYWstYWxsOwogICAgd29yZC13cmFwOiBicmVhay13b3JkOwogICAgbGluZS1oZWlnaHQ6IDEuNTsKICAgIGJvcmRlci1yYWRpdXM6IDVweDsKfQoKLmJveC1jb250ZW50X3BpYyB7CiAgICB3aWR0aDogMTAwJTsKfQoKLmJveC1jb250ZW50X3BpYyBpbWcgewogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IGF1dG87Cn0KCi5ib3gtY29udGVudDpiZWZvcmUgewogICAgY29udGVudDogJyc7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBsZWZ0OiAtMTNweDsKICAgIHRvcDogMTFweDsKICAgIGRpc3BsYXk6IGJsb2NrOwogICAgd2lkdGg6IDA7CiAgICBoZWlnaHQ6IDA7CiAgICBib3JkZXItbGVmdDogOHB4IHNvbGlkIHRyYW5zcGFyZW50OwogICAgYm9yZGVyLXJpZ2h0OiA4cHggc29saWQgdHJhbnNwYXJlbnQ7CiAgICBib3JkZXItdG9wOiAxMHB4IHNvbGlkICNjY2M7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDkwZGVnKTsKICAgIHRyYW5zZm9ybTogcm90YXRlKDkwZGVnKTsKfQoKLmJveC1jb250ZW50OmFmdGVyIHsKICAgIGNvbnRlbnQ6ICcnOwogICAgY29udGVudDogJyc7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBsZWZ0OiAtMTJweDsKICAgIHRvcDogMTFweDsKICAgIGRpc3BsYXk6IGJsb2NrOwogICAgd2lkdGg6IDA7CiAgICBoZWlnaHQ6IDA7CiAgICBib3JkZXItbGVmdDogOHB4IHNvbGlkIHRyYW5zcGFyZW50OwogICAgYm9yZGVyLXJpZ2h0OiA4cHggc29saWQgdHJhbnNwYXJlbnQ7CiAgICBib3JkZXItdG9wOiAxMHB4IHNvbGlkICNmNWY1ZjU7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDkwZGVnKTsKICAgIHRyYW5zZm9ybTogcm90YXRlKDkwZGVnKTsKfQoKLnRpbWUtd3JhcHBlciB7CiAgICBtYXJnaW4tYm90dG9tOiAxMHB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwp9CgoudGltZSB7CiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICBjb2xvcjogI2Y1ZjVmNTsKICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgLjMpOwogICAgcGFkZGluZzogM3B4IDhweDsKICAgIGJvcmRlci1yYWRpdXM6IDNweDsKICAgIGZvbnQtc2l6ZTogMTJweDsKfQoKLnRleHQtYm94IHsKICAgIGRpc3BsYXk6IGZsZXg7Cn0KCi5hdmF0YXIgewogICAgd2lkdGg6IDQwcHg7CiAgICBoZWlnaHQ6IDQwcHg7Cn0KCi5hdmF0YXIgaW1nIHsKICAgIHdpZHRoOiAxMDAlOwogICAgaGVpZ2h0OiAxMDAlOwp9Ci5tb2RlbEJveAogICA+Pj4gLml2dS1tb2RhbC1ib2R5CiAgICAgcGFkZGluZyAwIDE2cHggMTZweCAxNnB4ICFpbXBvcnRhbnQKLm5ld3NfcGljCiAgICB3aWR0aDogMTAwJQogICAgaGVpZ2h0OiAxNTBweAogICAgb3ZlcmZsb3c6IGhpZGRlbgogICAgcG9zaXRpb246IHJlbGF0aXZlCiAgICBiYWNrZ3JvdW5kLXNpemU6IDEwMCUKICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlciBjZW50ZXIKICAgIGJvcmRlci1yYWRpdXM6IDVweCA1cHggMCAwCiAgICBwYWRkaW5nIDEwcHgKICAgIGJveC1zaXppbmcgYm9yZGVyLWJveAogICAgZGlzcGxheSBmbGV4CiAgICBmbGV4LWRpcmVjdGlvbiBjb2x1bW4KICAgIGFsaWduLWl0ZW1zOiBmbGV4LWVuZAoubmV3c19zcAogICAgZm9udC1zaXplIDEycHgKICAgIGNvbG9yICMwMDAwMDAKICAgIGJhY2tncm91bmQgI2ZmZgogICAgd2lkdGggMTAwJQogICAgaGVpZ2h0IDM4cHgKICAgIGxpbmUtaGVpZ2h0IDM4cHgKICAgIHBhZGRpbmcgMCAxMnB4CiAgICBib3gtc2l6aW5nIGJvcmRlci1ib3gKICAgIGRpc3BsYXk6IGJsb2NrOwoubmV3c19jZW50CiAgICB3aWR0aCAxMDAlCiAgICBoZWlnaHQgYXV0bwogICAgYmFja2dyb3VuZCAjZmZmCiAgICBib3JkZXItdG9wOiAxcHggZGFzaGVkICNlZWU7CiAgICBkaXNwbGF5IGZsZXgKICAgIHBhZGRpbmcgMTBweAogICAgYm94LXNpemluZyBib3JkZXItYm94CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW4KICAgIC5uZXdzX3NwMQogICAgICAgIGZvbnQtc2l6ZSAxMnB4CiAgICAgICAgY29sb3IgIzAwMDAwMAogICAgICAgIHdpZHRoOiA3MSU7CiAgICAubmV3c19jZW50X2ltZwogICAgICAgIHdpZHRoIDgxcHgKICAgICAgICBoZWlnaHQgNDZweAogICAgICAgIGJvcmRlci1yYWRpdXMgNnB4CiAgICAgICAgb3ZlcmZsb3cgaGlkZGVuCiAgICAgICAgaW1nCiAgICAgICAgICAgIHdpZHRoIDEwMCUKICAgICAgICAgICAgaGVpZ2h0IDEwMCUK"},{"version":3,"sources":["follow.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqaA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"follow.vue","sourceRoot":"src/pages/app/wechat/reply","sourcesContent":["<template>\n  <div>\n    <div class=\"i-layout-page-header header-title\">\n      <span class=\"ivu-page-header-title\">{{ $route.meta.title }}</span>\n    </div>\n    <Card :bordered=\"false\" dis-hover class=\"ivu-mt\">\n      <!-- 公众号设置 -->\n      <Row :gutter=\"24\" type=\"flex\">\n        <Col span=\"24\" class=\"ml40\">\n          <!-- 预览功能 -->\n          <Col :span=\"24\">\n            <Col :xl=\"7\" :lg=\"7\" :md=\"22\" :sm=\"22\" :xs=\"22\" class=\"left mb15\">\n              <img class=\"top\" src=\"../../../../assets/images/mobilehead.png\" />\n              <img class=\"bottom\" src=\"../../../../assets/images/mobilefoot.png\" />\n              <div class=\"centent\">\n                <div class=\"time-wrapper\"><span class=\"time\">9:36</span></div>\n                <div class=\"view-item text-box clearfix\" v-if=\"formValidate.type !== 'news'\">\n                  <div class=\"avatar fl\"><img src=\"../../../../assets/images/head.gif\" /></div>\n                  <div class=\"box-content fl\">\n                    <span v-text=\"formValidate.data.content\" v-if=\"formValidate.type === 'text'\"></span>\n                    <div class=\"box-content_pic\" v-if=\"formValidate.data.src\">\n                      <img :src=\"formValidate.data.src ? imgUrl + formValidate.data.src : ''\" />\n                    </div>\n                  </div>\n                </div>\n                <div v-if=\"formValidate.type === 'news'\">\n                  <div v-for=\"(j, i) in formValidate.data.list\" :key=\"i\">\n                    <div v-if=\"i === 0\">\n                      <div\n                        class=\"news_pic\"\n                        :style=\"{ backgroundImage: 'url(' + j.image_input[0] + ')', backgroundSize: '100% 100%' }\"\n                      ></div>\n                      <span class=\"news_sp\">{{ j.title }}</span>\n                    </div>\n                    <div v-else class=\"news_cent\">\n                      <span class=\"news_sp1\" v-if=\"j.synopsis\">{{ j.title }}</span>\n                      <div class=\"news_cent_img\" v-if=\"j.image_input.length !== 0\"><img :src=\"j.image_input[0]\" /></div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </Col>\n            <Col :xl=\"11\" :lg=\"12\" :md=\"22\" :sm=\"22\" :xs=\"22\">\n              <Col span=\"24\" class=\"userAlert\">\n                <div class=\"box-card right\">\n                  <Form\n                    ref=\"formValidate\"\n                    :model=\"formValidate\"\n                    :rules=\"ruleValidate\"\n                    :label-width=\"100\"\n                    class=\"mt20\"\n                    @submit.native.prevent\n                  >\n                    <FormItem label=\"关键字：\" prop=\"val\" v-if=\"$route.params.id\">\n                      <div class=\"arrbox\">\n                        <!--:closable=\"$route.params.id==='0'? true : false\"-->\n                        <Tag\n                          @on-close=\"handleClose\"\n                          :name=\"item\"\n                          :closable=\"true\"\n                          v-for=\"(item, index) in labelarr\"\n                          :key=\"index\"\n                          >{{ item }}\n                        </Tag>\n                        <!--:readonly=\"$route.params.id!=='0'\"-->\n                        <input\n                          class=\"arrbox_ip\"\n                          v-model=\"val\"\n                          placeholder=\"输入后回车\"\n                          style=\"width: 90%\"\n                          @keyup.enter=\"addlabel\"\n                        />\n                      </div>\n                    </FormItem>\n                    <FormItem label=\"消息状态：\">\n                      <RadioGroup v-model=\"formValidate.status\">\n                        <Radio :label=\"1\">启用</Radio>\n                        <Radio :label=\"0\">禁用</Radio>\n                      </RadioGroup>\n                    </FormItem>\n                    <FormItem label=\"消息类型：\" prop=\"type\">\n                      <Select\n                        v-model=\"formValidate.type\"\n                        placeholder=\"请选择规则状态\"\n                        style=\"width: 90%\"\n                        @on-change=\"RuleFactor(formValidate.type)\"\n                      >\n                        <Option value=\"text\">文字消息</Option>\n                        <Option value=\"image\">图片消息</Option>\n                        <Option value=\"news\">图文消息</Option>\n                        <Option value=\"voice\">声音消息</Option>\n                      </Select>\n                    </FormItem>\n                    <FormItem label=\"消息内容：\" prop=\"content\" v-if=\"formValidate.type === 'text'\">\n                      <Input\n                        v-model=\"formValidate.data.content\"\n                        placeholder=\"请填写消息内容\"\n                        style=\"width: 90%\"\n                        type=\"textarea\"\n                        :rows=\"4\"\n                      ></Input>\n                    </FormItem>\n                    <FormItem label=\"选取图文：\" v-if=\"formValidate.type === 'news'\">\n                      <Button type=\"info\" @click=\"changePic\">选择图文消息</Button>\n                    </FormItem>\n                    <FormItem\n                      :label=\"formValidate.type === 'image' ? '图片地址：' : '语音地址：'\"\n                      prop=\"src\"\n                      v-if=\"formValidate.type === 'image' || formValidate.type === 'voice'\"\n                    >\n                      <div class=\"acea-row row-middle\">\n                        <Input\n                          readonly=\"readonly\"\n                          placeholder=\"default size\"\n                          style=\"width: 75%\"\n                          class=\"mr15\"\n                          v-model=\"formValidate.data.src\"\n                        />\n                        <Upload\n                          :show-upload-list=\"false\"\n                          :action=\"fileUrl\"\n                          :on-success=\"handleSuccess\"\n                          :format=\"formValidate.type === 'image' ? formatImg : formatVoice\"\n                          :max-size=\"2048\"\n                          :headers=\"header\"\n                          :on-format-error=\"handleFormatError\"\n                          :on-exceeded-size=\"handleMaxSize\"\n                          class=\"mr20\"\n                          style=\"margin-top: 1px\"\n                        >\n                          <Button type=\"primary\">上传</Button>\n                        </Upload>\n                      </div>\n                      <span v-show=\"formValidate.type === 'image'\">文件最大2Mb，支持bmp/png/jpeg/jpg/gif格式</span>\n                      <span v-show=\"formValidate.type === 'voice'\">文件最大2Mb，支持mp3格式,播放长度不超过60s</span>\n                    </FormItem>\n                  </Form>\n                </div>\n              </Col>\n              <Col :span=\"24\">\n                <div class=\"acea-row row-center\">\n                  <Button type=\"primary\" class=\"mr20\" @click=\"submenus('formValidate')\">保存并发布 </Button>\n                </div>\n              </Col>\n            </Col>\n          </Col>\n        </Col>\n      </Row>\n    </Card>\n\n    <!--图文消息 -->\n    <Modal v-model=\"modals\" scrollable title=\"发送消息\" width=\"1200\" height=\"800\" footer-hide class=\"modelBox\">\n      <news-category\n        v-if=\"modals\"\n        @getCentList=\"getCentList\"\n        :scrollerHeight=\"scrollerHeight\"\n        :contentTop=\"contentTop\"\n        :contentWidth=\"contentWidth\"\n        :maxCols=\"maxCols\"\n      ></news-category>\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport Setting from '@/setting';\nimport { replyApi, keywordsinfoApi } from '@/api/app';\n// import { mapActions } from 'vuex'\nimport newsCategory from '@/components/newsCategory/index';\nimport { getCookies } from '@/libs/util';\nexport default {\n  name: 'follow',\n  components: { newsCategory },\n  data() {\n    const validateContent = (rule, value, callback) => {\n      if (this.formValidate.type === 'text') {\n        if (this.formValidate.data.content === '') {\n          callback(new Error('请填写规则内容'));\n        } else {\n          callback();\n        }\n      }\n    };\n    const validateSrc = (rule, value, callback) => {\n      if (this.formValidate.type === 'image' && this.formValidate.data.src === '') {\n        callback(new Error('请上传'));\n      } else {\n        callback();\n      }\n    };\n    const validateVal = (rule, value, callback) => {\n      if (this.labelarr.length === 0) {\n        callback(new Error('请输入后回车'));\n      } else {\n        callback();\n      }\n    };\n    return {\n      delfromData: {},\n      isShow: false,\n      maxCols: 4,\n      scrollerHeight: '600',\n      contentTop: '130',\n      contentWidth: '98%',\n      modals: false,\n      val: '',\n      formatImg: ['jpg', 'jpeg', 'png', 'bmp', 'gif'],\n      formatVoice: ['mp3', 'wma', 'wav', 'amr'],\n      header: {},\n      formValidate: {\n        status: -1,\n        type: '',\n        key: this.$route.params.key || '',\n        data: {\n          content: '',\n          src: '',\n          list: [],\n        },\n        id: 0,\n      },\n      fileUrl: Setting.apiBaseURL + '/file/upload/1',\n      ruleValidate: {\n        val: [{ required: true, validator: validateVal, trigger: 'change' }],\n        type: [{ required: true, message: '请选择消息类型', trigger: 'change' }],\n        content: [{ required: true, validator: validateContent, trigger: 'blur' }],\n        src: [{ required: true, validator: validateSrc, trigger: 'change' }],\n      },\n      labelarr: [],\n    };\n  },\n  watch: {\n    $route(to, from) {\n      if (this.$route.params.key || this.$route.params.id !== '0') {\n        this.formValidate.key = this.$route.params.key;\n        this.details();\n      } else {\n        this.labelarr = [];\n        this.$refs['formValidate'].resetFields();\n      }\n    },\n  },\n  computed: {\n    imgUrl() {\n      const search = '/adminapi/';\n      const start = Setting.apiBaseURL.indexOf(search);\n      return Setting.apiBaseURL.substring(0, start); // 截取字符串\n    },\n  },\n  mounted() {\n    this.getToken();\n    if (this.$route.params.key || (this.$route.params.id && this.$route.params.id !== '0')) {\n      this.details();\n    }\n  },\n  methods: {\n    getCentList(val) {\n      this.formValidate.data.list = val.new;\n      this.modals = false;\n    },\n    addlabel() {\n      let count = this.labelarr.indexOf(this.val);\n      if (count === -1) {\n        this.labelarr.push(this.val);\n      }\n      this.val = '';\n    },\n    handleClose(event, name) {\n      const index = this.labelarr.indexOf(name);\n      this.labelarr.splice(index, 1);\n    },\n    // 详情\n    details() {\n      let url = '';\n      let data = {};\n      if (this.$route.params.id) {\n        url = 'app/wechat/keyword/' + this.$route.params.id;\n        data = {};\n      } else {\n        url = 'app/wechat/reply';\n        data = {\n          key: {\n            key: this.formValidate.key,\n          },\n        };\n      }\n      keywordsinfoApi(url, data)\n        .then(async (res) => {\n          if (res.data.info.data instanceof Array) {\n            this.formValidate.status = 0;\n            return;\n          }\n          let info = res.data.info || {};\n          let data = info.data || {};\n          this.formValidate = {\n            status: info.status,\n            type: info.type,\n            key: info.key,\n            data: {\n              content: data.content,\n              src: data.src,\n              list: data.list,\n            },\n            id: info.id,\n          };\n          if (this.$route.params.id) {\n            this.labelarr = this.formValidate.key.split(',') || [];\n          }\n        })\n        .catch((res) => {\n          this.$Message.error(res.msg);\n        });\n    },\n    // 选择图文\n    changePic() {\n      this.modals = true;\n    },\n    // 下拉选择\n    RuleFactor(type) {\n      switch (type) {\n        case 'text':\n          this.formValidate.data.src = '';\n          this.formValidate.data.list = [];\n          break;\n        case 'news':\n          this.formValidate.data.src = '';\n          this.formValidate.data.content = '';\n          break;\n        default:\n          this.formValidate.data.list = [];\n          this.formValidate.data.content = '';\n          this.formValidate.data.src = '';\n      }\n      // this.$refs['formValidate'].resetFields();\n    },\n    // 上传头部token\n    getToken() {\n      this.header['Authori-zation'] = 'Bearer ' + getCookies('token');\n    },\n    // 上传成功\n    handleSuccess(res, file) {\n      if (res.status === 200) {\n        this.formValidate.data.src = res.data.src;\n        this.$Message.success(res.msg);\n      } else {\n        this.$Message.error(res.msg);\n      }\n    },\n    handleFormatError(file) {\n      if (this.formValidate.type === 'image') {\n        this.$Message.warning('请上传bmp/png/jpeg/jpg/gif格式的图片');\n      } else {\n        this.$Message.warning('请上传mp3/wma/wav/amr格式的语音');\n      }\n    },\n    handleMaxSize(file) {\n      this.$Message.warning('请上传文件2M以内的文件');\n    },\n    // 保存\n    submenus(name) {\n      this.$refs[name].validate((valid) => {\n        if (valid) {\n          let data = {};\n          if (this.$route.params.id) {\n            this.formValidate.key = this.labelarr.join(',');\n            data = {\n              url: 'app/wechat/keyword/' + this.$route.params.id,\n              key: this.formValidate,\n            };\n          } else {\n            data = {\n              url: 'app/wechat/keyword/' + this.formValidate.id,\n              key: this.formValidate,\n            };\n          }\n          replyApi(data)\n            .then(async (res) => {\n              this.operation();\n              this.$Message.success(res.msg);\n            })\n            .catch((res) => {\n              this.$Message.error(res.msg);\n            });\n        } else {\n          return false;\n        }\n      });\n    },\n    // 保存成功操作\n    operation() {\n      if (this.$route.params.id && this.$route.params.id === '0') {\n        this.$Modal.confirm({\n          title: '提示',\n          content: '<p>是否继续添加？</p>',\n          okText: '是',\n          cancelText: '否',\n          loading: true,\n          onOk: () => {\n            setTimeout(() => {\n              this.$Modal.remove();\n              this.labelarr = [];\n              this.val = '';\n              this.$refs['formValidate'].resetFields();\n            }, 1000);\n          },\n          onCancel: () => {\n            setTimeout(() => {\n              this.$Modal.remove();\n              this.$router.push({ path: this.$routeProStr + '/app/wechat/reply/keyword' });\n            }, 500);\n          },\n        });\n      } else if (this.$route.params.id && this.$route.params.id !== '0') {\n        this.$Modal.remove();\n        this.$router.push({ path: this.$routeProStr + '/app/wechat/reply/keyword' });\n      }\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"stylus\">\n* {\n    -moz-user-select: none; /*火狐*/\n    -webkit-user-select: none; /*webkit浏览器*/\n    -ms-user-select: none; /*IE10*/\n    -khtml-user-select: none; /*早期浏览器*/\n    user-select: none;\n}\n\n.arrbox {\n    background-color: white;\n    font-size: 12px;\n    border: 1px solid #dcdee2;\n    border-radius: 6px;\n    margin-bottom: 0px;\n    padding:0 5px;\n    text-align: left;\n    box-sizing border-box;\n    width: 90%;\n}\n\n.arrbox_ip {\n    font-size: 12px;\n    border: none;\n    box-shadow: none;\n    outline: none;\n    background-color: transparent;\n    padding: 0;\n    margin: 0;\n    width: auto !important;\n    max-width: inherit;\n    min-width: 80px;\n    vertical-align: top;\n    height: 30px;\n    color: #34495e;\n    margin: 2px;\n    line-height: 30px;\n}\n\n.left {\n    min-width: 390px;\n    min-height: 550px;\n    position: relative;\n    padding-left: 40px;\n}\n\n.top {\n    position: absolute;\n    top: 0px;\n}\n\n.bottom {\n    position: absolute;\n    bottom: 0px;\n}\n\n.centent {\n    background: #f4f5f9;\n    min-height: 438px;\n    position: absolute;\n    top: 63px;\n    width: 320px;\n    height: 60%;\n    overflow-y: auto;\n    padding: 15px;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n}\n\n.right {\n    background: #fff;\n    min-height: 300px;\n}\n\n.box-content {\n    position: relative;\n    max-width: 60%;\n    min-height: 40px;\n    margin-left: 15px;\n    padding: 10px;\n    box-sizing: border-box;\n    border: 1px solid #ccc;\n    word-break: break-all;\n    word-wrap: break-word;\n    line-height: 1.5;\n    border-radius: 5px;\n}\n\n.box-content_pic {\n    width: 100%;\n}\n\n.box-content_pic img {\n    width: 100%;\n    height: auto;\n}\n\n.box-content:before {\n    content: '';\n    position: absolute;\n    left: -13px;\n    top: 11px;\n    display: block;\n    width: 0;\n    height: 0;\n    border-left: 8px solid transparent;\n    border-right: 8px solid transparent;\n    border-top: 10px solid #ccc;\n    -webkit-transform: rotate(90deg);\n    transform: rotate(90deg);\n}\n\n.box-content:after {\n    content: '';\n    content: '';\n    position: absolute;\n    left: -12px;\n    top: 11px;\n    display: block;\n    width: 0;\n    height: 0;\n    border-left: 8px solid transparent;\n    border-right: 8px solid transparent;\n    border-top: 10px solid #f5f5f5;\n    -webkit-transform: rotate(90deg);\n    transform: rotate(90deg);\n}\n\n.time-wrapper {\n    margin-bottom: 10px;\n    text-align: center;\n}\n\n.time {\n    display: inline-block;\n    color: #f5f5f5;\n    background: rgba(0, 0, 0, .3);\n    padding: 3px 8px;\n    border-radius: 3px;\n    font-size: 12px;\n}\n\n.text-box {\n    display: flex;\n}\n\n.avatar {\n    width: 40px;\n    height: 40px;\n}\n\n.avatar img {\n    width: 100%;\n    height: 100%;\n}\n.modelBox\n   >>> .ivu-modal-body\n     padding 0 16px 16px 16px !important\n.news_pic\n    width: 100%\n    height: 150px\n    overflow: hidden\n    position: relative\n    background-size: 100%\n    background-position: center center\n    border-radius: 5px 5px 0 0\n    padding 10px\n    box-sizing border-box\n    display flex\n    flex-direction column\n    align-items: flex-end\n.news_sp\n    font-size 12px\n    color #000000\n    background #fff\n    width 100%\n    height 38px\n    line-height 38px\n    padding 0 12px\n    box-sizing border-box\n    display: block;\n.news_cent\n    width 100%\n    height auto\n    background #fff\n    border-top: 1px dashed #eee;\n    display flex\n    padding 10px\n    box-sizing border-box\n    justify-content: space-between\n    .news_sp1\n        font-size 12px\n        color #000000\n        width: 71%;\n    .news_cent_img\n        width 81px\n        height 46px\n        border-radius 6px\n        overflow hidden\n        img\n            width 100%\n            height 100%\n</style>\n"]}]}