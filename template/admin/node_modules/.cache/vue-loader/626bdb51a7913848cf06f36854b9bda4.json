{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/pages/app/version/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/pages/app/version/index.vue","mtime":1689324015195},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IHZlcnNpb25MaXN0LCB2ZXJzaW9uQ3JhdGUgfSBmcm9tICdAL2FwaS9zeXN0ZW0nOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2luZGV4JywKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoJ21lZGlhJywgWydpc01vYmlsZSddKSwKICAgIC4uLm1hcFN0YXRlKCd1c2VyTGV2ZWwnLCBbJ2NhdGVnb3J5SWQnXSksCiAgICBsYWJlbFdpZHRoKCkgewogICAgICByZXR1cm4gdGhpcy5pc01vYmlsZSA/IHVuZGVmaW5lZCA6IDgwOwogICAgfSwKICAgIGxhYmVsUG9zaXRpb24oKSB7CiAgICAgIHJldHVybiB0aGlzLmlzTW9iaWxlID8gJ3RvcCcgOiAnbGVmdCc7CiAgICB9LAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZlck1vZGFsOiBmYWxzZSwKICAgICAgdG90YWw6IDIwLAogICAgICB0YWJsZUZyb206IHsKICAgICAgICBwYWdlOiAxLAogICAgICAgIGxpbWl0OiAxNSwKICAgICAgfSwKICAgICAgY29sdW1uczE6IFsKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ+eJiOacrOWPtycsCiAgICAgICAgICBzbG90OiAndmVyc2lvbicsCiAgICAgICAgICB3aWR0aDogODAsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ+W5s+WPsOexu+WeiycsCiAgICAgICAgICBzbG90OiAncGxhdGZvcm0nLAogICAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgICAgbWluV2lkdGg6IDEyMCwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAn5Y2H57qn5L+h5oGvJywKICAgICAgICAgIGtleTogJ2luZm8nLAogICAgICAgICAgbWluV2lkdGg6IDYwLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICfmmK/lkKblvLrliLYnLAogICAgICAgICAgc2xvdDogJ2lzX2ZvcmNlJywKICAgICAgICAgIG1pbldpZHRoOiAxMjAsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ+WPkeW4g+aXpeacnycsCiAgICAgICAgICBrZXk6ICdhZGRfdGltZScsCiAgICAgICAgICBtaW5XaWR0aDogMTIwLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICfkuIvovb3lnLDlnYAnLAogICAgICAgICAga2V5OiAndXJsJywKICAgICAgICAgIG1pbldpZHRoOiAxMjAsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ+aTjeS9nCcsCiAgICAgICAgICBzbG90OiAnYWN0aW9uJywKICAgICAgICAgIGFsaWduOiAnY2VudGVyJywKICAgICAgICAgIG1pbldpZHRoOiA1MCwKICAgICAgICB9LAogICAgICBdLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgdGFibGVMaXN0OiBbXSwKICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDkv67mlLnmiJDlip8KICAgIHN1Ym1pdEZhaWwoKSB7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIC8vIOiBiuWkqeiusOW9lQogICAgcmVjb3JkKHJvdykgewogICAgICB0aGlzLnJvd3MgPSByb3c7CiAgICAgIHRoaXMubW9kYWxzMyA9IHRydWU7CiAgICAgIHRoaXMuaXNDaGF0ID0gdHJ1ZTsKICAgICAgdGhpcy5nZXRMaXN0UmVjb3JkKCk7CiAgICB9LAogICAgLy8g5re75YqgCiAgICBhZGQoKSB7CiAgICAgIHRoaXMuJG1vZGFsRm9ybSh2ZXJzaW9uQ3JhdGUoMCkpLnRoZW4oKHJlcykgPT4gewogICAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDniYjmnKzkv6Hmga/liJfooagKICAgIGdldExpc3QoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIHZlcnNpb25MaXN0KCkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLnRhYmxlTGlzdCA9IHJlcy5kYXRhLmxpc3Q7CiAgICAgICAgICB0aGlzLnRvdGFsID0gcmVzLmRhdGEuY291bnQ7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKGVycik7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9KTsKICAgIH0sCiAgICAvLyDmt7vliqAKICAgIGVkaXQocm93KSB7CiAgICAgIHRoaXMuJG1vZGFsRm9ybSh2ZXJzaW9uQ3JhdGUocm93LmlkKSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWIoOmZpAogICAgZGVsKHJvdywgdGl0LCBudW0pIHsKICAgICAgbGV0IGRlbGZyb21EYXRhID0gewogICAgICAgIHRpdGxlOiB0aXQsCiAgICAgICAgbnVtOiBudW0sCiAgICAgICAgdXJsOiBgYXBwL3ZlcnNpb24vZGVsLyR7cm93LmlkfWAsCiAgICAgICAgbWV0aG9kOiAnREVMRVRFJywKICAgICAgICBpZHM6ICcnLAogICAgICB9OwogICAgICB0aGlzLiRtb2RhbFN1cmUoZGVsZnJvbURhdGEpCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgdGhpcy4kTWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgICAgdGhpcy50YWJsZUxpc3Quc3BsaWNlKG51bSwgMSk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVTdWJtaXQobmFtZSkgewogICAgICB0aGlzLiRyZWZzW25hbWVdLnZhbGlkYXRlKCh2YWxpZCkgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgdGhpcy4kTWVzc2FnZS5zdWNjZXNzKCfmiJDlip8hJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IoJ+Wksei0pSEnKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVJlc2V0KG5hbWUpIHsKICAgICAgdGhpcy4kcmVmc1tuYW1lXS5yZXNldEZpZWxkcygpOwogICAgfSwKICAgIHBhZ2VDaGFuZ2UoKSB7fSwKICB9LAp9Owo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/app/version","sourcesContent":["<template>\n  <div>\n    <Card :bordered=\"false\" dis-hover class=\"ivu-mt\">\n      <Row type=\"flex\" class=\"mb20\">\n        <Col span=\"24\">\n          <Button type=\"primary\" icon=\"md-add\" @click=\"add\" class=\"mr10\">发布版本</Button>\n        </Col>\n      </Row>\n      <Table\n        :columns=\"columns1\"\n        :data=\"tableList\"\n        :loading=\"loading\"\n        highlight-row\n        no-userFrom-text=\"暂无数据\"\n        no-filtered-userFrom-text=\"暂无筛选结果\"\n      >\n        <template slot-scope=\"{ row }\" slot=\"version\">\n          <Poptip v-if=\"row.is_new\" trigger=\"hover\" placement=\"top-start\" content=\"当前为最新线上版本!\">\n            <Icon size=\"16\" type=\"ios-bookmark\" color=\"red\" style=\"margin-right: 10px\" />\n          </Poptip>\n          <Icon v-else size=\"16\" type=\"ios-bookmark\" color=\"white\" style=\"margin-right: 10px\" />\n          <span>{{ row.version }} </span>\n        </template>\n        <template slot-scope=\"{ row }\" slot=\"platform\">\n          <span>{{ row.platform === 1 ? '安卓' : '苹果' }}</span>\n        </template>\n        <template slot-scope=\"{ row }\" slot=\"is_force\">\n          <span>{{ row.is_force === 1 ? '强制' : '非强制' }}</span>\n        </template>\n        <template slot-scope=\"{ row, index }\" slot=\"action\">\n          <a @click=\"edit(row)\">编辑</a>\n          <!-- <Divider type=\"vertical\" /> -->\n          <!-- <a @click=\"del(row, '删除版本', index)\">删除</a> -->\n        </template>\n      </Table>\n      <div class=\"acea-row row-right page\">\n        <Page :total=\"total\" show-elevator show-total @on-change=\"pageChange\" :page-size=\"tableFrom.limit\" />\n      </div>\n    </Card>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport { versionList, versionCrate } from '@/api/system';\nexport default {\n  name: 'index',\n  computed: {\n    ...mapState('media', ['isMobile']),\n    ...mapState('userLevel', ['categoryId']),\n    labelWidth() {\n      return this.isMobile ? undefined : 80;\n    },\n    labelPosition() {\n      return this.isMobile ? 'top' : 'left';\n    },\n  },\n  data() {\n    return {\n      verModal: false,\n      total: 20,\n      tableFrom: {\n        page: 1,\n        limit: 15,\n      },\n      columns1: [\n        {\n          title: '版本号',\n          slot: 'version',\n          width: 80,\n        },\n        {\n          title: '平台类型',\n          slot: 'platform',\n          align: 'center',\n          minWidth: 120,\n        },\n        {\n          title: '升级信息',\n          key: 'info',\n          minWidth: 60,\n        },\n        {\n          title: '是否强制',\n          slot: 'is_force',\n          minWidth: 120,\n        },\n        {\n          title: '发布日期',\n          key: 'add_time',\n          minWidth: 120,\n        },\n        {\n          title: '下载地址',\n          key: 'url',\n          minWidth: 120,\n        },\n        {\n          title: '操作',\n          slot: 'action',\n          align: 'center',\n          minWidth: 50,\n        },\n      ],\n      loading: false,\n      tableList: [],\n    };\n  },\n  created() {\n    this.getList();\n  },\n  methods: {\n    // 修改成功\n    submitFail() {\n      this.getList();\n    },\n    // 聊天记录\n    record(row) {\n      this.rows = row;\n      this.modals3 = true;\n      this.isChat = true;\n      this.getListRecord();\n    },\n    // 添加\n    add() {\n      this.$modalForm(versionCrate(0)).then((res) => {\n        this.getList();\n      });\n    },\n    // 版本信息列表\n    getList() {\n      this.loading = true;\n      versionList()\n        .then((res) => {\n          this.tableList = res.data.list;\n          this.total = res.data.count;\n          this.loading = false;\n        })\n        .catch((err) => {\n          this.$Message.error(err);\n          this.loading = false;\n        });\n    },\n    // 添加\n    edit(row) {\n      this.$modalForm(versionCrate(row.id)).then((res) => {\n        this.getList();\n      });\n    },\n    // 删除\n    del(row, tit, num) {\n      let delfromData = {\n        title: tit,\n        num: num,\n        url: `app/version/del/${row.id}`,\n        method: 'DELETE',\n        ids: '',\n      };\n      this.$modalSure(delfromData)\n        .then((res) => {\n          this.$Message.success(res.msg);\n          this.tableList.splice(num, 1);\n        })\n        .catch((res) => {\n          this.$Message.error(res.msg);\n        });\n    },\n    handleSubmit(name) {\n      this.$refs[name].validate((valid) => {\n        if (valid) {\n          this.$Message.success('成功!');\n        } else {\n          this.$Message.error('失败!');\n        }\n      });\n    },\n    handleReset(name) {\n      this.$refs[name].resetFields();\n    },\n    pageChange() {},\n  },\n};\n</script>\n\n<style scoped lang=\"stylus\"></style>\n"]}]}