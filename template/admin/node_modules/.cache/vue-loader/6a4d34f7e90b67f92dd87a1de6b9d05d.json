{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/components/customerInfo/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/components/customerInfo/index.vue","mtime":1689324015141},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGtlZnVjcmVhdGVBcGkgfSBmcm9tICdAL2FwaS9zZXR0aW5nJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdpbmRleCcsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm1WYWxpZGF0ZTogewogICAgICAgIHBhZ2U6IDEsCiAgICAgICAgbGltaXQ6IDE1LAogICAgICAgIGRhdGE6ICcnLAogICAgICAgIG5pY2tuYW1lOiAnJywKICAgICAgfSwKICAgICAgdGFibGVMaXN0MjogW10sCiAgICAgIHRpbWVWYWw6IFtdLAogICAgICBmcm9tTGlzdDogewogICAgICAgIHRpdGxlOiAn6YCJ5oup5pe26Ze0JywKICAgICAgICBjdXN0b206IHRydWUsCiAgICAgICAgZnJvbVR4dDogWwogICAgICAgICAgeyB0ZXh0OiAn5YWo6YOoJywgdmFsOiAnJyB9LAogICAgICAgICAgeyB0ZXh0OiAn5LuK5aSpJywgdmFsOiAndG9kYXknIH0sCiAgICAgICAgICB7IHRleHQ6ICfmmKjlpKknLCB2YWw6ICd5ZXN0ZXJkYXknIH0sCiAgICAgICAgICB7IHRleHQ6ICfmnIDov5E35aSpJywgdmFsOiAnbGF0ZWx5NycgfSwKICAgICAgICAgIHsgdGV4dDogJ+acgOi/kTMw5aSpJywgdmFsOiAnbGF0ZWx5MzAnIH0sCiAgICAgICAgICB7IHRleHQ6ICfmnKzmnIgnLCB2YWw6ICdtb250aCcgfSwKICAgICAgICAgIHsgdGV4dDogJ+acrOW5tCcsIHZhbDogJ3llYXInIH0sCiAgICAgICAgXSwKICAgICAgfSwKICAgICAgY3VycmVudGlkOiAwLAogICAgICBwcm9kdWN0Um93OiB7fSwKICAgICAgY29sdW1uczQ6IFsKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ+mAieaLqScsCiAgICAgICAgICBrZXk6ICdjaG9zZScsCiAgICAgICAgICB3aWR0aDogNjAsCiAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgICByZW5kZXI6IChoLCBwYXJhbXMpID0+IHsKICAgICAgICAgICAgbGV0IHVpZCA9IHBhcmFtcy5yb3cudWlkOwogICAgICAgICAgICBsZXQgZmxhZyA9IGZhbHNlOwogICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50aWQgPT09IHVpZCkgewogICAgICAgICAgICAgIGZsYWcgPSB0cnVlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGZsYWcgPSBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBsZXQgc2VsZiA9IHRoaXM7CiAgICAgICAgICAgIHJldHVybiBoKCdkaXYnLCBbCiAgICAgICAgICAgICAgaCgnUmFkaW8nLCB7CiAgICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgICB2YWx1ZTogZmxhZywKICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6ICEhcGFyYW1zLnJvdy5pc19kZWwsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgICAgJ29uLWNoYW5nZSc6ICgpID0+IHsKICAgICAgICAgICAgICAgICAgICBzZWxmLmN1cnJlbnRpZCA9IHVpZDsKICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2R1Y3RSb3cgPSBwYXJhbXMucm93OwogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb2R1Y3RSb3cudWlkKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy4kcm91dGUucXVlcnkuZm9kZGVyID09PSAnaW1hZ2UnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlICovCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbWFnZU9iamVjdCA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogdGhpcy5wcm9kdWN0Um93LmhlYWRpbWd1cmwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdWlkOiB0aGlzLnByb2R1Y3RSb3cudWlkLAogICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICBmb3JtX2NyZWF0ZV9oZWxwZXIuc2V0KCdpbWFnZScsIGltYWdlT2JqZWN0KTsKICAgICAgICAgICAgICAgICAgICAgICAgZm9ybV9jcmVhdGVfaGVscGVyLmNsb3NlKCdpbWFnZScpOwogICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnaW1hZ2VPYmplY3QnLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IHRoaXMucHJvZHVjdFJvdy5oZWFkaW1ndXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgIHVpZDogdGhpcy5wcm9kdWN0Um93LnVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uud2FybmluZygn6K+35YWI6YCJ5oup5ZWG5ZOBJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgXSk7CiAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICdJRCcsCiAgICAgICAgICBrZXk6ICd1aWQnLAogICAgICAgICAgd2lkdGg6IDgwLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICflvq7kv6HnlKjmiLflkI3np7AnLAogICAgICAgICAgc2xvdDogJ25pY2tuYW1lJywKICAgICAgICAgIG1pbldpZHRoOiAxODAsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ+WuouacjeWktOWDjycsCiAgICAgICAgICBzbG90OiAnaGVhZGltZ3VybCcsCiAgICAgICAgICBtaW5XaWR0aDogNjAsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ+eUqOaIt+exu+WeiycsCiAgICAgICAgICBzbG90OiAndXNlcl90eXBlJywKICAgICAgICAgIG1pbldpZHRoOiAxMDAsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ+aAp+WIqycsCiAgICAgICAgICBzbG90OiAnc2V4JywKICAgICAgICAgIG1pbldpZHRoOiA2MCwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAn5Zyw5Yy6JywKICAgICAgICAgIHNsb3Q6ICdjb3VudHJ5JywKICAgICAgICAgIG1pbldpZHRoOiAxMjAsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ+aYr+WQpuWFs+azqOWFrOS8l+WPtycsCiAgICAgICAgICBzbG90OiAnc3Vic2NyaWJlJywKICAgICAgICAgIG1pbldpZHRoOiAxMjAsCiAgICAgICAgfSwKICAgICAgXSwKICAgICAgbG9hZGluZzI6IGZhbHNlLAogICAgICB0b3RhbDI6IDAsCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHt9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldExpc3RTZXJ2aWNlKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDlhbfkvZPml6XmnJ8KICAgIG9uY2hhbmdlVGltZShlKSB7CiAgICAgIHRoaXMudGltZVZhbCA9IGU7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmRhdGEgPSB0aGlzLnRpbWVWYWwuam9pbignLScpOwogICAgICB0aGlzLmdldExpc3RTZXJ2aWNlKCk7CiAgICB9LAogICAgLy8g6YCJ5oup5pe26Ze0CiAgICBzZWxlY3RDaGFuZ2UodGFiKSB7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmRhdGEgPSB0YWI7CiAgICAgIHRoaXMudGltZVZhbCA9IFtdOwogICAgICB0aGlzLmdldExpc3RTZXJ2aWNlKCk7CiAgICB9LAogICAgLy8g5a6i5pyN5YiX6KGoCiAgICBnZXRMaXN0U2VydmljZSgpIHsKICAgICAgdGhpcy5sb2FkaW5nMiA9IHRydWU7CiAgICAgIGtlZnVjcmVhdGVBcGkodGhpcy5mb3JtVmFsaWRhdGUpCiAgICAgICAgLnRoZW4oYXN5bmMgKHJlcykgPT4gewogICAgICAgICAgbGV0IGRhdGEgPSByZXMuZGF0YTsKICAgICAgICAgIHRoaXMudGFibGVMaXN0MiA9IGRhdGEubGlzdDsKICAgICAgICAgIHRoaXMudG90YWwyID0gZGF0YS5jb3VudDsKICAgICAgICAgIHRoaXMudGFibGVMaXN0Mi5tYXAoKGl0ZW0pID0+IHsKICAgICAgICAgICAgaXRlbS5faXNDaGVja2VkID0gZmFsc2U7CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMubG9hZGluZzIgPSBmYWxzZTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLmxvYWRpbmcyID0gZmFsc2U7CiAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgIH0pOwogICAgfSwKICAgIHBhZ2VDaGFuZ2UyKHBhZ2VJbmRleCkgewogICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5wYWdlID0gcGFnZUluZGV4OwogICAgICB0aGlzLmdldExpc3RTZXJ2aWNlKCk7CiAgICB9LAogICAgLy8g5pCc57SiCiAgICB1c2VyU2VhcmNocygpIHsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGUucGFnZSA9IDE7CiAgICAgIHRoaXMuZ2V0TGlzdFNlcnZpY2UoKTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/customerInfo","sourcesContent":["<template>\n  <div class=\"customer\">\n    <Form ref=\"formValidate\" :model=\"formValidate\" :label-width=\"100\" @submit.native.prevent>\n      <Row :gutter=\"24\" type=\"flex\">\n        <Col span=\"24\" class=\"ivu-text-left\">\n          <FormItem label=\"搜索日期：\">\n            <RadioGroup\n              v-model=\"formValidate.data\"\n              type=\"button\"\n              @on-change=\"selectChange(formValidate.data)\"\n              class=\"mr\"\n            >\n              <Radio :label=\"item.val\" v-for=\"(item, i) in fromList.fromTxt\" :key=\"i\">{{ item.text }}</Radio>\n            </RadioGroup>\n            <DatePicker\n              :editable=\"false\"\n              @on-change=\"onchangeTime\"\n              :value=\"timeVal\"\n              format=\"yyyy/MM/dd\"\n              type=\"daterange\"\n              placement=\"bottom-end\"\n              placeholder=\"请选择时间\"\n              style=\"width: 200px\"\n            ></DatePicker>\n          </FormItem>\n        </Col>\n        <Col span=\"12\" class=\"ivu-text-left\">\n          <FormItem label=\"用户名称：\">\n            <Input\n              search\n              enter-button\n              placeholder=\"请输入用户名称\"\n              v-model=\"formValidate.nickname\"\n              style=\"width: 90%\"\n              @on-search=\"userSearchs\"\n            ></Input>\n          </FormItem>\n        </Col>\n      </Row>\n    </Form>\n    <Table\n      :loading=\"loading2\"\n      highlight-row\n      no-userFrom-text=\"暂无数据\"\n      no-filtered-userFrom-text=\"暂无筛选结果\"\n      ref=\"selection\"\n      :columns=\"columns4\"\n      :data=\"tableList2\"\n    >\n      <template slot-scope=\"{ row, index }\" slot=\"nickname\">\n        <div>{{ row.nickname }}</div>\n        <div style=\"color: red\">{{ row.is_del ? '用户已注销' : '' }}</div>\n      </template>\n      <template slot-scope=\"{ row, index }\" slot=\"headimgurl\">\n        <div class=\"tabBox_img\" v-viewer>\n          <img v-lazy=\"row.headimgurl\" />\n        </div>\n      </template>\n      <template slot-scope=\"{ row, index }\" slot=\"user_type\">\n        <span v-if=\"row.user_type === 'wechat'\">公众号</span>\n        <span v-else-if=\"row.user_type === 'routine'\">小程序</span>\n        <span v-else-if=\"row.user_type === 'h5'\">H5</span>\n        <span v-else-if=\"row.user_type === 'pc'\">PC</span>\n        <span v-else>--</span>\n      </template>\n      <template slot-scope=\"{ row, index }\" slot=\"sex\">\n        <span v-show=\"row.sex === 1\">男</span>\n        <span v-show=\"row.sex === 2\">女</span>\n        <span v-show=\"row.sex === 0\">保密</span>\n        <span v-show=\"row.sex === null\">--</span>\n      </template>\n      <template slot-scope=\"{ row, index }\" slot=\"country\">\n        <span v-if=\"row.country || row.province || row.city\">{{ row.country + row.province + row.city }}</span>\n        <span v-else>--</span>\n      </template>\n      <template slot-scope=\"{ row, index }\" slot=\"subscribe\">\n        <span v-text=\"row.subscribe === 1 ? '关注' : '未关注'\"></span>\n      </template>\n    </Table>\n    <div class=\"acea-row row-right page\">\n      <Page :total=\"total2\" show-elevator show-total @on-change=\"pageChange2\" :page-size=\"formValidate.limit\" />\n    </div>\n  </div>\n</template>\n<script>\nimport { kefucreateApi } from '@/api/setting';\nexport default {\n  name: 'index',\n  data() {\n    return {\n      formValidate: {\n        page: 1,\n        limit: 15,\n        data: '',\n        nickname: '',\n      },\n      tableList2: [],\n      timeVal: [],\n      fromList: {\n        title: '选择时间',\n        custom: true,\n        fromTxt: [\n          { text: '全部', val: '' },\n          { text: '今天', val: 'today' },\n          { text: '昨天', val: 'yesterday' },\n          { text: '最近7天', val: 'lately7' },\n          { text: '最近30天', val: 'lately30' },\n          { text: '本月', val: 'month' },\n          { text: '本年', val: 'year' },\n        ],\n      },\n      currentid: 0,\n      productRow: {},\n      columns4: [\n        {\n          title: '选择',\n          key: 'chose',\n          width: 60,\n          align: 'center',\n          render: (h, params) => {\n            let uid = params.row.uid;\n            let flag = false;\n            if (this.currentid === uid) {\n              flag = true;\n            } else {\n              flag = false;\n            }\n            let self = this;\n            return h('div', [\n              h('Radio', {\n                props: {\n                  value: flag,\n                  disabled: !!params.row.is_del,\n                },\n                on: {\n                  'on-change': () => {\n                    self.currentid = uid;\n                    this.productRow = params.row;\n                    if (this.productRow.uid) {\n                      if (this.$route.query.fodder === 'image') {\n                        /* eslint-disable */\n                        let imageObject = {\n                          image: this.productRow.headimgurl,\n                          uid: this.productRow.uid,\n                        };\n                        form_create_helper.set('image', imageObject);\n                        form_create_helper.close('image');\n                      } else {\n                        this.$emit('imageObject', {\n                          image: this.productRow.headimgurl,\n                          uid: this.productRow.uid,\n                        });\n                      }\n                    } else {\n                      this.$Message.warning('请先选择商品');\n                    }\n                  },\n                },\n              }),\n            ]);\n          },\n        },\n        {\n          title: 'ID',\n          key: 'uid',\n          width: 80,\n        },\n        {\n          title: '微信用户名称',\n          slot: 'nickname',\n          minWidth: 180,\n        },\n        {\n          title: '客服头像',\n          slot: 'headimgurl',\n          minWidth: 60,\n        },\n        {\n          title: '用户类型',\n          slot: 'user_type',\n          minWidth: 100,\n        },\n        {\n          title: '性别',\n          slot: 'sex',\n          minWidth: 60,\n        },\n        {\n          title: '地区',\n          slot: 'country',\n          minWidth: 120,\n        },\n        {\n          title: '是否关注公众号',\n          slot: 'subscribe',\n          minWidth: 120,\n        },\n      ],\n      loading2: false,\n      total2: 0,\n    };\n  },\n  created() {},\n  mounted() {\n    this.getListService();\n  },\n  methods: {\n    // 具体日期\n    onchangeTime(e) {\n      this.timeVal = e;\n      this.formValidate.data = this.timeVal.join('-');\n      this.getListService();\n    },\n    // 选择时间\n    selectChange(tab) {\n      this.formValidate.data = tab;\n      this.timeVal = [];\n      this.getListService();\n    },\n    // 客服列表\n    getListService() {\n      this.loading2 = true;\n      kefucreateApi(this.formValidate)\n        .then(async (res) => {\n          let data = res.data;\n          this.tableList2 = data.list;\n          this.total2 = data.count;\n          this.tableList2.map((item) => {\n            item._isChecked = false;\n          });\n          this.loading2 = false;\n        })\n        .catch((res) => {\n          this.loading2 = false;\n          this.$Message.error(res.msg);\n        });\n    },\n    pageChange2(pageIndex) {\n      this.formValidate.page = pageIndex;\n      this.getListService();\n    },\n    // 搜索\n    userSearchs() {\n      this.formValidate.page = 1;\n      this.getListService();\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"stylus\">\n.customer\n  overflow-y auto\n  overflow-x hidden\n  height 500px\n.tabBox_img\n    width 36px\n    height 36px\n    border-radius:4px;\n    cursor pointer\n    img\n        width 100%\n        height 100%\n.modelBox\n    >>>\n    .ivu-table-header\n        width 100% !important\n.trees-coadd\n    width: 100%;\n    height: 385px;\n    .scollhide\n        width: 100%;\n        height: 100%;\n        overflow-x: hidden;\n        overflow-y: scroll;\n.scollhide::-webkit-scrollbar {\n    display: none;\n}\n.footer{\n    margin: 15px 0;\n    padding-right: 20px;\n}\n</style>\n"]}]}