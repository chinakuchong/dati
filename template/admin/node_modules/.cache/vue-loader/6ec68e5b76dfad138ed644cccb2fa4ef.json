{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/pages/user/list/handle/userEditForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/pages/user/list/handle/userEditForm.vue","mtime":1689324015286},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB1c2VyTGFiZWwgZnJvbSAnQC9jb21wb25lbnRzL3VzZXJMYWJlbCc7CgppbXBvcnQgeyB1c2VyTGFiZWxBZGRBcGksIGdldFVzZXJJbmZvLCBlZGl0VXNlciwgc2V0VXNlciB9IGZyb20gJ0AvYXBpL3VzZXInOwppbXBvcnQgZGF5anMgZnJvbSAnZGF5anMnOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICd1c2VySW5mbycsCiAgY29tcG9uZW50czogeyB1c2VyTGFiZWwgfSwKICBwcm9wczogewogICAgdXNlcklkOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMCwKICAgIH0sCiAgfSwKICBmaWx0ZXJzOiB7CiAgICB0aW1lRm9ybWF0KHZhbHVlKSB7CiAgICAgIGlmICghdmFsdWUpIHsKICAgICAgICByZXR1cm4gJy0nOwogICAgICB9CiAgICAgIHJldHVybiBkYXlqcyh2YWx1ZSAqIDEwMDApLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpOwogICAgfSwKICAgIGdlbmRlcih2YWx1ZSkgewogICAgICBpZiAodmFsdWUgPT0gMSkgewogICAgICAgIHJldHVybiAn55S3JzsKICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PSAyKSB7CiAgICAgICAgcmV0dXJuICflpbMnOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAn5pyq55+lJzsKICAgICAgfQogICAgfSwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsYWJlbFNob3c6IGZhbHNlLAogICAgICBmb3JtSXRlbTogewogICAgICAgIHVpZDogMCwKICAgICAgICByZWFsX25hbWU6ICcnLAogICAgICAgIHBob25lOiAnJywKICAgICAgICBiaXJ0aGRheTogJycsCiAgICAgICAgY2FyZF9pZDogJycsCiAgICAgICAgYWRkcmVzOiAnJywKICAgICAgICBtYXJrOiAnJywKICAgICAgICBwd2Q6ICcnLAogICAgICAgIHRydWVfcHdkOiAnJywKICAgICAgICBsZXZlbDogJycsCiAgICAgICAgZ3JvdXBfaWQ6ICcnLAogICAgICAgIGxhYmVsX2lkOiBbXSwKICAgICAgICBzcHJlYWRfb3BlbjogMCwKICAgICAgICBpc19wcm9tb3RlcjogMCwKICAgICAgICBzdGF0dXM6IDEsCiAgICAgIH0sCiAgICAgIGdyb3VwSW5mbzogW10sCiAgICAgIGxhYmVsSW5mbzogW10sCiAgICAgIGxldmVsSW5mbzogW10sCiAgICAgIGluZm9EYXRhOiB7CiAgICAgICAgZ3JvdXBJbmZvOiBbXSwKICAgICAgICBsYWJlbEluZm86IFtdLAogICAgICAgIGxldmVsSW5mbzogW10sCiAgICAgIH0sCiAgICAgIHJ1bGVWYWxpZGF0ZTogewogICAgICAgIHJlYWxfbmFtZTogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICcgJywgdHJpZ2dlcjogJ2JsdXInIH1dLAogICAgICAgIHBob25lOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJyAnLCB0cmlnZ2VyOiAnYmx1cicgfV0sCiAgICAgICAgcHdkOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJyAnLCB0cmlnZ2VyOiAnYmx1cicgfV0sCiAgICAgICAgdHJ1ZV9wd2Q6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAnICcsIHRyaWdnZXI6ICdibHVyJyB9XSwKICAgICAgfSwKICAgICAgZGF0YUxhYmVsOiBbXSwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgaGFzRXh0ZW5kSW5mbygpIHsKICAgICAgLy8gICByZXR1cm4gdGhpcy5wc0luZm8uZXh0ZW5kX2luZm8uc29tZSgoaXRlbSkgPT4gaXRlbS52YWx1ZSk7CiAgICB9LAogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0VXNlckZyb20odGhpcy51c2VySWQpOwoKICAgIC8vIHRoaXMuZm9ybUl0ZW0gPSB0aGlzLnVzZXJEYXRhLnVzZXJJbmZvOwogIH0sCiAgbWV0aG9kczogewogICAgc2V0VXNlcigpIHsKICAgICAgbGV0IGRhdGEgPSB0aGlzLmZvcm1JdGVtOwogICAgICBsZXQgaWRzID0gW107CiAgICAgIHRoaXMuZGF0YUxhYmVsLm1hcCgoaSkgPT4gewogICAgICAgIGlkcy5wdXNoKGkuaWQpOwogICAgICB9KTsKICAgICAgZGF0YS5sYWJlbF9pZCA9IGlkczsKICAgICAgLy8gaWYgKCFkYXRhLnJlYWxfbmFtZSkgcmV0dXJuIHRoaXMuJE1lc3NhZ2Uud2FybmluZygi6K+36L6T5YWl55yf5a6e5aeT5ZCNIik7CiAgICAgIC8vIGlmICghZGF0YS5waG9uZSkgcmV0dXJuIHRoaXMuJE1lc3NhZ2Uud2FybmluZygi6K+36L6T5YWl5omL5py65Y+3Iik7CiAgICAgIC8vIGlmICghZGF0YS5wd2QpIHJldHVybiB0aGlzLiRNZXNzYWdlLndhcm5pbmcoIuivt+i+k+WFpeWvhueggSIpOwogICAgICAvLyBpZiAoIWRhdGEudHJ1ZV9wd2QpIHJldHVybiB0aGlzLiRNZXNzYWdlLndhcm5pbmcoIuivt+i+k+WFpeehruiupOWvhueggSIpOwogICAgICBpZiAoZGF0YS51aWQpIHsKICAgICAgICBlZGl0VXNlcihkYXRhKQogICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3N1Y2Nlc3MnKTsKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKGVyci5tc2cpOwogICAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc2V0VXNlcihkYXRhKQogICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICB0aGlzLiRlbWl0KCdzdWNjZXNzJyk7CiAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKGVyci5tc2cpOwogICAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBhZGRMYWJlbCgpIHsKICAgICAgdGhpcy4kbW9kYWxGb3JtKHVzZXJMYWJlbEFkZEFwaSgwKSkudGhlbigoKSA9PiB7fSk7CiAgICB9LAogICAgb3BlbkxhYmVsKHJvdykgewogICAgICB0aGlzLmxhYmVsU2hvdyA9IHRydWU7CiAgICAgIHRoaXMuJHJlZnMudXNlckxhYmVsLnVzZXJMYWJlbChKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuaW5mb0RhdGEubGFiZWxJbmZvKSkpOwogICAgfSwKICAgIGNsb3NlTGFiZWwobGFiZWwpIHsKICAgICAgbGV0IGluZGV4ID0gdGhpcy5kYXRhTGFiZWwuaW5kZXhPZih0aGlzLmRhdGFMYWJlbC5maWx0ZXIoKGQpID0+IGQuaWQgPT0gbGFiZWwuaWQpWzBdKTsKICAgICAgdGhpcy5kYXRhTGFiZWwuc3BsaWNlKGluZGV4LCAxKTsKICAgIH0sCiAgICBnZXRVc2VyRnJvbShpZCkgewogICAgICBnZXRVc2VySW5mbyhpZCkKICAgICAgICAudGhlbihhc3luYyAocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLnVzZXJEYXRhID0gcmVzLmRhdGE7CiAgICAgICAgICB0aGlzLiRzZXQodGhpcy5pbmZvRGF0YSwgJ2dyb3VwSW5mbycsIHRoaXMudXNlckRhdGEuZ3JvdXBJbmZvKTsKICAgICAgICAgIHRoaXMuJHNldCh0aGlzLmluZm9EYXRhLCAnbGV2ZWxJbmZvJywgdGhpcy51c2VyRGF0YS5sZXZlbEluZm8pOwogICAgICAgICAgdGhpcy4kc2V0KHRoaXMuaW5mb0RhdGEsICdsYWJlbEluZm8nLCB0aGlzLnVzZXJEYXRhLmxhYmVsSW5mbyk7CiAgICAgICAgICBsZXQgYXJyID0gT2JqZWN0LmtleXModGhpcy5mb3JtSXRlbSk7CiAgICAgICAgICBpZiAodGhpcy51c2VyRGF0YS51c2VySW5mbykgewogICAgICAgICAgICBhcnIubWFwKChpKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5mb3JtSXRlbVtpXSA9IHRoaXMudXNlckRhdGEudXNlckluZm9baV07CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpZiAoIXRoaXMuZm9ybUl0ZW0uYmlydGhkYXkpIHRoaXMuZm9ybUl0ZW0uYmlydGhkYXkgPSAnJzsKICAgICAgICAgICAgaWYgKHRoaXMuZm9ybUl0ZW0ubGFiZWxfaWQubGVuZ3RoKSB7CiAgICAgICAgICAgICAgdGhpcy5kYXRhTGFiZWwgPSB0aGlzLmZvcm1JdGVtLmxhYmVsX2lkOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLnJlc2V0KCk7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICB9KTsKICAgIH0sCiAgICAvLyDmoIfnrb7lvLnnqpflhbPpl60KICAgIGxhYmVsQ2xvc2UoKSB7CiAgICAgIHRoaXMubGFiZWxTaG93ID0gZmFsc2U7CiAgICB9LAogICAgYWN0aXZlRGF0YShkYXRhTGFiZWwpIHsKICAgICAgdGhpcy5sYWJlbFNob3cgPSBmYWxzZTsKICAgICAgdGhpcy5kYXRhTGFiZWwgPSBkYXRhTGFiZWw7CiAgICB9LAogICAgcmVzZXQoKSB7CiAgICAgIHRoaXMuZm9ybUl0ZW0gPSB7CiAgICAgICAgdWlkOiAnJywKICAgICAgICByZWFsX25hbWU6ICcnLAogICAgICAgIHBob25lOiAnJywKICAgICAgICBiaXJ0aGRheTogJycsCiAgICAgICAgY2FyZF9pZDogJycsCiAgICAgICAgYWRkcmVzOiAnJywKICAgICAgICBtYXJrOiAnJywKICAgICAgICBwd2Q6ICcnLAogICAgICAgIHRydWVfcHdkOiAnJywKICAgICAgICBsZXZlbDogJycsCiAgICAgICAgZ3JvdXBfaWQ6ICcnLAogICAgICAgIGxhYmVsX2lkOiBbXSwKICAgICAgICBzcHJlYWRfb3BlbjogMCwKICAgICAgICBpc19wcm9tb3RlcjogMCwKICAgICAgICBzdGF0dXM6IDEsCiAgICAgIH07CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["userEditForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuKA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"userEditForm.vue","sourceRoot":"src/pages/user/list/handle","sourcesContent":["<template>\n  <div class=\"user-info\">\n    <Form ref=\"formItem\" :rules=\"ruleValidate\" :model=\"formItem\" :label-width=\"100\" @submit.native.prevent>\n      <div class=\"section\">\n        <div class=\"section-hd\">基本信息</div>\n        <div class=\"section-bd\">\n          <div class=\"item\">\n            <FormItem label=\"用户ID：\">\n              <Input class=\"form-sty\" disabled v-model=\"formItem.uid\" placeholder=\"请输入编号\"></Input>\n            </FormItem>\n          </div>\n          <div class=\"item\">\n            <FormItem label=\"真实姓名：\" prop=\"real_name\">\n              <Input class=\"form-sty\" v-model.trim=\"formItem.real_name\" placeholder=\"请输入真实姓名\"></Input>\n            </FormItem>\n          </div>\n          <div class=\"item\">\n            <FormItem label=\"手机号码：\" prop=\"phone\">\n              <Input class=\"form-sty\" v-model=\"formItem.phone\" placeholder=\"请输入手机号码\"></Input>\n            </FormItem>\n          </div>\n          <div class=\"item\">\n            <FormItem label=\"生日：\">\n              <DatePicker\n                class=\"form-sty\"\n                type=\"date\"\n                :value=\"formItem.birthday\"\n                placeholder=\"请选择生日\"\n                format=\"yyyy-MM-dd\"\n                @on-change=\"formItem.birthday = $event\"\n              ></DatePicker>\n            </FormItem>\n          </div>\n          <div class=\"item\">\n            <FormItem label=\"身份证号：\">\n              <Input class=\"form-sty\" v-model.trim=\"formItem.card_id\" placeholder=\"请输入身份证号\"></Input>\n            </FormItem>\n          </div>\n          <div class=\"item\">\n            <FormItem label=\"用户地址：\">\n              <Input class=\"form-sty\" v-model=\"formItem.addres\" placeholder=\"请输入用户地址\"></Input>\n            </FormItem>\n          </div>\n        </div>\n      </div>\n      <div class=\"section\">\n        <div class=\"section-hd\">密码</div>\n        <div class=\"section-bd\">\n          <div class=\"item\">\n            <FormItem label=\"登录密码：\" prop=\"pwd\">\n              <Input\n                class=\"form-sty\"\n                type=\"password\"\n                v-model=\"formItem.pwd\"\n                placeholder=\"请输入登录密码（修改用户可不填写，不填写不修改原密码）\"\n              ></Input>\n            </FormItem>\n          </div>\n          <div class=\"item\">\n            <FormItem label=\"确认密码：\" prop=\"true_pwd\">\n              <Input\n                class=\"form-sty\"\n                type=\"password\"\n                v-model=\"formItem.true_pwd\"\n                placeholder=\"请输入确认密码（修改用户可不填写，不填写不修改原密码）\"\n              ></Input>\n            </FormItem>\n          </div>\n        </div>\n      </div>\n      <div class=\"section\">\n        <div class=\"section-hd\">用户概况</div>\n        <div class=\"section-bd\">\n          <div class=\"item\">\n            <FormItem label=\"用户等级：\">\n              <Select v-model=\"formItem.level\" class=\"form-sty\" clearable>\n                <Option v-for=\"(item, index) in infoData.levelInfo\" :key=\"index\" :value=\"item.id\">{{\n                  item.name\n                }}</Option>\n              </Select>\n            </FormItem>\n          </div>\n          <div class=\"item\">\n            <FormItem label=\"用户分组：\">\n              <Select v-model=\"formItem.group_id\" class=\"form-sty\" clearable>\n                <Option v-for=\"(item, index) in infoData.groupInfo\" :key=\"index\" :value=\"item.id\">{{\n                  item.group_name\n                }}</Option>\n              </Select>\n            </FormItem>\n          </div>\n          <div class=\"item lang\">\n            <FormItem label=\"用户标签：\">\n              <div style=\"display: flex\">\n                <div class=\"labelInput acea-row row-between-wrapper\" @click=\"openLabel\">\n                  <div style=\"width: 90%\">\n                    <div v-if=\"dataLabel.length\">\n                      <Tag closable v-for=\"(item, index) in dataLabel\" :key=\"index\" @on-close=\"closeLabel(item)\">{{\n                        item.label_name\n                      }}</Tag>\n                    </div>\n                    <span class=\"span\" v-else>选择用户关联标签</span>\n                  </div>\n                  <div class=\"ivu-icon ivu-icon-ios-arrow-down\"></div>\n                </div>\n                <span class=\"addfont\" @click=\"addLabel\">新增标签</span>\n              </div>\n            </FormItem>\n          </div>\n          <div class=\"item lang\">\n            <FormItem label=\"推广资格：\">\n              <RadioGroup v-model=\"formItem.spread_open\" class=\"form-sty\">\n                <Radio :label=\"1\">开启</Radio>\n                <Radio :label=\"0\">关闭</Radio>\n              </RadioGroup>\n              <div class=\"tip\">关闭用户的推广资格后，在任何分销模式下该用户都无分销权限</div>\n            </FormItem>\n          </div>\n          <div class=\"item lang\">\n            <FormItem label=\"推广权限：\">\n              <RadioGroup v-model=\"formItem.is_promoter\" class=\"form-sty\">\n                <Radio :label=\"1\">开启</Radio>\n                <Radio :label=\"0\">关闭</Radio>\n                <div class=\"tip\">指定分销模式下，开启或关闭用户的推广权限</div>\n              </RadioGroup>\n            </FormItem>\n          </div>\n          <div class=\"item lang\">\n            <FormItem label=\"用户状态：\">\n              <RadioGroup v-model=\"formItem.status\" class=\"form-sty\">\n                <Radio :label=\"1\">开启</Radio>\n                <Radio :label=\"0\">锁定</Radio>\n              </RadioGroup>\n            </FormItem>\n          </div>\n        </div>\n      </div>\n      <div class=\"section\">\n        <div class=\"section-hd\">用户备注</div>\n        <div class=\"section-bd\">\n          <div class=\"item\">\n            <FormItem label=\"用户备注：\">\n              <Input\n                class=\"form-sty\"\n                type=\"textarea\"\n                :rows=\"5\"\n                v-model=\"formItem.mark\"\n                placeholder=\"请输入用户备注\"\n              ></Input>\n            </FormItem>\n          </div>\n        </div>\n      </div>\n    </Form>\n    <Modal v-model=\"labelShow\" scrollable title=\"请选择用户标签\" :closable=\"false\" width=\"500\" :footer-hide=\"true\">\n      <userLabel\n        v-if=\"labelShow\"\n        :only_get=\"true\"\n        :uid=\"formItem.uid\"\n        @close=\"labelClose\"\n        @activeData=\"activeData\"\n      ></userLabel>\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport userLabel from '@/components/userLabel';\n\nimport { userLabelAddApi, getUserInfo, editUser, setUser } from '@/api/user';\nimport dayjs from 'dayjs';\n\nexport default {\n  name: 'userInfo',\n  components: { userLabel },\n  props: {\n    userId: {\n      type: Number,\n      default: 0,\n    },\n  },\n  filters: {\n    timeFormat(value) {\n      if (!value) {\n        return '-';\n      }\n      return dayjs(value * 1000).format('YYYY-MM-DD HH:mm:ss');\n    },\n    gender(value) {\n      if (value == 1) {\n        return '男';\n      } else if (value == 2) {\n        return '女';\n      } else {\n        return '未知';\n      }\n    },\n  },\n  data() {\n    return {\n      labelShow: false,\n      formItem: {\n        uid: 0,\n        real_name: '',\n        phone: '',\n        birthday: '',\n        card_id: '',\n        addres: '',\n        mark: '',\n        pwd: '',\n        true_pwd: '',\n        level: '',\n        group_id: '',\n        label_id: [],\n        spread_open: 0,\n        is_promoter: 0,\n        status: 1,\n      },\n      groupInfo: [],\n      labelInfo: [],\n      levelInfo: [],\n      infoData: {\n        groupInfo: [],\n        labelInfo: [],\n        levelInfo: [],\n      },\n      ruleValidate: {\n        real_name: [{ required: true, message: ' ', trigger: 'blur' }],\n        phone: [{ required: true, message: ' ', trigger: 'blur' }],\n        pwd: [{ required: true, message: ' ', trigger: 'blur' }],\n        true_pwd: [{ required: true, message: ' ', trigger: 'blur' }],\n      },\n      dataLabel: [],\n    };\n  },\n  computed: {\n    hasExtendInfo() {\n      //   return this.psInfo.extend_info.some((item) => item.value);\n    },\n  },\n  created() {\n    this.getUserFrom(this.userId);\n\n    // this.formItem = this.userData.userInfo;\n  },\n  methods: {\n    setUser() {\n      let data = this.formItem;\n      let ids = [];\n      this.dataLabel.map((i) => {\n        ids.push(i.id);\n      });\n      data.label_id = ids;\n      // if (!data.real_name) return this.$Message.warning(\"请输入真实姓名\");\n      // if (!data.phone) return this.$Message.warning(\"请输入手机号\");\n      // if (!data.pwd) return this.$Message.warning(\"请输入密码\");\n      // if (!data.true_pwd) return this.$Message.warning(\"请输入确认密码\");\n      if (data.uid) {\n        editUser(data)\n          .then((res) => {\n            this.$Message.success(res.msg);\n            this.$emit('success');\n          })\n          .catch((err) => {\n            this.$Message.error(err.msg);\n          });\n      } else {\n        setUser(data)\n          .then((res) => {\n            this.$emit('success');\n            this.$Message.success(res.msg);\n          })\n          .catch((err) => {\n            this.$Message.error(err.msg);\n          });\n      }\n    },\n    addLabel() {\n      this.$modalForm(userLabelAddApi(0)).then(() => {});\n    },\n    openLabel(row) {\n      this.labelShow = true;\n      this.$refs.userLabel.userLabel(JSON.parse(JSON.stringify(this.infoData.labelInfo)));\n    },\n    closeLabel(label) {\n      let index = this.dataLabel.indexOf(this.dataLabel.filter((d) => d.id == label.id)[0]);\n      this.dataLabel.splice(index, 1);\n    },\n    getUserFrom(id) {\n      getUserInfo(id)\n        .then(async (res) => {\n          this.userData = res.data;\n          this.$set(this.infoData, 'groupInfo', this.userData.groupInfo);\n          this.$set(this.infoData, 'levelInfo', this.userData.levelInfo);\n          this.$set(this.infoData, 'labelInfo', this.userData.labelInfo);\n          let arr = Object.keys(this.formItem);\n          if (this.userData.userInfo) {\n            arr.map((i) => {\n              this.formItem[i] = this.userData.userInfo[i];\n            });\n            if (!this.formItem.birthday) this.formItem.birthday = '';\n            if (this.formItem.label_id.length) {\n              this.dataLabel = this.formItem.label_id;\n            }\n          } else {\n            this.reset();\n          }\n        })\n        .catch((res) => {\n          this.$Message.error(res.msg);\n        });\n    },\n    // 标签弹窗关闭\n    labelClose() {\n      this.labelShow = false;\n    },\n    activeData(dataLabel) {\n      this.labelShow = false;\n      this.dataLabel = dataLabel;\n    },\n    reset() {\n      this.formItem = {\n        uid: '',\n        real_name: '',\n        phone: '',\n        birthday: '',\n        card_id: '',\n        addres: '',\n        mark: '',\n        pwd: '',\n        true_pwd: '',\n        level: '',\n        group_id: '',\n        label_id: [],\n        spread_open: 0,\n        is_promoter: 0,\n        status: 1,\n      };\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.labelInput {\n  border: 1px solid #dcdee2;\n  width: 300px;\n  padding: 0 8px;\n  border-radius: 5px;\n  min-height: 30px;\n  cursor: pointer;\n\n  .span {\n    color: #c5c8ce;\n  }\n\n  .iconxiayi {\n    font-size: 12px;\n  }\n}\n.width-add {\n  width: 40px;\n}\n.mr30 {\n  margin-right: 30px;\n}\n\n.user-info {\n  .section {\n    padding: 25px 0;\n    border-bottom: 1px dashed #eeeeee;\n\n    &-hd {\n      padding-left: 10px;\n      border-left: 3px solid #1890ff;\n      font-weight: 500;\n      font-size: 14px;\n      line-height: 16px;\n      color: #303133;\n    }\n\n    &-bd {\n      display: flex;\n      flex-wrap: wrap;\n    }\n\n    .item {\n      width: 50%;\n      display: flex;\n      margin: 16px 0px 0 0;\n      font-size: 13px;\n      color: #606266;\n\n      &:nth-child(3n + 3) {\n        margin: 16px 0 0;\n      }\n      .form-sty {\n        width: 300px;\n      }\n      .ivu-form-item {\n        margin: 3px 0;\n      }\n      .addfont {\n        display: inline-block;\n        font-size: 13px;\n        font-weight: 400;\n        color: #1890ff;\n        margin-left: 14px;\n        cursor: pointer;\n        margin-left: 10px;\n      }\n    }\n    .item.lang {\n      width: 100%;\n    }\n    .value {\n      flex: 1;\n    }\n    .avatar {\n      width: 60px;\n      height: 60px;\n      overflow: hidden;\n      img {\n        width: 100%;\n        height: 100%;\n      }\n    }\n  }\n}\n</style>\n"]}]}