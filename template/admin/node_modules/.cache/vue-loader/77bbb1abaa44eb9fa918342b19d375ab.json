{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/pages/setting/verifyOrder/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/pages/setting/verifyOrder/index.vue","mtime":1689324015265},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHZlcmlmeU9yZGVyQXBpLCBtZXJjaGFudFN0b3JlTGlzdEFwaSB9IGZyb20gJ0AvYXBpL3NldHRpbmcnOwppbXBvcnQgY2FyZHNEYXRhIGZyb20gJ0AvY29tcG9uZW50cy9jYXJkcy9jYXJkcyc7CmltcG9ydCByZWZlcnJlckluZm8gZnJvbSAnQC9jb21wb25lbnRzL3JlZmVycmVySW5mby9pbmRleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnc2V0dGluZ19vcmRlcicsCiAgY29tcG9uZW50czogeyBjYXJkc0RhdGEsIHJlZmVycmVySW5mbyB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtVmFsaWRhdGU6IHsKICAgICAgICBwYWdlOiAxLAogICAgICAgIGxpbWl0OiAxNSwKICAgICAgICBkYXRhOiAnJywKICAgICAgICByZWFsX25hbWU6ICcnLAogICAgICAgIHN0b3JlX2lkOiAnJywKICAgICAgICBmaWVsZF9rZXk6ICcnLAogICAgICB9LAogICAgICBmaWVsZF9rZXk6ICcnLAogICAgICBmcm9tTGlzdDogewogICAgICAgIHRpdGxlOiAn6YCJ5oup5pe26Ze0JywKICAgICAgICBjdXN0b206IHRydWUsCiAgICAgICAgZnJvbVR4dDogWwogICAgICAgICAgeyB0ZXh0OiAn5YWo6YOoJywgdmFsOiAnJyB9LAogICAgICAgICAgeyB0ZXh0OiAn5LuK5aSpJywgdmFsOiAndG9kYXknIH0sCiAgICAgICAgICB7IHRleHQ6ICfmmKjlpKknLCB2YWw6ICd5ZXN0ZXJkYXknIH0sCiAgICAgICAgICB7IHRleHQ6ICfmnIDov5E35aSpJywgdmFsOiAnbGF0ZWx5NycgfSwKICAgICAgICAgIHsgdGV4dDogJ+acgOi/kTMw5aSpJywgdmFsOiAnbGF0ZWx5MzAnIH0sCiAgICAgICAgICB7IHRleHQ6ICfmnKzmnIgnLCB2YWw6ICdtb250aCcgfSwKICAgICAgICAgIHsgdGV4dDogJ+acrOW5tCcsIHZhbDogJ3llYXInIH0sCiAgICAgICAgXSwKICAgICAgfSwKICAgICAgdGltZVZhbDogW10sCiAgICAgIHN0b3JlU2VsZWN0TGlzdDogW10sCiAgICAgIGNvbHVtbnM6IFsKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ+iuouWNleWPtycsCiAgICAgICAgICBrZXk6ICdvcmRlcl9pZCcsCiAgICAgICAgICBtaW5XaWR0aDogMTgwLAogICAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ+eUqOaIt+S/oeaBrycsCiAgICAgICAgICBzbG90OiAnbmFtZScsCiAgICAgICAgICBtaW5XaWR0aDogMTIwLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICfmjqjojZDkurrkv6Hmga8nLAogICAgICAgICAgc2xvdDogJ3NwcmVhZF9uaWNrbmFtZScsCiAgICAgICAgICBtaW5XaWR0aDogMTIwLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICfllYblk4Hkv6Hmga8nLAogICAgICAgICAgc2xvdDogJ2luZm8nLAogICAgICAgICAgbWluV2lkdGg6IDMwMCwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAn5a6e6ZmF5pSv5LuYJywKICAgICAgICAgIGtleTogJ3BheV9wcmljZScsCiAgICAgICAgICBtaW5XaWR0aDogOTAsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ+aguOmUgOWRmCcsCiAgICAgICAgICBrZXk6ICdjbGVya19uYW1lJywKICAgICAgICAgIG1pbldpZHRoOiA5MCwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAn5qC46ZSA6Zeo5bqXJywKICAgICAgICAgIGtleTogJ3N0b3JlX25hbWUnLAogICAgICAgICAgbWluV2lkdGg6IDEyMCwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAn5pSv5LuY54q25oCBJywKICAgICAgICAgIGtleTogJ3BheV90eXBlX25hbWUnLAogICAgICAgICAgbWluV2lkdGg6IDgwLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICforqLljZXnirbmgIEnLAogICAgICAgICAgc2xvdDogJ3N0YXR1c19uYW1lJywKICAgICAgICAgIG1pbldpZHRoOiA4MCwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAn5LiL5Y2V5pe26Ze0JywKICAgICAgICAgIGtleTogJ2FkZF90aW1lJywKICAgICAgICAgIG1pbldpZHRoOiAxMzAsCiAgICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICB9LAogICAgICBdLAogICAgICBvcmRlckxpc3Q6IFtdLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgdG90YWw6IDAsCiAgICB9OwogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgdGhpcy5zdG9yZUxpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldExpc3QoKSB7CiAgICAgIGxldCB0aGF0ID0gdGhpczsKICAgICAgdGhhdC5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhhdC5mb3JtVmFsaWRhdGUuZmllbGRfa2V5ID0gdGhpcy5maWVsZF9rZXkgPT09ICdhbGwnID8gJycgOiB0aGlzLmZpZWxkX2tleTsKICAgICAgdmVyaWZ5T3JkZXJBcGkodGhhdC5mb3JtVmFsaWRhdGUpCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgdGhhdC5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICB0aGF0Lm9yZGVyTGlzdCA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICB0aGF0LnRvdGFsID0gcmVzLmRhdGEuY291bnQ7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgdGhhdC4kTWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICB9KTsKICAgIH0sCiAgICB1c2VyU2VhcmNocygpIHsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGUucGFnZSA9IDE7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIC8vIOWFt+S9k+aXpeacnwogICAgb25jaGFuZ2VUaW1lKGUpIHsKICAgICAgdGhpcy50aW1lVmFsID0gZTsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuZGF0YSA9IHRoaXMudGltZVZhbC5qb2luKCctJyk7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIC8vIOmAieaLqeaXtumXtAogICAgc2VsZWN0Q2hhbmdlKHRhYikgewogICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5wYWdlID0gMTsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuZGF0YSA9IHRhYjsKICAgICAgdGhpcy50aW1lVmFsID0gW107CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIHN0b3JlTGlzdCgpIHsKICAgICAgbGV0IHRoYXQgPSB0aGlzOwogICAgICBtZXJjaGFudFN0b3JlTGlzdEFwaSgpCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgdGhhdC5zdG9yZVNlbGVjdExpc3QgPSByZXMuZGF0YTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgICAgICB0aGF0LiRNZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgIH0pOwogICAgfSwKICAgIHBhZ2VDaGFuZ2UoaW5kZXgpIHsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGUucGFnZSA9IGluZGV4OwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICByZWZlcmVuY2VJbmZvKHVpZCkgewogICAgICB0aGlzLiRyZWZzLmluZm8uaXNUZW1wbGF0ZSA9IHRydWU7CiAgICAgIHRoaXMuJHJlZnMuaW5mby52ZXJpZnlTcHJlYWRJbmZvKHVpZCk7CiAgICB9LAogICAgcmVmcmVzaCgpIHsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGUgPSB7CiAgICAgICAgcGFnZTogMSwKICAgICAgICBsaW1pdDogMTUsCiAgICAgICAgZGF0YTogJycsCiAgICAgICAgcmVhbF9uYW1lOiAnJywKICAgICAgICBzdG9yZV9pZDogJycsCiAgICAgICAgZmllbGRfa2V5OiAnJywKICAgICAgfTsKICAgICAgdGhpcy5maWVsZF9rZXkgPSAnJzsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/setting/verifyOrder","sourcesContent":["<template>\n  <div>\n    <Card :bordered=\"false\" dis-hover class=\"ivu-mt\">\n      <Form ref=\"formValidate\" :model=\"formValidate\" :label-width=\"80\" @submit.native.prevent>\n        <Row :gutter=\"24\" type=\"flex\">\n          <Col span=\"24\" class=\"ivu-text-left\">\n            <FormItem label=\"核销日期：\">\n              <RadioGroup\n                v-model=\"formValidate.data\"\n                type=\"button\"\n                class=\"mr\"\n                @on-change=\"selectChange(formValidate.data)\"\n              >\n                <Radio :label=\"item.val\" v-for=\"(item, i) in fromList.fromTxt\" :key=\"i\">{{ item.text }}</Radio>\n              </RadioGroup>\n              <DatePicker\n                :editable=\"false\"\n                @on-change=\"onchangeTime\"\n                :value=\"timeVal\"\n                format=\"yyyy/MM/dd\"\n                type=\"daterange\"\n                placement=\"bottom-end\"\n                placeholder=\"请选择时间\"\n                style=\"width: 200px\"\n              ></DatePicker>\n            </FormItem>\n          </Col>\n          <Col span=\"12\" class=\"ivu-text-left\">\n            <FormItem label=\"筛选条件：\">\n              <Input enter-button placeholder=\"请输入搜索内容\" v-model=\"formValidate.real_name\" style=\"width: 430px\">\n                <Select v-model=\"field_key\" slot=\"prepend\" style=\"width: 80px\">\n                  <Option value=\"all\">全部</Option>\n                  <Option value=\"order_id\">订单号</Option>\n                  <Option value=\"uid\">UID</Option>\n                  <Option value=\"real_name\">用户姓名</Option>\n                  <Option value=\"user_phone\">用户电话</Option>\n                  <Option value=\"title\">商品名称(模糊)</Option>\n                </Select>\n              </Input>\n            </FormItem>\n          </Col>\n          <Col span=\"12\" class=\"mr\">\n            <FormItem label=\"选择门店：\" label-for=\"store_name\">\n              <Select\n                v-model=\"formValidate.store_id\"\n                element-id=\"store_id\"\n                clearable\n                @on-change=\"userSearchs\"\n                style=\"width: 430px\"\n              >\n                <Option v-for=\"item in storeSelectList\" :value=\"item.id\" :key=\"item.id\">{{ item.name }}</Option>\n              </Select>\n            </FormItem>\n          </Col>\n          <Col span=\"12\" class=\"mr\">\n            <FormItem label=\"\" label-for=\"store_name\">\n              <Button type=\"primary\" class=\"mr15\" @click=\"userSearchs\">搜索</Button>\n              <Button class=\"mr15\" @click=\"refresh\">刷新</Button>\n            </FormItem>\n          </Col>\n        </Row>\n      </Form>\n      <Table\n        :columns=\"columns\"\n        :data=\"orderList\"\n        ref=\"table\"\n        :loading=\"loading\"\n        highlight-row\n        no-data-text=\"暂无数据\"\n        no-filtered-data-text=\"暂无筛选结果\"\n        class=\"orderData mt25\"\n      >\n        <template slot-scope=\"{ row, index }\" slot=\"name\"> {{ row.nickname }}/{{ row.uid }} </template>\n        <template slot-scope=\"{ row, index }\" slot=\"spread_nickname\">\n          <a href=\"javascript:void(0);\" @click=\"referenceInfo(row.spread_uid)\">{{ row.spread_nickname }}</a>\n        </template>\n        <template slot-scope=\"{ row, index }\" slot=\"info\">\n          <div class=\"tabBox\" v-for=\"(val, i) in row._info\" :key=\"i\">\n            <div class=\"tabBox_img\">\n              <img\n                v-lazy=\"\n                  val.cart_info.productInfo.attrInfo\n                    ? val.cart_info.productInfo.attrInfo.image\n                    : val.cart_info.productInfo.image\n                \"\n              />\n            </div>\n            <span class=\"tabBox_tit\"\n              >{{ val.cart_info.productInfo.store_name + ' | '\n              }}{{ val.cart_info.productInfo.attrInfo ? val.cart_info.productInfo.attrInfo.suk : '' }}</span\n            >\n            <span class=\"tabBox_pice\">{{ '￥' + val.cart_info.truePrice + ' x ' + val.cart_info.cart_num }}</span>\n          </div>\n        </template>\n        <template slot-scope=\"{ row, index }\" slot=\"status_name\">\n          {{ row.status_name.status_name }}\n        </template>\n      </Table>\n      <div class=\"acea-row row-right page\">\n        <Page\n          :total=\"total\"\n          :current=\"formValidate.page\"\n          show-elevator\n          show-total\n          @on-change=\"pageChange\"\n          :page-size=\"formValidate.limit\"\n        />\n      </div>\n    </Card>\n    <referrer-info ref=\"info\"></referrer-info>\n  </div>\n</template>\n\n<script>\nimport { verifyOrderApi, merchantStoreListApi } from '@/api/setting';\nimport cardsData from '@/components/cards/cards';\nimport referrerInfo from '@/components/referrerInfo/index';\nexport default {\n  name: 'setting_order',\n  components: { cardsData, referrerInfo },\n  data() {\n    return {\n      formValidate: {\n        page: 1,\n        limit: 15,\n        data: '',\n        real_name: '',\n        store_id: '',\n        field_key: '',\n      },\n      field_key: '',\n      fromList: {\n        title: '选择时间',\n        custom: true,\n        fromTxt: [\n          { text: '全部', val: '' },\n          { text: '今天', val: 'today' },\n          { text: '昨天', val: 'yesterday' },\n          { text: '最近7天', val: 'lately7' },\n          { text: '最近30天', val: 'lately30' },\n          { text: '本月', val: 'month' },\n          { text: '本年', val: 'year' },\n        ],\n      },\n      timeVal: [],\n      storeSelectList: [],\n      columns: [\n        {\n          title: '订单号',\n          key: 'order_id',\n          minWidth: 180,\n          sortable: true,\n        },\n        {\n          title: '用户信息',\n          slot: 'name',\n          minWidth: 120,\n        },\n        {\n          title: '推荐人信息',\n          slot: 'spread_nickname',\n          minWidth: 120,\n        },\n        {\n          title: '商品信息',\n          slot: 'info',\n          minWidth: 300,\n        },\n        {\n          title: '实际支付',\n          key: 'pay_price',\n          minWidth: 90,\n        },\n        {\n          title: '核销员',\n          key: 'clerk_name',\n          minWidth: 90,\n        },\n        {\n          title: '核销门店',\n          key: 'store_name',\n          minWidth: 120,\n        },\n        {\n          title: '支付状态',\n          key: 'pay_type_name',\n          minWidth: 80,\n        },\n        {\n          title: '订单状态',\n          slot: 'status_name',\n          minWidth: 80,\n        },\n        {\n          title: '下单时间',\n          key: 'add_time',\n          minWidth: 130,\n          sortable: true,\n        },\n      ],\n      orderList: [],\n      loading: false,\n      total: 0,\n    };\n  },\n  mounted() {\n    this.getList();\n    this.storeList();\n  },\n  methods: {\n    getList() {\n      let that = this;\n      that.loading = true;\n      that.formValidate.field_key = this.field_key === 'all' ? '' : this.field_key;\n      verifyOrderApi(that.formValidate)\n        .then((res) => {\n          that.loading = false;\n          that.orderList = res.data.data;\n          that.total = res.data.count;\n        })\n        .catch((res) => {\n          that.$Message.error(res.msg);\n        });\n    },\n    userSearchs() {\n      this.formValidate.page = 1;\n      this.getList();\n    },\n    // 具体日期\n    onchangeTime(e) {\n      this.timeVal = e;\n      this.formValidate.data = this.timeVal.join('-');\n      this.getList();\n    },\n    // 选择时间\n    selectChange(tab) {\n      this.formValidate.page = 1;\n      this.formValidate.data = tab;\n      this.timeVal = [];\n      this.getList();\n    },\n    storeList() {\n      let that = this;\n      merchantStoreListApi()\n        .then((res) => {\n          that.storeSelectList = res.data;\n        })\n        .catch((res) => {\n          that.$Message.error(res.msg);\n        });\n    },\n    pageChange(index) {\n      this.formValidate.page = index;\n      this.getList();\n    },\n    referenceInfo(uid) {\n      this.$refs.info.isTemplate = true;\n      this.$refs.info.verifySpreadInfo(uid);\n    },\n    refresh() {\n      this.formValidate = {\n        page: 1,\n        limit: 15,\n        data: '',\n        real_name: '',\n        store_id: '',\n        field_key: '',\n      };\n      this.field_key = '';\n      this.getList();\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"stylus\">\nimg {\n    height: 36px;\n    display: block;\n}\n.tabBox\n    width 100%\n    height 100%\n    display flex\n    align-items: center\n    .tabBox_img\n        width 36px\n        height 36px\n        img\n            width 100%\n            height 100%\n    .tabBox_tit\n        width 60%\n        font-size 12px !important\n        margin 0 2px 0 10px\n        letter-spacing: 1px;\n        padding: 5px 0;\n        box-sizing: border-box;\n.orderData >>>.ivu-table-cell{padding-left: 0 !important;}\n.vertical-center-modal{\n    display: flex;\n    align-items: center;\n    justify-content: center;}\n.ivu-mt{\n  margin-bottom 12px\n}\n.ivu-mt a\n   color #515a6e\n.ivu-mt a:hover\n    color: #2D8cF0;\n.ivu-mt /deep/ .ivu-form-item{\n  padding 7px 0;\n  margin-bottom 0\n}\n</style>\n"]}]}