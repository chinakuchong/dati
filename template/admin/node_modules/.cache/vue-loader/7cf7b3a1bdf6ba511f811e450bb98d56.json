{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/components/diyComponents/c_goods.vue?vue&type=style&index=0&id=6c54e856&scoped=true&lang=stylus&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/components/diyComponents/c_goods.vue","mtime":1689324015142},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/@vue/cli-service/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/stylus-loader/index.js","mtime":1519606876000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubWlkZGxlVG9wIC9kZWVwLy5pdnUtbW9kYWwtd3JhcCAuaXZ1LW1vZGFsewogICAgdG9wOjUwJSFpbXBvcnRhbnQ7CiAgICBtYXJnaW4tdG9wOi0zNTBweDsKfQouZ29vZHMtYm94CiAgICBwYWRkaW5nIDE2cHggMAogICAgbWFyZ2luLWJvdHRvbSAxNnB4CiAgICBib3JkZXItdG9wIDFweCBzb2xpZCByZ2JhKDAsMCwwLDAuMDUpCiAgICBib3JkZXItYm90dG9tIDFweCBzb2xpZCByZ2JhKDAsMCwwLDAuMDUpCiAgICAud3JhcHBlciwubGlzdC1ncm91cAogICAgICAgIGRpc3BsYXkgZmxleAogICAgICAgIGZsZXgtd3JhcCB3cmFwCiAgICAuYWRkLWl0ZW0KICAgICAgICBkaXNwbGF5IGZsZXgKICAgICAgICBhbGlnbi1pdGVtcyBjZW50ZXIKICAgICAgICBqdXN0aWZ5LWNvbnRlbnQgY2VudGVyCiAgICAgICAgd2lkdGggODBweAogICAgICAgIGhlaWdodCA4MHB4CiAgICAgICAgbWFyZ2luLWJvdHRvbSAxMHB4CiAgICAgICAgYmFja2dyb3VuZCAjRjdGN0Y3CiAgICAgICAgLmljb25mb250CiAgICAgICAgICAgIGZvbnQtc2l6ZSAxOHB4CiAgICAgICAgICAgIGNvbG9yICNEOEQ4RDgKICAgIC5pdGVtCiAgICAgICAgcG9zaXRpb24gcmVsYXRpdmUKICAgICAgICB3aWR0aCA4MHB4CiAgICAgICAgaGVpZ2h0IDgwcHgKICAgICAgICBtYXJnaW4tYm90dG9tIDIwcHgKICAgICAgICBtYXJnaW4tcmlnaHQgMTJweAogICAgICAgICY6bnRoLWNoaWxkKDRuKQogICAgICAgICAgIG1hcmdpbi1yaWdodCAwCiAgICAgICAgaW1nCiAgICAgICAgICAgIHdpZHRoIDEwMCUKICAgICAgICAgICAgaGVpZ2h0IDEwMCUKICAgICAgICAuaWNvbmRlbF8xCiAgICAgICAgICAgIHBvc2l0aW9uIGFic29sdXRlCiAgICAgICAgICAgIHJpZ2h0IC0xMHB4CiAgICAgICAgICAgIHRvcCAtMTZweAogICAgICAgICAgICBjb2xvciAjOTk5OTk5CiAgICAgICAgICAgIGZvbnQtc2l6ZSAyOHB4CiAgICAgICAgICAgIGN1cnNvciBwb2ludGVyCg=="},{"version":3,"sources":["c_goods.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"c_goods.vue","sourceRoot":"src/components/diyComponents","sourcesContent":["<template>\n  <div class=\"goods-box\" v-if=\"defaults.goodsList\">\n    <div class=\"wrapper\">\n      <draggable class=\"dragArea list-group\" :list=\"defaults.goodsList.list\" group=\"peoples\">\n        <div\n          class=\"item\"\n          v-for=\"(goods, index) in defaults.goodsList.list\"\n          :key=\"index\"\n          v-if=\"defaults.goodsList.list.length\"\n        >\n          <img :src=\"type == 1 ? goods.pic : goods.image\" alt=\"\" />\n          <span class=\"iconfont icondel_1\" @click.stop=\"bindDelete(index)\"></span>\n        </div>\n        <div class=\"add-item item\" @click=\"modals = true\"><span class=\"iconfont iconaddto\"></span></div>\n      </draggable>\n    </div>\n\n    <Modal\n      v-model=\"modals\"\n      :loading=\"loading\"\n      :title=\"titles\"\n      class=\"paymentFooter\"\n      :class=\"type ? '' : 'middleTop'\"\n      scrollable\n      width=\"900\"\n      @on-cancel=\"cancel\"\n      @on-ok=\"ok\"\n    >\n      <sort-list ref=\"goodslist\" @getProductDiy=\"getProductDiy\" v-if=\"modals && type == 1\"></sort-list>\n      <goods-list\n        ref=\"goodslist\"\n        @getProductDiy=\"getProductDiy\"\n        :ischeckbox=\"true\"\n        :type=\"type\"\n        :is_new=\"is_new\"\n        :diy=\"true\"\n        v-if=\"modals && type != 1\"\n      ></goods-list>\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport vuedraggable from 'vuedraggable';\nimport goodsList from '@/components/goodsList';\nimport sortList from '@/components/sortList';\nexport default {\n  name: 'c_goods',\n  props: {\n    name: {\n      type: String,\n    },\n    configData: {\n      type: null,\n    },\n    configNum: {\n      type: Number | String,\n      default: 'default',\n    },\n  },\n  components: {\n    goodsList,\n    sortList,\n    draggable: vuedraggable,\n  },\n  watch: {\n    configData: {\n      handler(nVal, oVal) {\n        this.defaults = nVal[this.configNum];\n        let goodType = nVal[this.configNum].titleInfo ? nVal[this.configNum].titleInfo.type : 0;\n        this.type = nVal[this.configNum].selectConfig.type\n          ? nVal[this.configNum].selectConfig.type\n          : goodType\n          ? goodType\n          : 0;\n        switch (this.type) {\n          case 0:\n            this.titles = '商品列表';\n            break;\n          case 1:\n            this.titles = '分类列表';\n            break;\n          case 8:\n            this.titles = '砍价列表';\n            break;\n          case 2:\n            this.titles = '秒杀列表';\n            break;\n          case 3:\n            this.titles = '拼团列表';\n            break;\n          default:\n        }\n      },\n      immediate: true,\n      deep: true,\n    },\n  },\n  data() {\n    return {\n      modals: false,\n      goodsList: [],\n      tempGoods: [],\n      defaults: {},\n      type: '',\n      is_new: '',\n      loading: true,\n      titles: '',\n    };\n  },\n  created() {\n    this.defaults = this.configData[this.configNum];\n    this.is_new = this.configData[this.configNum].is_new;\n  },\n  methods: {\n    getProductDiy(data) {\n      this.tempGoods = data;\n      this.loading = false;\n    },\n    cancel() {\n      this.tempGoods = [];\n    },\n    //对象数组去重；\n    unique(arr) {\n      const res = new Map();\n      return arr.filter((arr) => !res.has(arr.id) && res.set(arr.id, 1));\n    },\n    ok() {\n      if (!this.tempGoods.length) {\n        return this.$Message.warning('请先选择商品');\n      }\n      let list = this.defaults.goodsList.list;\n      list.push.apply(list, this.tempGoods);\n      // list.push(this.tempGoods);\n      let picList = this.unique(list);\n      this.defaults.goodsList.list = picList;\n      // this.defaults.goodsList.list.push(this.tempGoods);\n    },\n    bindDelete(index) {\n      this.defaults.goodsList.list.splice(index, 1);\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"stylus\">\n.middleTop /deep/.ivu-modal-wrap .ivu-modal{\n    top:50%!important;\n    margin-top:-350px;\n}\n.goods-box\n    padding 16px 0\n    margin-bottom 16px\n    border-top 1px solid rgba(0,0,0,0.05)\n    border-bottom 1px solid rgba(0,0,0,0.05)\n    .wrapper,.list-group\n        display flex\n        flex-wrap wrap\n    .add-item\n        display flex\n        align-items center\n        justify-content center\n        width 80px\n        height 80px\n        margin-bottom 10px\n        background #F7F7F7\n        .iconfont\n            font-size 18px\n            color #D8D8D8\n    .item\n        position relative\n        width 80px\n        height 80px\n        margin-bottom 20px\n        margin-right 12px\n        &:nth-child(4n)\n           margin-right 0\n        img\n            width 100%\n            height 100%\n        .icondel_1\n            position absolute\n            right -10px\n            top -16px\n            color #999999\n            font-size 28px\n            cursor pointer\n</style>\n"]}]}