{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/pages/order/orderList/splitList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/pages/order/orderList/splitList.vue","mtime":1689324015244},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBleHBhbmRSb3cgZnJvbSAnLi9jb21wb25lbnRzL3RhYmxlRXhwYW5kLnZ1ZSc7CmltcG9ydCB7CiAgb3JkZXJMaXN0LAogIGdldE9yZGVEYXRhcywKICBnZXREYXRhSW5mbywKICBnZXRSZWZ1bmRGcm9tLAogIGdldG5vUmVmdW5kLAogIHJlZnVuZEludGVncmFsLAogIGdldERpc3RyaWJ1dGlvbiwKICB3cml0ZVVwZGF0ZSwKICBzcGxpdE9yZGVyTGlzdCwKfSBmcm9tICdAL2FwaS9vcmRlcic7CmltcG9ydCB7IG1hcFN0YXRlLCBtYXBNdXRhdGlvbnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IGVkaXRGcm9tIGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvZnJvbS9mcm9tJzsKaW1wb3J0IGRldGFpbHNGcm9tIGZyb20gJy4vaGFuZGxlL29yZGVyRGV0YWlscyc7CmltcG9ydCBvcmRlclJlbWFyayBmcm9tICcuL2hhbmRsZS9vcmRlclJlbWFyayc7CmltcG9ydCBvcmRlclJlY29yZCBmcm9tICcuL2hhbmRsZS9vcmRlclJlY29yZCc7CmltcG9ydCBvcmRlclNlbmQgZnJvbSAnLi9oYW5kbGUvb3JkZXJTZW5kJzsKaW1wb3J0IHVzZXJEZXRhaWxzIGZyb20gJ0AvcGFnZXMvdXNlci9saXN0L2hhbmRsZS91c2VyRGV0YWlscyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3RhYmxlX2xpc3QnLAogIGNvbXBvbmVudHM6IHsKICAgIGV4cGFuZFJvdywKICAgIGVkaXRGcm9tLAogICAgZGV0YWlsc0Zyb20sCiAgICBvcmRlclJlbWFyaywKICAgIG9yZGVyUmVjb3JkLAogICAgb3JkZXJTZW5kLAogICAgdXNlckRldGFpbHMsCiAgfSwKICBwcm9wczogWyd3aGVyZScsICdpc0FsbCddLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkZWxmcm9tRGF0YToge30sCiAgICAgIG1vZGFsOiBmYWxzZSwKICAgICAgb3JkZXJMaXN0OiBbXSwKICAgICAgb3JkZXJDYXJkczogW10sCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBvcmRlcklkOiAwLAogICAgICBjb2x1bW5zOiBbCiAgICAgICAgewogICAgICAgICAgdHlwZTogJ2V4cGFuZCcsCiAgICAgICAgICB3aWR0aDogMzAsCiAgICAgICAgICByZW5kZXI6IChoLCBwYXJhbXMpID0+IHsKICAgICAgICAgICAgcmV0dXJuIGgoZXhwYW5kUm93LCB7CiAgICAgICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICAgIHJvdzogcGFyYW1zLnJvdywKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB3aWR0aDogNTAsCiAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgICByZW5kZXJIZWFkZXI6IChoLCBwYXJhbXMpID0+IHsKICAgICAgICAgICAgcmV0dXJuIGgoCiAgICAgICAgICAgICAgJ2RpdicsCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgY2xhc3M6IHsKICAgICAgICAgICAgICAgICAgJ3NlbGVjdC1wYW5lbCc6IHRydWUsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgICAgbW91c2VlbnRlcjogKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBtb3VzZWxlYXZlOiAoZSkgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBbCiAgICAgICAgICAgICAgICBoKCdDaGVja2JveCcsIHsKICAgICAgICAgICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5jaGVja0JveCwKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgICAgICAnb24tY2hhbmdlJzogKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tCb3ggPSBlOwogICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy50YWJsZS5zZWxlY3RBbGwodGhpcy5jaGVja0JveCk7CiAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdvbi1hbGwnLCBlID8gMCA6IC0xKTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICBoKAogICAgICAgICAgICAgICAgICAnZGl2JywKICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJywKICAgICAgICAgICAgICAgICAgICAgIHRvcDogMCwKICAgICAgICAgICAgICAgICAgICAgIHpJbmRleDogMiwKICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IHRoaXMuZGlzcGxheSwKICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnODBweCcsCiAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICcxMDAlJywKICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICcwcHggMCcsCiAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLAogICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2ZmZicsCiAgICAgICAgICAgICAgICAgICAgICBib3hTaGFkb3c6ICcwIDBweCA1cHggcmdiYSgwLCAwLCAwLCAwLjIpJywKICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVgoMjUlKScsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgICAgIGgoCiAgICAgICAgICAgICAgICAgICAgICAnZGl2JywKICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAnc2VsZWN0LWl0ZW0nOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB0aGlzLmlzQWxsID09IDAsCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzFweCA2cHgnLAogICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLAogICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzUwJScsCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IChlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0FsbCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdvbi1hbGwnLCAtMSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tCb3ggPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy50YWJsZS5zZWxlY3RBbGwodGhpcy5jaGVja0JveCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdvbi1hbGwnLCAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmZvcm1TZWxlY3Rpb24ubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGVja0JveCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy50YWJsZS5zZWxlY3RBbGwodGhpcy5jaGVja0JveCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICfpgInmi6nlvZPpobUnLAogICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgICAgaCgKICAgICAgICAgICAgICAgICAgICAgICdkaXYnLAogICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogewogICAgICAgICAgICAgICAgICAgICAgICAgICdzZWxlY3QtaXRlbSc6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgb246IHRoaXMuaXNBbGwgPT0gMSwKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMXB4IDZweCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnNTAlJywKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzQWxsID09PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNBbGwgPSAtMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnb24tYWxsJywgLTEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrQm94ID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQWxsID0gMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnb24tYWxsJywgMSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tCb3ggPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy50YWJsZS5zZWxlY3RBbGwodGhpcy5jaGVja0JveCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAn6YCJ5oup5YWo6YOoJywKICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICBdLAogICAgICAgICAgICApOwogICAgICAgICAgfSwKICAgICAgICAgIHJlbmRlcjogKGgsIHBhcmFtcykgPT4gewogICAgICAgICAgICByZXR1cm4gaCgnQ2hlY2tib3gnLCB7CiAgICAgICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICAgIHZhbHVlOiBwYXJhbXMucm93LmNoZWNrQm94LAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAgICdvbi1jaGFuZ2UnOiAoZSkgPT4gewogICAgICAgICAgICAgICAgICBpZiAoZSkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybVNlbGVjdGlvbi5wdXNoKHBhcmFtcy5yb3cpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tCb3ggPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm1TZWxlY3Rpb24uZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmlkID09PSBwYXJhbXMucm93LmlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybVNlbGVjdGlvbi5zcGxpY2UoaW5kZXgsIDEpOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ29uLWFsbCcsIHRoaXMuZm9ybVNlbGVjdGlvbi5sZW5ndGggPyAwIDogLTEpOwogICAgICAgICAgICAgICAgICAvLyB0aGlzLnJlc3BvbnNlRGF0YeS4uuafpeivouWHuueahOe7k+aenOaVsOaNrgogICAgICAgICAgICAgICAgICAvLyBwYXJhbXMucm93LmNoZWNrQm94ID0gZTsKICAgICAgICAgICAgICAgICAgcGFyYW1zLnJvdy5jaGVja0JveCA9IGU7CiAgICAgICAgICAgICAgICAgIHRoaXMub3JkZXJMaXN0W3BhcmFtcy5pbmRleF0uY2hlY2tCb3ggPSBlOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHJlZjogJ2NoZWNrYm94JywKICAgICAgICAgICAgICByZWZJbkZvcjogdHJ1ZSwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICforqLljZXlj7cnLAogICAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgICAgc2xvdDogJ29yZGVyX2lkJywKICAgICAgICAgIG1pbldpZHRoOiAxNTAsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ+iuouWNleexu+WeiycsCiAgICAgICAgICBrZXk6ICdwaW5rX25hbWUnLAogICAgICAgICAgbWluV2lkdGg6IDEyMCwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAn55So5oi35L+h5oGvJywKICAgICAgICAgIHNsb3Q6ICduaWNrbmFtZScsCiAgICAgICAgICBtaW5XaWR0aDogMTAwLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICfllYblk4Hkv6Hmga8nLAogICAgICAgICAgc2xvdDogJ2luZm8nLAogICAgICAgICAgbWluV2lkdGg6IDMzMCwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAn5a6e6ZmF5pSv5LuYJywKICAgICAgICAgIGtleTogJ3BheV9wcmljZScsCiAgICAgICAgICBtaW5XaWR0aDogNzAsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ+aUr+S7mOaXtumXtCcsCiAgICAgICAgICBrZXk6ICdfcGF5X3RpbWUnLAogICAgICAgICAgbWluV2lkdGg6IDEwMCwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAn5pSv5LuY54q25oCBJywKICAgICAgICAgIGtleTogJ3BheV90eXBlX25hbWUnLAogICAgICAgICAgbWluV2lkdGg6IDgwLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICforqLljZXnirbmgIEnLAogICAgICAgICAga2V5OiAnc3RhdHVzTmFtZScsCiAgICAgICAgICBzbG90OiAnc3RhdHVzTmFtZScsCiAgICAgICAgICBtaW5XaWR0aDogMTIwLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICfmk43kvZwnLAogICAgICAgICAgc2xvdDogJ2FjdGlvbicsCiAgICAgICAgICBmaXhlZDogJ3JpZ2h0JywKICAgICAgICAgIG1pbldpZHRoOiAxNTAsCiAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgfSwKICAgICAgXSwKICAgICAgcGFnZTogewogICAgICAgIHRvdGFsOiAwLCAvLyDmgLvmnaHmlbAKICAgICAgICBwYWdlTnVtOiAxLCAvLyDlvZPliY3pobUKICAgICAgICBwYWdlU2l6ZTogMTAsIC8vIOavj+mhteaYvuekuuadoeaVsAogICAgICB9LAogICAgICBkYXRhOiBbXSwKICAgICAgRnJvbURhdGE6IG51bGwsCiAgICAgIG9yZGVyRGF0YWxpc3Q6IG51bGwsCiAgICAgIG1vZGFsVGl0bGVTczogJycsCiAgICAgIGlzRGVsSWRMaXN0OiBbXSwKICAgICAgY2hlY2tCb3g6IGZhbHNlLAogICAgICBmb3JtU2VsZWN0aW9uOiBbXSwKICAgICAgc2VsZWN0aW9uQ29weTogW10sCiAgICAgIGRpc3BsYXk6ICdub25lJywKICAgICAgYXV0b0Rpc2FibGVkOiBmYWxzZSwKICAgICAgc3RhdHVzOiAwLCAvL+WPkei0p+eKtuaAgeWIpOaWrQogICAgICAvLyBpc0FsbDogLTEsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcFN0YXRlKCdhZG1pbi9vcmRlcicsIFsnb3JkZXJQYXlUeXBlJywgJ29yZGVyU3RhdHVzJywgJ29yZGVyVGltZScsICdvcmRlck51bScsICdmaWVsZEtleScsICdvcmRlclR5cGUnXSksCiAgfSwKICBtb3VudGVkKCkge30sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0TGlzdCgpOwogIH0sCiAgd2F0Y2g6IHsKICAgIG9yZGVyVHlwZTogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnBhZ2UucGFnZU51bSA9IDE7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIGZvcm1TZWxlY3Rpb24odmFsdWUpIHsKICAgICAgdGhpcy4kZW1pdCgnb3JkZXItc2VsZWN0JywgdmFsdWUpOwogICAgICBpZiAodmFsdWUubGVuZ3RoKSB7CiAgICAgICAgdGhpcy4kZW1pdCgnYXV0by1kaXNhYmxlZCcsIDApOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJGVtaXQoJ2F1dG8tZGlzYWJsZWQnLCAxKTsKICAgICAgfQogICAgICBsZXQgaXNEZWwgPSB2YWx1ZS5zb21lKChpdGVtKSA9PiB7CiAgICAgICAgcmV0dXJuIGl0ZW0uaXNfZGVsID09PSAxOwogICAgICB9KTsKICAgICAgdGhpcy5nZXRJc0RlbChpc0RlbCk7CiAgICAgIHRoaXMuZ2V0aXNEZWxJZExpc3RsKHZhbHVlKTsKICAgIH0sCiAgICBvcmRlckxpc3Q6IHsKICAgICAgZGVlcDogdHJ1ZSwKICAgICAgaGFuZGxlcih2YWx1ZSkgewogICAgICAgIHZhbHVlLmZvckVhY2goKGl0ZW0pID0+IHsKICAgICAgICAgIHRoaXMuZm9ybVNlbGVjdGlvbi5mb3JFYWNoKChpdG0pID0+IHsKICAgICAgICAgICAgaWYgKGl0bS5pZCA9PT0gaXRlbS5pZCkgewogICAgICAgICAgICAgIGl0ZW0uY2hlY2tCb3ggPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgICBjb25zdCBhcnIgPSB0aGlzLm9yZGVyTGlzdC5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uY2hlY2tCb3gpOwogICAgICAgIGlmICh0aGlzLm9yZGVyTGlzdC5sZW5ndGgpIHsKICAgICAgICAgIHRoaXMuY2hlY2tCb3ggPSB0aGlzLm9yZGVyTGlzdC5sZW5ndGggPT09IGFyci5sZW5ndGg7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuY2hlY2tCb3ggPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0sCiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwTXV0YXRpb25zKCdhZG1pbi9vcmRlcicsIFsnZ2V0SXNEZWwnLCAnZ2V0aXNEZWxJZExpc3RsJ10pLAogICAgc2VsZWN0QWxsKHJvdykgewogICAgICBpZiAocm93Lmxlbmd0aCkgewogICAgICAgIHRoaXMuZm9ybVNlbGVjdGlvbiA9IHJvdzsKICAgICAgICB0aGlzLnNlbGVjdGlvbkNvcHkgPSByb3c7CiAgICAgIH0KICAgICAgdGhpcy5zZWxlY3Rpb25Db3B5LmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7CiAgICAgICAgaXRlbS5jaGVja0JveCA9IHRoaXMuY2hlY2tCb3g7CiAgICAgICAgdGhpcy4kc2V0KHRoaXMub3JkZXJMaXN0LCBpbmRleCwgaXRlbSk7CiAgICAgIH0pOwogICAgfSwKICAgIHNob3dVc2VySW5mbyhyb3cpIHsKICAgICAgdGhpcy4kcmVmcy51c2VyRGV0YWlscy5tb2RhbHMgPSB0cnVlOwogICAgICB0aGlzLiRyZWZzLnVzZXJEZXRhaWxzLmdldERldGFpbHMocm93LnVpZCk7CiAgICB9LAogICAgLy8g5pON5L2cCiAgICBjaGFuZ2VNZW51KHJvdywgbmFtZSkgewogICAgICB0aGlzLm9yZGVySWQgPSByb3cuaWQ7CiAgICAgIHN3aXRjaCAobmFtZSkgewogICAgICAgIGNhc2UgJzEnOgogICAgICAgICAgdGhpcy5kZWxmcm9tRGF0YSA9IHsKICAgICAgICAgICAgdGl0bGU6ICfkv67mlLnnq4vljbPmlK/ku5gnLAogICAgICAgICAgICB1cmw6IGAvb3JkZXIvcGF5X29mZmxpbmUvJHtyb3cuaWR9YCwKICAgICAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgICAgIGlkczogJycsCiAgICAgICAgICB9OwogICAgICAgICAgdGhpcy4kbW9kYWxTdXJlKHRoaXMuZGVsZnJvbURhdGEpCiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlR2V0VGFicycpOwogICAgICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgLy8gdGhpcy5tb2RhbFRpdGxlU3MgPSAn5L+u5pS556uL5Y2z5pSv5LuYJzsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJzInOgogICAgICAgICAgdGhpcy5nZXREYXRhKHJvdy5pZCk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICczJzoKICAgICAgICAgIHRoaXMuJHJlZnMucmVjb3JkLm1vZGFscyA9IHRydWU7CiAgICAgICAgICB0aGlzLiRyZWZzLnJlY29yZC5nZXRMaXN0KHJvdy5pZCk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICc0JzoKICAgICAgICAgIHRoaXMuJHJlZnMucmVtYXJrcy5tb2RhbHMgPSB0cnVlOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnNSc6CiAgICAgICAgICB0aGlzLmdldFJlZnVuZERhdGEocm93LmlkKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJzYnOgogICAgICAgICAgdGhpcy5nZXRSZWZ1bmRJbnRlZ3JhbChyb3cuaWQpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnNyc6CiAgICAgICAgICB0aGlzLmdldE5vUmVmdW5kRGF0YShyb3cuaWQpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnOCc6CiAgICAgICAgICB0aGlzLmRlbGZyb21EYXRhID0gewogICAgICAgICAgICB0aXRsZTogJ+S/ruaUueehruiupOaUtui0pycsCiAgICAgICAgICAgIHVybDogYC9vcmRlci90YWtlLyR7cm93LmlkfWAsCiAgICAgICAgICAgIG1ldGhvZDogJ3B1dCcsCiAgICAgICAgICAgIGlkczogJycsCiAgICAgICAgICB9OwogICAgICAgICAgdGhpcy4kbW9kYWxTdXJlKHRoaXMuZGVsZnJvbURhdGEpCiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAvLyB0aGlzLm1vZGFsVGl0bGVTcyA9ICfkv67mlLnnoa7orqTmlLbotKcnOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnMTAnOgogICAgICAgICAgdGhpcy5kZWxmcm9tRGF0YSA9IHsKICAgICAgICAgICAgdGl0bGU6ICfnq4vljbPmiZPljbDorqLljZUnLAogICAgICAgICAgICBpbmZvOiAn5oKo56Gu6K6k5omT5Y2w5q2k6K6i5Y2V5ZCXPycsCiAgICAgICAgICAgIHVybDogYC9vcmRlci9wcmludC8ke3Jvdy5pZH1gLAogICAgICAgICAgICBtZXRob2Q6ICdnZXQnLAogICAgICAgICAgICBpZHM6ICcnLAogICAgICAgICAgfTsKICAgICAgICAgIHRoaXMuJG1vZGFsU3VyZSh0aGlzLmRlbGZyb21EYXRhKQogICAgICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZUdldFRhYnMnKTsKICAgICAgICAgICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJzExJzoKICAgICAgICAgIHRoaXMuZGVsZnJvbURhdGEgPSB7CiAgICAgICAgICAgIHRpdGxlOiAn56uL5Y2z5omT5Y2w55S15a2Q6Z2i5Y2VJywKICAgICAgICAgICAgaW5mbzogJ+aCqOehruiupOaJk+WNsOatpOeUteWtkOmdouWNleWQlz8nLAogICAgICAgICAgICB1cmw6IGAvb3JkZXIvb3JkZXJfZHVtcC8ke3Jvdy5pZH1gLAogICAgICAgICAgICBtZXRob2Q6ICdnZXQnLAogICAgICAgICAgICBpZHM6ICcnLAogICAgICAgICAgfTsKICAgICAgICAgIHRoaXMuJG1vZGFsU3VyZSh0aGlzLmRlbGZyb21EYXRhKQogICAgICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHRoaXMuZGVsZnJvbURhdGEgPSB7CiAgICAgICAgICAgIHRpdGxlOiAn5Yig6Zmk6K6i5Y2VJywKICAgICAgICAgICAgdXJsOiBgL29yZGVyL2RlbC8ke3Jvdy5pZH1gLAogICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLAogICAgICAgICAgICBpZHM6ICcnLAogICAgICAgICAgfTsKICAgICAgICAgIC8vIHRoaXMubW9kYWxUaXRsZVNzID0gJ+WIoOmZpOiuouWNlSc7CiAgICAgICAgICB0aGlzLmRlbE9yZGVyKHJvdywgdGhpcy5kZWxmcm9tRGF0YSk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDnq4vljbPmlK/ku5ggL+ehruiupOaUtui0py8v5Yig6Zmk5Y2V5p2h6K6i5Y2VCiAgICBzdWJtaXRNb2RlbCgpIHsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgcGFnZUNoYW5nZShpbmRleCkgewogICAgICB0aGlzLnBhZ2UucGFnZU51bSA9IGluZGV4OwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICBsaW1pdENoYW5nZShsaW1pdCkgewogICAgICB0aGlzLnBhZ2UucGFnZVNpemUgPSBsaW1pdDsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgZ2V0T3JkZXJMaXN0KGlkKSB7CiAgICAgIHNwbGl0T3JkZXJMaXN0KGlkKS50aGVuKChyZXMpID0+IHt9KTsKICAgIH0sCiAgICAvLyDorqLljZXliJfooagKICAgIGdldExpc3QocmVzKSB7CiAgICAgIHRoaXMucGFnZS5wYWdlTnVtID0gcmVzID09PSAxID8gMSA6IHRoaXMucGFnZS5wYWdlTnVtOwogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwoKICAgICAgc3BsaXRPcmRlckxpc3QodGhpcy4kcm91dGUucXVlcnkuaWQpCiAgICAgICAgLnRoZW4oYXN5bmMgKHJlcykgPT4gewogICAgICAgICAgbGV0IGRhdGEgPSByZXMuZGF0YTsKICAgICAgICAgIC8vIHRoaXMub3JkZXJMaXN0ID0gZGF0YS5kYXRhOwogICAgICAgICAgdGhpcy5vcmRlckxpc3QgPSBkYXRhLm1hcCgoaXRlbSkgPT4gewogICAgICAgICAgICAvLyBpdGVtLmNoZWNrQm94ID0gZmFsc2U7CiAgICAgICAgICAgIGlmICh0aGlzLmlzQWxsID09PSAxKSB7CiAgICAgICAgICAgICAgaXRlbS5jaGVja0JveCA9IHRydWU7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgaXRlbS5jaGVja0JveCA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBpdGVtOwogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLm9yZGVyQ2FyZHMgPSBkYXRhLnN0YXQ7CiAgICAgICAgICB0aGlzLnBhZ2UudG90YWwgPSBkYXRhLmNvdW50OwogICAgICAgICAgdGhpcy4kZW1pdCgnb24tY2hhbmdlQ2FyZHMnLCBkYXRhLnN0YXQpOwogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgIH0pOwogICAgfSwKICAgIC8vIOWFqOmAiQogICAgb25TZWxlY3RUYWIoc2VsZWN0aW9uKSB7CiAgICAgIHRoaXMuZm9ybVNlbGVjdGlvbiA9IHNlbGVjdGlvbjsKICAgICAgbGV0IGlzRGVsID0gc2VsZWN0aW9uLnNvbWUoKGl0ZW0pID0+IHsKICAgICAgICByZXR1cm4gaXRlbS5pc19kZWwgPT09IDE7CiAgICAgIH0pOwogICAgICB0aGlzLmdldElzRGVsKGlzRGVsKTsKICAgICAgdGhpcy5nZXRpc0RlbElkTGlzdGwoc2VsZWN0aW9uKTsKICAgIH0sCiAgICAvLyDnvJbovpEKICAgIGVkaXQocm93KSB7CiAgICAgIHRoaXMuZ2V0T3JkZXJEYXRhKHJvdy5pZCk7CiAgICB9LAogICAgc3BsaXRPcmRlckRldGFpbChyb3cpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICdzcGxpdF9vcmRlcicsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIGlkOiByb3cuaWQsCiAgICAgICAgfSwKICAgICAgfSk7CiAgICB9LAogICAgLy8g5Yig6Zmk5Y2V5p2h6K6i5Y2VCiAgICBkZWxPcmRlcihyb3csIGRhdGEpIHsKICAgICAgaWYgKHJvdy5pc19kZWwgPT09IDEpIHsKICAgICAgICB0aGlzLiRtb2RhbFN1cmUoZGF0YSkKICAgICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc3QgdGl0bGUgPSAn6ZSZ6K+v77yBJzsKICAgICAgICBjb25zdCBjb250ZW50ID0gJzxwPuaCqOmAieaLqeeahOeahOiuouWNleWtmOWcqOeUqOaIt+acquWIoOmZpOeahOiuouWNle+8jOaXoOazleWIoOmZpOeUqOaIt+acquWIoOmZpOeahOiuouWNle+8gTwvcD4nOwogICAgICAgIHRoaXMuJE1vZGFsLmVycm9yKHsKICAgICAgICAgIHRpdGxlOiB0aXRsZSwKICAgICAgICAgIGNvbnRlbnQ6IGNvbnRlbnQsCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDojrflj5bnvJbovpHooajljZXmlbDmja4KICAgIGdldE9yZGVyRGF0YShpZCkgewogICAgICBnZXRPcmRlRGF0YXMoaWQpCiAgICAgICAgLnRoZW4oYXN5bmMgKHJlcykgPT4gewogICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cyA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGF1dGhMYXBzZShyZXMuZGF0YSk7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLiRhdXRoTGFwc2UocmVzLmRhdGEpOwogICAgICAgICAgdGhpcy5Gcm9tRGF0YSA9IHJlcy5kYXRhOwogICAgICAgICAgdGhpcy4kcmVmcy5lZGl0cy5tb2RhbHMgPSB0cnVlOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgfSk7CiAgICB9LAogICAgLy8g6I635Y+W6K+m5oOF6KGo5Y2V5pWw5o2uCiAgICBnZXREYXRhKGlkKSB7CiAgICAgIGdldERhdGFJbmZvKGlkKQogICAgICAgIC50aGVuKGFzeW5jIChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuJHJlZnMuZGV0YWlsc3MubW9kYWxzID0gdHJ1ZTsKICAgICAgICAgIHRoaXMub3JkZXJEYXRhbGlzdCA9IHJlcy5kYXRhOwogICAgICAgICAgaWYgKHRoaXMub3JkZXJEYXRhbGlzdC5vcmRlckluZm8ucmVmdW5kX3JlYXNvbl93YXBfaW1nKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgdGhpcy5vcmRlckRhdGFsaXN0Lm9yZGVySW5mby5yZWZ1bmRfcmVhc29uX3dhcF9pbWcgPSBKU09OLnBhcnNlKAogICAgICAgICAgICAgICAgdGhpcy5vcmRlckRhdGFsaXN0Lm9yZGVySW5mby5yZWZ1bmRfcmVhc29uX3dhcF9pbWcsCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgIHRoaXMub3JkZXJEYXRhbGlzdC5vcmRlckluZm8ucmVmdW5kX3JlYXNvbl93YXBfaW1nID0gW107CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgIH0pOwogICAgfSwKICAgIC8vIOS/ruaUueaIkOWKnwogICAgc3VibWl0RmFpbCgpIHsKICAgICAgdGhpcy5zdGF0dXMgPSAwOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICAvLyDojrflj5bpgIDmrL7ooajljZXmlbDmja4KICAgIGdldFJlZnVuZERhdGEoaWQpIHsKICAgICAgdGhpcy4kbW9kYWxGb3JtKGdldFJlZnVuZEZyb20oaWQpKS50aGVuKCgpID0+IHsKICAgICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgICB0aGlzLiRlbWl0KCdjaGFuZ2VHZXRUYWJzJyk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOiOt+WPlumAgOenr+WIhuihqOWNleaVsOaNrgogICAgZ2V0UmVmdW5kSW50ZWdyYWwoaWQpIHsKICAgICAgcmVmdW5kSW50ZWdyYWwoaWQpCiAgICAgICAgLnRoZW4oYXN5bmMgKHJlcykgPT4gewogICAgICAgICAgdGhpcy5Gcm9tRGF0YSA9IHJlcy5kYXRhOwogICAgICAgICAgdGhpcy4kcmVmcy5lZGl0cy5tb2RhbHMgPSB0cnVlOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgfSk7CiAgICB9LAogICAgLy8g5LiN6YCA5qy+6KGo5Y2V5pWw5o2uCiAgICBnZXROb1JlZnVuZERhdGEoaWQpIHsKICAgICAgdGhpcy4kbW9kYWxGb3JtKGdldG5vUmVmdW5kKGlkKSkudGhlbigoKSA9PiB7CiAgICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlR2V0VGFicycpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDlj5HpgIHotKcKICAgIHNlbmRPcmRlcihyb3cpIHsKICAgICAgdGhpcy4kcmVmcy5zZW5kLm1vZGFscyA9IHRydWU7CiAgICAgIHRoaXMub3JkZXJJZCA9IHJvdy5pZDsKICAgICAgdGhpcy5zdGF0dXMgPSByb3cuX3N0YXR1czsKICAgICAgdGhpcy4kcmVmcy5zZW5kLmdldExpc3QoKTsKICAgICAgdGhpcy4kcmVmcy5zZW5kLmdldERlbGl2ZXJ5TGlzdCgpOwogICAgICB0aGlzLiRuZXh0VGljaygoZSkgPT4gewogICAgICAgIHRoaXMuJHJlZnMuc2VuZC5nZXRDYXJ0SW5mbyhyb3cuX3N0YXR1cywgcm93LmlkKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6YWN6YCB5L+h5oGv6KGo5Y2V5pWw5o2uCiAgICBkZWxpdmVyeShyb3cpIHsKICAgICAgZ2V0RGlzdHJpYnV0aW9uKHJvdy5pZCkKICAgICAgICAudGhlbihhc3luYyAocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLkZyb21EYXRhID0gcmVzLmRhdGE7CiAgICAgICAgICB0aGlzLiRyZWZzLmVkaXRzLm1vZGFscyA9IHRydWU7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBjaGFuZ2Uoc3RhdHVzKSB7fSwKICAgIC8vIOaVsOaNruWvvOWHuu+8mwogICAgZXhwb3J0RGF0YTogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLiRyZWZzLnRhYmxlLmV4cG9ydENzdih7CiAgICAgICAgZmlsZW5hbWU6ICfllYblk4HliJfooagnLAogICAgICB9KTsKICAgIH0sCiAgICAvLyDmoLjplIDorqLljZUKICAgIGJpbmRXcml0ZShyb3cpIHsKICAgICAgbGV0IHNlbGYgPSB0aGlzOwogICAgICB0aGlzLiRNb2RhbC5jb25maXJtKHsKICAgICAgICB0aXRsZTogJ+aPkOekuicsCiAgICAgICAgY29udGVudDogJ+ehruWumuimgeaguOmUgOivpeiuouWNleWQl++8nycsCiAgICAgICAgY2FuY2VsVGV4dDogJ+WPlua2iCcsCiAgICAgICAgY2xvc2FibGU6IHRydWUsCiAgICAgICAgbWFza0Nsb3NhYmxlOiB0cnVlLAogICAgICAgIG9uT2s6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHdyaXRlVXBkYXRlKHJvdy5vcmRlcl9pZCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgIHNlbGYuJE1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICAgICAgc2VsZi5nZXRMaXN0KCk7CiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIG9uQ2FuY2VsOiAoKSA9PiB7fSwKICAgICAgfSk7CiAgICB9LAogICAgb25TZWxlY3RDYW5jZWwoc2VsZWN0aW9uLCByb3cpIHt9LAogIH0sCn07Cg=="},{"version":3,"sources":["splitList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"splitList.vue","sourceRoot":"src/pages/order/orderList","sourcesContent":["<template>\n  <div>\n    <div class=\"i-layout-page-header\">\n      <div class=\"i-layout-page-header\">\n        <span class=\"ivu-page-header-title\">子订单列表</span>\n        <span class=\"return\" @click=\"$router.go(-1)\">返回</span>\n      </div>\n    </div>\n    <Table\n      :columns=\"columns\"\n      :data=\"orderList\"\n      ref=\"table\"\n      :loading=\"loading\"\n      highlight-row\n      no-data-text=\"暂无数据\"\n      no-filtered-data-text=\"暂无筛选结果\"\n      @on-selection-change=\"onSelectTab\"\n      @on-select-all=\"selectAll\"\n      @on-select-all-cancel=\"selectAll\"\n      @on-select-cancel=\"onSelectCancel\"\n      class=\"orderData mt25\"\n    >\n      <template slot-scope=\"{ row, index }\" slot=\"order_id\">\n        <span v-text=\"row.order_id\" style=\"display: block\"></span>\n        <span v-show=\"row.is_del === 1\" style=\"color: #ed4014; display: block\">用户已删除</span>\n      </template>\n      <template slot-scope=\"{ row, index }\" slot=\"nickname\">\n        <a @click=\"showUserInfo(row)\">{{ row.nickname }}</a>\n      </template>\n      <template slot-scope=\"{ row, index }\" slot=\"info\">\n        <div class=\"tabBox\" v-for=\"(val, i) in row._info\" :key=\"i\">\n          <div class=\"tabBox_img\" v-viewer>\n            <img\n              v-lazy=\"\n                val.cart_info.productInfo.attrInfo\n                  ? val.cart_info.productInfo.attrInfo.image\n                  : val.cart_info.productInfo.image\n              \"\n            />\n          </div>\n          <span class=\"tabBox_tit\">\n            {{ val.cart_info.productInfo.store_name + ' | '\n            }}{{ val.cart_info.productInfo.attrInfo ? val.cart_info.productInfo.attrInfo.suk : '' }}\n          </span>\n          <span class=\"tabBox_pice\">{{ '￥' + val.cart_info.truePrice + ' x ' + val.cart_info.cart_num }}</span>\n        </div>\n      </template>\n      <template slot-scope=\"{ row, index }\" slot=\"statusName\">\n        <div v-html=\"row.status_name.status_name\" class=\"pt5\"></div>\n        <div class=\"pictrue-box\">\n          <div v-viewer v-if=\"row.status_name.pics\" v-for=\"(item, index) in row.status_name.pics || []\" :key=\"index\">\n            <img class=\"pictrue mr10\" v-lazy=\"item\" :src=\"item\" />\n          </div>\n        </div>\n      </template>\n      <template slot-scope=\"{ row, index }\" slot=\"action\">\n        <a @click=\"edit(row)\" v-if=\"row._status === 1\">编辑</a>\n        <a\n          @click=\"sendOrder(row)\"\n          v-if=\"\n            (row._status === 2 || row._status === 8) &&\n            row.shipping_type === 1 &&\n            (row.pinkStatus === null || row.pinkStatus === 2)\n          \"\n          >发送货</a\n        >\n        <a @click=\"delivery(row)\" v-if=\"row._status === 4\">配送信息</a>\n        <a\n          @click=\"bindWrite(row)\"\n          v-if=\"row.shipping_type == 2 && row.status == 0 && row.paid == 1 && row.refund_status === 0\"\n          >立即核销</a\n        >\n        <Divider type=\"vertical\" v-if=\"row._status === 2 || row._status === 8\" />\n        <a @click=\"splitOrderDetail(row)\" v-if=\"row._status === 8\">查看子订单</a>\n\n        <Divider\n          type=\"vertical\"\n          v-if=\"\n            row._status === 1 ||\n            ((row._status === 2 || row._status === 8) && (row.pinkStatus === null || row.pinkStatus === 2)) ||\n            row._status === 4 ||\n            (row.shipping_type == 2 && row.status == 0 && row.paid == 1 && row.refund_status === 0)\n          \"\n        />\n        <template>\n          <Dropdown @on-click=\"changeMenu(row, $event)\">\n            <a href=\"javascript:void(0)\">\n              更多\n              <Icon type=\"ios-arrow-down\"></Icon>\n            </a>\n            <DropdownMenu slot=\"list\">\n              <DropdownItem\n                name=\"1\"\n                ref=\"ones\"\n                v-show=\"row._status === 1 && row.paid === 0 && row.pay_type === 'offline'\"\n                >立即支付</DropdownItem\n              >\n              <DropdownItem name=\"2\">订单详情</DropdownItem>\n              <DropdownItem name=\"3\">订单记录</DropdownItem>\n              <DropdownItem name=\"11\" v-show=\"row._status >= 3 && row.express_dump\">电子面单打印</DropdownItem>\n              <DropdownItem name=\"10\" v-show=\"row._status >= 2\">小票打印</DropdownItem>\n              <!-- <DropdownItem name=\"10\" v-show=\"row._status >= 2\">订单打印</DropdownItem> -->\n              <DropdownItem\n                name=\"4\"\n                v-show=\"\n                  row._status !== 1 ||\n                  (row._status === 3 && row.use_integral > 0 && row.use_integral >= row.back_integral)\n                \"\n                >订单备注</DropdownItem\n              >\n              <!-- <DropdownItem\n                name=\"5\"\n                v-show=\"\n                  row._status === 3 &&\n                  (parseFloat(row.pay_price) > parseFloat(row.refund_price) ||\n                    (row.pay_price == 0 &&\n                      [0, 1].indexOf(row.refund_status) !== -1))\n                \"\n                >立即退款</DropdownItem\n              >\n              <DropdownItem\n                name=\"6\"\n                v-show=\"\n                  row._status !== 1 &&\n                  row.use_integral > 0 &&\n                  row.use_integral >= row.back_integral\n                \"\n                >退积分</DropdownItem\n              >\n              <DropdownItem name=\"7\" v-show=\"row._status === 3\"\n                >不退款</DropdownItem\n              > -->\n              <DropdownItem name=\"8\" v-show=\"row._status === 4\">已收货</DropdownItem>\n              <DropdownItem name=\"9\" v-if=\"row.is_del == 1\">删除订单</DropdownItem>\n            </DropdownMenu>\n          </Dropdown>\n        </template>\n      </template>\n    </Table>\n    <div class=\"acea-row row-right page\">\n      <!-- <Page\n        :total=\"page.total\"\n        :current=\"page.pageNum\"\n        show-elevator\n        show-total\n        @on-change=\"pageChange\"\n        :page-size=\"page.pageSize\"\n        @on-page-size-change=\"limitChange\"\n        show-sizer\n      /> -->\n    </div>\n    <!-- 编辑 退款 退积分 不退款-->\n    <edit-from ref=\"edits\" :FromData=\"FromData\" @submitFail=\"submitFail\"></edit-from>\n    <!-- 会员详情-->\n    <user-details ref=\"userDetails\"></user-details>\n    <!-- 详情 -->\n    <details-from ref=\"detailss\" :orderDatalist=\"orderDatalist\" :orderId=\"orderId\"></details-from>\n    <!-- 备注 -->\n    <order-remark ref=\"remarks\" :orderId=\"orderId\" @submitFail=\"submitFail\"></order-remark>\n    <!-- 记录 -->\n    <order-record ref=\"record\"></order-record>\n    <!-- 发送货 -->\n    <order-send ref=\"send\" :orderId=\"orderId\" :status=\"status\" @submitFail=\"submitFail\"></order-send>\n  </div>\n</template>\n\n<script>\nimport expandRow from './components/tableExpand.vue';\nimport {\n  orderList,\n  getOrdeDatas,\n  getDataInfo,\n  getRefundFrom,\n  getnoRefund,\n  refundIntegral,\n  getDistribution,\n  writeUpdate,\n  splitOrderList,\n} from '@/api/order';\nimport { mapState, mapMutations } from 'vuex';\nimport editFrom from '../../../components/from/from';\nimport detailsFrom from './handle/orderDetails';\nimport orderRemark from './handle/orderRemark';\nimport orderRecord from './handle/orderRecord';\nimport orderSend from './handle/orderSend';\nimport userDetails from '@/pages/user/list/handle/userDetails';\n\nexport default {\n  name: 'table_list',\n  components: {\n    expandRow,\n    editFrom,\n    detailsFrom,\n    orderRemark,\n    orderRecord,\n    orderSend,\n    userDetails,\n  },\n  props: ['where', 'isAll'],\n  data() {\n    return {\n      delfromData: {},\n      modal: false,\n      orderList: [],\n      orderCards: [],\n      loading: false,\n      orderId: 0,\n      columns: [\n        {\n          type: 'expand',\n          width: 30,\n          render: (h, params) => {\n            return h(expandRow, {\n              props: {\n                row: params.row,\n              },\n            });\n          },\n        },\n        {\n          width: 50,\n          align: 'center',\n          renderHeader: (h, params) => {\n            return h(\n              'div',\n              {\n                class: {\n                  'select-panel': true,\n                },\n                on: {\n                  mouseenter: (e) => {\n                    this.display = 'block';\n                  },\n                  mouseleave: (e) => {\n                    this.display = 'none';\n                  },\n                },\n              },\n              [\n                h('Checkbox', {\n                  props: {\n                    value: this.checkBox,\n                  },\n                  on: {\n                    'on-change': (e) => {\n                      this.checkBox = e;\n                      this.$refs.table.selectAll(this.checkBox);\n                      this.$emit('on-all', e ? 0 : -1);\n                    },\n                  },\n                }),\n                h(\n                  'div',\n                  {\n                    style: {\n                      position: 'absolute',\n                      top: 0,\n                      zIndex: 2,\n                      display: this.display,\n                      width: '80px',\n                      height: '100%',\n                      padding: '0px 0',\n                      borderRadius: '4px',\n                      backgroundColor: '#fff',\n                      boxShadow: '0 0px 5px rgba(0, 0, 0, 0.2)',\n                      transform: 'translateX(25%)',\n                    },\n                  },\n                  [\n                    h(\n                      'div',\n                      {\n                        class: {\n                          'select-item': true,\n                          on: this.isAll == 0,\n                        },\n                        style: {\n                          padding: '1px 6px',\n                          cursor: 'pointer',\n                          height: '50%',\n                        },\n                        on: {\n                          click: (e) => {\n                            if (this.isAll === 0) {\n                              this.$emit('on-all', -1);\n                              this.checkBox = false;\n                              this.$refs.table.selectAll(this.checkBox);\n                            } else {\n                              this.$emit('on-all', 0);\n                              if (!this.formSelection.length) {\n                                this.checkBox = true;\n                                this.$refs.table.selectAll(this.checkBox);\n                              }\n                            }\n                            this.display = 'none';\n                          },\n                        },\n                      },\n                      '选择当页',\n                    ),\n                    h(\n                      'div',\n                      {\n                        class: {\n                          'select-item': true,\n                          on: this.isAll == 1,\n                        },\n                        style: {\n                          padding: '1px 6px',\n                          cursor: 'pointer',\n                          height: '50%',\n                        },\n                        on: {\n                          click: (e) => {\n                            if (this.isAll === 1) {\n                              this.isAll = -1;\n                              this.$emit('on-all', -1);\n                              this.checkBox = false;\n                            } else {\n                              this.isAll = 1;\n                              this.$emit('on-all', 1);\n                              this.checkBox = true;\n                            }\n                            this.$refs.table.selectAll(this.checkBox);\n                            this.display = 'none';\n                          },\n                        },\n                      },\n                      '选择全部',\n                    ),\n                  ],\n                ),\n              ],\n            );\n          },\n          render: (h, params) => {\n            return h('Checkbox', {\n              props: {\n                value: params.row.checkBox,\n              },\n              on: {\n                'on-change': (e) => {\n                  if (e) {\n                    this.formSelection.push(params.row);\n                  } else {\n                    this.checkBox = false;\n                    this.formSelection.forEach((item, index) => {\n                      if (item.id === params.row.id) {\n                        this.formSelection.splice(index, 1);\n                      }\n                    });\n                  }\n                  this.$emit('on-all', this.formSelection.length ? 0 : -1);\n                  // this.responseData为查询出的结果数据\n                  // params.row.checkBox = e;\n                  params.row.checkBox = e;\n                  this.orderList[params.index].checkBox = e;\n                },\n              },\n              ref: 'checkbox',\n              refInFor: true,\n            });\n          },\n        },\n        {\n          title: '订单号',\n          align: 'center',\n          slot: 'order_id',\n          minWidth: 150,\n        },\n        {\n          title: '订单类型',\n          key: 'pink_name',\n          minWidth: 120,\n        },\n        {\n          title: '用户信息',\n          slot: 'nickname',\n          minWidth: 100,\n        },\n        {\n          title: '商品信息',\n          slot: 'info',\n          minWidth: 330,\n        },\n        {\n          title: '实际支付',\n          key: 'pay_price',\n          minWidth: 70,\n        },\n        {\n          title: '支付时间',\n          key: '_pay_time',\n          minWidth: 100,\n        },\n        {\n          title: '支付状态',\n          key: 'pay_type_name',\n          minWidth: 80,\n        },\n        {\n          title: '订单状态',\n          key: 'statusName',\n          slot: 'statusName',\n          minWidth: 120,\n        },\n        {\n          title: '操作',\n          slot: 'action',\n          fixed: 'right',\n          minWidth: 150,\n          align: 'center',\n        },\n      ],\n      page: {\n        total: 0, // 总条数\n        pageNum: 1, // 当前页\n        pageSize: 10, // 每页显示条数\n      },\n      data: [],\n      FromData: null,\n      orderDatalist: null,\n      modalTitleSs: '',\n      isDelIdList: [],\n      checkBox: false,\n      formSelection: [],\n      selectionCopy: [],\n      display: 'none',\n      autoDisabled: false,\n      status: 0, //发货状态判断\n      // isAll: -1,\n    };\n  },\n  computed: {\n    ...mapState('admin/order', ['orderPayType', 'orderStatus', 'orderTime', 'orderNum', 'fieldKey', 'orderType']),\n  },\n  mounted() {},\n  created() {\n    this.getList();\n  },\n  watch: {\n    orderType: function () {\n      this.page.pageNum = 1;\n      this.getList();\n    },\n    formSelection(value) {\n      this.$emit('order-select', value);\n      if (value.length) {\n        this.$emit('auto-disabled', 0);\n      } else {\n        this.$emit('auto-disabled', 1);\n      }\n      let isDel = value.some((item) => {\n        return item.is_del === 1;\n      });\n      this.getIsDel(isDel);\n      this.getisDelIdListl(value);\n    },\n    orderList: {\n      deep: true,\n      handler(value) {\n        value.forEach((item) => {\n          this.formSelection.forEach((itm) => {\n            if (itm.id === item.id) {\n              item.checkBox = true;\n            }\n          });\n        });\n        const arr = this.orderList.filter((item) => item.checkBox);\n        if (this.orderList.length) {\n          this.checkBox = this.orderList.length === arr.length;\n        } else {\n          this.checkBox = false;\n        }\n      },\n    },\n  },\n  methods: {\n    ...mapMutations('admin/order', ['getIsDel', 'getisDelIdListl']),\n    selectAll(row) {\n      if (row.length) {\n        this.formSelection = row;\n        this.selectionCopy = row;\n      }\n      this.selectionCopy.forEach((item, index) => {\n        item.checkBox = this.checkBox;\n        this.$set(this.orderList, index, item);\n      });\n    },\n    showUserInfo(row) {\n      this.$refs.userDetails.modals = true;\n      this.$refs.userDetails.getDetails(row.uid);\n    },\n    // 操作\n    changeMenu(row, name) {\n      this.orderId = row.id;\n      switch (name) {\n        case '1':\n          this.delfromData = {\n            title: '修改立即支付',\n            url: `/order/pay_offline/${row.id}`,\n            method: 'post',\n            ids: '',\n          };\n          this.$modalSure(this.delfromData)\n            .then((res) => {\n              this.$Message.success(res.msg);\n              this.$emit('changeGetTabs');\n              this.getList();\n            })\n            .catch((res) => {\n              this.$Message.error(res.msg);\n            });\n          // this.modalTitleSs = '修改立即支付';\n          break;\n        case '2':\n          this.getData(row.id);\n          break;\n        case '3':\n          this.$refs.record.modals = true;\n          this.$refs.record.getList(row.id);\n          break;\n        case '4':\n          this.$refs.remarks.modals = true;\n          break;\n        case '5':\n          this.getRefundData(row.id);\n          break;\n        case '6':\n          this.getRefundIntegral(row.id);\n          break;\n        case '7':\n          this.getNoRefundData(row.id);\n          break;\n        case '8':\n          this.delfromData = {\n            title: '修改确认收货',\n            url: `/order/take/${row.id}`,\n            method: 'put',\n            ids: '',\n          };\n          this.$modalSure(this.delfromData)\n            .then((res) => {\n              this.$Message.success(res.msg);\n              this.getList();\n            })\n            .catch((res) => {\n              this.$Message.error(res.msg);\n            });\n          // this.modalTitleSs = '修改确认收货';\n          break;\n        case '10':\n          this.delfromData = {\n            title: '立即打印订单',\n            info: '您确认打印此订单吗?',\n            url: `/order/print/${row.id}`,\n            method: 'get',\n            ids: '',\n          };\n          this.$modalSure(this.delfromData)\n            .then((res) => {\n              this.$Message.success(res.msg);\n              this.$emit('changeGetTabs');\n              this.getList();\n            })\n            .catch((res) => {\n              this.$Message.error(res.msg);\n            });\n          break;\n        case '11':\n          this.delfromData = {\n            title: '立即打印电子面单',\n            info: '您确认打印此电子面单吗?',\n            url: `/order/order_dump/${row.id}`,\n            method: 'get',\n            ids: '',\n          };\n          this.$modalSure(this.delfromData)\n            .then((res) => {\n              this.$Message.success(res.msg);\n              this.getList();\n            })\n            .catch((res) => {\n              this.$Message.error(res.msg);\n            });\n          break;\n        default:\n          this.delfromData = {\n            title: '删除订单',\n            url: `/order/del/${row.id}`,\n            method: 'DELETE',\n            ids: '',\n          };\n          // this.modalTitleSs = '删除订单';\n          this.delOrder(row, this.delfromData);\n      }\n    },\n    // 立即支付 /确认收货//删除单条订单\n    submitModel() {\n      this.getList();\n    },\n    pageChange(index) {\n      this.page.pageNum = index;\n      this.getList();\n    },\n    limitChange(limit) {\n      this.page.pageSize = limit;\n      this.getList();\n    },\n    getOrderList(id) {\n      splitOrderList(id).then((res) => {});\n    },\n    // 订单列表\n    getList(res) {\n      this.page.pageNum = res === 1 ? 1 : this.page.pageNum;\n      this.loading = true;\n\n      splitOrderList(this.$route.query.id)\n        .then(async (res) => {\n          let data = res.data;\n          // this.orderList = data.data;\n          this.orderList = data.map((item) => {\n            // item.checkBox = false;\n            if (this.isAll === 1) {\n              item.checkBox = true;\n            } else {\n              item.checkBox = false;\n            }\n            return item;\n          });\n          this.orderCards = data.stat;\n          this.page.total = data.count;\n          this.$emit('on-changeCards', data.stat);\n          this.loading = false;\n        })\n        .catch((res) => {\n          this.loading = false;\n          this.$Message.error(res.msg);\n        });\n    },\n    // 全选\n    onSelectTab(selection) {\n      this.formSelection = selection;\n      let isDel = selection.some((item) => {\n        return item.is_del === 1;\n      });\n      this.getIsDel(isDel);\n      this.getisDelIdListl(selection);\n    },\n    // 编辑\n    edit(row) {\n      this.getOrderData(row.id);\n    },\n    splitOrderDetail(row) {\n      this.$router.push({\n        path: 'split_order',\n        query: {\n          id: row.id,\n        },\n      });\n    },\n    // 删除单条订单\n    delOrder(row, data) {\n      if (row.is_del === 1) {\n        this.$modalSure(data)\n          .then((res) => {\n            this.$Message.success(res.msg);\n            this.getList();\n          })\n          .catch((res) => {\n            this.$Message.error(res.msg);\n          });\n      } else {\n        const title = '错误！';\n        const content = '<p>您选择的的订单存在用户未删除的订单，无法删除用户未删除的订单！</p>';\n        this.$Modal.error({\n          title: title,\n          content: content,\n        });\n      }\n    },\n    // 获取编辑表单数据\n    getOrderData(id) {\n      getOrdeDatas(id)\n        .then(async (res) => {\n          if (res.data.status === false) {\n            return this.$authLapse(res.data);\n          }\n          this.$authLapse(res.data);\n          this.FromData = res.data;\n          this.$refs.edits.modals = true;\n        })\n        .catch((res) => {\n          this.$Message.error(res.msg);\n        });\n    },\n    // 获取详情表单数据\n    getData(id) {\n      getDataInfo(id)\n        .then(async (res) => {\n          this.$refs.detailss.modals = true;\n          this.orderDatalist = res.data;\n          if (this.orderDatalist.orderInfo.refund_reason_wap_img) {\n            try {\n              this.orderDatalist.orderInfo.refund_reason_wap_img = JSON.parse(\n                this.orderDatalist.orderInfo.refund_reason_wap_img,\n              );\n            } catch (e) {\n              this.orderDatalist.orderInfo.refund_reason_wap_img = [];\n            }\n          }\n        })\n        .catch((res) => {\n          this.$Message.error(res.msg);\n        });\n    },\n    // 修改成功\n    submitFail() {\n      this.status = 0;\n      this.getList();\n    },\n    // 获取退款表单数据\n    getRefundData(id) {\n      this.$modalForm(getRefundFrom(id)).then(() => {\n        this.getList();\n        this.$emit('changeGetTabs');\n      });\n    },\n    // 获取退积分表单数据\n    getRefundIntegral(id) {\n      refundIntegral(id)\n        .then(async (res) => {\n          this.FromData = res.data;\n          this.$refs.edits.modals = true;\n        })\n        .catch((res) => {\n          this.$Message.error(res.msg);\n        });\n    },\n    // 不退款表单数据\n    getNoRefundData(id) {\n      this.$modalForm(getnoRefund(id)).then(() => {\n        this.getList();\n        this.$emit('changeGetTabs');\n      });\n    },\n    // 发送货\n    sendOrder(row) {\n      this.$refs.send.modals = true;\n      this.orderId = row.id;\n      this.status = row._status;\n      this.$refs.send.getList();\n      this.$refs.send.getDeliveryList();\n      this.$nextTick((e) => {\n        this.$refs.send.getCartInfo(row._status, row.id);\n      });\n    },\n    // 配送信息表单数据\n    delivery(row) {\n      getDistribution(row.id)\n        .then(async (res) => {\n          this.FromData = res.data;\n          this.$refs.edits.modals = true;\n        })\n        .catch((res) => {\n          this.$Message.error(res.msg);\n        });\n    },\n    change(status) {},\n    // 数据导出；\n    exportData: function () {\n      this.$refs.table.exportCsv({\n        filename: '商品列表',\n      });\n    },\n    // 核销订单\n    bindWrite(row) {\n      let self = this;\n      this.$Modal.confirm({\n        title: '提示',\n        content: '确定要核销该订单吗？',\n        cancelText: '取消',\n        closable: true,\n        maskClosable: true,\n        onOk: function () {\n          writeUpdate(row.order_id).then((res) => {\n            self.$Message.success(res.msg);\n            self.getList();\n          });\n        },\n        onCancel: () => {},\n      });\n    },\n    onSelectCancel(selection, row) {},\n  },\n};\n</script>\n\n<style scoped lang=\"stylus\">\nimg {\n  height: 36px;\n  display: block;\n}\n\n.tabBox {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n\n  .tabBox_img {\n    width: 36px;\n    height: 36px;\n\n    img {\n      width: 100%;\n      height: 100%;\n    }\n  }\n\n  .tabBox_tit {\n    width: 60%;\n    font-size: 12px !important;\n    margin: 0 2px 0 10px;\n    letter-spacing: 1px;\n    padding: 5px 0;\n    box-sizing: border-box;\n  }\n}\n\n.orderData >>>.ivu-table-cell {\n  padding-left: 0 !important;\n}\n\n.vertical-center-modal {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.orderData .ivu-table {\n  overflow: visible !important;\n}\n\n.orderData .ivu-table th {\n  overflow: visible !important;\n}\n\n.orderData .ivu-table-header {\n  overflow: visible !important;\n}\n\n/deep/.ivu-table-header {\n  // overflow: visible;\n}\n\n/deep/.ivu-table th {\n  overflow: visible;\n}\n\n/deep/.select-item:hover {\n  background-color: #f3f3f3;\n}\n\n/deep/.select-on {\n  display: block;\n}\n\n/deep/.select-item.on {\n  background: #f3f3f3;\n}\n\n.pictrue-box {\n  display: flex;\n  align-item: center;\n}\n\n.pictrue {\n  width: 25px;\n  height: 25px;\n}\n\n.return {\n  border: 1px solid #ccc;\n  padding: 3px 5px;\n  margin-left: 15px;\n  border-radius: 3px;\n  cursor: pointer;\n}\n</style>\n"]}]}