{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/pages/system/auth/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/pages/system/auth/index.vue","mtime":1689324015270},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB1cGxvYWRQaWN0dXJlcyBmcm9tICdAL2NvbXBvbmVudHMvdXBsb2FkUGljdHVyZXMnOwppbXBvcnQgeyBhdXRoLCBnZXRWZXJzaW9uLCBjcm1lYlByb2R1Y3QsIHNhdmVDcm1lYkNvcHlSaWdodCwgZ2V0Q3JtZWJDb3B5UmlnaHQgfSBmcm9tICdAL2FwaS9zeXN0ZW0nOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBmb3JtYXREYXRlIH0gZnJvbSAnQC91dGlscy92YWxpZGF0ZSc7CmltcG9ydCBRUkNvZGUgZnJvbSAncXJjb2RlanMyJzsKLy8gaW1wb3J0IFZjb2RlIGZyb20gJ3Z1ZS1wdXp6bGUtdmNvZGUnOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdzeXN0ZW1fYXV0aCcsCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcFN0YXRlKCdhZG1pbi9sYXlvdXQnLCBbJ2lzTW9iaWxlJ10pLAogICAgLi4ubWFwU3RhdGUoJ2FkbWluL3VzZXJMZXZlbCcsIFsnY2F0ZWdvcnlJZCddKSwKICAgIGxhYmVsV2lkdGgoKSB7CiAgICAgIHJldHVybiB0aGlzLmlzTW9iaWxlID8gdW5kZWZpbmVkIDogODU7CiAgICB9LAogICAgbGFiZWxQb3NpdGlvbigpIHsKICAgICAgcmV0dXJuIHRoaXMuaXNNb2JpbGUgPyAndG9wJyA6ICdyaWdodCc7CiAgICB9LAogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBiYXNlVXJsOiAnaHR0cHM6Ly9zaG9wLmNybWViLm5ldC9odG1sL2luZGV4Lmh0bWwnLAogICAgICBpZnJhbWVVcmw6ICcnLAogICAgICBjYXB0Y2hzOiAnaHR0cDovL2F1dGhvcml6ZS5jcm1lYi5uZXQvYXBpL2NhcHRjaHMvJywKICAgICAgYXV0aENvZGU6ICcnLAogICAgICBzdGF0dXM6IDEsCiAgICAgIGRheU51bTogMCwKICAgICAgY29weXJpZ2h0OiAnJywKICAgICAgaXNUZW1wbGF0ZTogZmFsc2UsCiAgICAgIHByaWNlOiAnJywKICAgICAgcHJvUHJpY2U6ICcnLAogICAgICBwcm9kdWN0U3RhdHVzOiBmYWxzZSwKICAgICAgY29weXJpZ2h0VGV4dDogJycsCiAgICAgIHN1Y2Nlc3M6IGZhbHNlLAogICAgICBwYXlUeXBlOiAnJywKICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICBpc1Nob3c6IGZhbHNlLCAvLyDpqozor4HnoIHmqKHmgIHmoYbmmK/lkKblh7rnjrAKICAgICAgYWN0aXZlOiAwLAogICAgICB0aW1lcjogbnVsbCwKICAgICAgdmVyc2lvbjogJycsCiAgICAgIGxhYmVsOiAnJywKICAgICAgcHJvZHVjdFR5cGU6ICcnLAogICAgICBtb2RhbFBpYzogZmFsc2UsCiAgICAgIGlzQ2hvaWNlOiAn5Y2V6YCJJywKICAgICAgYXV0aG9yaXplZFBpY3R1cmU6ICcnLCAvLyDniYjmnYPlm77niYcKICAgICAgZ3JpZFBpYzogewogICAgICAgIHhsOiA2LAogICAgICAgIGxnOiA4LAogICAgICAgIG1kOiAxMiwKICAgICAgICBzbTogMTIsCiAgICAgICAgeHM6IDEyLAogICAgICB9LAogICAgICBncmlkQnRuOiB7CiAgICAgICAgeGw6IDQsCiAgICAgICAgbGc6IDgsCiAgICAgICAgbWQ6IDgsCiAgICAgICAgc206IDgsCiAgICAgICAgeHM6IDgsCiAgICAgIH0sCiAgICB9OwogIH0sCiAgZmlsdGVyczogewogICAgZm9ybWF0RGF0ZSh0aW1lKSB7CiAgICAgIGlmICh0aW1lICE9PSAwKSB7CiAgICAgICAgbGV0IGRhdGUgPSBuZXcgRGF0ZSh0aW1lICogMTAwMCk7CiAgICAgICAgcmV0dXJuIGZvcm1hdERhdGUoZGF0ZSwgJ3l5eXktTU0tZGQgaGg6bW0nKTsKICAgICAgfQogICAgfSwKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIHVwbG9hZFBpY3R1cmVzLAogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0QXV0aCgpOwogICAgdGhpcy5nZXRWZXJzaW9uKCk7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIChlKSA9PiB7CiAgICAgIGlmIChlLmRhdGEuZXZlbnQgPT09ICdvbkNhbmNlbCcpIHsKICAgICAgICB0aGlzLmNhbmNlbCgpOwogICAgICB9CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFZlcnNpb24oKSB7CiAgICAgIGdldFZlcnNpb24oKS50aGVuKChyZXMpID0+IHsKICAgICAgICB0aGlzLnZlcnNpb24gPSByZXMuZGF0YS52ZXJzaW9uOwogICAgICAgIHRoaXMubGFiZWwgPSByZXMuZGF0YS5sYWJlbDsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0Q3JtZWJDb3B5UmlnaHQoKSB7CiAgICAgIGdldENybWViQ29weVJpZ2h0KCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgdGhpcy5nZXRBdXRoKCk7CiAgICAgICAgcmV0dXJuIHRoaXMuJE1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgfSk7CiAgICB9LAogICAgLy/kv53lrZjniYjmnYPkv6Hmga8KICAgIHNhdmVDb3B5UmlnaHQoKSB7CiAgICAgIHNhdmVDcm1lYkNvcHlSaWdodCh7CiAgICAgICAgY29weXJpZ2h0OiB0aGlzLmNvcHlyaWdodFRleHQsCiAgICAgICAgY29weXJpZ2h0X2ltZzogdGhpcy5hdXRob3JpemVkUGljdHVyZSwKICAgICAgfSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgcmV0dXJuIHRoaXMuJE1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6YCJ5oup5Zu+54mHCiAgICBtb2RhbFBpY1RhcCgpIHsKICAgICAgdGhpcy5tb2RhbFBpYyA9IHRydWU7CiAgICB9LAogICAgLy8g6YCJ5Lit5Zu+54mHCiAgICBnZXRQaWMocGMpIHsKICAgICAgdGhpcy5hdXRob3JpemVkUGljdHVyZSA9IHBjLmF0dF9kaXI7CiAgICAgIHRoaXMubW9kYWxQaWMgPSBmYWxzZTsKICAgIH0sCiAgICAvL+iOt+WPlueJiOadg+S/oeaBrwogICAgZ2V0Q29weVJpZ2h0KCkgewogICAgICBnZXRDcm1lYkNvcHlSaWdodCgpLnRoZW4oKHJlcykgPT4gewogICAgICAgIHRoaXMuY29weXJpZ2h0VGV4dCA9IHJlcy5kYXRhLmNvcHlyaWdodENvbnRleHQgfHwgJyc7CiAgICAgICAgdGhpcy5hdXRob3JpemVkUGljdHVyZSA9IHJlcy5kYXRhLmNvcHlyaWdodEltYWdlIHx8ICcnOwogICAgICB9KTsKICAgIH0sCiAgICBjYW5jZWwoKSB7CiAgICAgIGlmICh0aGlzLnByb2R1Y3RUeXBlID09PSAnY29weXJpZ2h0JykgewogICAgICAgIHRoaXMuZ2V0Q3JtZWJDb3B5UmlnaHQoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmdldEF1dGgoKTsKICAgICAgfQogICAgICB0aGlzLmlmcmFtZVVybCA9ICcnOwogICAgICB0aGlzLmlzVGVtcGxhdGUgPSBmYWxzZTsKICAgIH0sCiAgICBsb2dpblRhYlN3aXRjaChpbmRleCkgewogICAgICB0aGlzLmFjdGl2ZSA9IGluZGV4OwogICAgfSwKICAgIGdldEF1dGgoKSB7CiAgICAgIGF1dGgoKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIGxldCBkYXRhID0gcmVzLmRhdGEgfHwge307CiAgICAgICAgICB0aGlzLmF1dGhDb2RlID0gZGF0YS5hdXRoQ29kZSB8fCAnJzsKICAgICAgICAgIHRoaXMuc3RhdHVzID0gZGF0YS5zdGF0dXMgPT09IHVuZGVmaW5lZCA/IC0xIDogZGF0YS5zdGF0dXM7CiAgICAgICAgICB0aGlzLmRheU51bSA9IGRhdGEuZGF5IHx8IDA7CiAgICAgICAgICB0aGlzLmNvcHlyaWdodCA9IGRhdGEuY29weXJpZ2h0OwogICAgICAgICAgaWYgKHRoaXMuY29weXJpZ2h0KSB7CiAgICAgICAgICAgIHRoaXMuZ2V0Q29weVJpZ2h0KCk7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcihlcnIubXNnKTsKICAgICAgICB9KTsKICAgIH0sCiAgICB0b0NybWViKCkgewogICAgICB3aW5kb3cub3BlbignaHR0cDovL3d3dy5jcm1lYi5jb20nKTsKICAgIH0sCiAgICBnZXRQcm9kdWN0KCkgewogICAgICBjcm1lYlByb2R1Y3QoeyB0eXBlOiAnY29weXJpZ2h0JyB9KQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMucHJpY2UgPSByZXMuZGF0YS5hdHRyLnByaWNlOwogICAgICAgICAgdGhpcy5wcm9kdWN0U3RhdHVzID0gdHJ1ZTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKGVyci5tc2cpOwogICAgICAgIH0pOwogICAgICBjcm1lYlByb2R1Y3QoeyB0eXBlOiAncHJvJyB9KQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMucHJvUHJpY2UgPSByZXMuZGF0YS5hdHRyLnByaWNlOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IoZXJyLm1zZyk7CiAgICAgICAgfSk7CiAgICB9LAogICAgcGF5bWVudChwcm9kdWN0KSB7CiAgICAgIHRoaXMucHJvZHVjdFR5cGUgPSBwcm9kdWN0OwogICAgICBsZXQgaG9zdCA9IGxvY2F0aW9uLmhvc3Q7CiAgICAgIGxldCBob3N0RGF0YSA9IGhvc3Quc3BsaXQoJy4nKTsKICAgICAgaWYgKGhvc3REYXRhWzBdID09PSAndGVzdCcgJiYgaG9zdERhdGEubGVuZ3RoID09PSA0KSB7CiAgICAgICAgaG9zdCA9IGhvc3QucmVwbGFjZSgndGVzdC4nLCAnJyk7CiAgICAgIH0gZWxzZSBpZiAoaG9zdERhdGFbMF0gPT09ICd3d3cnICYmIGhvc3REYXRhLmxlbmd0aCA9PT0gMykgewogICAgICAgIGhvc3QgPSBob3N0LnJlcGxhY2UoJ3d3dy4nLCAnJyk7CiAgICAgIH0KICAgICAgdGhpcy5pZnJhbWVVcmwgPQogICAgICAgIHRoaXMuYmFzZVVybCArICc/dXJsPScgKyBob3N0ICsgJyZwcm9kdWN0PScgKyBwcm9kdWN0ICsgJyZ2ZXJzaW9uPScgKyB0aGlzLnZlcnNpb24gKyAnJmxhYmVsPScgKyB0aGlzLmxhYmVsOwogICAgICB0aGlzLmlzVGVtcGxhdGUgPSB0cnVlOwogICAgfSwKICAgIC8vIOeUqOaIt+eCueWHu+mBrue9qeWxgu+8jOW6lOivpeWFs+mXreaooeaAgeahhgogICAgb25DbG9zZSgpIHsKICAgICAgdGhpcy5pc1Nob3cgPSBmYWxzZTsKICAgIH0sCiAgfSwKICBkZXN0cm95ZWQoKSB7fSwKfTsK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/system/auth","sourcesContent":["<template>\n  <div>\n    <Card :bordered=\"false\" dis-hover class=\"ivu-mt\">\n      <div class=\"auth acea-row row-between-wrapper\">\n        <div class=\"acea-row row-middle\">\n          <Icon type=\"ios-bulb-outline\" class=\"iconIos blue\" />\n          <div class=\"text\" v-if=\"status === 1\">\n            <div>商业授权</div>\n            <div class=\"code\">授权码：{{ authCode }}</div>\n          </div>\n          <div class=\"text\" v-else>\n            <div>商业授权</div>\n            <div class=\"code\">未授权</div>\n          </div>\n        </div>\n        <!-- <Button class=\"grey\" @click=\"toCrmeb()\" v-if=\"status === 1\">进入官网</Button> -->\n        <div>\n          <Button type=\"primary\" @click=\"toCrmeb()\" v-if=\"status === 1\">进入官网</Button>\n          <Button type=\"primary\" @click=\"payment('bz')\" v-if=\"status !== 1\">购买授权</Button>\n        </div>\n      </div>\n    </Card>\n    <Card :bordered=\"false\" dis-hover class=\"ivu-mt\" v-if=\"!copyright && status == 1\">\n      <!-- v-if=\"copyright == '0' && status == 1\" -->\n      <div class=\"auth acea-row row-between-wrapper\">\n        <div class=\"acea-row row-middle\">\n          <span class=\"iconfont iconbanquan iconIos blue\"></span>\n          <div class=\"text\">\n            <div>去版权服务</div>\n            <div class=\"code\">购买之后可以设置</div>\n            <div class=\"pro_price\" v-if=\"productStatus\">￥{{ price }}</div>\n          </div>\n        </div>\n        <Button type=\"primary\" @click=\"payment('copyright')\">立即购买</Button>\n      </div>\n    </Card>\n    <Card :bordered=\"false\" dis-hover class=\"ivu-mt\" v-if=\"copyright\">\n      <div class=\"auth acea-row row-between-wrapper\">\n        <div class=\"acea-row row-middle\">\n          <span class=\"iconfont iconbanquan iconIos blue\"></span>\n          <div class=\"acea-row row-middle\">\n            <span class=\"update\">修改授权信息:</span>\n            <Input style=\"width: 460px\" v-model=\"copyrightText\" />\n          </div>\n        </div>\n        <Button type=\"primary\" @click=\"saveCopyRight\">保存</Button>\n      </div>\n      <div class=\"authorized\">\n        <div>\n          <span class=\"update\">上传授权图片:</span>\n        </div>\n        <div class=\"uploadPictrue\" v-if=\"authorizedPicture\" @click=\"modalPicTap('单选')\">\n          <img v-lazy=\"authorizedPicture\" />\n        </div>\n        <div class=\"upload\" v-else @click=\"modalPicTap('单选')\">\n          <div class=\"iconfont\">+</div>\n        </div>\n      </div>\n      <span class=\"prompt\">建议尺寸：宽290px*高100px</span>\n    </Card>\n\n    <Modal\n      v-model=\"isTemplate\"\n      scrollable\n      footer-hide\n      closable\n      title=\"商业授权\"\n      :z-index=\"1\"\n      width=\"447\"\n      @on-cancel=\"cancel\"\n    >\n      <iframe width=\"100%\" height=\"580\" :src=\"iframeUrl\" frameborder=\"0\"></iframe>\n    </Modal>\n    <Modal\n      v-model=\"modalPic\"\n      width=\"960px\"\n      scrollable\n      footer-hide\n      closable\n      title=\"上传授权图片\"\n      :mask-closable=\"false\"\n      :z-index=\"1\"\n    >\n      <uploadPictures\n        :isChoice=\"isChoice\"\n        @getPic=\"getPic\"\n        :gridBtn=\"gridBtn\"\n        :gridPic=\"gridPic\"\n        v-if=\"modalPic\"\n      ></uploadPictures>\n    </Modal>\n  </div>\n</template>\n<script>\nimport uploadPictures from '@/components/uploadPictures';\nimport { auth, getVersion, crmebProduct, saveCrmebCopyRight, getCrmebCopyRight } from '@/api/system';\nimport { mapState } from 'vuex';\nimport { formatDate } from '@/utils/validate';\nimport QRCode from 'qrcodejs2';\n// import Vcode from 'vue-puzzle-vcode';\n\nexport default {\n  name: 'system_auth',\n  computed: {\n    ...mapState('admin/layout', ['isMobile']),\n    ...mapState('admin/userLevel', ['categoryId']),\n    labelWidth() {\n      return this.isMobile ? undefined : 85;\n    },\n    labelPosition() {\n      return this.isMobile ? 'top' : 'right';\n    },\n  },\n\n  data() {\n    return {\n      baseUrl: 'https://shop.crmeb.net/html/index.html',\n      iframeUrl: '',\n      captchs: 'http://authorize.crmeb.net/api/captchs/',\n      authCode: '',\n      status: 1,\n      dayNum: 0,\n      copyright: '',\n      isTemplate: false,\n      price: '',\n      proPrice: '',\n      productStatus: false,\n      copyrightText: '',\n      success: false,\n      payType: '',\n      disabled: false,\n      isShow: false, // 验证码模态框是否出现\n      active: 0,\n      timer: null,\n      version: '',\n      label: '',\n      productType: '',\n      modalPic: false,\n      isChoice: '单选',\n      authorizedPicture: '', // 版权图片\n      gridPic: {\n        xl: 6,\n        lg: 8,\n        md: 12,\n        sm: 12,\n        xs: 12,\n      },\n      gridBtn: {\n        xl: 4,\n        lg: 8,\n        md: 8,\n        sm: 8,\n        xs: 8,\n      },\n    };\n  },\n  filters: {\n    formatDate(time) {\n      if (time !== 0) {\n        let date = new Date(time * 1000);\n        return formatDate(date, 'yyyy-MM-dd hh:mm');\n      }\n    },\n  },\n  components: {\n    uploadPictures,\n  },\n  mounted() {\n    this.getAuth();\n    this.getVersion();\n    window.addEventListener('message', (e) => {\n      if (e.data.event === 'onCancel') {\n        this.cancel();\n      }\n    });\n  },\n  methods: {\n    getVersion() {\n      getVersion().then((res) => {\n        this.version = res.data.version;\n        this.label = res.data.label;\n      });\n    },\n    getCrmebCopyRight() {\n      getCrmebCopyRight().then((res) => {\n        this.getAuth();\n        return this.$Message.success(res.msg);\n      });\n    },\n    //保存版权信息\n    saveCopyRight() {\n      saveCrmebCopyRight({\n        copyright: this.copyrightText,\n        copyright_img: this.authorizedPicture,\n      }).then((res) => {\n        return this.$Message.success(res.msg);\n      });\n    },\n    // 选择图片\n    modalPicTap() {\n      this.modalPic = true;\n    },\n    // 选中图片\n    getPic(pc) {\n      this.authorizedPicture = pc.att_dir;\n      this.modalPic = false;\n    },\n    //获取版权信息\n    getCopyRight() {\n      getCrmebCopyRight().then((res) => {\n        this.copyrightText = res.data.copyrightContext || '';\n        this.authorizedPicture = res.data.copyrightImage || '';\n      });\n    },\n    cancel() {\n      if (this.productType === 'copyright') {\n        this.getCrmebCopyRight();\n      } else {\n        this.getAuth();\n      }\n      this.iframeUrl = '';\n      this.isTemplate = false;\n    },\n    loginTabSwitch(index) {\n      this.active = index;\n    },\n    getAuth() {\n      auth()\n        .then((res) => {\n          let data = res.data || {};\n          this.authCode = data.authCode || '';\n          this.status = data.status === undefined ? -1 : data.status;\n          this.dayNum = data.day || 0;\n          this.copyright = data.copyright;\n          if (this.copyright) {\n            this.getCopyRight();\n          }\n        })\n        .catch((err) => {\n          this.$Message.error(err.msg);\n        });\n    },\n    toCrmeb() {\n      window.open('http://www.crmeb.com');\n    },\n    getProduct() {\n      crmebProduct({ type: 'copyright' })\n        .then((res) => {\n          this.price = res.data.attr.price;\n          this.productStatus = true;\n        })\n        .catch((err) => {\n          this.$Message.error(err.msg);\n        });\n      crmebProduct({ type: 'pro' })\n        .then((res) => {\n          this.proPrice = res.data.attr.price;\n        })\n        .catch((err) => {\n          this.$Message.error(err.msg);\n        });\n    },\n    payment(product) {\n      this.productType = product;\n      let host = location.host;\n      let hostData = host.split('.');\n      if (hostData[0] === 'test' && hostData.length === 4) {\n        host = host.replace('test.', '');\n      } else if (hostData[0] === 'www' && hostData.length === 3) {\n        host = host.replace('www.', '');\n      }\n      this.iframeUrl =\n        this.baseUrl + '?url=' + host + '&product=' + product + '&version=' + this.version + '&label=' + this.label;\n      this.isTemplate = true;\n    },\n    // 用户点击遮罩层，应该关闭模态框\n    onClose() {\n      this.isShow = false;\n    },\n  },\n  destroyed() {},\n};\n</script>\n<style scoped lang=\"stylus\">\n.auth {\n  padding: 9px 16px 9px 10px;\n}\n\n.auth .iconIos {\n  font-size: 40px;\n  margin-right: 10px;\n  color: #001529;\n}\n\n.auth .text {\n  font-weight: 400;\n  color: rgba(0, 0, 0, 1);\n  font-size: 18px;\n}\n\n.auth .text .code {\n  font-size: 14px;\n  color: rgba(0, 0, 0, 0.5);\n}\n\n.auth .text .pro_price {\n  height: 18px;\n  font-size: 14px;\n  font-family: PingFangSC-Semibold, PingFang SC;\n  font-weight: 600;\n  color: #F5222D;\n  line-height: 18px;\n}\n\n.auth .blue {\n  color: #1890FF !important;\n}\n\n.auth .red {\n  color: #ED4014 !important;\n}\n\n.authorized {\n  display: flex;\n  margin-left: 18px;\n  margin-bottom: 14px;\n\n  .upload {\n    width: 60px;\n    height: 60px;\n    background: rgba(0, 0, 0, 0.02);\n    border-radius: 4px;\n    border: 1px solid #DDDDDD;\n  }\n}\n\n.upload .iconfont {\n  text-align: center;\n  line-height: 60px;\n}\n\n.uploadPictrue {\n  width: 60px;\n  height: 60px;\n  border: 1px dotted rgba(0, 0, 0, 0.1);\n  margin-left: 2px;\n}\n\n.uploadPictrue img {\n  width: 100%;\n  height: 100%;\n}\n\n.phone_code {\n  border: 1px solid #eee;\n  padding: 0 10px 0;\n  cursor: pointer;\n}\n\n.grey {\n  background-color: #999999;\n  border-color: #999999;\n  color: #fff;\n}\n\n.update {\n  font-size: 13px;\n  color: rgba(0, 0, 0, 0.85);\n  padding-right: 12px;\n}\n\n.prompt {\n  margin-left: 114px;\n  font-size: 12px;\n  font-weight: 400;\n  color: #999999;\n}\n\n.submit {\n  width: 100%;\n}\n\n.code .input {\n  width: 83%;\n}\n\n.code .input .ivu-input {\n  border-radius: 4px 0 0 4px !important;\n}\n\n.code .pictrue {\n  height: 32px;\n  width: 17%;\n}\n\n.customer {\n  border-right: 0;\n}\n\n.customer a {\n  font-size: 12px;\n}\n\n.ivu-input-group-prepend, .ivu-input-group-append {\n  background-color: #fff;\n}\n\n.ivu-input-group .ivu-input {\n  border-right: 0 !important;\n}\n\n.qrcode {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 180px;\n  height: 180px;\n  border: 1px solid #E5E5E6;\n}\n\n.qrcode_desc {\n  display: inline-block;\n  text-align: center;\n  margin: 10px 0 10px;\n  width: 180px;\n  font-size: 12px;\n  color: #666;\n  line-height: 16px;\n}\n\n.login_tab {\n  font-size: 16px;\n  margin: 0 0 20px;\n  justify-content: center;\n}\n\n.login_tab_item {\n  width: 50%;\n  text-align: center;\n  padding-bottom: 15px;\n  border-bottom: 1px solid #eee;\n  cursor: pointer;\n}\n\n.active_tab {\n  border-bottom: 2px solid #1495ED;\n  color: #1495ED;\n  font-weight: 600;\n}\n</style>\n"]}]}