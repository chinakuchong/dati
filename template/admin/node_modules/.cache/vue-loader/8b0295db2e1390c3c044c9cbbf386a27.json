{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/pages/marketing/channelCode/createCode.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/pages/marketing/channelCode/createCode.vue","mtime":1689324015221},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCB1c2VyTGFiZWwgZnJvbSAnQC9jb21wb25lbnRzL2xhYmVsTGlzdCc7CgppbXBvcnQgZ29vZHNMaXN0IGZyb20gJ0AvY29tcG9uZW50cy9nb29kc0xpc3QvaW5kZXgnOwppbXBvcnQgbmV3c0NhdGVnb3J5IGZyb20gJ0AvY29tcG9uZW50cy9uZXdzQ2F0ZWdvcnkvaW5kZXgnOwppbXBvcnQgeyBsYWJlbExpc3RBcGkgfSBmcm9tICdAL2FwaS9wcm9kdWN0JzsKaW1wb3J0IHsgdXNlckxhYmVsQWRkQXBpIH0gZnJvbSAnQC9hcGkvdXNlcic7CmltcG9ydCB7IHdlY2hhdFFyY29kZVNhdmVBcGksIHdlY2hhdFFyY29kZVRyZWUsIHdlY2hhdFFyY29kZURldGFpbCB9IGZyb20gJ0AvYXBpL3NldHRpbmcnOwppbXBvcnQgU2V0dGluZyBmcm9tICdAL3NldHRpbmcnOwppbXBvcnQgeyBnZXRDb29raWVzIH0gZnJvbSAnQC9saWJzL3V0aWwnOwppbXBvcnQgY3VzdG9tZXJJbmZvIGZyb20gJ0AvY29tcG9uZW50cy9jdXN0b21lckluZm8nOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdzdG9yZUNvdXBvbkNyZWF0ZScsCiAgY29tcG9uZW50czogewogICAgZ29vZHNMaXN0LAogICAgbmV3c0NhdGVnb3J5LAogICAgY3VzdG9tZXJJbmZvLAogICAgdXNlckxhYmVsLAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGN1c3RvbWVyU2hvdzogZmFsc2UsCiAgICAgIGxhYmVsU2hvdzogZmFsc2UsCiAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgbW9kYWxzOiBmYWxzZSwKICAgICAgbWF4Q29sczogNCwKICAgICAgbGFiZWxTZWxlY3Q6IFtdLAoKICAgICAgc2Nyb2xsZXJIZWlnaHQ6ICc2MDAnLAogICAgICBjb250ZW50VG9wOiAnMTMwJywKICAgICAgY29udGVudFdpZHRoOiAnOTglJywKICAgICAgZm9ybWF0SW1nOiBbJ2pwZycsICdqcGVnJywgJ3BuZycsICdibXAnLCAnZ2lmJ10sCiAgICAgIGZvcm1hdFZvaWNlOiBbJ21wMycsICd3bWEnLCAnd2F2JywgJ2FtciddLAogICAgICBoZWFkZXI6IHt9LAogICAgICBmaWxlVXJsOiBTZXR0aW5nLmFwaUJhc2VVUkwgKyAnL2ZpbGUvdXBsb2FkLzEnLAoKICAgICAgZm9ybURhdGE6IHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICB0eXBlOiAndGV4dCcsCiAgICAgICAgdGltZTogMCwKICAgICAgICBsYWJlbF9pZDogW10sCiAgICAgICAgaW1hZ2U6ICcnLAogICAgICAgIGNhdGVfaWQ6ICcnLAogICAgICAgIGNvbnRlbnQ6IHsKICAgICAgICAgIGNvbnRlbnQ6ICcnLAogICAgICAgICAgc3JjOiAnJywKICAgICAgICAgIGxpc3Q6IHt9LAogICAgICAgIH0sCiAgICAgIH0sCiAgICAgIGxhYmVsU29ydDogW10sCiAgICAgIGlzUmVjZWl2ZVRpbWU6IDAsCiAgICAgIG1vZGFsczogZmFsc2UsCiAgICAgIHJ1bGVWYWxpZGF0ZTogewogICAgICAgIG5hbWU6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfor7floavlhpnkuoznu7TnoIHlkI3np7AnLAogICAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicsCiAgICAgICAgICB9LAogICAgICAgIF0sCiAgICAgICAgY2F0ZV9pZDogWwogICAgICAgICAgewogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogJ+ivt+mAieaLqeS6jOe7tOeggeWIhue7hCcsCiAgICAgICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnLAogICAgICAgICAgfSwKICAgICAgICBdLAogICAgICB9LAogICAgICBpZDogMCwKICAgICAgZGF0YUxhYmVsOiBbXSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcFN0YXRlKCdtZWRpYScsIFsnaXNNb2JpbGUnXSksCiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRVc2VyTGFiZWxBbGwoKTsKICAgIHRoaXMudXNlckxhYmVsKCk7CiAgICB0aGlzLmdldFRva2VuKCk7CiAgICBpZiAodGhpcy4kcm91dGUucXVlcnkuaWQpIHsKICAgICAgdGhpcy5pZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmlkOwogICAgICB0aGlzLmdldERldGFpbCgpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgYWN0aXZlRGF0YShkYXRhTGFiZWwpIHsKICAgICAgdGhpcy5sYWJlbFNob3cgPSBmYWxzZTsKICAgICAgdGhpcy5kYXRhTGFiZWwgPSBkYXRhTGFiZWw7CiAgICB9LAogICAgLy8g5qCH562+5by556qX5YWz6ZetCiAgICBsYWJlbENsb3NlKCkgewogICAgICB0aGlzLmxhYmVsU2hvdyA9IGZhbHNlOwogICAgfSwKICAgIG9wZW5MYWJlbChyb3cpIHsKICAgICAgdGhpcy5sYWJlbFNob3cgPSB0cnVlOwogICAgICB0aGlzLiRyZWZzLnVzZXJMYWJlbC51c2VyTGFiZWwoSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmRhdGFMYWJlbCkpKTsKICAgIH0sCiAgICBjbG9zZUxhYmVsKGxhYmVsKSB7CiAgICAgIGxldCBpbmRleCA9IHRoaXMuZGF0YUxhYmVsLmluZGV4T2YodGhpcy5kYXRhTGFiZWwuZmlsdGVyKChkKSA9PiBkLmlkID09IGxhYmVsLmlkKVswXSk7CiAgICAgIHRoaXMuZGF0YUxhYmVsLnNwbGljZShpbmRleCwgMSk7CiAgICB9LAogICAgZ2V0RGV0YWlsKCkgewogICAgICB3ZWNoYXRRcmNvZGVEZXRhaWwodGhpcy5pZCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgdGhpcy5mb3JtRGF0YSA9IHJlcy5kYXRhOwogICAgICAgIGlmIChyZXMuZGF0YS50aW1lID4gMCkgewogICAgICAgICAgdGhpcy5pc1JlY2VpdmVUaW1lID0gMTsKICAgICAgICB9CiAgICAgICAgaWYgKHJlcy5kYXRhLmxhYmVsX2lkLmxlbmd0aCkgewogICAgICAgICAgdGhpcy5kYXRhTGFiZWwgPSByZXMuZGF0YS5sYWJlbF9pZDsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGN1c3RvbWVyKCkgewogICAgICB0aGlzLmN1c3RvbWVyU2hvdyA9IHRydWU7CiAgICB9LAogICAgYWRkTGFiZWwoKSB7CiAgICAgIHRoaXMuJG1vZGFsRm9ybSh1c2VyTGFiZWxBZGRBcGkoMCkpLnRoZW4oKCkgPT4gdGhpcy51c2VyTGFiZWwoKSk7CiAgICB9LAogICAgLy8g55So5oi35qCH562+CiAgICB1c2VyTGFiZWwoKSB7CiAgICAgIGxhYmVsTGlzdEFwaSgpCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgdGhpcy5sYWJlbFNlbGVjdCA9IHJlcy5kYXRhLmxpc3Q7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBpbWFnZU9iamVjdChlKSB7CiAgICAgIHRoaXMuY3VzdG9tZXJTaG93ID0gZmFsc2U7CiAgICAgIHRoaXMuZm9ybURhdGEudWlkID0gZS51aWQ7CiAgICAgIHRoaXMuZm9ybURhdGEuYXZhdGFyID0gZS5pbWFnZTsKICAgIH0sCiAgICBnZXRDZW50TGlzdCh2YWwpIHsKICAgICAgdGhpcy5mb3JtRGF0YS5jb250ZW50Lmxpc3QgPSB2YWwubmV3WzBdOwogICAgICB0aGlzLm1vZGFscyA9IGZhbHNlOwogICAgfSwKICAgIC8vIOS4iuS8oOaIkOWKnwogICAgaGFuZGxlU3VjY2VzcyhyZXMsIGZpbGUpIHsKICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgewogICAgICAgIHRoaXMuZm9ybURhdGEuY29udGVudC5zcmMgPSByZXMuZGF0YS5zcmM7CiAgICAgICAgdGhpcy4kTWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVGb3JtYXRFcnJvcihmaWxlKSB7CiAgICAgIGlmICh0aGlzLmZvcm1EYXRhLnR5cGUgPT09ICdpbWFnZScpIHsKICAgICAgICB0aGlzLiRNZXNzYWdlLndhcm5pbmcoJ+ivt+S4iuS8oGJtcC9wbmcvanBlZy9qcGcvZ2lm5qC85byP55qE5Zu+54mHJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kTWVzc2FnZS53YXJuaW5nKCfor7fkuIrkvKBtcDMvd21hL3dhdi9hbXLmoLzlvI/nmoTor63pn7MnKTsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZU1heFNpemUoZmlsZSkgewogICAgICB0aGlzLiRNZXNzYWdlLndhcm5pbmcoJ+ivt+S4iuS8oOaWh+S7tjJN5Lul5YaF55qE5paH5Lu2Jyk7CiAgICB9LAogICAgLy8g5LiK5Lyg5aS06YOodG9rZW4KICAgIGdldFRva2VuKCkgewogICAgICB0aGlzLmhlYWRlclsnQXV0aG9yaS16YXRpb24nXSA9ICdCZWFyZXIgJyArIGdldENvb2tpZXMoJ3Rva2VuJyk7CiAgICB9LAogICAgc2VsZWN0TWVudShuYW1lKSB7CiAgICAgIHRoaXMuZm9ybURhdGEudHlwZSA9IG5hbWU7CiAgICB9LAogICAgLy8g6I635Y+W5YiG57G7CiAgICBnZXRVc2VyTGFiZWxBbGwoKSB7CiAgICAgIHdlY2hhdFFyY29kZVRyZWUoKS50aGVuKChyZXMpID0+IHsKICAgICAgICBsZXQgZGF0YSA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgdGhpcy5sYWJlbFNvcnQgPSBkYXRhOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDliJvlu7oKICAgIHNhdmUoKSB7CiAgICAgIGlmICghdGhpcy5mb3JtRGF0YS5uYW1lKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJE1lc3NhZ2UuZXJyb3IoJ+ivt+i+k+WFpeS6jOe7tOeggeWQjeensCcpOwogICAgICB9CiAgICAgIGlmICghdGhpcy5mb3JtRGF0YS5jYXRlX2lkKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJE1lc3NhZ2UuZXJyb3IoJ+ivt+mAieaLqeWIhue7hCcpOwogICAgICB9CiAgICAgIGlmICghdGhpcy5kYXRhTGFiZWwubGVuZ3RoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJE1lc3NhZ2UuZXJyb3IoJ+ivt+mAieaLqeeUqOaIt+agh+etvicpOwogICAgICB9IGVsc2UgewogICAgICAgIGxldCBpZHMgPSBbXTsKICAgICAgICB0aGlzLmRhdGFMYWJlbC5tYXAoKGkpID0+IHsKICAgICAgICAgIGlkcy5wdXNoKGkuaWQpOwogICAgICAgIH0pOwogICAgICAgIHRoaXMuZm9ybURhdGEubGFiZWxfaWQgPSBpZHM7CiAgICAgIH0KICAgICAgaWYgKCF0aGlzLmZvcm1EYXRhLnVpZCkgewogICAgICAgIHJldHVybiB0aGlzLiRNZXNzYWdlLmVycm9yKCfor7fpgInmi6nmjqjlub/lkZgnKTsKICAgICAgfQogICAgICBpZiAodGhpcy5pc1JlY2VpdmVUaW1lKSB7CiAgICAgICAgaWYgKHRoaXMuZm9ybURhdGEudGltZSA8IDEpIHsKICAgICAgICAgIHJldHVybiB0aGlzLiRNZXNzYWdlLmVycm9yKCfkvb/nlKjmnInmlYjmnJ/pmZDkuI3og73lsI/kuo4x5aSpJyk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZm9ybURhdGEudGltZSA9IDA7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuZm9ybURhdGEudHlwZSA9PT0gJ3RleHQnIHx8IHRoaXMuZm9ybURhdGEudHlwZSA9PT0gJ3VybCcpIHsKICAgICAgICBpZiAoIXRoaXMuZm9ybURhdGEuY29udGVudC5jb250ZW50LnRyaW0oKSkgewogICAgICAgICAgcmV0dXJuIHRoaXMuJE1lc3NhZ2UuZXJyb3IoJ+ivt+i+k+WFpeWGheWuuScpOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAodGhpcy5mb3JtRGF0YS50eXBlID09PSAndm9pY2UnIHx8IHRoaXMuZm9ybURhdGEudHlwZSA9PT0gJ2ltYWdlJykgewogICAgICAgIGlmICghdGhpcy5mb3JtRGF0YS5jb250ZW50LnNyYy50cmltKCkpIHsKICAgICAgICAgIHJldHVybiB0aGlzLiRNZXNzYWdlLmVycm9yKCfor7flhYjkuIrkvKDmtojmga8nKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKHRoaXMuZm9ybURhdGEudHlwZSA9PT0gJ25ld3MnKSB7CiAgICAgICAgaWYgKCF0aGlzLmZvcm1EYXRhLmNvbnRlbnQubGlzdC50aXRsZS50cmltKCkpIHsKICAgICAgICAgIHJldHVybiB0aGlzLiRNZXNzYWdlLmVycm9yKCfor7fpgInmi6nlm77mlofmtojmga8nKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5kaXNhYmxlZCA9IGZhbHNlOwogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB3ZWNoYXRRcmNvZGVTYXZlQXBpKHRoaXMuaWQsIHRoaXMuZm9ybURhdGEpCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgdGhpcy5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgIHBhdGg6IHRoaXMuJHJvdXRlUHJvU3RyICsgJy9tYXJrZXRpbmcvY2hhbm5lbF9jb2RlL2NoYW5uZWxDb2RlSW5kZXgnLAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0sIDEwMDApOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgIHRoaXMuZGlzYWJsZWQgPSB0cnVlOwogICAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcihlcnIubXNnKTsKICAgICAgICB9KTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["createCode.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8KA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"createCode.vue","sourceRoot":"src/pages/marketing/channelCode","sourcesContent":["<template>\n  <div>\n    <div class=\"i-layout-page-header header-title\">\n      <div class=\"fl_header\">\n        <span>\n          <Button icon=\"ios-arrow-back\" size=\"small\" type=\"text\" @click=\"$router.go(-1)\">返回</Button>\n        </span>\n        <Divider type=\"vertical\" />\n        <span class=\"ivu-page-header-title\">{{ $route.query.id ? '编辑渠道码' : '添加渠道码' }}</span>\n      </div>\n    </div>\n    <Card :bordered=\"false\" dis-hover class=\"ivu-mt\">\n      <Form :model=\"formData\" :label-width=\"150\" :rules=\"ruleValidate\">\n        <FormItem label=\"二维码名称\">\n          <Input v-model=\"formData.name\" placeholder=\"请输入二维码名称\"></Input>\n        </FormItem>\n        <FormItem label=\"二维码分组\" :label-width=\"150\">\n          <Select v-model=\"formData.cate_id\" style=\"width: 320px\">\n            <Option :value=\"item.id\" v-for=\"(item, index) in labelSort\" :key=\"index\">{{ item.cate_name }}</Option>\n          </Select>\n        </FormItem>\n        <FormItem label=\"用户标签\" :label-width=\"150\">\n          <!-- <Select\n            v-model=\"formData.label_id\"\n            placeholder=\"请选择用户标签\"\n            multiple\n            class=\"perW20\"\n            style=\"width: 320px\"\n          >\n            <Option\n              v-for=\"item in labelSelect\"\n              :value=\"item.id\"\n              :key=\"item.id\"\n              >{{ item.label_name }}</Option\n            >\n          </Select>\n          <span class=\"addfont\" @click=\"addLabel\">新增标签</span> -->\n          <div style=\"display: flex\">\n            <div class=\"labelInput acea-row row-between-wrapper\" @click=\"openLabel\">\n              <div style=\"width: 90%\">\n                <div v-if=\"dataLabel.length\">\n                  <Tag closable v-for=\"(item, index) in dataLabel\" @on-close=\"closeLabel(item)\" :key=\"index\">{{\n                    item.label_name\n                  }}</Tag>\n                </div>\n                <span class=\"span\" v-else>选择用户关联标签</span>\n              </div>\n              <div class=\"ivu-icon ivu-icon-ios-arrow-down\"></div>\n            </div>\n            <span class=\"addfont\" @click=\"addLabel\">新增标签</span>\n          </div>\n        </FormItem>\n        <FormItem label=\"关联推广员\" :label-width=\"150\">\n          <div class=\"picBox\" @click=\"customer\">\n            <div class=\"pictrue\" v-if=\"formData.avatar\">\n              <img v-lazy=\"formData.avatar\" />\n            </div>\n            <div class=\"upLoad acea-row row-center-wrapper\" v-else>\n              <Icon type=\"ios-camera-outline\" size=\"26\" />\n            </div>\n          </div>\n          <div class=\"trip\">扫码注册的新用户,将自动成为此推广员的下级,与分销推广功能一致</div>\n        </FormItem>\n        <FormItem label=\"有效期\">\n          <RadioGroup v-model=\"isReceiveTime\">\n            <Radio :label=\"0\">永久</Radio>\n            <Radio :label=\"1\">有效期</Radio>\n          </RadioGroup>\n          <span v-show=\"isReceiveTime\">\n            <InputNumber\n              :min=\"1\"\n              :max=\"10000\"\n              :precision=\"0\"\n              v-model=\"formData.time\"\n              placeholder=\"请输入天数\"\n              style=\"width: 100px\"\n            ></InputNumber>\n            天\n          </span>\n          <div class=\"trip\">临时码过期后不能再扫码,永久二维码最大创建数量为10万个</div>\n        </FormItem>\n        <FormItem label=\"回复内容\">\n          <Row>\n            <Col span=\"4\">\n              <Menu theme=\"light\" style=\"width: 150px\" :active-name=\"formData.type\" @on-select=\"selectMenu\">\n                <MenuItem name=\"text\">文字内容</MenuItem>\n                <!-- <MenuItem name=\"url\">网址链接</MenuItem> -->\n                <!-- <MenuItem name=\"3\">小程序</MenuItem> -->\n                <MenuItem name=\"voice\">声音消息</MenuItem>\n                <MenuItem name=\"image\">图片消息</MenuItem>\n                <MenuItem name=\"news\">图文消息</MenuItem>\n              </Menu>\n            </Col>\n            <Col span=\"18\">\n              <FormItem label=\"消息内容：\" prop=\"content\" v-if=\"formData.type === 'text' || formData.type === 'url'\">\n                <textarea\n                  v-model=\"formData.content.content\"\n                  :placeholder=\"formData.type === 'text' ? '请填写消息内容' : '请填写网址链接'\"\n                  style=\"width: 50%\"\n                ></textarea>\n              </FormItem>\n              <FormItem label=\"选取图文：\" v-if=\"formData.type === 'news'\">\n                <Button type=\"info\" @click=\"modals = true\">选择图文消息</Button>\n                <div class=\"news-box\" v-if=\"formData.content.list.title\">\n                  <img class=\"news_pic\" :src=\"formData.content.list.image_input[0]\" />\n                  <span>{{ formData.content.list.title }}</span>\n                </div>\n              </FormItem>\n              <FormItem\n                :label=\"formData.type === 'image' ? '图片地址：' : '语音地址：'\"\n                prop=\"src\"\n                v-if=\"formData.type === 'image' || formData.type === 'voice'\"\n              >\n                <div class=\"acea-row row-middle\">\n                  <Input\n                    readonly=\"readonly\"\n                    placeholder=\"请填入链接地址\"\n                    style=\"width: 75%\"\n                    class=\"mr15\"\n                    v-model=\"formData.content.src\"\n                  />\n                  <Upload\n                    :show-upload-list=\"false\"\n                    :action=\"fileUrl\"\n                    :on-success=\"handleSuccess\"\n                    :format=\"formData.type === 'image' ? formatImg : formatVoice\"\n                    :max-size=\"2048\"\n                    :headers=\"header\"\n                    :on-format-error=\"handleFormatError\"\n                    :on-exceeded-size=\"handleMaxSize\"\n                    class=\"mr20\"\n                    style=\"margin-top: 1px\"\n                  >\n                    <Button type=\"primary\">上传</Button>\n                  </Upload>\n                </div>\n                <span v-show=\"formData.type === 'image'\">文件最大2Mb，支持bmp/png/jpeg/jpg/gif格式</span>\n                <span v-show=\"formData.type === 'voice'\">文件最大2Mb，支持mp3格式,播放长度不超过60s</span>\n              </FormItem>\n            </Col>\n          </Row>\n        </FormItem>\n      </Form>\n      <Button class=\"submit\" type=\"primary\" @click=\"save\" :loading=\"loading\" :disabled=\"disabled\">立即提交</Button>\n    </Card>\n    <Modal v-model=\"customerShow\" scrollable title=\"请选择商城用户\" :closable=\"false\" width=\"800\">\n      <customerInfo v-if=\"customerShow\" @imageObject=\"imageObject\"></customerInfo>\n    </Modal>\n    <!--图文消息 -->\n    <Modal v-model=\"modals\" scrollable title=\"发送消息\" width=\"1200\" height=\"800\" footer-hide class=\"modelBox\">\n      <news-category\n        v-if=\"modals\"\n        @getCentList=\"getCentList\"\n        :scrollerHeight=\"scrollerHeight\"\n        :contentTop=\"contentTop\"\n        :contentWidth=\"contentWidth\"\n        :maxCols=\"maxCols\"\n      ></news-category>\n    </Modal>\n    <Modal\n      v-model=\"labelShow\"\n      scrollable\n      title=\"请选择用户标签\"\n      :closable=\"false\"\n      width=\"500\"\n      :footer-hide=\"true\"\n      :mask-closable=\"false\"\n    >\n      <userLabel ref=\"userLabel\" @activeData=\"activeData\" @close=\"labelClose\"></userLabel>\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport userLabel from '@/components/labelList';\n\nimport goodsList from '@/components/goodsList/index';\nimport newsCategory from '@/components/newsCategory/index';\nimport { labelListApi } from '@/api/product';\nimport { userLabelAddApi } from '@/api/user';\nimport { wechatQrcodeSaveApi, wechatQrcodeTree, wechatQrcodeDetail } from '@/api/setting';\nimport Setting from '@/setting';\nimport { getCookies } from '@/libs/util';\nimport customerInfo from '@/components/customerInfo';\n\nexport default {\n  name: 'storeCouponCreate',\n  components: {\n    goodsList,\n    newsCategory,\n    customerInfo,\n    userLabel,\n  },\n  data() {\n    return {\n      customerShow: false,\n      labelShow: false,\n      disabled: false,\n      modals: false,\n      maxCols: 4,\n      labelSelect: [],\n\n      scrollerHeight: '600',\n      contentTop: '130',\n      contentWidth: '98%',\n      formatImg: ['jpg', 'jpeg', 'png', 'bmp', 'gif'],\n      formatVoice: ['mp3', 'wma', 'wav', 'amr'],\n      header: {},\n      fileUrl: Setting.apiBaseURL + '/file/upload/1',\n\n      formData: {\n        name: '',\n        type: 'text',\n        time: 0,\n        label_id: [],\n        image: '',\n        cate_id: '',\n        content: {\n          content: '',\n          src: '',\n          list: {},\n        },\n      },\n      labelSort: [],\n      isReceiveTime: 0,\n      modals: false,\n      ruleValidate: {\n        name: [\n          {\n            required: true,\n            message: '请填写二维码名称',\n            trigger: 'blur',\n          },\n        ],\n        cate_id: [\n          {\n            required: true,\n            message: '请选择二维码分组',\n            trigger: 'change',\n          },\n        ],\n      },\n      id: 0,\n      dataLabel: [],\n      loading: false,\n    };\n  },\n  computed: {\n    ...mapState('media', ['isMobile']),\n  },\n  created() {\n    this.getUserLabelAll();\n    this.userLabel();\n    this.getToken();\n    if (this.$route.query.id) {\n      this.id = this.$route.query.id;\n      this.getDetail();\n    }\n  },\n  methods: {\n    activeData(dataLabel) {\n      this.labelShow = false;\n      this.dataLabel = dataLabel;\n    },\n    // 标签弹窗关闭\n    labelClose() {\n      this.labelShow = false;\n    },\n    openLabel(row) {\n      this.labelShow = true;\n      this.$refs.userLabel.userLabel(JSON.parse(JSON.stringify(this.dataLabel)));\n    },\n    closeLabel(label) {\n      let index = this.dataLabel.indexOf(this.dataLabel.filter((d) => d.id == label.id)[0]);\n      this.dataLabel.splice(index, 1);\n    },\n    getDetail() {\n      wechatQrcodeDetail(this.id).then((res) => {\n        this.formData = res.data;\n        if (res.data.time > 0) {\n          this.isReceiveTime = 1;\n        }\n        if (res.data.label_id.length) {\n          this.dataLabel = res.data.label_id;\n        }\n      });\n    },\n    customer() {\n      this.customerShow = true;\n    },\n    addLabel() {\n      this.$modalForm(userLabelAddApi(0)).then(() => this.userLabel());\n    },\n    // 用户标签\n    userLabel() {\n      labelListApi()\n        .then((res) => {\n          this.labelSelect = res.data.list;\n        })\n        .catch((res) => {\n          this.$Message.error(res.msg);\n        });\n    },\n    imageObject(e) {\n      this.customerShow = false;\n      this.formData.uid = e.uid;\n      this.formData.avatar = e.image;\n    },\n    getCentList(val) {\n      this.formData.content.list = val.new[0];\n      this.modals = false;\n    },\n    // 上传成功\n    handleSuccess(res, file) {\n      if (res.status === 200) {\n        this.formData.content.src = res.data.src;\n        this.$Message.success(res.msg);\n      } else {\n        this.$Message.error(res.msg);\n      }\n    },\n    handleFormatError(file) {\n      if (this.formData.type === 'image') {\n        this.$Message.warning('请上传bmp/png/jpeg/jpg/gif格式的图片');\n      } else {\n        this.$Message.warning('请上传mp3/wma/wav/amr格式的语音');\n      }\n    },\n    handleMaxSize(file) {\n      this.$Message.warning('请上传文件2M以内的文件');\n    },\n    // 上传头部token\n    getToken() {\n      this.header['Authori-zation'] = 'Bearer ' + getCookies('token');\n    },\n    selectMenu(name) {\n      this.formData.type = name;\n    },\n    // 获取分类\n    getUserLabelAll() {\n      wechatQrcodeTree().then((res) => {\n        let data = res.data.data;\n        this.labelSort = data;\n      });\n    },\n    // 创建\n    save() {\n      if (!this.formData.name) {\n        return this.$Message.error('请输入二维码名称');\n      }\n      if (!this.formData.cate_id) {\n        return this.$Message.error('请选择分组');\n      }\n      if (!this.dataLabel.length) {\n        return this.$Message.error('请选择用户标签');\n      } else {\n        let ids = [];\n        this.dataLabel.map((i) => {\n          ids.push(i.id);\n        });\n        this.formData.label_id = ids;\n      }\n      if (!this.formData.uid) {\n        return this.$Message.error('请选择推广员');\n      }\n      if (this.isReceiveTime) {\n        if (this.formData.time < 1) {\n          return this.$Message.error('使用有效期限不能小于1天');\n        }\n      } else {\n        this.formData.time = 0;\n      }\n      if (this.formData.type === 'text' || this.formData.type === 'url') {\n        if (!this.formData.content.content.trim()) {\n          return this.$Message.error('请输入内容');\n        }\n      }\n      if (this.formData.type === 'voice' || this.formData.type === 'image') {\n        if (!this.formData.content.src.trim()) {\n          return this.$Message.error('请先上传消息');\n        }\n      }\n      if (this.formData.type === 'news') {\n        if (!this.formData.content.list.title.trim()) {\n          return this.$Message.error('请选择图文消息');\n        }\n      }\n      this.disabled = false;\n      this.loading = true;\n      wechatQrcodeSaveApi(this.id, this.formData)\n        .then((res) => {\n          this.disabled = true;\n          this.$Message.success(res.msg);\n          setTimeout(() => {\n            this.$router.push({\n              path: this.$routeProStr + '/marketing/channel_code/channelCodeIndex',\n            });\n          }, 1000);\n        })\n        .catch((err) => {\n          this.disabled = true;\n          this.$Message.error(err.msg);\n        });\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"stylus\">\n.info {\n  color: #888;\n  font-size: 12px;\n}\n\n.ivu-row {\n  border: 1px solid #f2f2f2;\n}\n\n.ivu-form-item {\n  padding: 10px 0;\n  max-width: 1100px;\n}\n\n.ivu-form >>> .ivu-form-item-label {\n  font-weight: 700;\n  font-size: 14px !important;\n}\n\n.ivu-input-wrapper {\n  width: 320px;\n}\n\n.ivu-radio-wrapper {\n  margin-right: 30px;\n  font-size: 14px !important;\n}\n\n.ivu-radio-wrapper >>> .ivu-radio {\n  margin-right: 10px;\n}\n\n.ivu-input-number {\n  width: 160px;\n}\n\n.ivu-date-picker {\n  width: 320px;\n}\n\n.ivu-icon-ios-camera-outline {\n  width: 58px;\n  height: 58px;\n  border: 1px dotted rgba(0, 0, 0, 0.1);\n  border-radius: 4px;\n  background-color: rgba(0, 0, 0, 0.02);\n  line-height: 58px;\n  cursor: pointer;\n  vertical-align: middle;\n}\n\n.upload-list {\n  width: 58px;\n  height: 58px;\n  border: 1px dotted rgba(0, 0, 0, 0.1);\n  border-radius: 4px;\n  margin-right: 15px;\n  display: inline-block;\n  position: relative;\n  cursor: pointer;\n  vertical-align: middle;\n}\n\n.upload-list img {\n  display: block;\n  width: 100%;\n  height: 100%;\n}\n\n.ivu-icon-ios-close-circle {\n  position: absolute;\n  top: 0;\n  right: 0;\n  transform: translate(50%, -50%);\n}\n\n.modelBox /deep/ .ivu-modal-body {\n  padding: 0 16px 16px 16px !important;\n}\n\n.header-save {\n  display: flex;\n  justify-content: space-between;\n}\n\n.trip {\n  color: #ccc;\n}\n\n.submit {\n  margin: 30px 0 30px 50px;\n}\n\ntextarea {\n  padding: 0 5px;\n  border-radius: 3px;\n  border-color: #c5c8ce;\n  outline-color: #2d8cf0;\n  font-size: 14px;\n}\n\n.picBox {\n  display: inline-block;\n  cursor: pointer;\n\n  .upLoad {\n    width: 58px;\n    height: 58px;\n    line-height: 58px;\n    border: 1px dotted rgba(0, 0, 0, 0.1);\n    border-radius: 4px;\n    background: rgba(0, 0, 0, 0.02);\n  }\n\n  .pictrue {\n    width: 60px;\n    height: 60px;\n    border: 1px dotted rgba(0, 0, 0, 0.1);\n    margin-right: 10px;\n\n    img {\n      width: 100%;\n      height: 100%;\n    }\n  }\n\n  .iconfont {\n    color: #898989;\n  }\n}\n\n.addfont {\n  display: inline-block;\n  font-size: 13px;\n  font-weight: 400;\n  color: #1890FF;\n  margin-left: 14px;\n  cursor: pointer;\n  margin-left: 10px;\n}\n\n.iconxiayi {\n  font-size: 14px;\n}\n\n.ivu-page-header-title {\n  padding-bottom: 0;\n}\n\n.news-box {\n  width: 200px;\n  background-color: #f2f2f2;\n  padding: 10px;\n  border-radius: 10px;\n  margin-left: 65px;\n  margin-top: 20px;\n\n  .news_pic {\n    width: 100%;\n    height: 150px;\n  }\n}\n\n.labelInput {\n  border: 1px solid #dcdee2;\n  width: 320px;\n  padding: 0 8px;\n  border-radius: 5px;\n  min-height: 30px;\n  cursor: pointer;\n\n  .span {\n    color: #c5c8ce;\n  }\n\n  .ivu-icon-ios-arrow-down {\n    font-size: 14px;\n    color: #808695;\n  }\n}\n</style>\n"]}]}