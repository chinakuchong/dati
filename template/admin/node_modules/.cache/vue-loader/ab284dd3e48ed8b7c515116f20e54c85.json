{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/pages/app/wechat/reply/follow.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/pages/app/wechat/reply/follow.vue","mtime":1689324015197},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTZXR0aW5nIGZyb20gJ0Avc2V0dGluZyc7CmltcG9ydCB7IHJlcGx5QXBpLCBrZXl3b3Jkc2luZm9BcGkgfSBmcm9tICdAL2FwaS9hcHAnOwovLyBpbXBvcnQgeyBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCcKaW1wb3J0IG5ld3NDYXRlZ29yeSBmcm9tICdAL2NvbXBvbmVudHMvbmV3c0NhdGVnb3J5L2luZGV4JzsKaW1wb3J0IHsgZ2V0Q29va2llcyB9IGZyb20gJ0AvbGlicy91dGlsJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdmb2xsb3cnLAogIGNvbXBvbmVudHM6IHsgbmV3c0NhdGVnb3J5IH0sCiAgZGF0YSgpIHsKICAgIGNvbnN0IHZhbGlkYXRlQ29udGVudCA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKICAgICAgaWYgKHRoaXMuZm9ybVZhbGlkYXRlLnR5cGUgPT09ICd0ZXh0JykgewogICAgICAgIGlmICh0aGlzLmZvcm1WYWxpZGF0ZS5kYXRhLmNvbnRlbnQgPT09ICcnKSB7CiAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+Whq+WGmeinhOWImeWGheWuuScpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY2FsbGJhY2soKTsKICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgICBjb25zdCB2YWxpZGF0ZVNyYyA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKICAgICAgaWYgKHRoaXMuZm9ybVZhbGlkYXRlLnR5cGUgPT09ICdpbWFnZScgJiYgdGhpcy5mb3JtVmFsaWRhdGUuZGF0YS5zcmMgPT09ICcnKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfor7fkuIrkvKAnKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsKICAgIGNvbnN0IHZhbGlkYXRlVmFsID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewogICAgICBpZiAodGhpcy5sYWJlbGFyci5sZW5ndGggPT09IDApIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+i+k+WFpeWQjuWbnui9picpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjYWxsYmFjaygpOwogICAgICB9CiAgICB9OwogICAgcmV0dXJuIHsKICAgICAgZGVsZnJvbURhdGE6IHt9LAogICAgICBpc1Nob3c6IGZhbHNlLAogICAgICBtYXhDb2xzOiA0LAogICAgICBzY3JvbGxlckhlaWdodDogJzYwMCcsCiAgICAgIGNvbnRlbnRUb3A6ICcxMzAnLAogICAgICBjb250ZW50V2lkdGg6ICc5OCUnLAogICAgICBtb2RhbHM6IGZhbHNlLAogICAgICB2YWw6ICcnLAogICAgICBmb3JtYXRJbWc6IFsnanBnJywgJ2pwZWcnLCAncG5nJywgJ2JtcCcsICdnaWYnXSwKICAgICAgZm9ybWF0Vm9pY2U6IFsnbXAzJywgJ3dtYScsICd3YXYnLCAnYW1yJ10sCiAgICAgIGhlYWRlcjoge30sCiAgICAgIGZvcm1WYWxpZGF0ZTogewogICAgICAgIHN0YXR1czogLTEsCiAgICAgICAgdHlwZTogJycsCiAgICAgICAga2V5OiB0aGlzLiRyb3V0ZS5wYXJhbXMua2V5IHx8ICcnLAogICAgICAgIGRhdGE6IHsKICAgICAgICAgIGNvbnRlbnQ6ICcnLAogICAgICAgICAgc3JjOiAnJywKICAgICAgICAgIGxpc3Q6IFtdLAogICAgICAgIH0sCiAgICAgICAgaWQ6IDAsCiAgICAgIH0sCiAgICAgIGZpbGVVcmw6IFNldHRpbmcuYXBpQmFzZVVSTCArICcvZmlsZS91cGxvYWQvMScsCiAgICAgIHJ1bGVWYWxpZGF0ZTogewogICAgICAgIHZhbDogW3sgcmVxdWlyZWQ6IHRydWUsIHZhbGlkYXRvcjogdmFsaWRhdGVWYWwsIHRyaWdnZXI6ICdjaGFuZ2UnIH1dLAogICAgICAgIHR5cGU6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup5raI5oGv57G75Z6LJywgdHJpZ2dlcjogJ2NoYW5nZScgfV0sCiAgICAgICAgY29udGVudDogW3sgcmVxdWlyZWQ6IHRydWUsIHZhbGlkYXRvcjogdmFsaWRhdGVDb250ZW50LCB0cmlnZ2VyOiAnYmx1cicgfV0sCiAgICAgICAgc3JjOiBbeyByZXF1aXJlZDogdHJ1ZSwgdmFsaWRhdG9yOiB2YWxpZGF0ZVNyYywgdHJpZ2dlcjogJ2NoYW5nZScgfV0sCiAgICAgIH0sCiAgICAgIGxhYmVsYXJyOiBbXSwKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgJHJvdXRlKHRvLCBmcm9tKSB7CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMua2V5IHx8IHRoaXMuJHJvdXRlLnBhcmFtcy5pZCAhPT0gJzAnKSB7CiAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUua2V5ID0gdGhpcy4kcm91dGUucGFyYW1zLmtleTsKICAgICAgICB0aGlzLmRldGFpbHMoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmxhYmVsYXJyID0gW107CiAgICAgICAgdGhpcy4kcmVmc1snZm9ybVZhbGlkYXRlJ10ucmVzZXRGaWVsZHMoKTsKICAgICAgfQogICAgfSwKICB9LAogIGNvbXB1dGVkOiB7CiAgICBpbWdVcmwoKSB7CiAgICAgIGNvbnN0IHNlYXJjaCA9ICcvYWRtaW5hcGkvJzsKICAgICAgY29uc3Qgc3RhcnQgPSBTZXR0aW5nLmFwaUJhc2VVUkwuaW5kZXhPZihzZWFyY2gpOwogICAgICByZXR1cm4gU2V0dGluZy5hcGlCYXNlVVJMLnN1YnN0cmluZygwLCBzdGFydCk7IC8vIOaIquWPluWtl+espuS4sgogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldFRva2VuKCk7CiAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLmtleSB8fCAodGhpcy4kcm91dGUucGFyYW1zLmlkICYmIHRoaXMuJHJvdXRlLnBhcmFtcy5pZCAhPT0gJzAnKSkgewogICAgICB0aGlzLmRldGFpbHMoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldENlbnRMaXN0KHZhbCkgewogICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5kYXRhLmxpc3QgPSB2YWwubmV3OwogICAgICB0aGlzLm1vZGFscyA9IGZhbHNlOwogICAgfSwKICAgIGFkZGxhYmVsKCkgewogICAgICBsZXQgY291bnQgPSB0aGlzLmxhYmVsYXJyLmluZGV4T2YodGhpcy52YWwpOwogICAgICBpZiAoY291bnQgPT09IC0xKSB7CiAgICAgICAgdGhpcy5sYWJlbGFyci5wdXNoKHRoaXMudmFsKTsKICAgICAgfQogICAgICB0aGlzLnZhbCA9ICcnOwogICAgfSwKICAgIGhhbmRsZUNsb3NlKGV2ZW50LCBuYW1lKSB7CiAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5sYWJlbGFyci5pbmRleE9mKG5hbWUpOwogICAgICB0aGlzLmxhYmVsYXJyLnNwbGljZShpbmRleCwgMSk7CiAgICB9LAogICAgLy8g6K+m5oOFCiAgICBkZXRhaWxzKCkgewogICAgICBsZXQgdXJsID0gJyc7CiAgICAgIGxldCBkYXRhID0ge307CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpIHsKICAgICAgICB1cmwgPSAnYXBwL3dlY2hhdC9rZXl3b3JkLycgKyB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICAgICAgZGF0YSA9IHt9OwogICAgICB9IGVsc2UgewogICAgICAgIHVybCA9ICdhcHAvd2VjaGF0L3JlcGx5JzsKICAgICAgICBkYXRhID0gewogICAgICAgICAga2V5OiB7CiAgICAgICAgICAgIGtleTogdGhpcy5mb3JtVmFsaWRhdGUua2V5LAogICAgICAgICAgfSwKICAgICAgICB9OwogICAgICB9CiAgICAgIGtleXdvcmRzaW5mb0FwaSh1cmwsIGRhdGEpCiAgICAgICAgLnRoZW4oYXN5bmMgKHJlcykgPT4gewogICAgICAgICAgaWYgKHJlcy5kYXRhLmluZm8uZGF0YSBpbnN0YW5jZW9mIEFycmF5KSB7CiAgICAgICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLnN0YXR1cyA9IDA7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICAgIGxldCBpbmZvID0gcmVzLmRhdGEuaW5mbyB8fCB7fTsKICAgICAgICAgIGxldCBkYXRhID0gaW5mby5kYXRhIHx8IHt9OwogICAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUgPSB7CiAgICAgICAgICAgIHN0YXR1czogaW5mby5zdGF0dXMsCiAgICAgICAgICAgIHR5cGU6IGluZm8udHlwZSwKICAgICAgICAgICAga2V5OiBpbmZvLmtleSwKICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgIGNvbnRlbnQ6IGRhdGEuY29udGVudCwKICAgICAgICAgICAgICBzcmM6IGRhdGEuc3JjLAogICAgICAgICAgICAgIGxpc3Q6IGRhdGEubGlzdCwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgaWQ6IGluZm8uaWQsCiAgICAgICAgICB9OwogICAgICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkgewogICAgICAgICAgICB0aGlzLmxhYmVsYXJyID0gdGhpcy5mb3JtVmFsaWRhdGUua2V5LnNwbGl0KCcsJykgfHwgW107CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICB9KTsKICAgIH0sCiAgICAvLyDpgInmi6nlm77mlocKICAgIGNoYW5nZVBpYygpIHsKICAgICAgdGhpcy5tb2RhbHMgPSB0cnVlOwogICAgfSwKICAgIC8vIOS4i+aLiemAieaLqQogICAgUnVsZUZhY3Rvcih0eXBlKSB7CiAgICAgIHN3aXRjaCAodHlwZSkgewogICAgICAgIGNhc2UgJ3RleHQnOgogICAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuZGF0YS5zcmMgPSAnJzsKICAgICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmRhdGEubGlzdCA9IFtdOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnbmV3cyc6CiAgICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5kYXRhLnNyYyA9ICcnOwogICAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuZGF0YS5jb250ZW50ID0gJyc7CiAgICAgICAgICBicmVhazsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuZGF0YS5saXN0ID0gW107CiAgICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5kYXRhLmNvbnRlbnQgPSAnJzsKICAgICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmRhdGEuc3JjID0gJyc7CiAgICAgIH0KICAgICAgLy8gdGhpcy4kcmVmc1snZm9ybVZhbGlkYXRlJ10ucmVzZXRGaWVsZHMoKTsKICAgIH0sCiAgICAvLyDkuIrkvKDlpLTpg6h0b2tlbgogICAgZ2V0VG9rZW4oKSB7CiAgICAgIHRoaXMuaGVhZGVyWydBdXRob3JpLXphdGlvbiddID0gJ0JlYXJlciAnICsgZ2V0Q29va2llcygndG9rZW4nKTsKICAgIH0sCiAgICAvLyDkuIrkvKDmiJDlip8KICAgIGhhbmRsZVN1Y2Nlc3MocmVzLCBmaWxlKSB7CiAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsKICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5kYXRhLnNyYyA9IHJlcy5kYXRhLnNyYzsKICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZUZvcm1hdEVycm9yKGZpbGUpIHsKICAgICAgaWYgKHRoaXMuZm9ybVZhbGlkYXRlLnR5cGUgPT09ICdpbWFnZScpIHsKICAgICAgICB0aGlzLiRNZXNzYWdlLndhcm5pbmcoJ+ivt+S4iuS8oGJtcC9wbmcvanBlZy9qcGcvZ2lm5qC85byP55qE5Zu+54mHJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kTWVzc2FnZS53YXJuaW5nKCfor7fkuIrkvKBtcDMvd21hL3dhdi9hbXLmoLzlvI/nmoTor63pn7MnKTsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZU1heFNpemUoZmlsZSkgewogICAgICB0aGlzLiRNZXNzYWdlLndhcm5pbmcoJ+ivt+S4iuS8oOaWh+S7tjJN5Lul5YaF55qE5paH5Lu2Jyk7CiAgICB9LAogICAgLy8g5L+d5a2YCiAgICBzdWJtZW51cyhuYW1lKSB7CiAgICAgIHRoaXMuJHJlZnNbbmFtZV0udmFsaWRhdGUoKHZhbGlkKSA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBsZXQgZGF0YSA9IHt9OwogICAgICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkgewogICAgICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5rZXkgPSB0aGlzLmxhYmVsYXJyLmpvaW4oJywnKTsKICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICB1cmw6ICdhcHAvd2VjaGF0L2tleXdvcmQvJyArIHRoaXMuJHJvdXRlLnBhcmFtcy5pZCwKICAgICAgICAgICAgICBrZXk6IHRoaXMuZm9ybVZhbGlkYXRlLAogICAgICAgICAgICB9OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICB1cmw6ICdhcHAvd2VjaGF0L2tleXdvcmQvJyArIHRoaXMuZm9ybVZhbGlkYXRlLmlkLAogICAgICAgICAgICAgIGtleTogdGhpcy5mb3JtVmFsaWRhdGUsCiAgICAgICAgICAgIH07CiAgICAgICAgICB9CiAgICAgICAgICByZXBseUFwaShkYXRhKQogICAgICAgICAgICAudGhlbihhc3luYyAocmVzKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5vcGVyYXRpb24oKTsKICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOS/neWtmOaIkOWKn+aTjeS9nAogICAgb3BlcmF0aW9uKCkgewogICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLmlkICYmIHRoaXMuJHJvdXRlLnBhcmFtcy5pZCA9PT0gJzAnKSB7CiAgICAgICAgdGhpcy4kTW9kYWwuY29uZmlybSh7CiAgICAgICAgICB0aXRsZTogJ+aPkOekuicsCiAgICAgICAgICBjb250ZW50OiAnPHA+5piv5ZCm57un57ut5re75Yqg77yfPC9wPicsCiAgICAgICAgICBva1RleHQ6ICfmmK8nLAogICAgICAgICAgY2FuY2VsVGV4dDogJ+WQpicsCiAgICAgICAgICBsb2FkaW5nOiB0cnVlLAogICAgICAgICAgb25PazogKCkgPT4gewogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICB0aGlzLiRNb2RhbC5yZW1vdmUoKTsKICAgICAgICAgICAgICB0aGlzLmxhYmVsYXJyID0gW107CiAgICAgICAgICAgICAgdGhpcy52YWwgPSAnJzsKICAgICAgICAgICAgICB0aGlzLiRyZWZzWydmb3JtVmFsaWRhdGUnXS5yZXNldEZpZWxkcygpOwogICAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICAgIH0sCiAgICAgICAgICBvbkNhbmNlbDogKCkgPT4gewogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICB0aGlzLiRNb2RhbC5yZW1vdmUoKTsKICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6IHRoaXMuJHJvdXRlUHJvU3RyICsgJy9hcHAvd2VjaGF0L3JlcGx5L2tleXdvcmQnIH0pOwogICAgICAgICAgICB9LCA1MDApOwogICAgICAgICAgfSwKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgJiYgdGhpcy4kcm91dGUucGFyYW1zLmlkICE9PSAnMCcpIHsKICAgICAgICB0aGlzLiRNb2RhbC5yZW1vdmUoKTsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6IHRoaXMuJHJvdXRlUHJvU3RyICsgJy9hcHAvd2VjaGF0L3JlcGx5L2tleXdvcmQnIH0pOwogICAgICB9CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["follow.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"follow.vue","sourceRoot":"src/pages/app/wechat/reply","sourcesContent":["<template>\n  <div>\n    <div class=\"i-layout-page-header header-title\">\n      <span class=\"ivu-page-header-title\">{{ $route.meta.title }}</span>\n    </div>\n    <Card :bordered=\"false\" dis-hover class=\"ivu-mt\">\n      <!-- 公众号设置 -->\n      <Row :gutter=\"24\" type=\"flex\">\n        <Col span=\"24\" class=\"ml40\">\n          <!-- 预览功能 -->\n          <Col :span=\"24\">\n            <Col :xl=\"7\" :lg=\"7\" :md=\"22\" :sm=\"22\" :xs=\"22\" class=\"left mb15\">\n              <img class=\"top\" src=\"../../../../assets/images/mobilehead.png\" />\n              <img class=\"bottom\" src=\"../../../../assets/images/mobilefoot.png\" />\n              <div class=\"centent\">\n                <div class=\"time-wrapper\"><span class=\"time\">9:36</span></div>\n                <div class=\"view-item text-box clearfix\" v-if=\"formValidate.type !== 'news'\">\n                  <div class=\"avatar fl\"><img src=\"../../../../assets/images/head.gif\" /></div>\n                  <div class=\"box-content fl\">\n                    <span v-text=\"formValidate.data.content\" v-if=\"formValidate.type === 'text'\"></span>\n                    <div class=\"box-content_pic\" v-if=\"formValidate.data.src\">\n                      <img :src=\"formValidate.data.src ? imgUrl + formValidate.data.src : ''\" />\n                    </div>\n                  </div>\n                </div>\n                <div v-if=\"formValidate.type === 'news'\">\n                  <div v-for=\"(j, i) in formValidate.data.list\" :key=\"i\">\n                    <div v-if=\"i === 0\">\n                      <div\n                        class=\"news_pic\"\n                        :style=\"{ backgroundImage: 'url(' + j.image_input[0] + ')', backgroundSize: '100% 100%' }\"\n                      ></div>\n                      <span class=\"news_sp\">{{ j.title }}</span>\n                    </div>\n                    <div v-else class=\"news_cent\">\n                      <span class=\"news_sp1\" v-if=\"j.synopsis\">{{ j.title }}</span>\n                      <div class=\"news_cent_img\" v-if=\"j.image_input.length !== 0\"><img :src=\"j.image_input[0]\" /></div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </Col>\n            <Col :xl=\"11\" :lg=\"12\" :md=\"22\" :sm=\"22\" :xs=\"22\">\n              <Col span=\"24\" class=\"userAlert\">\n                <div class=\"box-card right\">\n                  <Form\n                    ref=\"formValidate\"\n                    :model=\"formValidate\"\n                    :rules=\"ruleValidate\"\n                    :label-width=\"100\"\n                    class=\"mt20\"\n                    @submit.native.prevent\n                  >\n                    <FormItem label=\"关键字：\" prop=\"val\" v-if=\"$route.params.id\">\n                      <div class=\"arrbox\">\n                        <!--:closable=\"$route.params.id==='0'? true : false\"-->\n                        <Tag\n                          @on-close=\"handleClose\"\n                          :name=\"item\"\n                          :closable=\"true\"\n                          v-for=\"(item, index) in labelarr\"\n                          :key=\"index\"\n                          >{{ item }}\n                        </Tag>\n                        <!--:readonly=\"$route.params.id!=='0'\"-->\n                        <input\n                          class=\"arrbox_ip\"\n                          v-model=\"val\"\n                          placeholder=\"输入后回车\"\n                          style=\"width: 90%\"\n                          @keyup.enter=\"addlabel\"\n                        />\n                      </div>\n                    </FormItem>\n                    <FormItem label=\"消息状态：\">\n                      <RadioGroup v-model=\"formValidate.status\">\n                        <Radio :label=\"1\">启用</Radio>\n                        <Radio :label=\"0\">禁用</Radio>\n                      </RadioGroup>\n                    </FormItem>\n                    <FormItem label=\"消息类型：\" prop=\"type\">\n                      <Select\n                        v-model=\"formValidate.type\"\n                        placeholder=\"请选择规则状态\"\n                        style=\"width: 90%\"\n                        @on-change=\"RuleFactor(formValidate.type)\"\n                      >\n                        <Option value=\"text\">文字消息</Option>\n                        <Option value=\"image\">图片消息</Option>\n                        <Option value=\"news\">图文消息</Option>\n                        <Option value=\"voice\">声音消息</Option>\n                      </Select>\n                    </FormItem>\n                    <FormItem label=\"消息内容：\" prop=\"content\" v-if=\"formValidate.type === 'text'\">\n                      <Input\n                        v-model=\"formValidate.data.content\"\n                        placeholder=\"请填写消息内容\"\n                        style=\"width: 90%\"\n                        type=\"textarea\"\n                        :rows=\"4\"\n                      ></Input>\n                    </FormItem>\n                    <FormItem label=\"选取图文：\" v-if=\"formValidate.type === 'news'\">\n                      <Button type=\"info\" @click=\"changePic\">选择图文消息</Button>\n                    </FormItem>\n                    <FormItem\n                      :label=\"formValidate.type === 'image' ? '图片地址：' : '语音地址：'\"\n                      prop=\"src\"\n                      v-if=\"formValidate.type === 'image' || formValidate.type === 'voice'\"\n                    >\n                      <div class=\"acea-row row-middle\">\n                        <Input\n                          readonly=\"readonly\"\n                          placeholder=\"default size\"\n                          style=\"width: 75%\"\n                          class=\"mr15\"\n                          v-model=\"formValidate.data.src\"\n                        />\n                        <Upload\n                          :show-upload-list=\"false\"\n                          :action=\"fileUrl\"\n                          :on-success=\"handleSuccess\"\n                          :format=\"formValidate.type === 'image' ? formatImg : formatVoice\"\n                          :max-size=\"2048\"\n                          :headers=\"header\"\n                          :on-format-error=\"handleFormatError\"\n                          :on-exceeded-size=\"handleMaxSize\"\n                          class=\"mr20\"\n                          style=\"margin-top: 1px\"\n                        >\n                          <Button type=\"primary\">上传</Button>\n                        </Upload>\n                      </div>\n                      <span v-show=\"formValidate.type === 'image'\">文件最大2Mb，支持bmp/png/jpeg/jpg/gif格式</span>\n                      <span v-show=\"formValidate.type === 'voice'\">文件最大2Mb，支持mp3格式,播放长度不超过60s</span>\n                    </FormItem>\n                  </Form>\n                </div>\n              </Col>\n              <Col :span=\"24\">\n                <div class=\"acea-row row-center\">\n                  <Button type=\"primary\" class=\"mr20\" @click=\"submenus('formValidate')\">保存并发布 </Button>\n                </div>\n              </Col>\n            </Col>\n          </Col>\n        </Col>\n      </Row>\n    </Card>\n\n    <!--图文消息 -->\n    <Modal v-model=\"modals\" scrollable title=\"发送消息\" width=\"1200\" height=\"800\" footer-hide class=\"modelBox\">\n      <news-category\n        v-if=\"modals\"\n        @getCentList=\"getCentList\"\n        :scrollerHeight=\"scrollerHeight\"\n        :contentTop=\"contentTop\"\n        :contentWidth=\"contentWidth\"\n        :maxCols=\"maxCols\"\n      ></news-category>\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport Setting from '@/setting';\nimport { replyApi, keywordsinfoApi } from '@/api/app';\n// import { mapActions } from 'vuex'\nimport newsCategory from '@/components/newsCategory/index';\nimport { getCookies } from '@/libs/util';\nexport default {\n  name: 'follow',\n  components: { newsCategory },\n  data() {\n    const validateContent = (rule, value, callback) => {\n      if (this.formValidate.type === 'text') {\n        if (this.formValidate.data.content === '') {\n          callback(new Error('请填写规则内容'));\n        } else {\n          callback();\n        }\n      }\n    };\n    const validateSrc = (rule, value, callback) => {\n      if (this.formValidate.type === 'image' && this.formValidate.data.src === '') {\n        callback(new Error('请上传'));\n      } else {\n        callback();\n      }\n    };\n    const validateVal = (rule, value, callback) => {\n      if (this.labelarr.length === 0) {\n        callback(new Error('请输入后回车'));\n      } else {\n        callback();\n      }\n    };\n    return {\n      delfromData: {},\n      isShow: false,\n      maxCols: 4,\n      scrollerHeight: '600',\n      contentTop: '130',\n      contentWidth: '98%',\n      modals: false,\n      val: '',\n      formatImg: ['jpg', 'jpeg', 'png', 'bmp', 'gif'],\n      formatVoice: ['mp3', 'wma', 'wav', 'amr'],\n      header: {},\n      formValidate: {\n        status: -1,\n        type: '',\n        key: this.$route.params.key || '',\n        data: {\n          content: '',\n          src: '',\n          list: [],\n        },\n        id: 0,\n      },\n      fileUrl: Setting.apiBaseURL + '/file/upload/1',\n      ruleValidate: {\n        val: [{ required: true, validator: validateVal, trigger: 'change' }],\n        type: [{ required: true, message: '请选择消息类型', trigger: 'change' }],\n        content: [{ required: true, validator: validateContent, trigger: 'blur' }],\n        src: [{ required: true, validator: validateSrc, trigger: 'change' }],\n      },\n      labelarr: [],\n    };\n  },\n  watch: {\n    $route(to, from) {\n      if (this.$route.params.key || this.$route.params.id !== '0') {\n        this.formValidate.key = this.$route.params.key;\n        this.details();\n      } else {\n        this.labelarr = [];\n        this.$refs['formValidate'].resetFields();\n      }\n    },\n  },\n  computed: {\n    imgUrl() {\n      const search = '/adminapi/';\n      const start = Setting.apiBaseURL.indexOf(search);\n      return Setting.apiBaseURL.substring(0, start); // 截取字符串\n    },\n  },\n  mounted() {\n    this.getToken();\n    if (this.$route.params.key || (this.$route.params.id && this.$route.params.id !== '0')) {\n      this.details();\n    }\n  },\n  methods: {\n    getCentList(val) {\n      this.formValidate.data.list = val.new;\n      this.modals = false;\n    },\n    addlabel() {\n      let count = this.labelarr.indexOf(this.val);\n      if (count === -1) {\n        this.labelarr.push(this.val);\n      }\n      this.val = '';\n    },\n    handleClose(event, name) {\n      const index = this.labelarr.indexOf(name);\n      this.labelarr.splice(index, 1);\n    },\n    // 详情\n    details() {\n      let url = '';\n      let data = {};\n      if (this.$route.params.id) {\n        url = 'app/wechat/keyword/' + this.$route.params.id;\n        data = {};\n      } else {\n        url = 'app/wechat/reply';\n        data = {\n          key: {\n            key: this.formValidate.key,\n          },\n        };\n      }\n      keywordsinfoApi(url, data)\n        .then(async (res) => {\n          if (res.data.info.data instanceof Array) {\n            this.formValidate.status = 0;\n            return;\n          }\n          let info = res.data.info || {};\n          let data = info.data || {};\n          this.formValidate = {\n            status: info.status,\n            type: info.type,\n            key: info.key,\n            data: {\n              content: data.content,\n              src: data.src,\n              list: data.list,\n            },\n            id: info.id,\n          };\n          if (this.$route.params.id) {\n            this.labelarr = this.formValidate.key.split(',') || [];\n          }\n        })\n        .catch((res) => {\n          this.$Message.error(res.msg);\n        });\n    },\n    // 选择图文\n    changePic() {\n      this.modals = true;\n    },\n    // 下拉选择\n    RuleFactor(type) {\n      switch (type) {\n        case 'text':\n          this.formValidate.data.src = '';\n          this.formValidate.data.list = [];\n          break;\n        case 'news':\n          this.formValidate.data.src = '';\n          this.formValidate.data.content = '';\n          break;\n        default:\n          this.formValidate.data.list = [];\n          this.formValidate.data.content = '';\n          this.formValidate.data.src = '';\n      }\n      // this.$refs['formValidate'].resetFields();\n    },\n    // 上传头部token\n    getToken() {\n      this.header['Authori-zation'] = 'Bearer ' + getCookies('token');\n    },\n    // 上传成功\n    handleSuccess(res, file) {\n      if (res.status === 200) {\n        this.formValidate.data.src = res.data.src;\n        this.$Message.success(res.msg);\n      } else {\n        this.$Message.error(res.msg);\n      }\n    },\n    handleFormatError(file) {\n      if (this.formValidate.type === 'image') {\n        this.$Message.warning('请上传bmp/png/jpeg/jpg/gif格式的图片');\n      } else {\n        this.$Message.warning('请上传mp3/wma/wav/amr格式的语音');\n      }\n    },\n    handleMaxSize(file) {\n      this.$Message.warning('请上传文件2M以内的文件');\n    },\n    // 保存\n    submenus(name) {\n      this.$refs[name].validate((valid) => {\n        if (valid) {\n          let data = {};\n          if (this.$route.params.id) {\n            this.formValidate.key = this.labelarr.join(',');\n            data = {\n              url: 'app/wechat/keyword/' + this.$route.params.id,\n              key: this.formValidate,\n            };\n          } else {\n            data = {\n              url: 'app/wechat/keyword/' + this.formValidate.id,\n              key: this.formValidate,\n            };\n          }\n          replyApi(data)\n            .then(async (res) => {\n              this.operation();\n              this.$Message.success(res.msg);\n            })\n            .catch((res) => {\n              this.$Message.error(res.msg);\n            });\n        } else {\n          return false;\n        }\n      });\n    },\n    // 保存成功操作\n    operation() {\n      if (this.$route.params.id && this.$route.params.id === '0') {\n        this.$Modal.confirm({\n          title: '提示',\n          content: '<p>是否继续添加？</p>',\n          okText: '是',\n          cancelText: '否',\n          loading: true,\n          onOk: () => {\n            setTimeout(() => {\n              this.$Modal.remove();\n              this.labelarr = [];\n              this.val = '';\n              this.$refs['formValidate'].resetFields();\n            }, 1000);\n          },\n          onCancel: () => {\n            setTimeout(() => {\n              this.$Modal.remove();\n              this.$router.push({ path: this.$routeProStr + '/app/wechat/reply/keyword' });\n            }, 500);\n          },\n        });\n      } else if (this.$route.params.id && this.$route.params.id !== '0') {\n        this.$Modal.remove();\n        this.$router.push({ path: this.$routeProStr + '/app/wechat/reply/keyword' });\n      }\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"stylus\">\n* {\n    -moz-user-select: none; /*火狐*/\n    -webkit-user-select: none; /*webkit浏览器*/\n    -ms-user-select: none; /*IE10*/\n    -khtml-user-select: none; /*早期浏览器*/\n    user-select: none;\n}\n\n.arrbox {\n    background-color: white;\n    font-size: 12px;\n    border: 1px solid #dcdee2;\n    border-radius: 6px;\n    margin-bottom: 0px;\n    padding:0 5px;\n    text-align: left;\n    box-sizing border-box;\n    width: 90%;\n}\n\n.arrbox_ip {\n    font-size: 12px;\n    border: none;\n    box-shadow: none;\n    outline: none;\n    background-color: transparent;\n    padding: 0;\n    margin: 0;\n    width: auto !important;\n    max-width: inherit;\n    min-width: 80px;\n    vertical-align: top;\n    height: 30px;\n    color: #34495e;\n    margin: 2px;\n    line-height: 30px;\n}\n\n.left {\n    min-width: 390px;\n    min-height: 550px;\n    position: relative;\n    padding-left: 40px;\n}\n\n.top {\n    position: absolute;\n    top: 0px;\n}\n\n.bottom {\n    position: absolute;\n    bottom: 0px;\n}\n\n.centent {\n    background: #f4f5f9;\n    min-height: 438px;\n    position: absolute;\n    top: 63px;\n    width: 320px;\n    height: 60%;\n    overflow-y: auto;\n    padding: 15px;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n}\n\n.right {\n    background: #fff;\n    min-height: 300px;\n}\n\n.box-content {\n    position: relative;\n    max-width: 60%;\n    min-height: 40px;\n    margin-left: 15px;\n    padding: 10px;\n    box-sizing: border-box;\n    border: 1px solid #ccc;\n    word-break: break-all;\n    word-wrap: break-word;\n    line-height: 1.5;\n    border-radius: 5px;\n}\n\n.box-content_pic {\n    width: 100%;\n}\n\n.box-content_pic img {\n    width: 100%;\n    height: auto;\n}\n\n.box-content:before {\n    content: '';\n    position: absolute;\n    left: -13px;\n    top: 11px;\n    display: block;\n    width: 0;\n    height: 0;\n    border-left: 8px solid transparent;\n    border-right: 8px solid transparent;\n    border-top: 10px solid #ccc;\n    -webkit-transform: rotate(90deg);\n    transform: rotate(90deg);\n}\n\n.box-content:after {\n    content: '';\n    content: '';\n    position: absolute;\n    left: -12px;\n    top: 11px;\n    display: block;\n    width: 0;\n    height: 0;\n    border-left: 8px solid transparent;\n    border-right: 8px solid transparent;\n    border-top: 10px solid #f5f5f5;\n    -webkit-transform: rotate(90deg);\n    transform: rotate(90deg);\n}\n\n.time-wrapper {\n    margin-bottom: 10px;\n    text-align: center;\n}\n\n.time {\n    display: inline-block;\n    color: #f5f5f5;\n    background: rgba(0, 0, 0, .3);\n    padding: 3px 8px;\n    border-radius: 3px;\n    font-size: 12px;\n}\n\n.text-box {\n    display: flex;\n}\n\n.avatar {\n    width: 40px;\n    height: 40px;\n}\n\n.avatar img {\n    width: 100%;\n    height: 100%;\n}\n.modelBox\n   >>> .ivu-modal-body\n     padding 0 16px 16px 16px !important\n.news_pic\n    width: 100%\n    height: 150px\n    overflow: hidden\n    position: relative\n    background-size: 100%\n    background-position: center center\n    border-radius: 5px 5px 0 0\n    padding 10px\n    box-sizing border-box\n    display flex\n    flex-direction column\n    align-items: flex-end\n.news_sp\n    font-size 12px\n    color #000000\n    background #fff\n    width 100%\n    height 38px\n    line-height 38px\n    padding 0 12px\n    box-sizing border-box\n    display: block;\n.news_cent\n    width 100%\n    height auto\n    background #fff\n    border-top: 1px dashed #eee;\n    display flex\n    padding 10px\n    box-sizing border-box\n    justify-content: space-between\n    .news_sp1\n        font-size 12px\n        color #000000\n        width: 71%;\n    .news_cent_img\n        width 81px\n        height 46px\n        border-radius 6px\n        overflow hidden\n        img\n            width 100%\n            height 100%\n</style>\n"]}]}