{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/pages/marketing/storeIntegralOrder/handle/autoSend.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/pages/marketing/storeIntegralOrder/handle/autoSend.vue","mtime":1689324015233},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldEV4cHJlc3NEYXRhLCBvcmRlckV4cHJlc3NUZW1wLCBvcmRlckRlbGl2ZXJ5TGlzdCwgb3JkZXJTaGVldEluZm8sIG90aGVyQmF0Y2hEZWxpdmVyeSB9IGZyb20gJ0AvYXBpL29yZGVyJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdvcmRlclNlbmQnLAogIHByb3BzOiB7CiAgICBpc0FsbDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDEsCiAgICB9LAogICAgaWRzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfSwKICAgIH0sCiAgICB3aGVyZTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9LAogICAgfSwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtSXRlbTogewogICAgICAgIHR5cGU6ICcxJywKICAgICAgICBleHByZXNzX3JlY29yZF90eXBlOiAnMicsCiAgICAgICAgZGVsaXZlcnlfbmFtZTogJycsCiAgICAgICAgZGVsaXZlcnlfaWQ6ICcnLAogICAgICAgIGV4cHJlc3NfdGVtcF9pZDogJycsCiAgICAgICAgdG9fbmFtZTogJycsCiAgICAgICAgdG9fdGVsOiAnJywKICAgICAgICB0b19hZGRyOiAnJywKICAgICAgICBzaF9kZWxpdmVyeTogJycsCiAgICAgICAgZmljdGl0aW91c19jb250ZW50OiAnJywKICAgICAgfSwKICAgICAgbW9kYWxzOiBmYWxzZSwKICAgICAgZXhwcmVzczogW10sCiAgICAgIGV4cHJlc3NUZW1wOiBbXSwKICAgICAgZGVsaXZlcnlMaXN0OiBbXSwKICAgICAgdGVtcDoge30sCiAgICAgIGV4cG9ydF9vcGVuOiB0cnVlLAogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICAnZm9ybUl0ZW0uZXhwcmVzc190ZW1wX2lkJyh2YWx1ZSkge30sCiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGFuZ2VSYWRpbyhvKSB7CiAgICAgIHRoaXMuJHJlZnMuZm9ybUl0ZW0ucmVzZXRGaWVsZHMoKTsKICAgICAgc3dpdGNoIChvKSB7CiAgICAgICAgY2FzZSAnMSc6CiAgICAgICAgICB0aGlzLmZvcm1JdGVtLmRlbGl2ZXJ5X25hbWUgPSAnJzsKICAgICAgICAgIHRoaXMuZm9ybUl0ZW0uZGVsaXZlcnlfaWQgPSAnJzsKICAgICAgICAgIHRoaXMuZm9ybUl0ZW0uZXhwcmVzc190ZW1wX2lkID0gJyc7CiAgICAgICAgICB0aGlzLmZvcm1JdGVtLmV4cHJlc3NfcmVjb3JkX3R5cGUgPSAnMic7CiAgICAgICAgICB0aGlzLmV4cHJlc3NUZW1wID0gW107CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICcyJzoKICAgICAgICAgIHRoaXMuZm9ybUl0ZW0uc2hfZGVsaXZlcnkgPSAnJzsKICAgICAgICAgIHRoaXMuZm9ybUl0ZW0uZXhwcmVzc19yZWNvcmRfdHlwZSA9ICcxJzsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJzMnOgogICAgICAgICAgdGhpcy5mb3JtSXRlbS5maWN0aXRpb3VzX2NvbnRlbnQgPSAnJzsKICAgICAgICAgIHRoaXMuZm9ybUl0ZW0uZXhwcmVzc19yZWNvcmRfdHlwZSA9ICcxJzsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9LAogICAgY2hhbmdlRXhwcmVzcyhqKSB7CiAgICAgIHN3aXRjaCAoaikgewogICAgICAgIGNhc2UgJzInOgogICAgICAgICAgdGhpcy5mb3JtSXRlbS5kZWxpdmVyeV9uYW1lID0gJyc7CiAgICAgICAgICB0aGlzLmZvcm1JdGVtLmV4cHJlc3NfdGVtcF9pZCA9ICcnOwogICAgICAgICAgdGhpcy5leHByZXNzVGVtcCA9IFtdOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnMSc6CiAgICAgICAgICB0aGlzLmZvcm1JdGVtLmRlbGl2ZXJ5X25hbWUgPSAnJzsKICAgICAgICAgIHRoaXMuZm9ybUl0ZW0uZGVsaXZlcnlfaWQgPSAnJzsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfSwKICAgIHJlc2V0KCkgewogICAgICB0aGlzLmZvcm1JdGVtID0gewogICAgICAgIHR5cGU6ICcxJywKICAgICAgICBleHByZXNzX3JlY29yZF90eXBlOiAnMicsCiAgICAgICAgZGVsaXZlcnlfbmFtZTogJycsCiAgICAgICAgZGVsaXZlcnlfaWQ6ICcnLAogICAgICAgIGV4cHJlc3NfdGVtcF9pZDogJycsCiAgICAgICAgZXhwcmVzc1RlbXA6IFtdLAogICAgICAgIHRvX25hbWU6ICcnLAogICAgICAgIHRvX3RlbDogJycsCiAgICAgICAgdG9fYWRkcjogJycsCiAgICAgICAgc2hfZGVsaXZlcnk6ICcnLAogICAgICAgIGZpY3RpdGlvdXNfY29udGVudDogJycsCiAgICAgIH07CiAgICB9LAogICAgLy8g54mp5rWB5YWs5Y+45YiX6KGoCiAgICBnZXRMaXN0KCkgewogICAgICBnZXRFeHByZXNzRGF0YSgxKQogICAgICAgIC50aGVuKGFzeW5jIChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuZXhwcmVzcyA9IHJlcy5kYXRhOwogICAgICAgICAgdGhpcy5nZXRTaGVldEluZm8oKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgfSk7CiAgICB9LAogICAgLy8g5o+Q5LqkCiAgICBwdXRTZW5kKG5hbWUpIHsKICAgICAgbGV0IGRhdGEgPSBPYmplY3QuYXNzaWduKHRoaXMuZm9ybUl0ZW0pOwogICAgICBsZXQgYXJyID0gW107CiAgICAgIHRoaXMuaWRzLmZvckVhY2goKGl0ZW0pID0+IHsKICAgICAgICBhcnIucHVzaChpdGVtLmlkKTsKICAgICAgfSk7CiAgICAgIGlmICh0aGlzLmlzQWxsID09IDEpIHsKICAgICAgICBkYXRhLmFsbCA9IDE7CiAgICAgICAgZGF0YS53aGVyZSA9IHRoaXMud2hlcmU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZGF0YS5hbGwgPSAwOwogICAgICAgIGRhdGEuaWRzID0gYXJyOwogICAgICB9CiAgICAgIGlmICh0aGlzLmZvcm1JdGVtLnR5cGUgPT09ICcxJykgewogICAgICAgIGlmICh0aGlzLmZvcm1JdGVtLmRlbGl2ZXJ5X25hbWUgPT09ICcnKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy4kTWVzc2FnZS5lcnJvcign5b+r6YCS5YWs5Y+45LiN6IO95Li656m6Jyk7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmZvcm1JdGVtLmV4cHJlc3NfdGVtcF9pZCA9PT0gJycpIHsKICAgICAgICAgIHJldHVybiB0aGlzLiRNZXNzYWdlLmVycm9yKCfnlLXlrZDpnaLljZXkuI3og73kuLrnqbonKTsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZm9ybUl0ZW0udG9fbmFtZSA9PT0gJycpIHsKICAgICAgICAgIHJldHVybiB0aGlzLiRNZXNzYWdlLmVycm9yKCflr4Tku7bkurrlp5PlkI3kuI3og73kuLrnqbonKTsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZm9ybUl0ZW0udG9fdGVsID09PSAnJykgewogICAgICAgICAgcmV0dXJuIHRoaXMuJE1lc3NhZ2UuZXJyb3IoJ+WvhOS7tuS6uueUteivneS4jeiDveS4uuepuicpOwogICAgICAgIH0gZWxzZSBpZiAoIS9eMSgzfDR8NXw3fDh8OXw2KVxkezl9JC9pLnRlc3QodGhpcy5mb3JtSXRlbS50b190ZWwpKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy4kTWVzc2FnZS5lcnJvcign6K+36L6T5YWl5q2j56Gu55qE5omL5py65Y+356CBJyk7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmZvcm1JdGVtLnRvX2FkZHIgPT09ICcnKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy4kTWVzc2FnZS5lcnJvcign5a+E5Lu25Lq65Zyw5Z2A5LiN6IO95Li656m6Jyk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICh0aGlzLmZvcm1JdGVtLnR5cGUgPT09ICcyJykgewogICAgICAgIGlmICh0aGlzLmZvcm1JdGVtLmV4cHJlc3NfdGVtcF9pZCkgewogICAgICAgICAgdGhpcy5mb3JtSXRlbS5leHByZXNzX3RlbXBfaWQgPSAnJzsKICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMuZm9ybUl0ZW0uc2hfZGVsaXZlcnkgPT09ICcnKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy4kTWVzc2FnZS5lcnJvcign6YCB6LSn5Lq65LiN6IO95Li656m6Jyk7CiAgICAgICAgfQogICAgICB9CiAgICAgIG90aGVyQmF0Y2hEZWxpdmVyeShkYXRhKQogICAgICAgIC50aGVuKGFzeW5jIChyZXMpID0+IHsKICAgICAgICAgIHRoaXMubW9kYWxzID0gZmFsc2U7CiAgICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICB0aGlzLnJlc2V0KCk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICAgIHRoaXMubW9kYWxzID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICB9LAogICAgY2FuY2VsKG5hbWUpIHsKICAgICAgdGhpcy5tb2RhbHMgPSBmYWxzZTsKICAgICAgdGhpcy5yZXNldCgpOwogICAgfSwKICAgIC8vIOeUteWtkOmdouWNleWIl+ihqAogICAgZXhwcmVzc0NoYW5nZSh2YWx1ZSkgewogICAgICBsZXQgZXhwcmVzc0l0ZW0gPSB0aGlzLmV4cHJlc3MuZmluZCgoaXRlbSkgPT4gewogICAgICAgIHJldHVybiBpdGVtLnZhbHVlID09PSB2YWx1ZTsKICAgICAgfSk7CiAgICAgIGlmICghZXhwcmVzc0l0ZW0pIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5mb3JtSXRlbS5kZWxpdmVyeV9jb2RlID0gZXhwcmVzc0l0ZW0uY29kZTsKICAgICAgaWYgKHRoaXMuZm9ybUl0ZW0udHlwZSA9PT0gJzEnKSB7CiAgICAgICAgdGhpcy5leHByZXNzVGVtcCA9IFtdOwogICAgICAgIHRoaXMuZm9ybUl0ZW0uZXhwcmVzc190ZW1wX2lkID0gJyc7CiAgICAgICAgb3JkZXJFeHByZXNzVGVtcCh7CiAgICAgICAgICBjb206IHRoaXMuZm9ybUl0ZW0uZGVsaXZlcnlfY29kZSwKICAgICAgICB9KQogICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICB0aGlzLmV4cHJlc3NUZW1wID0gcmVzLmRhdGE7CiAgICAgICAgICAgIGlmICghcmVzLmRhdGEubGVuZ3RoKSB7CiAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcign6K+36YWN572u5L2g5omA6YCJ5b+r6YCS5YWs5Y+455qE55S15a2Q6Z2i5Y2VJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKGVyci5tc2cpOwogICAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBnZXREZWxpdmVyeUxpc3QoKSB7CiAgICAgIG9yZGVyRGVsaXZlcnlMaXN0KCkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLmRlbGl2ZXJ5TGlzdCA9IHJlcy5kYXRhLmxpc3Q7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcihlcnIubXNnKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBnZXRTaGVldEluZm8oKSB7CiAgICAgIG9yZGVyU2hlZXRJbmZvKCkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICBjb25zdCBkYXRhID0gcmVzLmRhdGE7CiAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBkYXRhKSB7CiAgICAgICAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KGtleSkgJiYga2V5ICE9PSAnZXhwcmVzc190ZW1wX2lkJykgewogICAgICAgICAgICAgIHRoaXMuZm9ybUl0ZW1ba2V5XSA9IGRhdGFba2V5XTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgdGhpcy5leHBvcnRfb3BlbiA9IGRhdGEuZXhwb3J0X29wZW4gPT09IHVuZGVmaW5lZCA/IHRydWUgOiBkYXRhLmV4cG9ydF9vcGVuOwogICAgICAgICAgaWYgKCF0aGlzLmV4cG9ydF9vcGVuKSB7CiAgICAgICAgICAgIHRoaXMuZm9ybUl0ZW0uZXhwcmVzc19yZWNvcmRfdHlwZSA9ICcxJzsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuZm9ybUl0ZW0udG9fYWRkciA9IGRhdGEudG9fYWRkOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IoZXJyLm1zZyk7CiAgICAgICAgfSk7CiAgICB9LAogICAgc2hEZWxpdmVyeUNoYW5nZSh2YWx1ZSkgewogICAgICBsZXQgZGVsaXZlcnlJdGVtID0gdGhpcy5kZWxpdmVyeUxpc3QuZmluZCgoaXRlbSkgPT4gewogICAgICAgIHJldHVybiBpdGVtLmlkID09PSB2YWx1ZTsKICAgICAgfSk7CiAgICAgIHRoaXMuZm9ybUl0ZW0uc2hfZGVsaXZlcnlfbmFtZSA9IGRlbGl2ZXJ5SXRlbS53eF9uYW1lOwogICAgICB0aGlzLmZvcm1JdGVtLnNoX2RlbGl2ZXJ5X2lkID0gZGVsaXZlcnlJdGVtLnBob25lOwogICAgICB0aGlzLmZvcm1JdGVtLnNoX2RlbGl2ZXJ5X3VpZCA9IGRlbGl2ZXJ5SXRlbS51aWQ7CiAgICB9LAogICAgZXhwcmVzc1RlbXBDaGFuZ2UodGVtcElkKSB7CiAgICAgIHRoaXMudGVtcCA9IHRoaXMuZXhwcmVzc1RlbXAuZmluZCgoaXRlbSkgPT4gewogICAgICAgIHJldHVybiB0ZW1wSWQgPT09IGl0ZW0udGVtcF9pZDsKICAgICAgfSk7CiAgICB9LAogICAgcHJldmlldygpIHsKICAgICAgdGhpcy4kcmVmcy52aWV3ZXIuJHZpZXdlci5zaG93KCk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["autoSend.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"autoSend.vue","sourceRoot":"src/pages/marketing/storeIntegralOrder/handle","sourcesContent":["<template>\n  <Modal v-model=\"modals\" scrollable title=\"订单发送货\" class=\"order_box\" :closable=\"false\">\n    <Form ref=\"formItem\" :model=\"formItem\" :label-width=\"100\" @submit.native.prevent>\n      <FormItem label=\"选择类型：\">\n        <RadioGroup v-model=\"formItem.type\" @on-change=\"changeRadio\">\n          <Radio label=\"1\">打印电子面单</Radio>\n          <Radio label=\"2\">送货</Radio>\n          <Radio label=\"3\">虚拟</Radio>\n        </RadioGroup>\n      </FormItem>\n      <div v-show=\"formItem.type === '1'\">\n        <FormItem label=\"快递公司：\">\n          <Select\n            v-model=\"formItem.delivery_name\"\n            filterable\n            placeholder=\"请选择快递公司\"\n            style=\"width: 80%\"\n            @on-change=\"expressChange\"\n          >\n            <Option v-for=\"(item, i) in express\" :value=\"item.value\" :key=\"item.value\">{{ item.value }}</Option>\n          </Select>\n        </FormItem>\n        <template v-if=\"formItem.type === '1'\">\n          <FormItem label=\"电子面单：\" class=\"express_temp_id\">\n            <Select\n              v-model=\"formItem.express_temp_id\"\n              placeholder=\"请选择电子面单\"\n              style=\"width: 80%\"\n              @on-change=\"expressTempChange\"\n            >\n              <Option v-for=\"(item, i) in expressTemp\" :value=\"item.temp_id\" :key=\"i\">{{ item.title }}</Option>\n            </Select>\n            <Button v-if=\"formItem.express_temp_id\" type=\"text\" @click=\"preview\">预览</Button>\n          </FormItem>\n          <FormItem label=\"寄件人姓名：\">\n            <Input v-model=\"formItem.to_name\" placeholder=\"请输入寄件人姓名\" style=\"width: 80%\"></Input>\n          </FormItem>\n          <FormItem label=\"寄件人电话：\">\n            <Input v-model=\"formItem.to_tel\" placeholder=\"请输入寄件人电话\" style=\"width: 80%\"></Input>\n          </FormItem>\n          <FormItem label=\"寄件人地址：\">\n            <Input v-model=\"formItem.to_addr\" placeholder=\"请输入寄件人地址\" style=\"width: 80%\"></Input>\n          </FormItem>\n        </template>\n      </div>\n      <div v-show=\"formItem.type === '2'\">\n        <FormItem label=\"送货人：\">\n          <Select\n            v-model=\"formItem.sh_delivery\"\n            placeholder=\"请选择送货人\"\n            style=\"width: 80%\"\n            @on-change=\"shDeliveryChange\"\n          >\n            <Option v-for=\"(item, i) in deliveryList\" :value=\"item.id\" :key=\"i\"\n              >{{ item.wx_name }}（{{ item.phone }}）</Option\n            >\n          </Select>\n        </FormItem>\n      </div>\n      <div v-show=\"formItem.type === '3'\">\n        <FormItem label=\"备注：\">\n          <Input\n            v-model=\"formItem.fictitious_content\"\n            type=\"textarea\"\n            :autosize=\"{ minRows: 2, maxRows: 5 }\"\n            placeholder=\"备注\"\n            style=\"width: 80%\"\n          ></Input>\n        </FormItem>\n      </div>\n    </Form>\n    <div slot=\"footer\">\n      <Button @click=\"cancel\">取消</Button>\n      <Button type=\"primary\" @click=\"putSend\">提交</Button>\n    </div>\n    <div ref=\"viewer\" v-viewer v-show=\"temp\">\n      <img :src=\"temp.pic\" style=\"display: none\" />\n    </div>\n  </Modal>\n</template>\n\n<script>\nimport { getExpressData, orderExpressTemp, orderDeliveryList, orderSheetInfo, otherBatchDelivery } from '@/api/order';\nexport default {\n  name: 'orderSend',\n  props: {\n    isAll: {\n      type: Number,\n      default: 1,\n    },\n    ids: {\n      type: Array,\n      default() {\n        return [];\n      },\n    },\n    where: {\n      type: Object,\n      default() {\n        return {};\n      },\n    },\n  },\n  data() {\n    return {\n      formItem: {\n        type: '1',\n        express_record_type: '2',\n        delivery_name: '',\n        delivery_id: '',\n        express_temp_id: '',\n        to_name: '',\n        to_tel: '',\n        to_addr: '',\n        sh_delivery: '',\n        fictitious_content: '',\n      },\n      modals: false,\n      express: [],\n      expressTemp: [],\n      deliveryList: [],\n      temp: {},\n      export_open: true,\n    };\n  },\n  watch: {\n    'formItem.express_temp_id'(value) {},\n  },\n  methods: {\n    changeRadio(o) {\n      this.$refs.formItem.resetFields();\n      switch (o) {\n        case '1':\n          this.formItem.delivery_name = '';\n          this.formItem.delivery_id = '';\n          this.formItem.express_temp_id = '';\n          this.formItem.express_record_type = '2';\n          this.expressTemp = [];\n          break;\n        case '2':\n          this.formItem.sh_delivery = '';\n          this.formItem.express_record_type = '1';\n          break;\n        case '3':\n          this.formItem.fictitious_content = '';\n          this.formItem.express_record_type = '1';\n          break;\n      }\n    },\n    changeExpress(j) {\n      switch (j) {\n        case '2':\n          this.formItem.delivery_name = '';\n          this.formItem.express_temp_id = '';\n          this.expressTemp = [];\n          break;\n        case '1':\n          this.formItem.delivery_name = '';\n          this.formItem.delivery_id = '';\n          break;\n        default:\n          break;\n      }\n    },\n    reset() {\n      this.formItem = {\n        type: '1',\n        express_record_type: '2',\n        delivery_name: '',\n        delivery_id: '',\n        express_temp_id: '',\n        expressTemp: [],\n        to_name: '',\n        to_tel: '',\n        to_addr: '',\n        sh_delivery: '',\n        fictitious_content: '',\n      };\n    },\n    // 物流公司列表\n    getList() {\n      getExpressData(1)\n        .then(async (res) => {\n          this.express = res.data;\n          this.getSheetInfo();\n        })\n        .catch((res) => {\n          this.loading = false;\n          this.$Message.error(res.msg);\n        });\n    },\n    // 提交\n    putSend(name) {\n      let data = Object.assign(this.formItem);\n      let arr = [];\n      this.ids.forEach((item) => {\n        arr.push(item.id);\n      });\n      if (this.isAll == 1) {\n        data.all = 1;\n        data.where = this.where;\n      } else {\n        data.all = 0;\n        data.ids = arr;\n      }\n      if (this.formItem.type === '1') {\n        if (this.formItem.delivery_name === '') {\n          return this.$Message.error('快递公司不能为空');\n        } else if (this.formItem.express_temp_id === '') {\n          return this.$Message.error('电子面单不能为空');\n        } else if (this.formItem.to_name === '') {\n          return this.$Message.error('寄件人姓名不能为空');\n        } else if (this.formItem.to_tel === '') {\n          return this.$Message.error('寄件人电话不能为空');\n        } else if (!/^1(3|4|5|7|8|9|6)\\d{9}$/i.test(this.formItem.to_tel)) {\n          return this.$Message.error('请输入正确的手机号码');\n        } else if (this.formItem.to_addr === '') {\n          return this.$Message.error('寄件人地址不能为空');\n        }\n      }\n      if (this.formItem.type === '2') {\n        if (this.formItem.express_temp_id) {\n          this.formItem.express_temp_id = '';\n        }\n        if (this.formItem.sh_delivery === '') {\n          return this.$Message.error('送货人不能为空');\n        }\n      }\n      otherBatchDelivery(data)\n        .then(async (res) => {\n          this.modals = false;\n          this.$Message.success(res.msg);\n          this.reset();\n        })\n        .catch((res) => {\n          this.$Message.error(res.msg);\n          this.modals = false;\n        });\n    },\n    cancel(name) {\n      this.modals = false;\n      this.reset();\n    },\n    // 电子面单列表\n    expressChange(value) {\n      let expressItem = this.express.find((item) => {\n        return item.value === value;\n      });\n      if (!expressItem) {\n        return;\n      }\n      this.formItem.delivery_code = expressItem.code;\n      if (this.formItem.type === '1') {\n        this.expressTemp = [];\n        this.formItem.express_temp_id = '';\n        orderExpressTemp({\n          com: this.formItem.delivery_code,\n        })\n          .then((res) => {\n            this.expressTemp = res.data;\n            if (!res.data.length) {\n              this.$Message.error('请配置你所选快递公司的电子面单');\n            }\n          })\n          .catch((err) => {\n            this.$Message.error(err.msg);\n          });\n      }\n    },\n    getDeliveryList() {\n      orderDeliveryList()\n        .then((res) => {\n          this.deliveryList = res.data.list;\n        })\n        .catch((err) => {\n          this.$Message.error(err.msg);\n        });\n    },\n    getSheetInfo() {\n      orderSheetInfo()\n        .then((res) => {\n          const data = res.data;\n          for (const key in data) {\n            if (data.hasOwnProperty(key) && key !== 'express_temp_id') {\n              this.formItem[key] = data[key];\n            }\n          }\n          this.export_open = data.export_open === undefined ? true : data.export_open;\n          if (!this.export_open) {\n            this.formItem.express_record_type = '1';\n          }\n          this.formItem.to_addr = data.to_add;\n        })\n        .catch((err) => {\n          this.$Message.error(err.msg);\n        });\n    },\n    shDeliveryChange(value) {\n      let deliveryItem = this.deliveryList.find((item) => {\n        return item.id === value;\n      });\n      this.formItem.sh_delivery_name = deliveryItem.wx_name;\n      this.formItem.sh_delivery_id = deliveryItem.phone;\n      this.formItem.sh_delivery_uid = deliveryItem.uid;\n    },\n    expressTempChange(tempId) {\n      this.temp = this.expressTemp.find((item) => {\n        return tempId === item.temp_id;\n      });\n    },\n    preview() {\n      this.$refs.viewer.$viewer.show();\n    },\n  },\n};\n</script>\n\n<style scoped>\n.express_temp_id {\n  position: relative;\n}\n\n.express_temp_id button {\n  position: absolute;\n  top: 50%;\n  right: 110px;\n  padding: 0;\n  border: none;\n  background: none;\n  transform: translateY(-50%);\n  color: #57a3f3;\n}\n\n.ivu-btn-text:focus {\n  box-shadow: none;\n}\n</style>\n"]}]}