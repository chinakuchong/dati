{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/pages/order/invoice/index.vue?vue&type=style&index=0&id=dab3a7ca&scoped=true&lang=stylus&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/pages/order/invoice/index.vue","mtime":1689324015241},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/@vue/cli-service/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/stylus-loader/index.js","mtime":1519606876000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5vcmRlcl9ib3ggLmxpc3QgewogIGZvbnQtc2l6ZTogMTJweDsKICBjb2xvcjogIzE3MjMzRDsKICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI0U3RUFFQzsKICBtYXJnaW46IDAgMTBweDsKICBwYWRkaW5nLWJvdHRvbTogMjJweDsKfQoKLml2dS1mb3JtLWl0ZW0gewogIG1hcmdpbi1sZWZ0OiAxMHB4OwogIG1hcmdpbi1yaWdodDogMTBweDsKfQoKL2RlZXAvLml2dS1mb3JtLWl0ZW0tbGFiZWwgewogIHRleHQtYWxpZ246IGxlZnQ7CiAgd2lkdGg6IDgzcHggIWltcG9ydGFudDsKfQoKL2RlZXAvLml2dS1mb3JtLWl0ZW0tY29udGVudCB7CiAgbWFyZ2luLWxlZnQ6IDgzcHggIWltcG9ydGFudDsKfQoKLm9yZGVyX2JveCAubGlzdCAudGl0bGUgewogIGNvbG9yOiAjMDAwMDAwOwogIGZvbnQtd2VpZ2h0OiBib2xkOwp9Cgoub3JkZXJfYm94IC5saXN0IC5yb3cgewogIG1hcmdpbi10b3A6IDEzcHg7Cn0KCi5vcmRlcl9ib3ggLmxpc3QgLmluZm8gewogIGNvbG9yOiAjNTE1QTZFOwp9CgoudGFiX2RhdGEgPj4+IC5pdnUtZm9ybS1pdGVtLWNvbnRlbnQgewogIG1hcmdpbi1sZWZ0OiAwICFpbXBvcnRhbnQ7Cn0KCi50YWJsZV9ib3ggPj4+IC5pdnUtZGl2aWRlci1ob3Jpem9udGFsIHsKICBtYXJnaW4tdG9wOiAwcHggIWltcG9ydGFudDsKfQoKLnRhYmxlX2JveCA+Pj4gLml2dS1mb3JtLWl0ZW0gewogIG1hcmdpbi1ib3R0b206IDE1cHggIWltcG9ydGFudDsKfQoKLnRhYmZvcm0gewogIG1hcmdpbi1ib3R0b206IDEwcHg7Cn0KCi5SZWZyZXNoIHsKICBmb250LXNpemU6IDEycHg7CiAgY29sb3I6ICMxODkwRkY7CiAgY3Vyc29yOiBwb2ludGVyOwp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8jBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/order/invoice","sourcesContent":["<template>\n  <div>\n    <Card :bordered=\"false\" dis-hover class=\"ivu-mb-16\">\n      <div class=\"table_box\">\n        <Form\n          ref=\"orderData\"\n          :model=\"orderData\"\n          :label-width=\"80\"\n          label-position=\"right\"\n          class=\"tabform\"\n          @submit.native.prevent\n        >\n          <Row :gutter=\"24\" type=\"flex\" justify=\"end\">\n            <!--                        <Col span=\"24\" class=\"ivu-text-left\">-->\n            <!--                            <FormItem label=\"订单状态：\">-->\n            <!--                                <RadioGroup v-model=\"orderData.status\" type=\"button\"  @on-change=\"selectChange()\">-->\n            <!--                                    <Radio label=\"\">全部 {{  '(' +tablists.statusAll?tablists.statusAll:0 + ')' }}</Radio>-->\n            <!--                                    <Radio label=\"0\">未支付 {{  '(' +tablists.unpaid?tablists.unpaid:0+ ')' }}</Radio>-->\n            <!--                                    <Radio label=\"1\">未发货 {{  '(' +tablists.unshipped?tablists.unshipped:0+ ')' }}</Radio>-->\n            <!--                                    <Radio label=\"2\">待收货 {{  '(' +tablists.untake?tablists.untake:0+ ')' }}</Radio>-->\n            <!--                                    <Radio label=\"3\">待评价 {{  '(' +tablists.unevaluate?tablists.unevaluate:0+ ')' }}</Radio>-->\n            <!--                                    <Radio label=\"4\">交易完成 {{  '(' +tablists.complete?tablists.complete:0+ ')' }}</Radio>-->\n            <!--                                    <Radio label=\"5\">待核销 {{  '(' +tablists.write_off?tablists.write_off:0+ ')' }}</Radio>-->\n            <!--                                    <Radio label=\"-1\">退款中 {{  '(' +tablists.refunding?tablists.refunding:0+ ')' }}</Radio>-->\n            <!--                                    <Radio label=\"-2\">已退款 {{  '(' +tablists.refund?tablists.refund:0+ ')' }}</Radio>-->\n            <!--                                    <Radio label=\"-4\">已删除 {{  '(' +tablists.del?tablists.del:0+ ')' }}</Radio>-->\n            <!--                                </RadioGroup>-->\n            <!--                            </FormItem>-->\n            <!--                        </Col>-->\n            <Col span=\"24\" class=\"ivu-text-left\">\n              <FormItem label=\"创建时间：\">\n                <DatePicker\n                  :editable=\"false\"\n                  @on-change=\"onchangeTime\"\n                  :value=\"timeVal\"\n                  format=\"yyyy/MM/dd\"\n                  type=\"datetimerange\"\n                  placement=\"bottom-start\"\n                  placeholder=\"请选择时间\"\n                  style=\"width: 300px\"\n                  class=\"mr20\"\n                  :options=\"options\"\n                ></DatePicker>\n              </FormItem>\n            </Col>\n            <Col span=\"24\">\n              <Col v-bind=\"grid\" class=\"mr\">\n                <FormItem label=\"搜索：\" prop=\"real_name\" label-for=\"real_name\">\n                  <Input\n                    v-model=\"orderData.real_name\"\n                    search\n                    enter-button\n                    placeholder=\"请输入\"\n                    element-id=\"name\"\n                    @on-search=\"orderSearch()\"\n                  >\n                    <Select v-model=\"orderData.field_key\" slot=\"prepend\" style=\"width: 80px\">\n                      <Option value=\"all\">全部</Option>\n                      <Option value=\"order_id\">订单号</Option>\n                      <Option value=\"uid\">UID</Option>\n                      <Option value=\"real_name\">用户姓名</Option>\n                      <Option value=\"user_phone\">用户电话</Option>\n                    </Select>\n                  </Input>\n                </FormItem>\n              </Col>\n            </Col>\n          </Row>\n        </Form>\n      </div>\n    </Card>\n    <Card :bordered=\"false\" dis-hover>\n      <Tabs v-model=\"currentTab\" @on-click=\"onClickTab\" v-if=\"tablists\" class=\"mb20\">\n        <TabPane :label=\"'全部发票（' + tablists.all + '）'\" name=\" \" />\n        <TabPane :label=\"'待开发票（' + tablists.noOpened + '）'\" name=\"1\" />\n        <TabPane :label=\"'已开发票（' + tablists.opened + '）'\" name=\"2\" />\n        <TabPane :label=\"'退款发票（' + tablists.refund + '）'\" name=\"3\" />\n      </Tabs>\n      <Table\n        :columns=\"columns\"\n        :data=\"orderList\"\n        ref=\"table\"\n        :loading=\"loading\"\n        highlight-row\n        no-userFrom-text=\"暂无数据\"\n        no-filtered-userFrom-text=\"暂无筛选结果\"\n      >\n        <template slot-scope=\"{ row, index }\" slot=\"pay_price\">\n          <div>¥ {{ row.pay_price }}</div>\n        </template>\n        <template slot-scope=\"{ row, index }\" slot=\"type\">\n          <div v-if=\"row.type === 1\">电子普通发票</div>\n          <div v-else>纸质专用发票</div>\n        </template>\n        <template slot-scope=\"{ row, index }\" slot=\"is_invoice\">\n          <div v-if=\"row.is_invoice === 1\">已开票</div>\n          <div v-else>未开票</div>\n        </template>\n        <template slot-scope=\"{ row, index }\" slot=\"status\">\n          <div v-if=\"row.status === 0\">未发货</div>\n          <div v-else-if=\"row.status === 1\">待收货</div>\n          <div v-else-if=\"row.status === 2\">待评价</div>\n          <div v-else-if=\"row.status === 3\">已完成</div>\n          <div v-else-if=\"row.status === -2\">已退款</div>\n        </template>\n        <template slot-scope=\"{ row, index }\" slot=\"header_type\">\n          <div v-if=\"row.header_type === 1\">个人</div>\n          <div v-else>企业</div>\n        </template>\n        <template slot-scope=\"{ row, index }\" slot=\"action\">\n          <a v-if=\"row.status != -2\" @click=\"edit(row)\">编辑</a>\n          <Divider v-if=\"row.status != -2\" type=\"vertical\" />\n          <a @click=\"orderInfo(row.id)\">订单信息</a>\n        </template>\n      </Table>\n      <div class=\"acea-row row-right page\">\n        <Page\n          :total=\"total\"\n          :current=\"orderData.page\"\n          show-elevator\n          show-total\n          @on-change=\"pageChange\"\n          :page-size=\"orderData.limit\"\n        />\n      </div>\n    </Card>\n    <Modal\n      v-model=\"invoiceShow\"\n      scrollable\n      title=\"发票详情\"\n      class=\"order_box\"\n      width=\"700\"\n      @on-cancel=\"cancel\"\n      footer-hide\n    >\n      <Form ref=\"formInline\" :model=\"formInline\" :label-width=\"100\" @submit.native.prevent>\n        <div v-if=\"invoiceDetails.header_type === 1 && invoiceDetails.type === 1\">\n          <div class=\"list\">\n            <div class=\"title\">发票信息</div>\n            <Row class=\"row\">\n              <Col span=\"12\"\n                >发票抬头: <span class=\"info\">{{ invoiceDetails.name }}</span></Col\n              >\n              <Col span=\"12\">发票类型: <span class=\"info\">电子普通发票</span></Col>\n            </Row>\n            <Row class=\"row\">\n              <Col span=\"12\">发票抬头类型: 个人</Col>\n              <Col span=\"12\">订单金额: {{ invoiceDetails.pay_price }}</Col>\n            </Row>\n          </div>\n          <div class=\"list\">\n            <div class=\"title row\">联系信息</div>\n            <Row class=\"row\">\n              <Col span=\"12\">真实姓名: {{ invoiceDetails.name }}</Col>\n              <Col span=\"12\">联系电话: {{ invoiceDetails.drawer_phone }}</Col>\n            </Row>\n            <Row class=\"row\">\n              <Col span=\"12\">联系邮箱: {{ invoiceDetails.email }}</Col>\n            </Row>\n          </div>\n        </div>\n        <div v-if=\"invoiceDetails.header_type === 2 && invoiceDetails.type === 1\">\n          <div class=\"list\">\n            <div class=\"title\">发票信息</div>\n            <Row class=\"row\">\n              <Col span=\"12\"\n                >发票抬头: <span class=\"info\">{{ invoiceDetails.name }}</span></Col\n              >\n              <Col span=\"12\"\n                >企业税号: <span class=\"info\">{{ invoiceDetails.duty_number }}</span></Col\n              >\n            </Row>\n            <Row class=\"row\">\n              <Col span=\"12\">发票类型: 电子普通发票</Col>\n              <Col span=\"12\">发票抬头类型: 企业</Col>\n            </Row>\n          </div>\n          <div class=\"list\">\n            <div class=\"title row\">联系信息</div>\n            <Row class=\"row\">\n              <Col span=\"12\">真实姓名: {{ invoiceDetails.name }}</Col>\n              <Col span=\"12\">联系电话: {{ invoiceDetails.user_phone }}</Col>\n            </Row>\n            <Row class=\"row\">\n              <Col span=\"12\">联系邮箱: {{ invoiceDetails.email }}</Col>\n            </Row>\n          </div>\n        </div>\n        <div v-if=\"invoiceDetails.header_type === 2 && invoiceDetails.type === 2\">\n          <div class=\"list\">\n            <div class=\"title\">发票信息</div>\n            <Row class=\"row\">\n              <Col span=\"12\"\n                >发票抬头: <span class=\"info\">{{ invoiceDetails.name }}</span></Col\n              >\n              <Col span=\"12\"\n                >企业税号: <span class=\"info\">{{ invoiceDetails.duty_number }}</span></Col\n              >\n            </Row>\n            <Row class=\"row\">\n              <Col span=\"12\">发票类型: 纸质专用发票</Col>\n              <Col span=\"12\">发票抬头类型: 企业</Col>\n            </Row>\n            <Row class=\"row\">\n              <Col span=\"12\"\n                >开户银行: <span class=\"info\">{{ invoiceDetails.bank }}</span></Col\n              >\n              <Col span=\"12\"\n                >银行账号: <span class=\"info\">{{ invoiceDetails.card_number }}</span></Col\n              >\n            </Row>\n            <Row class=\"row\">\n              <Col span=\"12\">企业地址: {{ invoiceDetails.address }}</Col>\n              <Col span=\"12\">企业电话: {{ invoiceDetails.drawer_phone }}</Col>\n            </Row>\n          </div>\n          <div class=\"list\">\n            <div class=\"title row\">联系信息</div>\n            <Row class=\"row\">\n              <Col span=\"12\">真实姓名: {{ invoiceDetails.real_name }}</Col>\n              <Col span=\"12\">联系电话: {{ invoiceDetails.user_phone }}</Col>\n            </Row>\n            <Row class=\"row\">\n              <Col span=\"12\">联系邮箱: {{ invoiceDetails.email }}</Col>\n            </Row>\n          </div>\n        </div>\n        <FormItem label=\"开票状态：\" style=\"margin-top: 14px\">\n          <RadioGroup v-model=\"formInline.is_invoice\" @on-change=\"kaiInvoice(formInline.is_invoice)\">\n            <Radio :label=\"1\">已开票</Radio>\n            <Radio :label=\"0\">未开票</Radio>\n          </RadioGroup>\n        </FormItem>\n        <FormItem label=\"发票编号：\" v-if=\"formInline.is_invoice === 1\">\n          <Input v-model=\"formInline.invoice_number\" placeholder=\"请输入发票编号\"></Input>\n        </FormItem>\n        <FormItem label=\"发票备注：\" v-if=\"formInline.is_invoice === 1\">\n          <Input\n            v-model=\"formInline.remark\"\n            value=\"备注\"\n            type=\"textarea\"\n            :autosize=\"{ minRows: 2, maxRows: 5 }\"\n            placeholder=\"请输入发票备注\"\n          ></Input>\n        </FormItem>\n        <Button type=\"primary\" @click=\"handleSubmit()\" style=\"width: 100%; margin: 0 10px\">确定</Button>\n      </Form>\n    </Modal>\n    <Modal v-model=\"orderShow\" scrollable title=\"订单详情\" footer-hide class=\"order_box\" width=\"700\">\n      <orderDetall :orderId=\"orderId\" @detall=\"detall\" v-if=\"orderShow\"></orderDetall>\n    </Modal>\n  </div>\n</template>\n<script>\nimport orderDetall from './orderDetall';\nimport { orderInvoiceChart, orderInvoiceList, orderInvoiceSet } from '@/api/order';\nimport { mapState } from 'vuex';\nexport default {\n  name: 'invoice',\n  components: {\n    orderDetall,\n  },\n  computed: {\n    ...mapState('media', ['isMobile']),\n    labelWidth() {\n      return this.isMobile ? undefined : 75;\n    },\n    labelPosition() {\n      return this.isMobile ? 'top' : 'right';\n    },\n  },\n  data() {\n    return {\n      orderShow: false,\n      invoiceShow: false,\n      invoiceDetails: {},\n      formInline: {\n        is_invoice: 0,\n        invoice_number: '',\n        remark: '',\n      },\n      loading: false,\n      currentTab: '',\n      tablists: null,\n      timeVal: [],\n      options: {\n        shortcuts: [\n          {\n            text: '今天',\n            value() {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate()));\n              return [start, end];\n            },\n          },\n          {\n            text: '昨天',\n            value() {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(\n                start.setTime(new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate() - 1)),\n              );\n              end.setTime(\n                end.setTime(new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate() - 1)),\n              );\n              return [start, end];\n            },\n          },\n          {\n            text: '最近7天',\n            value() {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(\n                start.setTime(new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate() - 6)),\n              );\n              return [start, end];\n            },\n          },\n          {\n            text: '最近30天',\n            value() {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(\n                start.setTime(new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate() - 29)),\n              );\n              return [start, end];\n            },\n          },\n          {\n            text: '本月',\n            value() {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(start.setTime(new Date(new Date().getFullYear(), new Date().getMonth(), 1)));\n              return [start, end];\n            },\n          },\n          {\n            text: '本年',\n            value() {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(start.setTime(new Date(new Date().getFullYear(), 0, 1)));\n              return [start, end];\n            },\n          },\n        ],\n      },\n      grid: {\n        xl: 12,\n        lg: 16,\n        md: 24,\n        sm: 24,\n        xs: 24,\n      },\n      columns: [\n        {\n          title: '订单号',\n          key: 'order_id',\n          minWidth: 170,\n        },\n        // {\n        //     title: '订单类型',\n        //     key: 'pink_name',\n        //     minWidth: 150\n        // },\n        {\n          title: '订单金额',\n          slot: 'pay_price',\n          minWidth: 100,\n        },\n        {\n          title: '发票类型',\n          slot: 'type',\n          minWidth: 120,\n          filters: [\n            {\n              label: '电子普通发票',\n              value: 1,\n            },\n            {\n              label: '纸质专用发票',\n              value: 2,\n            },\n          ],\n          filterMultiple: false,\n          filterMethod(value, row) {\n            if (value === 1) {\n              return row.type === 1;\n            } else if (value === 2) {\n              return row.type === 2;\n            }\n          },\n        },\n        {\n          title: '发票抬头类型',\n          slot: 'header_type',\n          minWidth: 110,\n          filters: [\n            {\n              label: '个人',\n              value: 1,\n            },\n            {\n              label: '企业',\n              value: 2,\n            },\n          ],\n          filterMultiple: false,\n          filterMethod(value, row) {\n            if (value === 1) {\n              return row.header_type === 1;\n            } else if (value === 2) {\n              return row.header_type === 2;\n            }\n          },\n        },\n        // {\n        //     title: '支付状态',\n        //     key: 'pay_type_name',\n        //     minWidth: 90\n        // },\n        {\n          title: '下单时间',\n          key: 'add_time',\n          minWidth: 150,\n          sortable: true,\n        },\n        {\n          title: '开票状态',\n          slot: 'is_invoice',\n          minWidth: 80,\n        },\n        {\n          title: '订单状态',\n          slot: 'status',\n          minWidth: 80,\n        },\n        {\n          title: '操作',\n          slot: 'action',\n          fixed: 'right',\n          minWidth: 150,\n          align: 'center',\n        },\n      ],\n      orderList: [],\n      total: 0, // 总条数\n      orderData: {\n        page: 1, // 当前页\n        limit: 10, // 每页显示条数\n        status: '',\n        data: '',\n        real_name: '',\n        field_key: '',\n        type: '',\n      },\n      orderId: 0,\n    };\n  },\n  created() {\n    this.getTabs();\n    this.getList();\n  },\n  mounted() {},\n  methods: {\n    detall(e) {\n      this.orderShow = e;\n    },\n    orderInfo(id) {\n      this.orderId = id;\n      this.orderShow = true;\n    },\n    empty() {\n      this.formInline = {\n        is_invoice: 1,\n        invoice_number: '',\n        remark: '',\n      };\n    },\n    cancel() {\n      this.invoiceShow = false;\n      this.empty();\n    },\n    kaiInvoice(invoice) {\n      if (invoice !== 1) {\n        this.formInline.invoice_number = '';\n        this.formInline.remark = '';\n      }\n    },\n    handleSubmit() {\n      if (this.formInline.is_invoice === 1) {\n        if (this.formInline.invoice_number.trim() === '') return this.$Message.error('请填写发票编号');\n      }\n      orderInvoiceSet(this.invoiceDetails.invoice_id, this.formInline)\n        .then((res) => {\n          this.$Message.success(res.msg);\n          this.invoiceShow = false;\n          this.getList();\n          this.empty();\n          this.getTabs();\n        })\n        .catch((err) => {\n          this.$Message.error(err.msg);\n        });\n    },\n    edit(row) {\n      this.invoiceShow = true;\n      this.invoiceDetails = row;\n      this.formInline.invoice_number = row.invoice_number;\n      this.formInline.remark = row.invoice_reamrk;\n      this.formInline.is_invoice = row.is_invoice;\n    },\n    // 订单列表\n    getList() {\n      this.loading = true;\n      orderInvoiceList(this.orderData)\n        .then(async (res) => {\n          this.loading = false;\n          let data = res.data;\n          this.orderList = data.list;\n          this.total = data.count;\n        })\n        .catch((res) => {\n          this.loading = false;\n          this.$Message.error(res.msg);\n        });\n    },\n    pageChange(index) {\n      this.orderData.page = index;\n      this.getList();\n    },\n    getTabs() {\n      orderInvoiceChart(this.orderData)\n        .then((res) => {\n          this.tablists = res.data;\n        })\n        .catch((err) => {\n          this.$Message.error(err.msg);\n        });\n    },\n    // 精确搜索()\n    orderSearch() {\n      this.orderData.page = 1;\n      this.getTabs();\n      this.getList();\n    },\n    // 具体日期搜索()；\n    onchangeTime(e) {\n      this.orderData.page = 1;\n      this.timeVal = e;\n      this.orderData.data = this.timeVal[0] ? this.timeVal.join('-') : '';\n      this.getList();\n      this.getTabs();\n    },\n    //订单状态搜索()\n    selectChange() {\n      this.orderData.page = 1;\n      this.getList();\n    },\n    //订单搜索()\n    onClickTab() {\n      this.orderData.page = 1;\n      this.orderData.type = this.currentTab;\n      this.getList();\n    },\n  },\n};\n</script>\n<style scoped lang=\"stylus\">\n.order_box .list {\n  font-size: 12px;\n  color: #17233D;\n  border-bottom: 1px solid #E7EAEC;\n  margin: 0 10px;\n  padding-bottom: 22px;\n}\n\n.ivu-form-item {\n  margin-left: 10px;\n  margin-right: 10px;\n}\n\n/deep/.ivu-form-item-label {\n  text-align: left;\n  width: 83px !important;\n}\n\n/deep/.ivu-form-item-content {\n  margin-left: 83px !important;\n}\n\n.order_box .list .title {\n  color: #000000;\n  font-weight: bold;\n}\n\n.order_box .list .row {\n  margin-top: 13px;\n}\n\n.order_box .list .info {\n  color: #515A6E;\n}\n\n.tab_data >>> .ivu-form-item-content {\n  margin-left: 0 !important;\n}\n\n.table_box >>> .ivu-divider-horizontal {\n  margin-top: 0px !important;\n}\n\n.table_box >>> .ivu-form-item {\n  margin-bottom: 15px !important;\n}\n\n.tabform {\n  margin-bottom: 10px;\n}\n\n.Refresh {\n  font-size: 12px;\n  color: #1890FF;\n  cursor: pointer;\n}\n</style>\n"]}]}