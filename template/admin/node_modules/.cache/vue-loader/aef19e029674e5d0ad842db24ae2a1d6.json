{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/pages/order/orderList/handle/orderDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/pages/order/orderList/handle/orderDetails.vue","mtime":1689324015243},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldEV4cHJlc3MgfSBmcm9tICdAL2FwaS9vcmRlcic7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnb3JkZXJEZXRhaWxzJywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbW9kYWwyOiBmYWxzZSwKICAgICAgbW9kYWxzOiBmYWxzZSwKICAgICAgZ3JpZDogewogICAgICAgIHhsOiA4LAogICAgICAgIGxnOiA4LAogICAgICAgIG1kOiAxMiwKICAgICAgICBzbTogMjQsCiAgICAgICAgeHM6IDI0LAogICAgICB9LAogICAgICByZXN1bHQ6IFtdLAogICAgfTsKICB9LAogIHByb3BzOiB7CiAgICBvcmRlckRhdGFsaXN0OiBPYmplY3QsCiAgICBvcmRlcklkOiBOdW1iZXIsCiAgICBpc19yZWZ1bmQ6IE51bWJlciwKICB9LAogIG1ldGhvZHM6IHsKICAgIG9wZW5Mb2dpc3RpY3MoKSB7CiAgICAgIHRoaXMuZ2V0T3JkZXJEYXRhKCk7CiAgICAgIHRoaXMubW9kYWwyID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDojrflj5borqLljZXnianmtYHkv6Hmga8KICAgIGdldE9yZGVyRGF0YSgpIHsKICAgICAgZ2V0RXhwcmVzcyh0aGlzLm9yZGVySWQpCiAgICAgICAgLnRoZW4oYXN5bmMgKHJlcykgPT4gewogICAgICAgICAgdGhpcy5yZXN1bHQgPSByZXMuZGF0YS5yZXN1bHQ7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICB9KTsKICAgIH0sCiAgfSwKICBjb21wdXRlZDoge30sCn07Cg=="},{"version":3,"sources":["orderDetails.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"orderDetails.vue","sourceRoot":"src/pages/order/orderList/handle","sourcesContent":["<template>\n  <div v-if=\"orderDatalist\">\n    <Drawer title=\"订单详情\" :closable=\"false\" width=\"700\" v-model=\"modals\" scrollable>\n      <Card :bordered=\"false\" dis-hover class=\"i-table-no-border\">\n        <div class=\"ivu-description-list-title\">收货信息</div>\n        <Row class=\"mb10\">\n          <Col span=\"12\">用户昵称：{{ orderDatalist.userInfo.nickname }}</Col>\n          <Col span=\"12\">收货人：{{ orderDatalist.orderInfo.real_name }}</Col>\n        </Row>\n        <Row class=\"mb10\">\n          <Col span=\"12\">联系电话：{{ orderDatalist.orderInfo.user_phone || '' }}</Col>\n          <Col span=\"12\">收货地址：{{ orderDatalist.orderInfo.user_address || '' }}</Col>\n        </Row>\n        <Divider style=\"margin: 20px 0 !important\" />\n        <div class=\"ivu-description-list-title\">订单信息</div>\n        <Row class=\"mb10\">\n          <Col span=\"12\">订单ID：{{ orderDatalist.orderInfo.order_id }}</Col>\n          <Col span=\"12\" class=\"fontColor1\"\n            >订单状态：{{ orderDatalist.orderInfo._status._title }}\n            {{\n              orderDatalist.orderInfo.refund &&\n              orderDatalist.orderInfo.refund.length &&\n              orderDatalist.orderInfo.refund_status < 2\n                ? orderDatalist.orderInfo.is_all_refund\n                  ? '退款中'\n                  : '部分退款中'\n                : ''\n            }}\n          </Col>\n        </Row>\n        <Row class=\"mb10\">\n          <Col span=\"12\">商品总数：{{ orderDatalist.orderInfo.total_num }}</Col>\n          <Col span=\"12\">商品总价：{{ orderDatalist.orderInfo.total_price }}</Col>\n        </Row>\n        <Row class=\"mb10\">\n          <Col span=\"12\">交付邮费：{{ orderDatalist.orderInfo.pay_postage }}</Col>\n          <Col span=\"12\">优惠券金额：{{ orderDatalist.orderInfo.coupon_price }}</Col>\n        </Row>\n        <Row class=\"mb10\">\n          <Col span=\"12\">用户等级优惠：{{ orderDatalist.orderInfo.levelPrice || 0.0 }}</Col>\n          <Col span=\"12\">付费会员优惠：{{ orderDatalist.orderInfo.memberPrice || 0.0 }}</Col>\n        </Row>\n        <Row class=\"mb10\">\n          <Col span=\"12\">积分抵扣：{{ orderDatalist.orderInfo.deduction_price || 0.0 }}</Col>\n          <Col span=\"12\">实际支付：{{ orderDatalist.orderInfo.pay_price }}</Col>\n        </Row>\n        <Row class=\"mb10\">\n          <Col\n            span=\"12\"\n            class=\"fontColor3 mb10\"\n            v-if=\"parseFloat(orderDatalist.orderInfo.refund_price) && orderDatalist.orderInfo.refund_type != 3\"\n            >退款金额：{{ parseFloat(orderDatalist.orderInfo.refund_price) }}</Col\n          >\n          <Col span=\"12\" class=\"fontColor3 mb10\" v-if=\"parseFloat(orderDatalist.orderInfo.use_integral)\"\n            >使用积分：{{ parseFloat(orderDatalist.orderInfo.use_integral) }}</Col\n          >\n          <Col span=\"12\" class=\"fontColor3 mb10\" v-if=\"parseFloat(orderDatalist.orderInfo.back_integral)\"\n            >退回积分：{{ parseFloat(orderDatalist.orderInfo.back_integral) }}</Col\n          >\n          <Col span=\"12\" class=\"fontColor3 mb10\" v-if=\"parseFloat(orderDatalist.orderInfo.gain_integral) && orderDatalist.orderInfo.paid == 1\"\n            >赠送积分：{{ parseFloat(orderDatalist.orderInfo.gain_integral) }}</Col\n          >\n          <Col span=\"12\" class=\"mb10\">创建时间：{{ orderDatalist.orderInfo._add_time }}</Col>\n          <Col span=\"12\" class=\"mb10\">支付时间：{{ orderDatalist.orderInfo._pay_time }}</Col>\n          <Col span=\"12\" class=\"mb10\">支付方式：{{ orderDatalist.orderInfo._status._payType }}</Col>\n          <Col span=\"12\" class=\"mb10\" v-if=\"is_refund != 1\"\n            >推广人：{{ orderDatalist.orderInfo.spread_name + '/' + orderDatalist.orderInfo.spread_uid }}</Col\n          >\n          <Col\n            span=\"12\"\n            class=\"mb10\"\n            v-if=\"\n              orderDatalist.orderInfo.shipping_type === 2 &&\n              orderDatalist.orderInfo.refund_status === 0 &&\n              orderDatalist.orderInfo.paid === 1\n            \"\n            >门店名称：{{ orderDatalist.orderInfo._store_name }}</Col\n          >\n          <Col\n            span=\"12\"\n            class=\"mb10\"\n            v-if=\"\n              orderDatalist.orderInfo.shipping_type === 2 &&\n              orderDatalist.orderInfo.refund_status === 0 &&\n              orderDatalist.orderInfo.paid === 1\n            \"\n            >核销码：{{ orderDatalist.orderInfo.verify_code }}</Col\n          >\n          <Col span=\"24\" class=\"mb10\" v-if=\"orderDatalist.orderInfo.remark\"\n            >商家备注：{{ orderDatalist.orderInfo.remark }}</Col\n          >\n          <Col span=\"24\" class=\"mb10\" v-if=\"orderDatalist.orderInfo.fictitious_content\"\n            >虚拟发货备注：{{ orderDatalist.orderInfo.fictitious_content }}</Col\n          >\n        </Row>\n        <Divider style=\"margin: 20px 0 !important\" v-if=\"orderDatalist.orderInfo.custom_form.length\" />\n        <div class=\"ivu-description-list-title\" v-if=\"orderDatalist.orderInfo.custom_form.length\">表单信息</div>\n        <Row class=\"mb10\" v-if=\"orderDatalist.orderInfo.custom_form.length\">\n          <Col\n            class=\"mb10\"\n            :span=\"item.label !== 'text' ? 12 : 24\"\n            v-if=\"item.label !== 'img'\"\n            v-for=\"(item, index) in orderDatalist.orderInfo.custom_form\"\n            :key=\"index\"\n            >{{ item.title }}：{{ item.value }}</Col\n          >\n          <Col span=\"24\" v-else>\n            <div>{{ item.title }}：</div>\n            <div class=\"pic\">\n              <div v-for=\"(img, i) in item.value\" :key=\"i\" class=\"img\">\n                <img v-viewer :src=\"img\" alt=\"\" />\n              </div>\n            </div>\n          </Col>\n        </Row>\n        <div v-if=\"orderDatalist.orderInfo.delivery_type === 'express'\">\n          <Divider style=\"margin: 20px 0 !important\" />\n          <div class=\"ivu-description-list-title\">物流信息</div>\n          <Row class=\"mb10\">\n            <Col span=\"12\">快递公司：{{ orderDatalist.orderInfo.delivery_name }}</Col>\n            <Col span=\"12\"\n              >快递单号：{{ orderDatalist.orderInfo.delivery_id }}\n              <Button type=\"info\" size=\"small\" @click=\"openLogistics\">物流查询</Button></Col\n            >\n          </Row>\n        </div>\n        <div v-if=\"orderDatalist.orderInfo.delivery_type === 'send'\">\n          <Divider style=\"margin: 20px 0 !important\" />\n          <div class=\"ivu-description-list-title\">配送信息</div>\n          <Row class=\"mb10\">\n            <Col span=\"12\">送货人姓名：{{ orderDatalist.orderInfo.delivery_name }}</Col>\n            <Col span=\"12\">送货人电话：{{ orderDatalist.orderInfo.delivery_id }}</Col>\n          </Row>\n        </div>\n        <div v-if=\"orderDatalist.orderInfo.mark\">\n          <Divider style=\"margin: 20px 0 !important\" v-if=\"orderDatalist.orderInfo.mark\" />\n          <div class=\"ivu-description-list-title\" v-if=\"orderDatalist.orderInfo.mark\">备注信息</div>\n          <Row class=\"mb10\">\n            <Col span=\"12\" class=\"fontColor2\">{{ orderDatalist.orderInfo.mark }}</Col>\n          </Row>\n        </div>\n      </Card>\n    </Drawer>\n    <Modal v-model=\"modal2\" scrollable title=\"物流查询\" width=\"350\" class=\"order_box2\">\n      <div class=\"logistics acea-row row-top\">\n        <div class=\"logistics_img\">\n          <img src=\"../../../../assets/images/expressi.jpg\" />\n        </div>\n        <div class=\"logistics_cent\">\n          <span>物流公司：{{ orderDatalist.orderInfo.delivery_name }}</span>\n          <span>物流单号：{{ orderDatalist.orderInfo.delivery_id }}</span>\n        </div>\n      </div>\n      <div class=\"acea-row row-column-around trees-coadd\">\n        <div class=\"scollhide\">\n          <Timeline>\n            <TimelineItem v-for=\"(item, i) in result\" :key=\"i\">\n              <p class=\"time\" v-text=\"item.time\"></p>\n              <p class=\"content\" v-text=\"item.status\"></p>\n            </TimelineItem>\n          </Timeline>\n        </div>\n      </div>\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport { getExpress } from '@/api/order';\nexport default {\n  name: 'orderDetails',\n  data() {\n    return {\n      modal2: false,\n      modals: false,\n      grid: {\n        xl: 8,\n        lg: 8,\n        md: 12,\n        sm: 24,\n        xs: 24,\n      },\n      result: [],\n    };\n  },\n  props: {\n    orderDatalist: Object,\n    orderId: Number,\n    is_refund: Number,\n  },\n  methods: {\n    openLogistics() {\n      this.getOrderData();\n      this.modal2 = true;\n    },\n    // 获取订单物流信息\n    getOrderData() {\n      getExpress(this.orderId)\n        .then(async (res) => {\n          this.result = res.data.result;\n        })\n        .catch((res) => {\n          this.$Message.error(res.msg);\n        });\n    },\n  },\n  computed: {},\n};\n</script>\n\n<style scoped lang=\"stylus\">\n.ivu-description-list-title {\n  margin-bottom: 16px;\n  color: #17233d;\n  font-weight: 500;\n  font-size: 14px;\n}\n\n.logistics {\n  align-items: center;\n  padding: 10px 0px;\n\n  .logistics_img {\n    width: 45px;\n    height: 45px;\n    margin-right: 12px;\n\n    img {\n      width: 100%;\n      height: 100%;\n    }\n  }\n\n  .logistics_cent {\n    span {\n      display: block;\n      font-size: 12px;\n    }\n  }\n}\n\n.trees-coadd {\n  width: 100%;\n  height: 400px;\n  border-radius: 4px;\n  overflow: hidden;\n\n  .scollhide {\n    width: 100%;\n    height: 100%;\n    overflow: auto;\n    margin-left: 18px;\n    padding: 10px 0 10px 0;\n    box-sizing: border-box;\n\n    .content {\n      font-size: 12px;\n    }\n\n    .time {\n      font-size: 12px;\n      color: #2d8cf0;\n    }\n  }\n}\n\n.order_box2 {\n  position: absolute;\n  z-index: 999999999;\n}\n\n.order_box >>> .ivu-modal-header {\n  padding: 30x 16px !important;\n}\n\n.order_box >>> .ivu-card {\n  font-size: 12px !important;\n}\n\n.fontColor1 {\n  color: red !important;\n}\n\n.fontColor2 {\n  color: #733AF9 !important;\n}\n\n.order_box >>> .ivu-description-term {\n  padding-bottom: 10px !important;\n}\n\n.order_box >>> .ivu-description-detail {\n  padding-bottom: 10px !important;\n}\n\n.order_box >>> .ivu-modal-body {\n  padding: 0 16px !important;\n}\n\n.fontColor3 {\n  color: #f1a417 !important;\n}\n\n.fontColor3 {\n  color: #f1a417 !important;\n}\n\n.pic {\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.img {\n  width: 100px;\n  height: 100px;\n  margin: 10px 10px;\n\n  img {\n    width: 100%;\n    height: 100%;\n  }\n}\n</style>\n"]}]}