{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/pages/marketing/live/creat_live.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/pages/marketing/live/creat_live.vue","mtime":1689324015222},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCB1cGxvYWRQaWN0dXJlcyBmcm9tICdAL2NvbXBvbmVudHMvdXBsb2FkUGljdHVyZXMnOwppbXBvcnQgeyBsaXZlQWRkLCBsaXZlQXVjaG9yTGlzdCB9IGZyb20gJ0AvYXBpL2xpdmUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2NyZWF0X2xpdmUnLAogIGNvbXBvbmVudHM6IHsKICAgIHVwbG9hZFBpY3R1cmVzLAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcFN0YXRlKCdtZWRpYScsIFsnaXNNb2JpbGUnXSksCiAgICBsYWJlbFdpZHRoKCkgewogICAgICByZXR1cm4gdGhpcy5pc01vYmlsZSA/IHVuZGVmaW5lZCA6IDEwMDsKICAgIH0sCiAgICBsYWJlbFBvc2l0aW9uKCkgewogICAgICByZXR1cm4gdGhpcy5pc01vYmlsZSA/ICd0b3AnIDogJ3JpZ2h0JzsKICAgIH0sCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZ3JpZEJ0bjogewogICAgICAgIHhsOiA0LAogICAgICAgIGxnOiA4LAogICAgICAgIG1kOiA4LAogICAgICAgIHNtOiA4LAogICAgICAgIHhzOiA4LAogICAgICB9LAogICAgICBncmlkUGljOiB7CiAgICAgICAgeGw6IDYsCiAgICAgICAgbGc6IDgsCiAgICAgICAgbWQ6IDEyLAogICAgICAgIHNtOiAxMiwKICAgICAgICB4czogMTIsCiAgICAgIH0sCiAgICAgIGdyaWQ6IHsKICAgICAgICB4bDogMTAsCiAgICAgICAgbGc6IDE2LAogICAgICAgIG1kOiAxOCwKICAgICAgICBzbTogMjQsCiAgICAgICAgeHM6IDI0LAogICAgICB9LAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgZm9ybVZhbGlkYXRlOiB7CiAgICAgICAgbmFtZTogJycsCiAgICAgICAgYW5jaG9yX25hbWU6ICcnLAogICAgICAgIGFuY2hvcl93ZWNoYXQ6ICcnLAogICAgICAgIHBob25lOiAnJywKICAgICAgICBzY3JlZW5fdHlwZTogMCwKICAgICAgICBjbG9zZV9saWtlOiAxLAogICAgICAgIGNsb3NlX2dvb2RzOiAxLAogICAgICAgIGNsb3NlX2NvbW1lbnQ6IDEsCiAgICAgICAgY292ZXJfaW1nOiAnJywKICAgICAgICBzaGFyZV9pbWc6ICcnLAogICAgICAgIHNvcnQ6IDAsCiAgICAgICAgdHlwZTogMCwKICAgICAgICBzdGFydF90aW1lOiAnJywKICAgICAgfSwKICAgICAgc2NyZWVuX3R5cGU6IFsKICAgICAgICB7CiAgICAgICAgICB2YWx1ZTogJ+erluWxjycsCiAgICAgICAgICBsYWJlbDogMCwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHZhbHVlOiAn5qiq5bGPJywKICAgICAgICAgIGxhYmVsOiAxLAogICAgICAgIH0sCiAgICAgIF0sCiAgICAgIHR5cGU6IFsKICAgICAgICAvLyB7CiAgICAgICAgLy8gICAgIHZhbHVlOifmjqjmtYEnLAogICAgICAgIC8vICAgICBsYWJlbDoxCiAgICAgICAgLy8gfSwKICAgICAgICB7CiAgICAgICAgICB2YWx1ZTogJ+aJi+acuuebtOaSrScsCiAgICAgICAgICBsYWJlbDogMCwKICAgICAgICB9LAogICAgICBdLAogICAgICBjbG9zZV9saWtlOiBbCiAgICAgICAgewogICAgICAgICAgdmFsdWU6ICflvIDlkK8nLAogICAgICAgICAgbGFiZWw6IDEsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB2YWx1ZTogJ+WFs+mXrScsCiAgICAgICAgICBsYWJlbDogMCwKICAgICAgICB9LAogICAgICBdLAogICAgICBjbG9zZV9nb29kczogWwogICAgICAgIHsKICAgICAgICAgIHZhbHVlOiAn5byA5ZCvJywKICAgICAgICAgIGxhYmVsOiAxLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdmFsdWU6ICflhbPpl60nLAogICAgICAgICAgbGFiZWw6IDAsCiAgICAgICAgfSwKICAgICAgXSwKICAgICAgY2xvc2VfY29tbWVudDogWwogICAgICAgIHsKICAgICAgICAgIHZhbHVlOiAn5byA5ZCvJywKICAgICAgICAgIGxhYmVsOiAxLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdmFsdWU6ICflhbPpl60nLAogICAgICAgICAgbGFiZWw6IDAsCiAgICAgICAgfSwKICAgICAgXSwKICAgICAgdGltZVZhbDogJycsCiAgICAgIG1vZGFsUGljOiBmYWxzZSwKICAgICAgaXNDaG9pY2U6ICfljZXpgIknLAogICAgICBhY3RpdmVJbmRleDogMCwKICAgICAgbGl2ZUxpc3Q6IFtdLAogICAgICBtb2RhbDM6IGZhbHNlLAogICAgICBydWxlVmFsaWRhdGU6IHsKICAgICAgICBhbmNob3Jfd2VjaGF0OiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ1BsZWFzZSBzZWxlY3QgdGhlIGNpdHknLCB0cmlnZ2VyOiAnY2hhbmdlJyB9XSwKICAgICAgICBuYW1lOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ1RoZSBuYW1lIGNhbm5vdCBiZSBlbXB0eScsIHRyaWdnZXI6ICdibHVyJyB9XSwKICAgICAgfSwKICAgIH07CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5nZXRMaXZlKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBjYW5jZWwoKSB7CiAgICAgIHRoaXMubW9kYWwzID0gZmFsc2U7CiAgICB9LAogICAgY29kZUltZygpIHsKICAgICAgdGhpcy5tb2RhbDMgPSB0cnVlOwogICAgfSwKICAgIGFuY2hvck5hbWUoZSkgewogICAgICB0aGlzLmxpdmVMaXN0LmZpbHRlcigoZWwsIGluZGV4KSA9PiB7CiAgICAgICAgaWYgKGVsLndlY2hhdCA9PT0gZSkgewogICAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuYW5jaG9yX25hbWUgPSBlbC5uYW1lOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy/kuLvmkq3liJfooajvvJsKICAgIGdldExpdmUoKSB7CiAgICAgIGxldCBmb3JtVmFsaWRhdGUgPSB7CiAgICAgICAga2Vyd29yZDogJycsCiAgICAgICAgcGFnZTogJycsCiAgICAgICAgbGltaXQ6ICcnLAogICAgICB9OwogICAgICBsaXZlQXVjaG9yTGlzdChmb3JtVmFsaWRhdGUpCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgdGhpcy5saXZlTGlzdCA9IHJlcy5kYXRhLmxpc3Q7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKGVycm9yLm1zZyk7CiAgICAgICAgfSk7CiAgICB9LAogICAgLy8g54K55Ye75Zu+5paH5bCB6Z2iCiAgICBtb2RhbFBpY1RhcCh0eXBlKSB7CiAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSB0eXBlOwogICAgICB0aGlzLm1vZGFsUGljID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDpgInmi6nml6XmnJ8KICAgIHNlbGVjdERhdGUoZSkgewogICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5zdGFydF90aW1lID0gZTsKICAgIH0sCiAgICAvLyDojrflj5blm77niYfkv6Hmga8KICAgIGdldFBpYyhwYykgewogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgaWYgKHRoaXMuYWN0aXZlSW5kZXggPT0gMCkgewogICAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuY292ZXJfaW1nID0gcGMuYXR0X2RpcjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuc2hhcmVfaW1nID0gcGMuYXR0X2RpcjsKICAgICAgICB9CiAgICAgICAgdGhpcy5tb2RhbFBpYyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDkv53lrZgKICAgIGhhbmRsZVN1Ym1pdChuYW1lKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIGxpdmVBZGQodGhpcy5mb3JtVmFsaWRhdGUpCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgdGhpcy4kTWVzc2FnZS5zdWNjZXNzKCfmt7vliqDmiJDlip8nKTsKICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiB0aGlzLiRyb3V0ZVByb1N0ciArICcvbWFya2V0aW5nL2xpdmUvbGl2ZV9yb29tJyB9KTsKICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IoZXJyb3IubXNnKTsKICAgICAgICB9KTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["creat_live.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"creat_live.vue","sourceRoot":"src/pages/marketing/live","sourcesContent":["<template>\n  <div>\n    <div class=\"i-layout-page-header header-title\">\n      <div class=\"fl_header\">\n        <span>\n          <Button icon=\"ios-arrow-back\" size=\"small\" type=\"text\" @click=\"$router.go(-1)\">返回</Button>\n        </span>\n        <Divider type=\"vertical\" />\n        <span class=\"ivu-page-header-title\">{{ $route.meta.title }}</span>\n      </div>\n    </div>\n    <Card :bordered=\"false\" dis-hover class=\"ivu-mt\">\n      <Form\n        ref=\"formValidate\"\n        :model=\"formValidate\"\n        :label-width=\"labelWidth\"\n        :label-position=\"labelPosition\"\n        class=\"tabform\"\n        :rules=\"ruleValidate\"\n        @submit.native.prevent\n      >\n        <Col span=\"24\">\n          <Alert type=\"warning\" show-icon style=\"width: 550px; margin-left: 17px; margin-bottom: 25px\"\n            >必须前往微信小程序官方后台开通直播权限，关注<span style=\"color: red; cursor: pointer\" @click=\"codeImg\"\n              >【小程序直播】</span\n            >须知直播状态</Alert\n          >\n        </Col>\n        <Col span=\"24\">\n          <FormItem label=\"选择主播：\" prop=\"anchor_wechat\">\n            <Select\n              v-model=\"formValidate.anchor_wechat\"\n              filterable\n              clearable\n              style=\"width: 300px\"\n              @on-change=\"anchorName\"\n            >\n              <Option v-for=\"(item, index) in liveList\" :value=\"item.wechat\" :key=\"index\">{{ item.wechat }}</Option>\n            </Select>\n          </FormItem>\n        </Col>\n        <Row :gutter=\"24\" type=\"flex\">\n          <Col span=\"24\">\n            <FormItem label=\"直播间名称：\" prop=\"name\">\n              <Input\n                enter-button\n                placeholder=\"请输入直播间名称\"\n                element-id=\"name\"\n                v-model=\"formValidate.name\"\n                style=\"width: 300px\"\n              />\n            </FormItem>\n          </Col>\n          <Col span=\"24\">\n            <div style=\"display: flex\">\n              <FormItem label=\"背景图：\" prop=\"name\">\n                <div @click=\"modalPicTap(0)\" class=\"box\">\n                  <img :src=\"formValidate.cover_img\" alt=\"\" v-if=\"formValidate.cover_img\" />\n                  <div class=\"upload-box\" v-else>\n                    <Icon type=\"ios-camera-outline\" size=\"36\" />\n                  </div>\n                </div>\n              </FormItem>\n              <span style=\"margin-left: 20px; color: #b0bac5\">尺寸：1080*1920px</span>\n            </div>\n          </Col>\n          <Col span=\"24\">\n            <div style=\"display: flex\">\n              <FormItem label=\"分享图：\" prop=\"name\">\n                <div @click=\"modalPicTap(1)\" class=\"box\">\n                  <img :src=\"formValidate.share_img\" alt=\"\" v-if=\"formValidate.share_img\" />\n                  <div class=\"upload-box\" v-else>\n                    <Icon type=\"ios-camera-outline\" size=\"36\" />\n                  </div>\n                </div>\n              </FormItem>\n              <span style=\"margin-left: 20px; color: #b0bac5\">尺寸：800*640px</span>\n            </div>\n          </Col>\n          <!--<Col span=\"24\">-->\n          <!--<FormItem label=\"主播昵称：\">-->\n          <!--<Input enter-button  placeholder=\"请输入主播昵称\" element-id=\"anchor_name\" v-model=\"formValidate.anchor_name\" style=\"width: 60%;\"/>-->\n          <!--</FormItem>-->\n          <!--</Col>-->\n          <Col span=\"24\">\n            <FormItem label=\"联系电话：\">\n              <Input\n                enter-button\n                placeholder=\"请输入主播联系电话\"\n                element-id=\"phone\"\n                v-model=\"formValidate.phone\"\n                style=\"width: 300px\"\n              />\n            </FormItem>\n          </Col>\n          <Col span=\"24\">\n            <FormItem label=\"直播时间：\" prop=\"name\">\n              <DatePicker\n                type=\"datetimerange\"\n                format=\"yyyy-MM-dd HH:mm\"\n                placeholder=\"请选择直播时间\"\n                style=\"width: 300px\"\n                :value=\"timeVal\"\n                @on-change=\"selectDate\"\n              ></DatePicker>\n            </FormItem>\n          </Col>\n          <Col span=\"24\">\n            <FormItem label=\"排序：\">\n              <Input\n                type=\"number\"\n                enter-button\n                placeholder=\"0\"\n                element-id=\"phone\"\n                v-model=\"formValidate.sort\"\n                style=\"width: 300px\"\n              />\n            </FormItem>\n          </Col>\n          <!-- <Col span=\"24\">\n            <FormItem label=\"显示样式：\">\n              <RadioGroup v-model=\"formValidate.screen_type\">\n                <Radio :label=\"item.label\" v-for=\"(item, index) in screen_type\" :key=\"index\">\n                  <span>{{ item.value }}</span>\n                </Radio>\n              </RadioGroup>\n            </FormItem>\n          </Col> -->\n          <Col span=\"24\">\n            <FormItem label=\"直播间类型：\">\n              <RadioGroup v-model=\"formValidate.type\">\n                <Radio :label=\"item.label\" v-for=\"(item, index) in type\" :key=\"index\">\n                  <span>{{ item.value }}</span>\n                </Radio>\n              </RadioGroup>\n            </FormItem>\n          </Col>\n          <Col span=\"24\">\n            <FormItem label=\"直播间点赞：\">\n              <RadioGroup v-model=\"formValidate.close_like\">\n                <Radio :label=\"item.label\" v-for=\"(item, index) in close_like\" :key=\"index\">\n                  <span>{{ item.value }}</span>\n                </Radio>\n              </RadioGroup>\n            </FormItem>\n          </Col>\n          <Col span=\"24\">\n            <FormItem label=\"直播卖货：\">\n              <RadioGroup v-model=\"formValidate.close_goods\">\n                <Radio :label=\"item.label\" v-for=\"(item, index) in close_goods\" :key=\"index\">\n                  <span>{{ item.value }}</span>\n                </Radio>\n              </RadioGroup>\n            </FormItem>\n          </Col>\n          <Col span=\"24\">\n            <FormItem label=\"直播间评论：\">\n              <RadioGroup v-model=\"formValidate.close_comment\">\n                <Radio :label=\"item.label\" v-for=\"(item, index) in close_comment\" :key=\"index\">\n                  <span>{{ item.value }}</span>\n                </Radio>\n              </RadioGroup>\n            </FormItem>\n          </Col>\n        </Row>\n        <Row :gutter=\"24\" type=\"flex\">\n          <Col v-bind=\"grid\" span=\"24\">\n            <Button :loading=\"loading\" type=\"primary\" style=\"margin-left: 99px\" @click=\"handleSubmit('formItem')\">\n              <span v-if=\"!loading\">提交</span>\n              <span v-else>提交中...</span>\n            </Button>\n            <!-- <Button\n              type=\"primary\"\n              @click=\"handleSubmit('formItem')\"\n              style=\"width: 19%; margin-left: 99px\"\n              >提交</Button\n            > -->\n          </Col>\n        </Row>\n      </Form>\n    </Card>\n    <div>\n      <Modal\n        v-model=\"modalPic\"\n        width=\"950px\"\n        scrollable\n        footer-hide\n        closable\n        title=\"上传商品图\"\n        :mask-closable=\"false\"\n        :z-index=\"888\"\n      >\n        <uploadPictures\n          :isChoice=\"isChoice\"\n          @getPic=\"getPic\"\n          :gridBtn=\"gridBtn\"\n          :gridPic=\"gridPic\"\n          v-if=\"modalPic\"\n        ></uploadPictures>\n      </Modal>\n    </div>\n    <Modal v-model=\"modal3\" title=\"二维码\" @on-cancel=\"cancel\" footer-hide>\n      <div class=\"acea-row row-around\">\n        <div v-viewer class=\"QRpic\">\n          <img src=\"https://res.wx.qq.com/op_res/9rSix1dhHfK4rR049JL0PHJ7TpOvkuZ3mE0z7Ou_Etvjf-w1J_jVX0rZqeStLfwh\" />\n        </div>\n      </div>\n      <!-- <Spin fix v-if=\"spin\"></Spin> -->\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport uploadPictures from '@/components/uploadPictures';\nimport { liveAdd, liveAuchorList } from '@/api/live';\nexport default {\n  name: 'creat_live',\n  components: {\n    uploadPictures,\n  },\n  computed: {\n    ...mapState('media', ['isMobile']),\n    labelWidth() {\n      return this.isMobile ? undefined : 100;\n    },\n    labelPosition() {\n      return this.isMobile ? 'top' : 'right';\n    },\n  },\n  data() {\n    return {\n      gridBtn: {\n        xl: 4,\n        lg: 8,\n        md: 8,\n        sm: 8,\n        xs: 8,\n      },\n      gridPic: {\n        xl: 6,\n        lg: 8,\n        md: 12,\n        sm: 12,\n        xs: 12,\n      },\n      grid: {\n        xl: 10,\n        lg: 16,\n        md: 18,\n        sm: 24,\n        xs: 24,\n      },\n      loading: false,\n      formValidate: {\n        name: '',\n        anchor_name: '',\n        anchor_wechat: '',\n        phone: '',\n        screen_type: 0,\n        close_like: 1,\n        close_goods: 1,\n        close_comment: 1,\n        cover_img: '',\n        share_img: '',\n        sort: 0,\n        type: 0,\n        start_time: '',\n      },\n      screen_type: [\n        {\n          value: '竖屏',\n          label: 0,\n        },\n        {\n          value: '横屏',\n          label: 1,\n        },\n      ],\n      type: [\n        // {\n        //     value:'推流',\n        //     label:1\n        // },\n        {\n          value: '手机直播',\n          label: 0,\n        },\n      ],\n      close_like: [\n        {\n          value: '开启',\n          label: 1,\n        },\n        {\n          value: '关闭',\n          label: 0,\n        },\n      ],\n      close_goods: [\n        {\n          value: '开启',\n          label: 1,\n        },\n        {\n          value: '关闭',\n          label: 0,\n        },\n      ],\n      close_comment: [\n        {\n          value: '开启',\n          label: 1,\n        },\n        {\n          value: '关闭',\n          label: 0,\n        },\n      ],\n      timeVal: '',\n      modalPic: false,\n      isChoice: '单选',\n      activeIndex: 0,\n      liveList: [],\n      modal3: false,\n      ruleValidate: {\n        anchor_wechat: [{ required: true, message: 'Please select the city', trigger: 'change' }],\n        name: [{ required: true, message: 'The name cannot be empty', trigger: 'blur' }],\n      },\n    };\n  },\n  mounted() {\n    this.getLive();\n  },\n  methods: {\n    cancel() {\n      this.modal3 = false;\n    },\n    codeImg() {\n      this.modal3 = true;\n    },\n    anchorName(e) {\n      this.liveList.filter((el, index) => {\n        if (el.wechat === e) {\n          this.formValidate.anchor_name = el.name;\n        }\n      });\n    },\n    //主播列表；\n    getLive() {\n      let formValidate = {\n        kerword: '',\n        page: '',\n        limit: '',\n      };\n      liveAuchorList(formValidate)\n        .then((res) => {\n          this.liveList = res.data.list;\n        })\n        .catch((error) => {\n          this.$Message.error(error.msg);\n        });\n    },\n    // 点击图文封面\n    modalPicTap(type) {\n      this.activeIndex = type;\n      this.modalPic = true;\n    },\n    // 选择日期\n    selectDate(e) {\n      this.formValidate.start_time = e;\n    },\n    // 获取图片信息\n    getPic(pc) {\n      this.$nextTick(() => {\n        if (this.activeIndex == 0) {\n          this.formValidate.cover_img = pc.att_dir;\n        } else {\n          this.formValidate.share_img = pc.att_dir;\n        }\n        this.modalPic = false;\n      });\n    },\n    // 保存\n    handleSubmit(name) {\n      this.loading = true;\n      liveAdd(this.formValidate)\n        .then((res) => {\n          this.$Message.success('添加成功');\n          setTimeout(() => {\n            this.loading = false;\n            this.$router.push({ path: this.$routeProStr + '/marketing/live/live_room' });\n          }, 500);\n        })\n        .catch((error) => {\n          setTimeout(() => {\n            this.loading = false;\n          }, 1000);\n          this.$Message.error(error.msg);\n        });\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"stylus\">\n.QRpic {\n  width: 180px;\n  height: 180px;\n\n  img {\n    width: 100%;\n    height: 100%;\n  }\n}\n\n.upload-box {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 60px;\n  height: 60px;\n  background: #ccc;\n}\n\n.box {\n  width: 60px;\n  height: 60px;\n  margin-bottom: 10px;\n\n  img {\n    width: 100%;\n    height: 100%;\n  }\n}\n</style>\n"]}]}