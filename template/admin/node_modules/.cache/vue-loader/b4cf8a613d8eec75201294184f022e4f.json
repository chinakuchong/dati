{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/layout/component/aside.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/layout/component/aside.vue","mtime":1689324015181},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWZXJ0aWNhbCBmcm9tICdAL2xheW91dC9uYXZNZW51L3ZlcnRpY2FsLnZ1ZSc7CmltcG9ydCBMb2dvIGZyb20gJ0AvbGF5b3V0L2xvZ28vaW5kZXgudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdsYXlvdXRBc2lkZScsCiAgY29tcG9uZW50czogeyBWZXJ0aWNhbCwgTG9nbyB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyBtZW51TGlzdDogW10sCiAgICAgIGNsaWVudFdpZHRoOiAnJywKICAgICAgY2F0TmFtZTogJycsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGFkbWluVGl0bGUoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5hcHAuYWRtaW5UaXRsZSB8fCAnJzsKICAgIH0sCiAgICAvLyDorr7nva7lt6bkvqfoj5zljZXnmoTlhbfkvZPlrr3luqYKICAgIG1lbnVMaXN0KCkgewogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5tZW51cy5jaGlsZE1lbnVMaXN0Lmxlbmd0aCA+IDAKICAgICAgICA/ICh0aGlzLiRzdG9yZS5zdGF0ZS50aGVtZUNvbmZpZy50aGVtZUNvbmZpZy5pc0NvbGxhcHNlID0gZmFsc2UpCiAgICAgICAgOiAodGhpcy4kc3RvcmUuc3RhdGUudGhlbWVDb25maWcudGhlbWVDb25maWcuaXNDb2xsYXBzZSA9IHRydWUpOwogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUubWVudXMuY2hpbGRNZW51TGlzdDsKICAgIH0sCiAgICBzZXRDb2xsYXBzZVdpZHRoKCkgewogICAgICBsZXQgeyBsYXlvdXQsIGlzQ29sbGFwc2UgfSA9IHRoaXMuJHN0b3JlLnN0YXRlLnRoZW1lQ29uZmlnLnRoZW1lQ29uZmlnOwogICAgICBsZXQgYXNpZGVCckNvbG9yID0gJyc7CiAgICAgIGxheW91dCA9PT0gJ2NsYXNzaWMnIHx8IGxheW91dCA9PT0gJ2NvbHVtbnMnID8gKGFzaWRlQnJDb2xvciA9ICdsYXlvdXQtZWwtYXNpZGUtYnItY29sb3InKSA6ICcnOwoKICAgICAgaWYgKGxheW91dCA9PT0gJ2NvbHVtbnMnKSB7CiAgICAgICAgLy8g5YiG5qCP5biD5bGA77yM6I+c5Y2V5pS26LW35pe25a695bqm57uZIDFweAogICAgICAgIGlmIChpc0NvbGxhcHNlKSB7CiAgICAgICAgICByZXR1cm4gWydsYXlvdXQtYXNpZGUtd2lkdGgxJywgYXNpZGVCckNvbG9yXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIFsnbGF5b3V0LWFzaWRlLXdpZHRoLWRlZmF1bHQnLCBhc2lkZUJyQ29sb3JdOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDlhbblroPluIPlsYDnu5kgNjRweAogICAgICAgIGlmIChpc0NvbGxhcHNlKSB7CiAgICAgICAgICByZXR1cm4gWydsYXlvdXQtYXNpZGUtd2lkdGg2NCcsIGFzaWRlQnJDb2xvcl07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBbJ2xheW91dC1hc2lkZS13aWR0aC1kZWZhdWx0JywgYXNpZGVCckNvbG9yXTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvLyDorr7nva4gbG9nbyDmmK/lkKbmmL7npLoKICAgIHNldFNob3dMb2dvKCkgewogICAgICBsZXQgeyBsYXlvdXQsIGlzU2hvd0xvZ28gfSA9IHRoaXMuJHN0b3JlLnN0YXRlLnRoZW1lQ29uZmlnLnRoZW1lQ29uZmlnOwogICAgICByZXR1cm4gKGlzU2hvd0xvZ28gJiYgbGF5b3V0ID09PSAnZGVmYXVsdHMnKSB8fCAoaXNTaG93TG9nbyAmJiBsYXlvdXQgPT09ICdjb2x1bW5zJyk7CiAgICB9LAogICAgLy8g6I635Y+W5biD5bGA6YWN572u5L+h5oGvCiAgICBnZXRUaGVtZUNvbmZpZygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnRoZW1lQ29uZmlnLnRoZW1lQ29uZmlnOwogICAgfSwKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmluaXRNZW51Rml4ZWQoZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCk7CiAgICB0aGlzLnNldEZpbHRlclJvdXRlcygpOwogICAgLy8gdGhpcy5idXMuJG9uKCdzZXRTZW5kQ29sdW1uc0NoaWxkcmVuJywgKHJlcykgPT4gewogICAgLy8gICB0aGlzLm1lbnVMaXN0ID0gcmVzIHx8IFtdOwogICAgLy8gICB0aGlzLm1lbnVMaXN0Lmxlbmd0aCA+IDAKICAgIC8vICAgICA/ICh0aGlzLiRzdG9yZS5zdGF0ZS50aGVtZUNvbmZpZy50aGVtZUNvbmZpZy5pc0NvbGxhcHNlID0gZmFsc2UpCiAgICAvLyAgICAgOiAodGhpcy4kc3RvcmUuc3RhdGUudGhlbWVDb25maWcudGhlbWVDb25maWcuaXNDb2xsYXBzZSA9IHRydWUpOwogICAgLy8gfSk7CiAgICB0aGlzLmJ1cy4kb24oJ2xheW91dE1vYmlsZVJlc2l6ZScsIChyZXMpID0+IHsKICAgICAgdGhpcy5pbml0TWVudUZpeGVkKHJlcy5jbGllbnRXaWR0aCk7CiAgICB9KTsKICAgIHRoaXMuYnVzLiRvbignb25lQ2F0TmFtZScsIChuYW1lKSA9PiB7CiAgICAgIHRoaXMuY2F0TmFtZSA9IG5hbWU7CiAgICB9KTsKICAgIC8vIOiPnOWNlea7muWKqOadoeebkeWQrAogICAgdGhpcy5idXMuJG9uKCd1cGRhdGVFbFNjcm9sbEJhcicsICgpID0+IHsKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdGhpcy4kcmVmcy5sYXlvdXRBc2lkZVJlZi51cGRhdGUoKTsKICAgICAgfSwgMzAwKTsKICAgIH0pOwogICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLnRoZW1lQ29uZmlnLnRoZW1lQ29uZmlnLmxheW91dCAhPT0gJ2NvbHVtbnMnKSB7CiAgICAgIHRoaXMuYnVzLiRvbigncm91dGVzTGlzdENoYW5nZScsICgpID0+IHsKICAgICAgICB0aGlzLnNldEZpbHRlclJvdXRlcygpOwogICAgICB9KTsKICAgIH0KICB9LAogIGJlZm9yZURlc3Ryb3koKSB7CiAgICB0aGlzLmJ1cy4kb2ZmKCdyb3V0ZXNMaXN0Q2hhbmdlJyk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDorr7nva4v6L+H5ruk6Lev55Sx77yI6Z2e6Z2Z5oCB6Lev55SxL+aYr+WQpuaYvuekuuWcqOiPnOWNleS4re+8iQogICAgc2V0RmlsdGVyUm91dGVzKCkgewogICAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUudGhlbWVDb25maWcudGhlbWVDb25maWcubGF5b3V0ID09PSAnY29sdW1ucycpIHJldHVybiBmYWxzZTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtZW51cy9jaGlsZE1lbnVMaXN0JywgdGhpcy5maWx0ZXJSb3V0ZXNGdW4odGhpcy4kc3RvcmUuc3RhdGUucm91dGVzTGlzdC5yb3V0ZXNMaXN0KSk7CiAgICAgIC8vIHRoaXMubWVudUxpc3QgPSB0aGlzLmZpbHRlclJvdXRlc0Z1bih0aGlzLiRzdG9yZS5zdGF0ZS5yb3V0ZXNMaXN0LnJvdXRlc0xpc3QpOwogICAgfSwKICAgIC8vIOiuvue9ri/ov4fmu6Tot6/nlLEg6YCS5b2S5Ye95pWwCiAgICBmaWx0ZXJSb3V0ZXNGdW4oYXJyKSB7CiAgICAgIHJldHVybiBhcnIKICAgICAgICAuZmlsdGVyKChpdGVtKSA9PiBpdGVtLnBhdGgpCiAgICAgICAgLm1hcCgoaXRlbSkgPT4gewogICAgICAgICAgaXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pOwogICAgICAgICAgaWYgKGl0ZW0uY2hpbGRyZW4pIGl0ZW0uY2hpbGRyZW4gPSB0aGlzLmZpbHRlclJvdXRlc0Z1bihpdGVtLmNoaWxkcmVuKTsKICAgICAgICAgIHJldHVybiBpdGVtOwogICAgICAgIH0pOwogICAgfSwKICAgIC8vIOiuvue9ruiPnOWNleWvvOiIquaYr+WQpuWbuuWumu+8iOenu+WKqOerr++8iQogICAgaW5pdE1lbnVGaXhlZChjbGllbnRXaWR0aCkgewogICAgICB0aGlzLmNsaWVudFdpZHRoID0gY2xpZW50V2lkdGg7CiAgICAgIHRoaXMuJGVtaXQoJ3JvdXRlc0xpc3RDaGFuZ2UnKTsKICAgIH0sCiAgfSwKICAvLyDpobXpnaLplIDmr4Hml7YKICBkZXN0cm95ZWQoKSB7CiAgICAvLyDlj5bmtojoj5zljZXmu5rliqjmnaHnm5HlkKwKICAgIHRoaXMuYnVzLiRvZmYoJ3VwZGF0ZUVsU2Nyb2xsQmFyJywgKCkgPT4ge30pOwogIH0sCn07Cg=="},{"version":3,"sources":["aside.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"aside.vue","sourceRoot":"src/layout/component","sourcesContent":["<template>\n  <el-aside class=\"layout-aside\" :class=\"setCollapseWidth\" v-if=\"clientWidth > 1000\">\n    <Logo v-if=\"setShowLogo && menuList.length && getThemeConfig.layout !== 'columns'\" />\n    <div v-if=\"menuList.length && !getThemeConfig.isCollapse && getThemeConfig.layout == 'columns'\" class=\"cat-name\">\n      {{ adminTitle || catName }}\n    </div>\n    <el-scrollbar class=\"flex-auto\" ref=\"layoutAsideRef\">\n      <Vertical :menuList=\"menuList\" :class=\"setCollapseWidth\" />\n    </el-scrollbar>\n  </el-aside>\n  <el-drawer :visible.sync=\"getThemeConfig.isCollapse\" :with-header=\"false\" direction=\"ltr\" size=\"180px\" v-else>\n    <el-aside class=\"layout-aside w100 h100\">\n      <Logo v-if=\"setShowLogo && menuList.length\" />\n      <el-scrollbar class=\"flex-auto\" ref=\"layoutAsideRef\">\n        <Vertical :menuList=\"menuList\" />\n      </el-scrollbar>\n    </el-aside>\n  </el-drawer>\n</template>\n\n<script>\nimport Vertical from '@/layout/navMenu/vertical.vue';\nimport Logo from '@/layout/logo/index.vue';\nexport default {\n  name: 'layoutAside',\n  components: { Vertical, Logo },\n  data() {\n    return {\n      // menuList: [],\n      clientWidth: '',\n      catName: '',\n    };\n  },\n  computed: {\n    adminTitle() {\n      return this.$store.state.app.adminTitle || '';\n    },\n    // 设置左侧菜单的具体宽度\n    menuList() {\n      this.$store.state.menus.childMenuList.length > 0\n        ? (this.$store.state.themeConfig.themeConfig.isCollapse = false)\n        : (this.$store.state.themeConfig.themeConfig.isCollapse = true);\n      return this.$store.state.menus.childMenuList;\n    },\n    setCollapseWidth() {\n      let { layout, isCollapse } = this.$store.state.themeConfig.themeConfig;\n      let asideBrColor = '';\n      layout === 'classic' || layout === 'columns' ? (asideBrColor = 'layout-el-aside-br-color') : '';\n\n      if (layout === 'columns') {\n        // 分栏布局，菜单收起时宽度给 1px\n        if (isCollapse) {\n          return ['layout-aside-width1', asideBrColor];\n        } else {\n          return ['layout-aside-width-default', asideBrColor];\n        }\n      } else {\n        // 其它布局给 64px\n        if (isCollapse) {\n          return ['layout-aside-width64', asideBrColor];\n        } else {\n          return ['layout-aside-width-default', asideBrColor];\n        }\n      }\n    },\n    // 设置 logo 是否显示\n    setShowLogo() {\n      let { layout, isShowLogo } = this.$store.state.themeConfig.themeConfig;\n      return (isShowLogo && layout === 'defaults') || (isShowLogo && layout === 'columns');\n    },\n    // 获取布局配置信息\n    getThemeConfig() {\n      return this.$store.state.themeConfig.themeConfig;\n    },\n  },\n  created() {\n    this.initMenuFixed(document.body.clientWidth);\n    this.setFilterRoutes();\n    // this.bus.$on('setSendColumnsChildren', (res) => {\n    //   this.menuList = res || [];\n    //   this.menuList.length > 0\n    //     ? (this.$store.state.themeConfig.themeConfig.isCollapse = false)\n    //     : (this.$store.state.themeConfig.themeConfig.isCollapse = true);\n    // });\n    this.bus.$on('layoutMobileResize', (res) => {\n      this.initMenuFixed(res.clientWidth);\n    });\n    this.bus.$on('oneCatName', (name) => {\n      this.catName = name;\n    });\n    // 菜单滚动条监听\n    this.bus.$on('updateElScrollBar', () => {\n      setTimeout(() => {\n        this.$refs.layoutAsideRef.update();\n      }, 300);\n    });\n    if (this.$store.state.themeConfig.themeConfig.layout !== 'columns') {\n      this.bus.$on('routesListChange', () => {\n        this.setFilterRoutes();\n      });\n    }\n  },\n  beforeDestroy() {\n    this.bus.$off('routesListChange');\n  },\n  methods: {\n    // 设置/过滤路由（非静态路由/是否显示在菜单中）\n    setFilterRoutes() {\n      if (this.$store.state.themeConfig.themeConfig.layout === 'columns') return false;\n      this.$store.commit('menus/childMenuList', this.filterRoutesFun(this.$store.state.routesList.routesList));\n      // this.menuList = this.filterRoutesFun(this.$store.state.routesList.routesList);\n    },\n    // 设置/过滤路由 递归函数\n    filterRoutesFun(arr) {\n      return arr\n        .filter((item) => item.path)\n        .map((item) => {\n          item = Object.assign({}, item);\n          if (item.children) item.children = this.filterRoutesFun(item.children);\n          return item;\n        });\n    },\n    // 设置菜单导航是否固定（移动端）\n    initMenuFixed(clientWidth) {\n      this.clientWidth = clientWidth;\n      this.$emit('routesListChange');\n    },\n  },\n  // 页面销毁时\n  destroyed() {\n    // 取消菜单滚动条监听\n    this.bus.$off('updateElScrollBar', () => {});\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.cat-name {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n  border-bottom: 1px solid var(--prev-border-color-lighter);\n  font-weight: 500;\n  font-size: 15px;\n}\n</style>\n"]}]}