{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/components/customerInfo/index.vue?vue&type=style&index=0&id=353cc582&scoped=true&lang=stylus&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/components/customerInfo/index.vue","mtime":1689324015141},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/@vue/cli-service/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/stylus-loader/index.js","mtime":1519606876000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouY3VzdG9tZXIKICBvdmVyZmxvdy15IGF1dG8KICBvdmVyZmxvdy14IGhpZGRlbgogIGhlaWdodCA1MDBweAoudGFiQm94X2ltZwogICAgd2lkdGggMzZweAogICAgaGVpZ2h0IDM2cHgKICAgIGJvcmRlci1yYWRpdXM6NHB4OwogICAgY3Vyc29yIHBvaW50ZXIKICAgIGltZwogICAgICAgIHdpZHRoIDEwMCUKICAgICAgICBoZWlnaHQgMTAwJQoubW9kZWxCb3gKICAgID4+PgogICAgLml2dS10YWJsZS1oZWFkZXIKICAgICAgICB3aWR0aCAxMDAlICFpbXBvcnRhbnQKLnRyZWVzLWNvYWRkCiAgICB3aWR0aDogMTAwJTsKICAgIGhlaWdodDogMzg1cHg7CiAgICAuc2NvbGxoaWRlCiAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICAgIG92ZXJmbG93LXg6IGhpZGRlbjsKICAgICAgICBvdmVyZmxvdy15OiBzY3JvbGw7Ci5zY29sbGhpZGU6Oi13ZWJraXQtc2Nyb2xsYmFyIHsKICAgIGRpc3BsYXk6IG5vbmU7Cn0KLmZvb3RlcnsKICAgIG1hcmdpbjogMTVweCAwOwogICAgcGFkZGluZy1yaWdodDogMjBweDsKfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/customerInfo","sourcesContent":["<template>\n  <div class=\"customer\">\n    <Form ref=\"formValidate\" :model=\"formValidate\" :label-width=\"100\" @submit.native.prevent>\n      <Row :gutter=\"24\" type=\"flex\">\n        <Col span=\"24\" class=\"ivu-text-left\">\n          <FormItem label=\"搜索日期：\">\n            <RadioGroup\n              v-model=\"formValidate.data\"\n              type=\"button\"\n              @on-change=\"selectChange(formValidate.data)\"\n              class=\"mr\"\n            >\n              <Radio :label=\"item.val\" v-for=\"(item, i) in fromList.fromTxt\" :key=\"i\">{{ item.text }}</Radio>\n            </RadioGroup>\n            <DatePicker\n              :editable=\"false\"\n              @on-change=\"onchangeTime\"\n              :value=\"timeVal\"\n              format=\"yyyy/MM/dd\"\n              type=\"daterange\"\n              placement=\"bottom-end\"\n              placeholder=\"请选择时间\"\n              style=\"width: 200px\"\n            ></DatePicker>\n          </FormItem>\n        </Col>\n        <Col span=\"12\" class=\"ivu-text-left\">\n          <FormItem label=\"用户名称：\">\n            <Input\n              search\n              enter-button\n              placeholder=\"请输入用户名称\"\n              v-model=\"formValidate.nickname\"\n              style=\"width: 90%\"\n              @on-search=\"userSearchs\"\n            ></Input>\n          </FormItem>\n        </Col>\n      </Row>\n    </Form>\n    <Table\n      :loading=\"loading2\"\n      highlight-row\n      no-userFrom-text=\"暂无数据\"\n      no-filtered-userFrom-text=\"暂无筛选结果\"\n      ref=\"selection\"\n      :columns=\"columns4\"\n      :data=\"tableList2\"\n    >\n      <template slot-scope=\"{ row, index }\" slot=\"nickname\">\n        <div>{{ row.nickname }}</div>\n        <div style=\"color: red\">{{ row.is_del ? '用户已注销' : '' }}</div>\n      </template>\n      <template slot-scope=\"{ row, index }\" slot=\"headimgurl\">\n        <div class=\"tabBox_img\" v-viewer>\n          <img v-lazy=\"row.headimgurl\" />\n        </div>\n      </template>\n      <template slot-scope=\"{ row, index }\" slot=\"user_type\">\n        <span v-if=\"row.user_type === 'wechat'\">公众号</span>\n        <span v-else-if=\"row.user_type === 'routine'\">小程序</span>\n        <span v-else-if=\"row.user_type === 'h5'\">H5</span>\n        <span v-else-if=\"row.user_type === 'pc'\">PC</span>\n        <span v-else>--</span>\n      </template>\n      <template slot-scope=\"{ row, index }\" slot=\"sex\">\n        <span v-show=\"row.sex === 1\">男</span>\n        <span v-show=\"row.sex === 2\">女</span>\n        <span v-show=\"row.sex === 0\">保密</span>\n        <span v-show=\"row.sex === null\">--</span>\n      </template>\n      <template slot-scope=\"{ row, index }\" slot=\"country\">\n        <span v-if=\"row.country || row.province || row.city\">{{ row.country + row.province + row.city }}</span>\n        <span v-else>--</span>\n      </template>\n      <template slot-scope=\"{ row, index }\" slot=\"subscribe\">\n        <span v-text=\"row.subscribe === 1 ? '关注' : '未关注'\"></span>\n      </template>\n    </Table>\n    <div class=\"acea-row row-right page\">\n      <Page :total=\"total2\" show-elevator show-total @on-change=\"pageChange2\" :page-size=\"formValidate.limit\" />\n    </div>\n  </div>\n</template>\n<script>\nimport { kefucreateApi } from '@/api/setting';\nexport default {\n  name: 'index',\n  data() {\n    return {\n      formValidate: {\n        page: 1,\n        limit: 15,\n        data: '',\n        nickname: '',\n      },\n      tableList2: [],\n      timeVal: [],\n      fromList: {\n        title: '选择时间',\n        custom: true,\n        fromTxt: [\n          { text: '全部', val: '' },\n          { text: '今天', val: 'today' },\n          { text: '昨天', val: 'yesterday' },\n          { text: '最近7天', val: 'lately7' },\n          { text: '最近30天', val: 'lately30' },\n          { text: '本月', val: 'month' },\n          { text: '本年', val: 'year' },\n        ],\n      },\n      currentid: 0,\n      productRow: {},\n      columns4: [\n        {\n          title: '选择',\n          key: 'chose',\n          width: 60,\n          align: 'center',\n          render: (h, params) => {\n            let uid = params.row.uid;\n            let flag = false;\n            if (this.currentid === uid) {\n              flag = true;\n            } else {\n              flag = false;\n            }\n            let self = this;\n            return h('div', [\n              h('Radio', {\n                props: {\n                  value: flag,\n                  disabled: !!params.row.is_del,\n                },\n                on: {\n                  'on-change': () => {\n                    self.currentid = uid;\n                    this.productRow = params.row;\n                    if (this.productRow.uid) {\n                      if (this.$route.query.fodder === 'image') {\n                        /* eslint-disable */\n                        let imageObject = {\n                          image: this.productRow.headimgurl,\n                          uid: this.productRow.uid,\n                        };\n                        form_create_helper.set('image', imageObject);\n                        form_create_helper.close('image');\n                      } else {\n                        this.$emit('imageObject', {\n                          image: this.productRow.headimgurl,\n                          uid: this.productRow.uid,\n                        });\n                      }\n                    } else {\n                      this.$Message.warning('请先选择商品');\n                    }\n                  },\n                },\n              }),\n            ]);\n          },\n        },\n        {\n          title: 'ID',\n          key: 'uid',\n          width: 80,\n        },\n        {\n          title: '微信用户名称',\n          slot: 'nickname',\n          minWidth: 180,\n        },\n        {\n          title: '客服头像',\n          slot: 'headimgurl',\n          minWidth: 60,\n        },\n        {\n          title: '用户类型',\n          slot: 'user_type',\n          minWidth: 100,\n        },\n        {\n          title: '性别',\n          slot: 'sex',\n          minWidth: 60,\n        },\n        {\n          title: '地区',\n          slot: 'country',\n          minWidth: 120,\n        },\n        {\n          title: '是否关注公众号',\n          slot: 'subscribe',\n          minWidth: 120,\n        },\n      ],\n      loading2: false,\n      total2: 0,\n    };\n  },\n  created() {},\n  mounted() {\n    this.getListService();\n  },\n  methods: {\n    // 具体日期\n    onchangeTime(e) {\n      this.timeVal = e;\n      this.formValidate.data = this.timeVal.join('-');\n      this.getListService();\n    },\n    // 选择时间\n    selectChange(tab) {\n      this.formValidate.data = tab;\n      this.timeVal = [];\n      this.getListService();\n    },\n    // 客服列表\n    getListService() {\n      this.loading2 = true;\n      kefucreateApi(this.formValidate)\n        .then(async (res) => {\n          let data = res.data;\n          this.tableList2 = data.list;\n          this.total2 = data.count;\n          this.tableList2.map((item) => {\n            item._isChecked = false;\n          });\n          this.loading2 = false;\n        })\n        .catch((res) => {\n          this.loading2 = false;\n          this.$Message.error(res.msg);\n        });\n    },\n    pageChange2(pageIndex) {\n      this.formValidate.page = pageIndex;\n      this.getListService();\n    },\n    // 搜索\n    userSearchs() {\n      this.formValidate.page = 1;\n      this.getListService();\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"stylus\">\n.customer\n  overflow-y auto\n  overflow-x hidden\n  height 500px\n.tabBox_img\n    width 36px\n    height 36px\n    border-radius:4px;\n    cursor pointer\n    img\n        width 100%\n        height 100%\n.modelBox\n    >>>\n    .ivu-table-header\n        width 100% !important\n.trees-coadd\n    width: 100%;\n    height: 385px;\n    .scollhide\n        width: 100%;\n        height: 100%;\n        overflow-x: hidden;\n        overflow-y: scroll;\n.scollhide::-webkit-scrollbar {\n    display: none;\n}\n.footer{\n    margin: 15px 0;\n    padding-right: 20px;\n}\n</style>\n"]}]}