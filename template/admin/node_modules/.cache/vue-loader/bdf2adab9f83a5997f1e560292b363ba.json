{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/App.vue","mtime":1689324015061},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG9uLCBvZmYgfSBmcm9tICdpdmlldy9zcmMvdXRpbHMvZG9tJzsKaW1wb3J0IHsgc2V0TWF0Y2hNZWRpYSB9IGZyb20gJ2l2aWV3L3NyYy91dGlscy9hc3Npc3QnOwppbXBvcnQgeyBtYXBNdXRhdGlvbnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IFNldGluZ3MgZnJvbSAnQC9sYXlvdXQvbmF2QmFycy9icmVhZGNydW1iL3NldGluZ3MudnVlJzsKaW1wb3J0IFVwZ3JhZGUgZnJvbSAnQC9sYXlvdXQvdXBncmFkZS9pbmRleC52dWUnOwppbXBvcnQgc2V0dGluZyBmcm9tICcuL3NldHRpbmcnOwppbXBvcnQgeyBMb2NhbCB9IGZyb20gJ0AvdXRpbHMvc3RvcmFnZS5qcyc7CmltcG9ydCBjb25maWcgZnJvbSAnLi4vcGFja2FnZS5qc29uJzsKc2V0TWF0Y2hNZWRpYSgpOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdhcHAnLAogIGNvbXBvbmVudHM6IHsgU2V0aW5ncywgVXBncmFkZSB9LAogIHByb3ZpZGUoKSB7CiAgICByZXR1cm4gewogICAgICByZWxvYWQ6IHRoaXMucmVsb2FkLAogICAgfTsKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc1ZlcnNpb246IGZhbHNlLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC4uLm1hcE11dGF0aW9ucygnbWVkaWEnLCBbJ3NldERldmljZSddKSwKICAgIGhhbmRsZVdpbmRvd1Jlc2l6ZSgpIHsKICAgICAgdGhpcy5oYW5kbGVNYXRjaE1lZGlhKCk7CiAgICB9LAogICAgaGFuZGxlTWF0Y2hNZWRpYSgpIHsKICAgICAgY29uc3QgbWF0Y2hNZWRpYSA9IHdpbmRvdy5tYXRjaE1lZGlhOwoKICAgICAgaWYgKG1hdGNoTWVkaWEoJyhtYXgtd2lkdGg6IDYwMHB4KScpLm1hdGNoZXMpIHsKICAgICAgICB2YXIgZGV2aWNlV2lkdGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggfHwgd2luZG93LmlubmVyV2lkdGg7CiAgICAgICAgbGV0IGNzcyA9ICdjYWxjKDEwMHZ3LzcuNSknOwogICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5mb250U2l6ZSA9IGNzczsKICAgICAgICB0aGlzLnNldERldmljZSgnTW9iaWxlJyk7CiAgICAgIH0gZWxzZSBpZiAobWF0Y2hNZWRpYSgnKG1heC13aWR0aDogOTkycHgpJykubWF0Y2hlcykgewogICAgICAgIHRoaXMuc2V0RGV2aWNlKCdUYWJsZXQnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNldERldmljZSgnRGVza3RvcCcpOwogICAgICB9CiAgICB9LAogICAgcmVsb2FkKCkgewogICAgICB0aGlzLmlzUm91dGVyQWxpdmUgPSBmYWxzZTsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuaXNSb3V0ZXJBbGl2ZSA9IHRydWU7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOW4g+WxgOmFjee9ruW8ueeql+aJk+W8gAogICAgb3BlblNldGluZ3NEcmF3ZXIoKSB7CiAgICAgIHRoaXMuYnVzLiRvbignb3BlblNldGluZ3NEcmF3ZXInLCAoKSA9PiB7CiAgICAgICAgdGhpcy4kcmVmcy5zZXRpbmdzUmVmLm9wZW5EcmF3ZXIoKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6I635Y+W57yT5a2Y5Lit55qE5biD5bGA6YWN572uCiAgICBnZXRMYXlvdXRUaGVtZUNvbmZpZygpIHsKICAgICAgaWYgKExvY2FsLmdldCgndGhlbWVDb25maWdQcmV2JykpIHsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgndGhlbWVDb25maWcvc2V0VGhlbWVDb25maWcnLCBMb2NhbC5nZXQoJ3RoZW1lQ29uZmlnUHJldicpKTsKICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuY3NzVGV4dCA9IExvY2FsLmdldCgndGhlbWVDb25maWdTdHlsZScpOwogICAgICB9IGVsc2UgewogICAgICAgIExvY2FsLnNldCgndGhlbWVDb25maWdQcmV2JywgdGhpcy4kc3RvcmUuc3RhdGUudGhlbWVDb25maWcudGhlbWVDb25maWcpOwogICAgICB9CiAgICB9LAogICAgZ2V0VmVyc2lvbigpIHsKICAgICAgdGhpcy5pc1ZlcnNpb24gPSBmYWxzZTsKICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhdGggIT09IGAke3NldHRpbmcucm91dGVQcmV9L2xvZ2luYCAmJiB0aGlzLiRyb3V0ZS5wYXRoICE9PSAnLycpIHsKICAgICAgICBpZiAoKExvY2FsLmdldCgndmVyc2lvbicpICYmIExvY2FsLmdldCgndmVyc2lvbicpICE9PSBjb25maWcudmVyc2lvbikgfHwgIUxvY2FsLmdldCgndmVyc2lvbicpKQogICAgICAgICAgdGhpcy5pc1ZlcnNpb24gPSB0cnVlOwogICAgICB9CiAgICB9LAogIH0sCiAgbW91bnRlZCgpIHsKICAgIG9uKHdpbmRvdywgJ3Jlc2l6ZScsIHRoaXMuaGFuZGxlV2luZG93UmVzaXplKTsKICAgIHRoaXMuaGFuZGxlTWF0Y2hNZWRpYSgpOwogICAgdGhpcy5vcGVuU2V0aW5nc0RyYXdlcigpOwogICAgdGhpcy5nZXRMYXlvdXRUaGVtZUNvbmZpZygpOwogICAgdGhpcy4kbmV4dFRpY2soKGUpID0+IHsKICAgICAgLy8gdGhpcy5nZXRWZXJzaW9uKCk7CiAgICB9KTsKICB9LAoKICBiZWZvcmVEZXN0cm95KCkgewogICAgb2ZmKHdpbmRvdywgJ3Jlc2l6ZScsIHRoaXMuaGFuZGxlV2luZG93UmVzaXplKTsKICB9LAogIGRlc3Ryb3llZCgpIHsKICAgIHRoaXMuYnVzLiRvZmYoJ29wZW5TZXRpbmdzRHJhd2VyJyk7CiAgfSwKfTsK"},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\">\n    <router-view />\n    <Setings ref=\"setingsRef\" />\n    <Upgrade v-if=\"isVersion\" />\n  </div>\n</template>\n\n<script>\nimport { on, off } from 'iview/src/utils/dom';\nimport { setMatchMedia } from 'iview/src/utils/assist';\nimport { mapMutations } from 'vuex';\nimport Setings from '@/layout/navBars/breadcrumb/setings.vue';\nimport Upgrade from '@/layout/upgrade/index.vue';\nimport setting from './setting';\nimport { Local } from '@/utils/storage.js';\nimport config from '../package.json';\nsetMatchMedia();\n\nexport default {\n  name: 'app',\n  components: { Setings, Upgrade },\n  provide() {\n    return {\n      reload: this.reload,\n    };\n  },\n  data() {\n    return {\n      isVersion: false,\n    };\n  },\n  methods: {\n    ...mapMutations('media', ['setDevice']),\n    handleWindowResize() {\n      this.handleMatchMedia();\n    },\n    handleMatchMedia() {\n      const matchMedia = window.matchMedia;\n\n      if (matchMedia('(max-width: 600px)').matches) {\n        var deviceWidth = document.documentElement.clientWidth || window.innerWidth;\n        let css = 'calc(100vw/7.5)';\n        document.documentElement.style.fontSize = css;\n        this.setDevice('Mobile');\n      } else if (matchMedia('(max-width: 992px)').matches) {\n        this.setDevice('Tablet');\n      } else {\n        this.setDevice('Desktop');\n      }\n    },\n    reload() {\n      this.isRouterAlive = false;\n      this.$nextTick(function () {\n        this.isRouterAlive = true;\n      });\n    },\n    // 布局配置弹窗打开\n    openSetingsDrawer() {\n      this.bus.$on('openSetingsDrawer', () => {\n        this.$refs.setingsRef.openDrawer();\n      });\n    },\n    // 获取缓存中的布局配置\n    getLayoutThemeConfig() {\n      if (Local.get('themeConfigPrev')) {\n        this.$store.dispatch('themeConfig/setThemeConfig', Local.get('themeConfigPrev'));\n        document.documentElement.style.cssText = Local.get('themeConfigStyle');\n      } else {\n        Local.set('themeConfigPrev', this.$store.state.themeConfig.themeConfig);\n      }\n    },\n    getVersion() {\n      this.isVersion = false;\n      if (this.$route.path !== `${setting.routePre}/login` && this.$route.path !== '/') {\n        if ((Local.get('version') && Local.get('version') !== config.version) || !Local.get('version'))\n          this.isVersion = true;\n      }\n    },\n  },\n  mounted() {\n    on(window, 'resize', this.handleWindowResize);\n    this.handleMatchMedia();\n    this.openSetingsDrawer();\n    this.getLayoutThemeConfig();\n    this.$nextTick((e) => {\n      // this.getVersion();\n    });\n  },\n\n  beforeDestroy() {\n    off(window, 'resize', this.handleWindowResize);\n  },\n  destroyed() {\n    this.bus.$off('openSetingsDrawer');\n  },\n};\n</script>\n\n<style lang=\"less\">\n.size {\n  width: 100%;\n  height: 100%;\n}\nhtml,\nbody {\n  .size;\n  overflow: hidden;\n  margin: 0;\n  padding: 0;\n}\n#app {\n  .size;\n  font-family: PingFang SC, Arial, Microsoft YaHei, sans-serif;\n}\n.dialog-fade-enter-active {\n  animation: anim-open 0.3s;\n}\n.dialog-fade-leave-active {\n  animation: anim-close 0.3s;\n}\n@keyframes anim-open {\n  0% {\n    transform: translate3d(100%, 0, 0);\n    opacity: 0;\n  }\n  100% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@keyframes anim-close {\n  0% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n  100% {\n    transform: translate3d(100%, 0, 0);\n    opacity: 0;\n  }\n}\n.ivu-modal-wrap /deep/ .connect_customerServer_img {\n  display: none;\n}\n.right-box .ivu-color-picker .ivu-select-dropdown {\n  position: absolute;\n  // width: 300px !important;\n  left: -73px !important;\n}\n</style>\n"]}]}