{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/pages/marketing/storeIntegral/create.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/pages/marketing/storeIntegral/create.vue","mtime":1689324015231},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCBnb29kc0xpc3QgZnJvbSAnQC9jb21wb25lbnRzL2dvb2RzTGlzdC9pbmRleCc7CmltcG9ydCBXYW5nRWRpdG9yIGZyb20gJ0AvY29tcG9uZW50cy93YW5nRWRpdG9yL2luZGV4LnZ1ZSc7CmltcG9ydCB1cGxvYWRQaWN0dXJlcyBmcm9tICdAL2NvbXBvbmVudHMvdXBsb2FkUGljdHVyZXMnOwppbXBvcnQgeyBpbnRlZ3JhbEFkZEFwaSwgcHJvZHVjdEF0dHJzQXBpLCBpbnRlZ3JhbEluZm9BcGkgfSBmcm9tICdAL2FwaS9tYXJrZXRpbmcnOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdzdG9yZUludGVncmFsQ3JlYXRlJywKICBjb21wb25lbnRzOiB7IGdvb2RzTGlzdCwgdXBsb2FkUGljdHVyZXMsIFdhbmdFZGl0b3IgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3VibWl0T3BlbjogZmFsc2UsCiAgICAgIHNwaW5TaG93OiBmYWxzZSwKICAgICAgaXNDaG9pY2U6ICcnLAogICAgICBjdXJyZW50OiAwLAogICAgICBtb2RhbFBpYzogZmFsc2UsCiAgICAgIGdyaWQ6IHsKICAgICAgICB4bDogMTIsCiAgICAgICAgbGc6IDIwLAogICAgICAgIG1kOiAyNCwKICAgICAgICBzbTogMjQsCiAgICAgICAgeHM6IDI0LAogICAgICB9LAogICAgICBncmlkMjogewogICAgICAgIHhsOiA4LAogICAgICAgIGxnOiAxMiwKICAgICAgICBtZDogMTIsCiAgICAgICAgc206IDI0LAogICAgICAgIHhzOiAyNCwKICAgICAgfSwKICAgICAgZ3JpZFBpYzogewogICAgICAgIHhsOiA2LAogICAgICAgIGxnOiA4LAogICAgICAgIG1kOiAxMiwKICAgICAgICBzbTogMTIsCiAgICAgICAgeHM6IDEyLAogICAgICB9LAogICAgICBncmlkQnRuOiB7CiAgICAgICAgeGw6IDQsCiAgICAgICAgbGc6IDgsCiAgICAgICAgbWQ6IDgsCiAgICAgICAgc206IDgsCiAgICAgICAgeHM6IDgsCiAgICAgIH0sCiAgICAgIG15Q29uZmlnOiB7CiAgICAgICAgYXV0b0hlaWdodEVuYWJsZWQ6IGZhbHNlLCAvLyDnvJbovpHlmajkuI3oh6rliqjooqvlhoXlrrnmkpHpq5gKICAgICAgICBpbml0aWFsRnJhbWVIZWlnaHQ6IDUwMCwgLy8g5Yid5aeL5a655Zmo6auY5bqmCiAgICAgICAgaW5pdGlhbEZyYW1lV2lkdGg6ICcxMDAlJywgLy8g5Yid5aeL5a655Zmo5a695bqmCiAgICAgICAgVUVESVRPUl9IT01FX1VSTDogJy9VRWRpdG9yLycsCiAgICAgICAgc2VydmVyVXJsOiAnJywKICAgICAgfSwKICAgICAgbW9kYWxzOiBmYWxzZSwKICAgICAgbW9kYWxfbG9hZGluZzogZmFsc2UsCiAgICAgIGltYWdlczogW10sCiAgICAgIGZvcm1WYWxpZGF0ZTogewogICAgICAgIGltYWdlczogW10sCiAgICAgICAgaW5mbzogJycsCiAgICAgICAgdGl0bGU6ICcnLAogICAgICAgIGltYWdlOiAnJywKICAgICAgICB1bml0X25hbWU6ICcnLAogICAgICAgIHByaWNlOiAwLAogICAgICAgIG90X3ByaWNlOiAwLAogICAgICAgIGNvc3Q6IDAsCiAgICAgICAgc2FsZXM6IDAsCiAgICAgICAgc3RvY2s6IDAsCiAgICAgICAgc29ydDogMCwKICAgICAgICBudW06IDEsCiAgICAgICAgb25jZV9udW06IDEsCiAgICAgICAgZ2l2ZV9pbnRlZ3JhbDogMCwKICAgICAgICBwb3N0YWdlOiAwLAogICAgICAgIHNlY3Rpb25fdGltZTogW10sCiAgICAgICAgaXNfcG9zdGFnZTogMCwKICAgICAgICBpc19ob3Q6IDAsCiAgICAgICAgc3RhdHVzOiAwLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBpZDogMCwKICAgICAgICBwcm9kdWN0X2lkOiAwLAogICAgICAgIHRlbXBfaWQ6ICcnLAogICAgICAgIHRpbWVfaWQ6ICcnLAogICAgICAgIGF0dHJzOiBbXSwKICAgICAgICBpdGVtczogW10sCiAgICAgIH0sCiAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgdGVtcGxhdGVMaXN0OiBbXSwKICAgICAgdGltZUxpc3Q6IFtdLAogICAgICBjb2x1bW5zOiBbXSwKICAgICAgc3BlY3NEYXRhOiBbXSwKICAgICAgcGljVGl0OiAnJywKICAgICAgdGFibGVJbmRleDogMCwKICAgICAgcnVsZVZhbGlkYXRlOiB7CiAgICAgICAgaW1hZ2U6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup5Li75Zu+JywgdHJpZ2dlcjogJ2NoYW5nZScgfV0sCiAgICAgICAgaW1hZ2VzOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgICB0eXBlOiAnYXJyYXknLAogICAgICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup5Li75Zu+JywKICAgICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScsCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICB0eXBlOiAnYXJyYXknLAogICAgICAgICAgICBtaW46IDEsCiAgICAgICAgICAgIG1lc3NhZ2U6ICdDaG9vc2UgdHdvIGhvYmJpZXMgYXQgYmVzdCcsCiAgICAgICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnLAogICAgICAgICAgfSwKICAgICAgICBdLAogICAgICAgIHRpdGxlOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeWVhuWTgeagh+mimCcsIHRyaWdnZXI6ICdibHVyJyB9XSwKICAgICAgICBpbmZvOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeenr+WIhua0u+WKqOeugOS7iycsIHRyaWdnZXI6ICdibHVyJyB9XSwKICAgICAgICB1bml0X25hbWU6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl5Y2V5L2NJywgdHJpZ2dlcjogJ2JsdXInIH1dLAogICAgICAgIHByaWNlOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgICB0eXBlOiAnbnVtYmVyJywKICAgICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeWFkeaNouenr+WIhicsCiAgICAgICAgICAgIHRyaWdnZXI6ICdibHVyJywKICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICAgICBvdF9wcmljZTogWwogICAgICAgICAgewogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgdHlwZTogJ251bWJlcicsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXljp/ku7cnLAogICAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicsCiAgICAgICAgICB9LAogICAgICAgIF0sCiAgICAgICAgY29zdDogWwogICAgICAgICAgewogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgdHlwZTogJ251bWJlcicsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXmiJDmnKzku7cnLAogICAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicsCiAgICAgICAgICB9LAogICAgICAgIF0sCiAgICAgICAgc3RvY2s6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgIHR5cGU6ICdudW1iZXInLAogICAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5bqT5a2YJywKICAgICAgICAgICAgdHJpZ2dlcjogJ2JsdXInLAogICAgICAgICAgfSwKICAgICAgICBdLAogICAgICAgIG51bTogWwogICAgICAgICAgewogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgdHlwZTogJ251bWJlcicsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXlhZHmjaLmlbDph4/pmZDliLYnLAogICAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicsCiAgICAgICAgICB9LAogICAgICAgIF0sCiAgICAgICAgb25jZV9udW06IFsKICAgICAgICAgIHsKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgIHR5cGU6ICdudW1iZXInLAogICAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5Y2V5qyh5YWR5o2i5pWw6YeP6ZmQ5Yi2JywKICAgICAgICAgICAgdHJpZ2dlcjogJ2JsdXInLAogICAgICAgICAgfSwKICAgICAgICBdLAogICAgICB9LAogICAgICBjb3B5OiAwLAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBTdGF0ZSgnbWVkaWEnLCBbJ2lzTW9iaWxlJ10pLAogICAgbGFiZWxXaWR0aCgpIHsKICAgICAgcmV0dXJuIHRoaXMuaXNNb2JpbGUgPyB1bmRlZmluZWQgOiAxMzU7CiAgICB9LAogICAgbGFiZWxQb3NpdGlvbigpIHsKICAgICAgcmV0dXJuIHRoaXMuaXNNb2JpbGUgPyAndG9wJyA6ICdyaWdodCc7CiAgICB9LAogIH0sCiAgbW91bnRlZCgpIHsKICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpIHsKICAgICAgdGhpcy5jb3B5ID0gdGhpcy4kcm91dGUucGFyYW1zLmNvcHk7CiAgICAgIHRoaXMuY3VycmVudCA9IDE7CiAgICAgIHRoaXMuZ2V0SW5mbygpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0RWRpdG9yQ29udGVudChkYXRhKSB7CiAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkYXRhOwogICAgfSwKICAgIC8vIOinhOagvO+8mwogICAgcHJvZHVjdEF0dHJzKHJvd3MpIHsKICAgICAgbGV0IHRoYXQgPSB0aGlzOwogICAgICBwcm9kdWN0QXR0cnNBcGkocm93cy5pZCwgNCkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICBsZXQgZGF0YSA9IHJlcy5kYXRhLmluZm87CiAgICAgICAgICBsZXQgc2VsZWN0aW9uID0gewogICAgICAgICAgICB0eXBlOiAnc2VsZWN0aW9uJywKICAgICAgICAgICAgd2lkdGg6IDYwLAogICAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgICB9OwogICAgICAgICAgdGhhdC5zcGVjc0RhdGEgPSBkYXRhLmF0dHJzOwogICAgICAgICAgdGhhdC5zcGVjc0RhdGEuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgICAgdGhhdC4kc2V0KHRoYXQuc3BlY3NEYXRhW2luZGV4XSwgJ2lkJywgaW5kZXgpOwogICAgICAgICAgfSk7CiAgICAgICAgICB0aGF0LmZvcm1WYWxpZGF0ZS5pdGVtcyA9IGRhdGEuaXRlbXM7CiAgICAgICAgICB0aGF0LmNvbHVtbnMgPSBkYXRhLmhlYWRlcjsKICAgICAgICAgIHRoYXQuY29sdW1ucy51bnNoaWZ0KHNlbGVjdGlvbik7CiAgICAgICAgICB0aGF0LmlucHV0Q2hhbmdlKGRhdGEpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgICAgIHRoYXQuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgfSk7CiAgICB9LAogICAgaW5wdXRDaGFuZ2UoZGF0YSkgewogICAgICBsZXQgdGhhdCA9IHRoaXM7CiAgICAgIGxldCAkaW5kZXggPSBbXTsKICAgICAgZGF0YS5oZWFkZXIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICBpZiAoaXRlbS50eXBlID09PSAxKSB7CiAgICAgICAgICAkaW5kZXgucHVzaCh7IGluZGV4OiBpbmRleCwga2V5OiBpdGVtLmtleSwgdGl0bGU6IGl0ZW0udGl0bGUgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgJGluZGV4LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgbGV0IHRpdGxlID0gaXRlbS50aXRsZTsKICAgICAgICBsZXQga2V5ID0gaXRlbS5rZXk7CiAgICAgICAgbGV0IHJvdyA9IHsKICAgICAgICAgIHRpdGxlOiB0aXRsZSwKICAgICAgICAgIGtleToga2V5LAogICAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgICAgbWluV2lkdGg6IDEyMCwKICAgICAgICAgIHJlbmRlcjogKGgsIHBhcmFtcykgPT4gewogICAgICAgICAgICByZXR1cm4gaCgnZGl2JywgWwogICAgICAgICAgICAgIGgoJ0lucHV0TnVtYmVyJywgewogICAgICAgICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICAgICAgbWluOiAwLAogICAgICAgICAgICAgICAgICBwcmVjaXNpb246IDAsCiAgICAgICAgICAgICAgICAgIHZhbHVlOiBrZXkgPT09ICdwcmljZScgPyBwYXJhbXMucm93LnByaWNlIDogcGFyYW1zLnJvdy5xdW90YSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBvbjogewogICAgICAgICAgICAgICAgICAnb24tY2hhbmdlJzogKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICBrZXkgPT09ICdwcmljZScgPyAocGFyYW1zLnJvdy5wcmljZSA9IGUpIDogKHBhcmFtcy5yb3cucXVvdGEgPSBlKTsKICAgICAgICAgICAgICAgICAgICB0aGF0LnNwZWNzRGF0YVtwYXJhbXMuaW5kZXhdID0gcGFyYW1zLnJvdzsKICAgICAgICAgICAgICAgICAgICBpZiAoISF0aGF0LmZvcm1WYWxpZGF0ZS5hdHRycyAmJiB0aGF0LmZvcm1WYWxpZGF0ZS5hdHRycy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICAgIHRoYXQuZm9ybVZhbGlkYXRlLmF0dHJzLmZvckVhY2goKHYsIGluZGV4KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2LmlkID09PSBwYXJhbXMucm93LmlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5mb3JtVmFsaWRhdGUuYXR0cnMuc3BsaWNlKGluZGV4LCAxLCBwYXJhbXMucm93KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgXSk7CiAgICAgICAgICB9LAogICAgICAgIH07CiAgICAgICAgdGhhdC5jb2x1bW5zLnNwbGljZShpdGVtLmluZGV4LCAxLCByb3cpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDlpJrpgIkKICAgIGNoYW5nZUNoZWNrYm94KHNlbGVjdGlvbikgewogICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5hdHRycyA9IHNlbGVjdGlvbjsKICAgIH0sCiAgICAvLyDooajljZXpqozor4EKICAgIHZhbGlkYXRlKHByb3AsIHN0YXR1cywgZXJyb3IpIHsKICAgICAgaWYgKHN0YXR1cyA9PT0gZmFsc2UpIHsKICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKGVycm9yKTsKICAgICAgfQogICAgfSwKICAgIC8vIOWVhuWTgWlkCiAgICBnZXRQcm9kdWN0SWQocm93KSB7CiAgICAgIHRoaXMubW9kYWxfbG9hZGluZyA9IGZhbHNlOwogICAgICB0aGlzLm1vZGFscyA9IGZhbHNlOwogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZSA9IHsKICAgICAgICAgIGltYWdlczogcm93LnNsaWRlcl9pbWFnZSwKICAgICAgICAgIGluZm86IHJvdy5zdG9yZV9pbmZvLAogICAgICAgICAgdGl0bGU6IHJvdy5zdG9yZV9uYW1lLAogICAgICAgICAgaW1hZ2U6IHJvdy5pbWFnZSwKICAgICAgICAgIHVuaXRfbmFtZTogcm93LnVuaXRfbmFtZSwKICAgICAgICAgIHByaWNlOiAwLCAvLyDkuI3lj5bllYblk4HkuK3nmoTljp/ku7cKICAgICAgICAgIG90X3ByaWNlOiByb3cub3RfcHJpY2UsCiAgICAgICAgICBjb3N0OiByb3cuY29zdCwKICAgICAgICAgIHNhbGVzOiByb3cuc2FsZXMsCiAgICAgICAgICBzdG9jazogcm93LnN0b2NrLAogICAgICAgICAgc29ydDogcm93LnNvcnQsCiAgICAgICAgICBudW06IDEsCiAgICAgICAgICBvbmNlX251bTogMSwKICAgICAgICAgIGdpdmVfaW50ZWdyYWw6IHJvdy5naXZlX2ludGVncmFsLAogICAgICAgICAgcG9zdGFnZTogcm93LnBvc3RhZ2UsCiAgICAgICAgICBzZWN0aW9uX3RpbWU6IFtdLAogICAgICAgICAgaXNfcG9zdGFnZTogcm93LmlzX3Bvc3RhZ2UsCiAgICAgICAgICBpc19ob3N0OiAwLAogICAgICAgICAgaXNfc2hvdzogMSwKICAgICAgICAgIGRlc2NyaXB0aW9uOiByb3cuZGVzY3JpcHRpb24sCiAgICAgICAgICBpZDogMCwKICAgICAgICAgIHByb2R1Y3RfaWQ6IHJvdy5pZCwKICAgICAgICAgIHRlbXBfaWQ6IHJvdy50ZW1wX2lkLAogICAgICAgIH07CiAgICAgICAgdGhpcy5wcm9kdWN0QXR0cnMocm93KTsKICAgICAgICB0aGlzLiRyZWZzLmdvb2RzbGlzdC5wcm9kdWN0Um93ID0gbnVsbDsKICAgICAgfSwgNTAwKTsKICAgIH0sCgogICAgY2FuY2VsKCkgewogICAgICB0aGlzLm1vZGFscyA9IGZhbHNlOwogICAgfSwKICAgIC8vIOWFt+S9k+aXpeacnwogICAgb25jaGFuZ2VUaW1lKGUpIHsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuc2VjdGlvbl90aW1lID0gZTsKICAgIH0sCiAgICAvLyDor6bmg4UKICAgIGdldEluZm8oKSB7CiAgICAgIHRoaXMuc3BpblNob3cgPSB0cnVlOwogICAgICBpbnRlZ3JhbEluZm9BcGkodGhpcy4kcm91dGUucGFyYW1zLmlkKQogICAgICAgIC50aGVuKGFzeW5jIChyZXMpID0+IHsKICAgICAgICAgIGxldCB0aGF0ID0gdGhpczsKICAgICAgICAgIGxldCBpbmZvID0gcmVzLmRhdGEuaW5mbzsKICAgICAgICAgIGxldCBzZWxlY3Rpb24gPSB7CiAgICAgICAgICAgIHR5cGU6ICdzZWxlY3Rpb24nLAogICAgICAgICAgICB3aWR0aDogNjAsCiAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJywKICAgICAgICAgIH07CiAgICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZSA9IGluZm87CiAgICAgICAgICB0aGlzLiRzZXQodGhpcy5mb3JtVmFsaWRhdGUsICdpdGVtcycsIGluZm8uYXR0cnMuaXRlbXMpOwogICAgICAgICAgdGhpcy5jb2x1bW5zID0gaW5mby5hdHRycy5oZWFkZXI7CiAgICAgICAgICB0aGlzLmNvbHVtbnMudW5zaGlmdChzZWxlY3Rpb24pOwogICAgICAgICAgdGhpcy5zcGVjc0RhdGEgPSBpbmZvLmF0dHJzLnZhbHVlOwogICAgICAgICAgdGhhdC5zcGVjc0RhdGEuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgICAgdGhhdC4kc2V0KHRoYXQuc3BlY3NEYXRhW2luZGV4XSwgJ2lkJywgaW5kZXgpOwogICAgICAgICAgfSk7CiAgICAgICAgICBsZXQgZGF0YSA9IGluZm8uYXR0cnM7CiAgICAgICAgICBsZXQgYXR0ciA9IFtdOwogICAgICAgICAgZm9yIChsZXQgaW5kZXggaW4gaW5mby5hdHRycy52YWx1ZSkgewogICAgICAgICAgICBpZiAoaW5mby5hdHRycy52YWx1ZVtpbmRleF0uX2NoZWNrZWQpIHsKICAgICAgICAgICAgICBhdHRyLnB1c2goaW5mby5hdHRycy52YWx1ZVtpbmRleF0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICB0aGF0LmZvcm1WYWxpZGF0ZS5hdHRycyA9IGF0dHI7CiAgICAgICAgICB0aGF0LmlucHV0Q2hhbmdlKGRhdGEpOwogICAgICAgICAgdGhpcy5zcGluU2hvdyA9IGZhbHNlOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuc3BpblNob3cgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgfSk7CiAgICB9LAogICAgLy8g5LiL5LiA5q2lCiAgICBuZXh0KG5hbWUpIHsKICAgICAgbGV0IHRoYXQgPSB0aGlzOwogICAgICBpZiAodGhpcy5jdXJyZW50ID09PSAyKSB7CiAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuZGVzY3JpcHRpb24gPSB0aGlzLmRlc2NyaXB0aW9uOwogICAgICAgIHRoaXMuJHJlZnNbbmFtZV0udmFsaWRhdGUoKHZhbGlkKSA9PiB7CiAgICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgICAgaWYgKHRoaXMuY29weSA9PSAxKSB0aGlzLmZvcm1WYWxpZGF0ZS5jb3B5ID0gMTsKICAgICAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuaWQgPSBOdW1iZXIodGhpcy4kcm91dGUucGFyYW1zLmlkKSB8fCAwOwogICAgICAgICAgICB0aGlzLnN1Ym1pdE9wZW4gPSB0cnVlOwogICAgICAgICAgICBpbnRlZ3JhbEFkZEFwaSh0aGlzLmZvcm1WYWxpZGF0ZSkKICAgICAgICAgICAgICAudGhlbihhc3luYyAocmVzKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLnN1Ym1pdE9wZW4gPSBmYWxzZTsKICAgICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgcGF0aDogdGhpcy4kcm91dGVQcm9TdHIgKyAnL21hcmtldGluZy9zdG9yZV9pbnRlZ3JhbC9pbmRleCcsCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSwgNTAwKTsKICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLnN1Ym1pdE9wZW4gPSBmYWxzZTsKICAgICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXJyZW50ID09PSAxKSB7CiAgICAgICAgdGhpcy4kcmVmc1tuYW1lXS52YWxpZGF0ZSgodmFsaWQpID0+IHsKICAgICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgICBpZiAoIXRoYXQuZm9ybVZhbGlkYXRlLmF0dHJzKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRoYXQuJE1lc3NhZ2UuZXJyb3IoJ+ivt+mAieaLqeWxnuaAp+inhOagvCcpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGZvciAobGV0IGluZGV4IGluIHRoYXQuZm9ybVZhbGlkYXRlLmF0dHJzKSB7CiAgICAgICAgICAgICAgICBpZiAodGhhdC5mb3JtVmFsaWRhdGUuYXR0cnNbaW5kZXhdLnF1b3RhIDw9IDApIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoYXQuJE1lc3NhZ2UuZXJyb3IoJ+WFkeaNouasoeaVsOW/hemhu+Wkp+S6jjAnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5jdXJyZW50ICs9IDE7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gdGhpcy4kTWVzc2FnZS53YXJuaW5nKCfor7flrozlloTmgqjnmoTkv6Hmga8nKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAodGhpcy5mb3JtVmFsaWRhdGUuaW1hZ2UpIHsKICAgICAgICAgIHRoaXMuY3VycmVudCArPSAxOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRNZXNzYWdlLndhcm5pbmcoJ+ivt+mAieaLqeWVhuWTgScpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIC8vIOS4iuS4gOatpQogICAgc3RlcCgpIHsKICAgICAgdGhpcy5jdXJyZW50LS07CiAgICB9LAogICAgLy8g5YaF5a65CiAgICBnZXRDb250ZW50KHZhbCkgewogICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5kZXNjcmlwdGlvbiA9IHZhbDsKICAgIH0sCiAgICAvLyDngrnlh7vllYblk4Hlm74KICAgIG1vZGFsUGljVGFwKHRpdCwgcGljVGl0LCBpbmRleCkgewogICAgICB0aGlzLm1vZGFsUGljID0gdHJ1ZTsKICAgICAgdGhpcy5pc0Nob2ljZSA9IHRpdCA9PT0gJ2RhbicgPyAn5Y2V6YCJJyA6ICflpJrpgIknOwogICAgICB0aGlzLnBpY1RpdCA9IHBpY1RpdDsKICAgICAgdGhpcy50YWJsZUluZGV4ID0gaW5kZXg7CiAgICB9LAogICAgLy8g6I635Y+W5Y2V5byg5Zu+54mH5L+h5oGvCiAgICBnZXRQaWMocGMpIHsKICAgICAgc3dpdGNoICh0aGlzLnBpY1RpdCkgewogICAgICAgIGNhc2UgJ2RhbkZyb20nOgogICAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuaW1hZ2UgPSBwYy5hdHRfZGlyOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgLy8gY2FzZSAnZGFuVGFibGUnOgogICAgICAgIC8vICAgICB0aGlzLnNwZWNzRGF0YVt0aGlzLnRhYmxlSW5kZXhdLnBpYyA9IHBjLmF0dF9kaXI7CiAgICAgICAgLy8gICAgIGJyZWFrOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICBpZiAoISF0aGlzLmZvcm1WYWxpZGF0ZS5hdHRycyAmJiB0aGlzLmZvcm1WYWxpZGF0ZS5hdHRycy5sZW5ndGgpIHsKICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMuc3BlY3NEYXRhW3RoaXMudGFibGVJbmRleF0sICdfY2hlY2tlZCcsIHRydWUpOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5zcGVjc0RhdGFbdGhpcy50YWJsZUluZGV4XS5waWMgPSBwYy5hdHRfZGlyOwogICAgICB9CiAgICAgIHRoaXMubW9kYWxQaWMgPSBmYWxzZTsKICAgIH0sCiAgICAvLyDojrflj5blpJrlvKDlm77kv6Hmga8KICAgIGdldFBpY0QocGMpIHsKICAgICAgdGhpcy5pbWFnZXMgPSBwYzsKICAgICAgdGhpcy5pbWFnZXMubWFwKChpdGVtKSA9PiB7CiAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuaW1hZ2VzLnB1c2goaXRlbS5hdHRfZGlyKTsKICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5pbWFnZXMgPSB0aGlzLmZvcm1WYWxpZGF0ZS5pbWFnZXMuc3BsaWNlKDAsIDEwKTsKICAgICAgfSk7CiAgICAgIHRoaXMubW9kYWxQaWMgPSBmYWxzZTsKICAgIH0sCiAgICBoYW5kbGVSZW1vdmUoaSkgewogICAgICB0aGlzLmltYWdlcy5zcGxpY2UoaSwgMSk7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmltYWdlcy5zcGxpY2UoaSwgMSk7CiAgICB9LAogICAgLy8g6YCJ5oup5ZWG5ZOBCiAgICBjaGFuZ2VHb29kcygpIHsKICAgICAgdGhpcy5tb2RhbHMgPSB0cnVlOwogICAgICB0aGlzLiRyZWZzLmdvb2RzbGlzdC5mb3JtVmFsaWRhdGUuaXNfcHJlc2FsZSA9IDA7CiAgICAgIHRoaXMuJHJlZnMuZ29vZHNsaXN0LmZvcm1WYWxpZGF0ZS5pc192aXJ0dWFsID0gMDsKICAgICAgdGhpcy4kcmVmcy5nb29kc2xpc3QuZ2V0TGlzdCgpOwogICAgICB0aGlzLiRyZWZzLmdvb2RzbGlzdC5nb29kc0NhdGVnb3J5KCk7CiAgICB9LCAvLyDnp7vliqgKICAgIGhhbmRsZURyYWdTdGFydChlLCBpdGVtKSB7CiAgICAgIHRoaXMuZHJhZ2dpbmcgPSBpdGVtOwogICAgfSwKICAgIGhhbmRsZURyYWdFbmQoZSwgaXRlbSkgewogICAgICB0aGlzLmRyYWdnaW5nID0gbnVsbDsKICAgIH0sCiAgICAvLyDpppblhYjmiopkaXblj5jmiJDlj6/ku6XmlL7nva7nmoTlhYPntKDvvIzljbPph43lhplkcmFnZW50ZXIvZHJhZ292ZXIKICAgIGhhbmRsZURyYWdPdmVyKGUpIHsKICAgICAgZS5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICdtb3ZlJzsgLy8gZS5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdD0ibW92ZSI7Ly/lnKhkcmFnZW50ZXLkuK3pkojlr7nmlL7nva7nm67moIfmnaXorr7nva4hCiAgICB9LAogICAgaGFuZGxlRHJhZ0VudGVyKGUsIGl0ZW0pIHsKICAgICAgZS5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9ICdtb3ZlJzsgLy8g5Li66ZyA6KaB56e75Yqo55qE5YWD57Sg6K6+572uZHJhZ3N0YXJ05LqL5Lu2CiAgICAgIGlmIChpdGVtID09PSB0aGlzLmRyYWdnaW5nKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGNvbnN0IG5ld0l0ZW1zID0gWy4uLnRoaXMuZm9ybVZhbGlkYXRlLmltYWdlc107CiAgICAgIGNvbnN0IHNyYyA9IG5ld0l0ZW1zLmluZGV4T2YodGhpcy5kcmFnZ2luZyk7CiAgICAgIGNvbnN0IGRzdCA9IG5ld0l0ZW1zLmluZGV4T2YoaXRlbSk7CiAgICAgIG5ld0l0ZW1zLnNwbGljZShkc3QsIDAsIC4uLm5ld0l0ZW1zLnNwbGljZShzcmMsIDEpKTsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuaW1hZ2VzID0gbmV3SXRlbXM7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["create.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuQA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"create.vue","sourceRoot":"src/pages/marketing/storeIntegral","sourcesContent":["<template>\n  <div>\n    <div class=\"i-layout-page-header header-title\">\n      <div class=\"fl_header\">\n        <router-link :to=\"{ path: $routeProStr + '/marketing/store_integral/index' }\"\n          ><Button icon=\"ios-arrow-back\" size=\"small\" type=\"text\">返回</Button></router-link\n        >\n        <Divider type=\"vertical\" />\n        <span\n          class=\"ivu-page-header-title mr20\"\n          style=\"padding: 0\"\n          v-text=\"$route.params.id ? '编辑积分商品' : '添加积分商品'\"\n        ></span>\n      </div>\n    </div>\n    <Card :bordered=\"false\" dis-hover class=\"ivu-mt\">\n      <Row type=\"flex\" class=\"mt30 acea-row row-middle row-center\">\n        <Col span=\"20\">\n          <Steps :current=\"current\">\n            <Step title=\"选择积分商品\"></Step>\n            <Step title=\"填写基础信息\"></Step>\n            <Step title=\"修改商品详情\"></Step>\n          </Steps>\n        </Col>\n        <Col span=\"23\">\n          <Form\n            class=\"form mt30\"\n            ref=\"formValidate\"\n            :model=\"formValidate\"\n            :rules=\"ruleValidate\"\n            @on-validate=\"validate\"\n            :label-width=\"labelWidth\"\n            :label-position=\"labelPosition\"\n            @submit.native.prevent\n          >\n            <FormItem label=\"选择商品：\" prop=\"image_input\" v-if=\"current === 0\">\n              <div class=\"picBox\" @click=\"changeGoods\">\n                <div class=\"pictrue\" v-if=\"formValidate.image\">\n                  <img v-lazy=\"formValidate.image\" />\n                </div>\n                <div class=\"upLoad acea-row row-center-wrapper\" v-else>\n                  <Icon type=\"ios-camera-outline\" size=\"26\" class=\"iconfonts\" />\n                </div>\n              </div>\n            </FormItem>\n            <Col v-show=\"current === 1\" type=\"flex\">\n              <Col span=\"24\">\n                <FormItem prop=\"image\">\n                  <div class=\"custom-label\" slot=\"label\">\n                    <div>\n                      <div>商品主图</div>\n                      <div>(750*750)</div>\n                    </div>\n                    <div>：</div>\n                  </div>\n                  <div class=\"picBox\" @click=\"modalPicTap('dan', 'danFrom')\">\n                    <div class=\"pictrue\" v-if=\"formValidate.image\">\n                      <img v-lazy=\"formValidate.image\" />\n                    </div>\n                    <div class=\"upLoad acea-row row-center-wrapper\" v-else>\n                      <Icon type=\"ios-camera-outline\" size=\"26\" class=\"iconfonts\" />\n                    </div>\n                  </div>\n                </FormItem>\n              </Col>\n              <Col span=\"24\">\n                <FormItem prop=\"images\">\n                  <div class=\"custom-label\" slot=\"label\">\n                    <div>\n                      <div>商品轮播图</div>\n                      <div>(750*750)</div>\n                    </div>\n                    <div>：</div>\n                  </div>\n                  <div class=\"acea-row\">\n                    <div\n                      class=\"pictrue\"\n                      v-for=\"(item, index) in formValidate.images\"\n                      :key=\"index\"\n                      draggable=\"true\"\n                      @dragstart=\"handleDragStart($event, item)\"\n                      @dragover.prevent=\"handleDragOver($event, item)\"\n                      @dragenter=\"handleDragEnter($event, item)\"\n                      @dragend=\"handleDragEnd($event, item)\"\n                    >\n                      <img v-lazy=\"item\" />\n                      <Button\n                        shape=\"circle\"\n                        icon=\"md-close\"\n                        @click.native=\"handleRemove(index)\"\n                        class=\"btndel\"\n                      ></Button>\n                    </div>\n                    <div\n                      v-if=\"formValidate.images.length < 10\"\n                      class=\"upLoad acea-row row-center-wrapper\"\n                      @click=\"modalPicTap('duo')\"\n                    >\n                      <Icon type=\"ios-camera-outline\" size=\"26\" class=\"iconfonts\" />\n                    </div>\n                  </div>\n                </FormItem>\n              </Col>\n              <Col span=\"24\">\n                <Col v-bind=\"grid\">\n                  <FormItem label=\"商品标题：\" prop=\"title\" label-for=\"title\">\n                    <Input placeholder=\"请输入商品标题\" element-id=\"title\" v-model=\"formValidate.title\" />\n                  </FormItem>\n                </Col>\n              </Col>\n              <Col span=\"24\">\n                <FormItem label=\"用户兑换数量限制：\" prop=\"num\">\n                  <div class=\"acea-row row-middle\">\n                    <InputNumber\n                      :min=\"1\"\n                      :max=\"99999\"\n                      placeholder=\"请输入数量限制\"\n                      element-id=\"num\"\n                      :precision=\"0\"\n                      v-model=\"formValidate.num\"\n                      class=\"perW20\"\n                    />\n                    <div class=\"ml10 grey\">\n                      每个用户可购买该商品总数限制。例如设置为4，表示本活动,每个用户最多可兑换总数4个\n                    </div>\n                  </div>\n                </FormItem>\n              </Col>\n              <Col span=\"24\">\n                <FormItem label=\"单位：\" prop=\"unit_name\" label-for=\"unit_name\">\n                  <Input\n                    placeholder=\"请输入单位\"\n                    element-id=\"unit_name\"\n                    v-model=\"formValidate.unit_name\"\n                    class=\"perW20\"\n                  />\n                </FormItem>\n              </Col>\n\n              <Col span=\"24\">\n                <FormItem label=\"排序：\">\n                  <InputNumber\n                    placeholder=\"请输入排序\"\n                    element-id=\"sort\"\n                    :precision=\"0\"\n                    v-model=\"formValidate.sort\"\n                    class=\"perW10\"\n                  />\n                </FormItem>\n              </Col>\n              <Col span=\"24\">\n                <FormItem label=\"上架状态：\" props=\"is_show\" label-for=\"status\">\n                  <RadioGroup element-id=\"is_show\" v-model=\"formValidate.is_show\">\n                    <Radio :label=\"1\" class=\"radio\">开启</Radio>\n                    <Radio :label=\"0\">关闭</Radio>\n                  </RadioGroup>\n                </FormItem>\n              </Col>\n              <Col v-bind=\"grid2\">\n                <FormItem label=\"热门推荐：\" props=\"is_host\" label-for=\"is_host\">\n                  <RadioGroup element-id=\"is_host\" v-model=\"formValidate.is_host\">\n                    <Radio :label=\"1\" class=\"radio\">开启</Radio>\n                    <Radio :label=\"0\">关闭</Radio>\n                  </RadioGroup>\n                </FormItem>\n              </Col>\n              <Col span=\"24\">\n                <FormItem label=\"规格选择：\">\n                  <Table\n                    :data=\"specsData\"\n                    :columns=\"columns\"\n                    border\n                    class=\"mt25\"\n                    highlight-row\n                    @on-selection-change=\"changeCheckbox\"\n                  >\n                    <template slot-scope=\"{ row, index }\" slot=\"pic\">\n                      <div\n                        class=\"acea-row row-middle row-center-wrapper\"\n                        @click=\"modalPicTap('dan', 'danTable', index)\"\n                      >\n                        <div class=\"pictrue pictrueTab\" v-if=\"row.pic\">\n                          <img v-lazy=\"row.pic\" />\n                        </div>\n                        <div class=\"upLoad pictrueTab acea-row row-center-wrapper\" v-else>\n                          <Icon type=\"ios-camera-outline\" size=\"21\" class=\"iconfont\" />\n                        </div>\n                      </div>\n                    </template>\n                  </Table>\n                </FormItem>\n              </Col>\n            </Col>\n            <Row v-show=\"current === 2\">\n              <Col span=\"24\">\n                <FormItem label=\"内容：\">\n                  <WangEditor\n                    style=\"width: 90%\"\n                    :content=\"formValidate.description\"\n                    @editorContent=\"getEditorContent\"\n                  ></WangEditor>\n                </FormItem>\n              </Col>\n            </Row>\n            <Col span=\"24\">\n              <FormItem>\n                <Button\n                  class=\"submission mr15\"\n                  @click=\"step\"\n                  v-show=\"current !== 0\"\n                  :disabled=\"$route.params.id && current === 1\"\n                  >上一步\n                </Button>\n                <Button\n                  :disabled=\"submitOpen && current === 2\"\n                  type=\"primary\"\n                  class=\"submission\"\n                  @click=\"next('formValidate')\"\n                  v-text=\"current === 2 ? '提交' : '下一步'\"\n                ></Button>\n              </FormItem>\n            </Col>\n          </Form>\n          <Spin size=\"large\" fix v-if=\"spinShow\"></Spin>\n        </Col>\n      </Row>\n    </Card>\n    <!-- 选择商品-->\n    <Modal\n      v-model=\"modals\"\n      title=\"商品列表\"\n      class=\"paymentFooter\"\n      footerHide\n      scrollable\n      width=\"900\"\n      @on-cancel=\"cancel\"\n    >\n      <goods-list ref=\"goodslist\" @getProductId=\"getProductId\"></goods-list>\n    </Modal>\n    <!-- 上传图片-->\n    <Modal\n      v-model=\"modalPic\"\n      width=\"950px\"\n      scrollable\n      footer-hide\n      closable\n      title=\"上传商品图\"\n      :mask-closable=\"false\"\n      :z-index=\"1\"\n    >\n      <uploadPictures\n        :isChoice=\"isChoice\"\n        @getPic=\"getPic\"\n        @getPicD=\"getPicD\"\n        :gridBtn=\"gridBtn\"\n        :gridPic=\"gridPic\"\n        v-if=\"modalPic\"\n      ></uploadPictures>\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport goodsList from '@/components/goodsList/index';\nimport WangEditor from '@/components/wangEditor/index.vue';\nimport uploadPictures from '@/components/uploadPictures';\nimport { integralAddApi, productAttrsApi, integralInfoApi } from '@/api/marketing';\n\nexport default {\n  name: 'storeIntegralCreate',\n  components: { goodsList, uploadPictures, WangEditor },\n  data() {\n    return {\n      submitOpen: false,\n      spinShow: false,\n      isChoice: '',\n      current: 0,\n      modalPic: false,\n      grid: {\n        xl: 12,\n        lg: 20,\n        md: 24,\n        sm: 24,\n        xs: 24,\n      },\n      grid2: {\n        xl: 8,\n        lg: 12,\n        md: 12,\n        sm: 24,\n        xs: 24,\n      },\n      gridPic: {\n        xl: 6,\n        lg: 8,\n        md: 12,\n        sm: 12,\n        xs: 12,\n      },\n      gridBtn: {\n        xl: 4,\n        lg: 8,\n        md: 8,\n        sm: 8,\n        xs: 8,\n      },\n      myConfig: {\n        autoHeightEnabled: false, // 编辑器不自动被内容撑高\n        initialFrameHeight: 500, // 初始容器高度\n        initialFrameWidth: '100%', // 初始容器宽度\n        UEDITOR_HOME_URL: '/UEditor/',\n        serverUrl: '',\n      },\n      modals: false,\n      modal_loading: false,\n      images: [],\n      formValidate: {\n        images: [],\n        info: '',\n        title: '',\n        image: '',\n        unit_name: '',\n        price: 0,\n        ot_price: 0,\n        cost: 0,\n        sales: 0,\n        stock: 0,\n        sort: 0,\n        num: 1,\n        once_num: 1,\n        give_integral: 0,\n        postage: 0,\n        section_time: [],\n        is_postage: 0,\n        is_hot: 0,\n        status: 0,\n        description: '',\n        id: 0,\n        product_id: 0,\n        temp_id: '',\n        time_id: '',\n        attrs: [],\n        items: [],\n      },\n      description: '',\n      templateList: [],\n      timeList: [],\n      columns: [],\n      specsData: [],\n      picTit: '',\n      tableIndex: 0,\n      ruleValidate: {\n        image: [{ required: true, message: '请选择主图', trigger: 'change' }],\n        images: [\n          {\n            required: true,\n            type: 'array',\n            message: '请选择主图',\n            trigger: 'change',\n          },\n          {\n            type: 'array',\n            min: 1,\n            message: 'Choose two hobbies at best',\n            trigger: 'change',\n          },\n        ],\n        title: [{ required: true, message: '请输入商品标题', trigger: 'blur' }],\n        info: [{ required: true, message: '请输入积分活动简介', trigger: 'blur' }],\n        unit_name: [{ required: true, message: '请输入单位', trigger: 'blur' }],\n        price: [\n          {\n            required: true,\n            type: 'number',\n            message: '请输入兑换积分',\n            trigger: 'blur',\n          },\n        ],\n        ot_price: [\n          {\n            required: true,\n            type: 'number',\n            message: '请输入原价',\n            trigger: 'blur',\n          },\n        ],\n        cost: [\n          {\n            required: true,\n            type: 'number',\n            message: '请输入成本价',\n            trigger: 'blur',\n          },\n        ],\n        stock: [\n          {\n            required: true,\n            type: 'number',\n            message: '请输入库存',\n            trigger: 'blur',\n          },\n        ],\n        num: [\n          {\n            required: true,\n            type: 'number',\n            message: '请输入兑换数量限制',\n            trigger: 'blur',\n          },\n        ],\n        once_num: [\n          {\n            required: true,\n            type: 'number',\n            message: '请输入单次兑换数量限制',\n            trigger: 'blur',\n          },\n        ],\n      },\n      copy: 0,\n    };\n  },\n  computed: {\n    ...mapState('media', ['isMobile']),\n    labelWidth() {\n      return this.isMobile ? undefined : 135;\n    },\n    labelPosition() {\n      return this.isMobile ? 'top' : 'right';\n    },\n  },\n  mounted() {\n    if (this.$route.params.id) {\n      this.copy = this.$route.params.copy;\n      this.current = 1;\n      this.getInfo();\n    }\n  },\n  methods: {\n    getEditorContent(data) {\n      this.description = data;\n    },\n    // 规格；\n    productAttrs(rows) {\n      let that = this;\n      productAttrsApi(rows.id, 4)\n        .then((res) => {\n          let data = res.data.info;\n          let selection = {\n            type: 'selection',\n            width: 60,\n            align: 'center',\n          };\n          that.specsData = data.attrs;\n          that.specsData.forEach(function (item, index) {\n            that.$set(that.specsData[index], 'id', index);\n          });\n          that.formValidate.items = data.items;\n          that.columns = data.header;\n          that.columns.unshift(selection);\n          that.inputChange(data);\n        })\n        .catch((res) => {\n          that.$Message.error(res.msg);\n        });\n    },\n    inputChange(data) {\n      let that = this;\n      let $index = [];\n      data.header.forEach(function (item, index) {\n        if (item.type === 1) {\n          $index.push({ index: index, key: item.key, title: item.title });\n        }\n      });\n      $index.forEach(function (item, index) {\n        let title = item.title;\n        let key = item.key;\n        let row = {\n          title: title,\n          key: key,\n          align: 'center',\n          minWidth: 120,\n          render: (h, params) => {\n            return h('div', [\n              h('InputNumber', {\n                props: {\n                  min: 0,\n                  precision: 0,\n                  value: key === 'price' ? params.row.price : params.row.quota,\n                },\n                on: {\n                  'on-change': (e) => {\n                    key === 'price' ? (params.row.price = e) : (params.row.quota = e);\n                    that.specsData[params.index] = params.row;\n                    if (!!that.formValidate.attrs && that.formValidate.attrs.length) {\n                      that.formValidate.attrs.forEach((v, index) => {\n                        if (v.id === params.row.id) {\n                          that.formValidate.attrs.splice(index, 1, params.row);\n                        }\n                      });\n                    }\n                  },\n                },\n              }),\n            ]);\n          },\n        };\n        that.columns.splice(item.index, 1, row);\n      });\n    },\n    // 多选\n    changeCheckbox(selection) {\n      this.formValidate.attrs = selection;\n    },\n    // 表单验证\n    validate(prop, status, error) {\n      if (status === false) {\n        this.$Message.error(error);\n      }\n    },\n    // 商品id\n    getProductId(row) {\n      this.modal_loading = false;\n      this.modals = false;\n      setTimeout(() => {\n        this.formValidate = {\n          images: row.slider_image,\n          info: row.store_info,\n          title: row.store_name,\n          image: row.image,\n          unit_name: row.unit_name,\n          price: 0, // 不取商品中的原价\n          ot_price: row.ot_price,\n          cost: row.cost,\n          sales: row.sales,\n          stock: row.stock,\n          sort: row.sort,\n          num: 1,\n          once_num: 1,\n          give_integral: row.give_integral,\n          postage: row.postage,\n          section_time: [],\n          is_postage: row.is_postage,\n          is_host: 0,\n          is_show: 1,\n          description: row.description,\n          id: 0,\n          product_id: row.id,\n          temp_id: row.temp_id,\n        };\n        this.productAttrs(row);\n        this.$refs.goodslist.productRow = null;\n      }, 500);\n    },\n\n    cancel() {\n      this.modals = false;\n    },\n    // 具体日期\n    onchangeTime(e) {\n      this.formValidate.section_time = e;\n    },\n    // 详情\n    getInfo() {\n      this.spinShow = true;\n      integralInfoApi(this.$route.params.id)\n        .then(async (res) => {\n          let that = this;\n          let info = res.data.info;\n          let selection = {\n            type: 'selection',\n            width: 60,\n            align: 'center',\n          };\n          this.formValidate = info;\n          this.$set(this.formValidate, 'items', info.attrs.items);\n          this.columns = info.attrs.header;\n          this.columns.unshift(selection);\n          this.specsData = info.attrs.value;\n          that.specsData.forEach(function (item, index) {\n            that.$set(that.specsData[index], 'id', index);\n          });\n          let data = info.attrs;\n          let attr = [];\n          for (let index in info.attrs.value) {\n            if (info.attrs.value[index]._checked) {\n              attr.push(info.attrs.value[index]);\n            }\n          }\n          that.formValidate.attrs = attr;\n          that.inputChange(data);\n          this.spinShow = false;\n        })\n        .catch((res) => {\n          this.spinShow = false;\n          this.$Message.error(res.msg);\n        });\n    },\n    // 下一步\n    next(name) {\n      let that = this;\n      if (this.current === 2) {\n        this.formValidate.description = this.description;\n        this.$refs[name].validate((valid) => {\n          if (valid) {\n            if (this.copy == 1) this.formValidate.copy = 1;\n            this.formValidate.id = Number(this.$route.params.id) || 0;\n            this.submitOpen = true;\n            integralAddApi(this.formValidate)\n              .then(async (res) => {\n                this.submitOpen = false;\n                this.$Message.success(res.msg);\n                setTimeout(() => {\n                  this.$router.push({\n                    path: this.$routeProStr + '/marketing/store_integral/index',\n                  });\n                }, 500);\n              })\n              .catch((res) => {\n                this.submitOpen = false;\n                this.$Message.error(res.msg);\n              });\n          } else {\n            return false;\n          }\n        });\n      } else if (this.current === 1) {\n        this.$refs[name].validate((valid) => {\n          if (valid) {\n            if (!that.formValidate.attrs) {\n              return that.$Message.error('请选择属性规格');\n            } else {\n              for (let index in that.formValidate.attrs) {\n                if (that.formValidate.attrs[index].quota <= 0) {\n                  return that.$Message.error('兑换次数必须大于0');\n                }\n              }\n            }\n            this.current += 1;\n          } else {\n            return this.$Message.warning('请完善您的信息');\n          }\n        });\n      } else {\n        if (this.formValidate.image) {\n          this.current += 1;\n        } else {\n          this.$Message.warning('请选择商品');\n        }\n      }\n    },\n    // 上一步\n    step() {\n      this.current--;\n    },\n    // 内容\n    getContent(val) {\n      this.formValidate.description = val;\n    },\n    // 点击商品图\n    modalPicTap(tit, picTit, index) {\n      this.modalPic = true;\n      this.isChoice = tit === 'dan' ? '单选' : '多选';\n      this.picTit = picTit;\n      this.tableIndex = index;\n    },\n    // 获取单张图片信息\n    getPic(pc) {\n      switch (this.picTit) {\n        case 'danFrom':\n          this.formValidate.image = pc.att_dir;\n          break;\n        // case 'danTable':\n        //     this.specsData[this.tableIndex].pic = pc.att_dir;\n        //     break;\n        default:\n          if (!!this.formValidate.attrs && this.formValidate.attrs.length) {\n            this.$set(this.specsData[this.tableIndex], '_checked', true);\n          }\n          this.specsData[this.tableIndex].pic = pc.att_dir;\n      }\n      this.modalPic = false;\n    },\n    // 获取多张图信息\n    getPicD(pc) {\n      this.images = pc;\n      this.images.map((item) => {\n        this.formValidate.images.push(item.att_dir);\n        this.formValidate.images = this.formValidate.images.splice(0, 10);\n      });\n      this.modalPic = false;\n    },\n    handleRemove(i) {\n      this.images.splice(i, 1);\n      this.formValidate.images.splice(i, 1);\n    },\n    // 选择商品\n    changeGoods() {\n      this.modals = true;\n      this.$refs.goodslist.formValidate.is_presale = 0;\n      this.$refs.goodslist.formValidate.is_virtual = 0;\n      this.$refs.goodslist.getList();\n      this.$refs.goodslist.goodsCategory();\n    }, // 移动\n    handleDragStart(e, item) {\n      this.dragging = item;\n    },\n    handleDragEnd(e, item) {\n      this.dragging = null;\n    },\n    // 首先把div变成可以放置的元素，即重写dragenter/dragover\n    handleDragOver(e) {\n      e.dataTransfer.dropEffect = 'move'; // e.dataTransfer.dropEffect=\"move\";//在dragenter中针对放置目标来设置!\n    },\n    handleDragEnter(e, item) {\n      e.dataTransfer.effectAllowed = 'move'; // 为需要移动的元素设置dragstart事件\n      if (item === this.dragging) {\n        return;\n      }\n      const newItems = [...this.formValidate.images];\n      const src = newItems.indexOf(this.dragging);\n      const dst = newItems.indexOf(item);\n      newItems.splice(dst, 0, ...newItems.splice(src, 1));\n      this.formValidate.images = newItems;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"stylus\">\n.custom-label {\n  display: inline-flex;\n  line-height: 1.5;\n}\n\n.grey {\n  color: #999;\n}\n\n.maxW /deep/.ivu-select-dropdown {\n  max-width: 600px;\n}\n\n.tabBox_img {\n  width: 50px;\n  height: 50px;\n  margin: 0 auto;\n}\n\n.tabBox_img img {\n  width: 100%;\n  height: 100%;\n}\n\n.priceBox {\n  width: 100%;\n}\n\n.form {\n  .picBox {\n    display: inline-block;\n    cursor: pointer;\n  }\n\n  .pictrue {\n    width: 60px;\n    height: 60px;\n    border: 1px dotted rgba(0, 0, 0, 0.1);\n    margin-right: 15px;\n    display: inline-block;\n    position: relative;\n    cursor: pointer;\n\n    img {\n      width: 100%;\n      height: 100%;\n    }\n\n    .btndel {\n      position: absolute;\n      z-index: 9;\n      width: 20px !important;\n      height: 20px !important;\n      left: 46px;\n      top: -4px;\n    }\n  }\n\n  .upLoad {\n    width: 58px;\n    height: 58px;\n    line-height: 58px;\n    border: 1px dotted rgba(0, 0, 0, 0.1);\n    border-radius: 4px;\n    background: rgba(0, 0, 0, 0.02);\n    cursor: pointer;\n  }\n}\n</style>\n"]}]}