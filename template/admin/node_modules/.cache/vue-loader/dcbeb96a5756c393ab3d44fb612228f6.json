{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/components/goodsList/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/components/goodsList/index.vue","mtime":1689324015147},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IGNhc2NhZGVyTGlzdEFwaSwgY2hhbmdlTGlzdEFwaSB9IGZyb20gJ0AvYXBpL3Byb2R1Y3QnOwppbXBvcnQgeyBsaXZlR29vZHMgfSBmcm9tICdAL2FwaS9saXZlJzsKaW1wb3J0IHsgZ2V0UHJvZHVjdExpc3QgfSBmcm9tICdAL2FwaS9kaXknOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2luZGV4JywKICBwcm9wczogewogICAgaXNfbmV3OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycsCiAgICB9LAogICAgdHlwZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDAsCiAgICB9LAogICAgZGl5OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlLAogICAgfSwKICAgIGlzY2hlY2tib3g6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICB9LAogICAgbGl2ZVN0YXR1czogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgIH0sCiAgICBpc0xpdmU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICB9LAogICAgaXNkaXk6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICB9LAogICAgc2VsZWN0SWRzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiAoKSA9PiB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9LAogICAgfSwKICAgIGRhdGFzOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB7fTsKICAgICAgfSwKICAgIH0sCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbW9kYWxfbG9hZGluZzogZmFsc2UsCiAgICAgIHRyZWVTZWxlY3Q6IFtdLAogICAgICBmb3JtVmFsaWRhdGU6IHsKICAgICAgICBwYWdlOiAxLAogICAgICAgIGxpbWl0OiAxNSwKICAgICAgICBjYXRlX2lkOiAnJywKICAgICAgICBzdG9yZV9uYW1lOiAnJywKICAgICAgICBpc19uZXc6IHRoaXMuaXNfbmV3LAogICAgICB9LAogICAgICB0b3RhbDogMCwKICAgICAgbW9kYWxzOiBmYWxzZSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGdyaWQ6IHsKICAgICAgICB4bDogMTAsCiAgICAgICAgbGc6IDEwLAogICAgICAgIG1kOiAxMiwKICAgICAgICBzbTogMjQsCiAgICAgICAgeHM6IDI0LAogICAgICB9LAogICAgICB0YWJsZUxpc3Q6IFtdLAogICAgICBjdXJyZW50aWQ6IDAsCiAgICAgIHByb2R1Y3RSb3c6IHt9LAogICAgICBjb2x1bW5zNDogWwogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAn5ZWG5ZOBSUQnLAogICAgICAgICAga2V5OiAnaWQnLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICflm77niYcnLAogICAgICAgICAgc2xvdDogJ2ltYWdlJywKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAn5ZWG5ZOB5ZCN56ewJywKICAgICAgICAgIGtleTogJ3N0b3JlX25hbWUnLAogICAgICAgICAgbWluV2lkdGg6IDI1MCwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAn5ZWG5ZOB5YiG57G7JywKICAgICAgICAgIGtleTogJ2NhdGVfbmFtZScsCiAgICAgICAgICBtaW5XaWR0aDogMTUwLAogICAgICAgIH0sCiAgICAgIF0sCiAgICAgIGNvbHVtbnM1OiBbCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICfllYblk4FJRCcsCiAgICAgICAgICBrZXk6ICdpZCcsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ+WbvueJhycsCiAgICAgICAgICBzbG90OiAnaW1hZ2UnLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICfllYblk4HlkI3np7AnLAogICAgICAgICAga2V5OiAnbmFtZScsCiAgICAgICAgICBtaW5XaWR0aDogMjUwLAogICAgICAgIH0sCiAgICAgIF0sCiAgICAgIGltYWdlczogW10sCiAgICAgIG1hbnk6ICcnLAogICAgICBnb29kVHlwZTogJycsCiAgICAgIGdvb2RMaXN0OiBbCiAgICAgICAgewogICAgICAgICAgYWN0aXZlVmFsdWU6IDAsCiAgICAgICAgICB0aXRsZTogJ+WVhuWTgeWIl+ihqCcsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBhY3RpdmVWYWx1ZTogJzQnLAogICAgICAgICAgdGl0bGU6ICfng63pl6jmppzljZUnLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgYWN0aXZlVmFsdWU6ICc1JywKICAgICAgICAgIHRpdGxlOiAn6aaW5Y+R5paw5ZOBJywKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGFjdGl2ZVZhbHVlOiAnNicsCiAgICAgICAgICB0aXRsZTogJ+S/g+mUgOWNleWTgScsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBhY3RpdmVWYWx1ZTogJzcnLAogICAgICAgICAgdGl0bGU6ICfnsr7lk4HmjqjojZAnLAogICAgICAgIH0sCiAgICAgIF0sCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIGNyZWF0ZWQoKSB7CiAgICBsZXQgcmFkaW8gPSB7CiAgICAgIHdpZHRoOiA2MCwKICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICByZW5kZXI6IChoLCBwYXJhbXMpID0+IHsKICAgICAgICBsZXQgaWQgPSBwYXJhbXMucm93LmlkOwogICAgICAgIGxldCBmbGFnID0gZmFsc2U7CiAgICAgICAgaWYgKHRoaXMuY3VycmVudGlkID09PSBpZCkgewogICAgICAgICAgZmxhZyA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGZsYWcgPSBmYWxzZTsKICAgICAgICB9CiAgICAgICAgbGV0IHNlbGYgPSB0aGlzOwogICAgICAgIHJldHVybiBoKCdkaXYnLCBbCiAgICAgICAgICBoKCdSYWRpbycsIHsKICAgICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICB2YWx1ZTogZmxhZywKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICAnb24tY2hhbmdlJzogKCkgPT4gewogICAgICAgICAgICAgICAgc2VsZi5jdXJyZW50aWQgPSBpZDsKICAgICAgICAgICAgICAgIHRoaXMucHJvZHVjdFJvdyA9IHBhcmFtcy5yb3c7CiAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdnZXRQcm9kdWN0SWQnLCB0aGlzLnByb2R1Y3RSb3cpOwogICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvZHVjdFJvdy5pZCkgewogICAgICAgICAgICAgICAgICBpZiAodGhpcy4kcm91dGUucXVlcnkuZm9kZGVyID09PSAnaW1hZ2UnKSB7CiAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgKi8KICAgICAgICAgICAgICAgICAgICBsZXQgaW1hZ2VPYmplY3QgPSB7CiAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogdGhpcy5wcm9kdWN0Um93LmltYWdlLAogICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdF9pZDogdGhpcy5wcm9kdWN0Um93LmlkLAogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgZm9ybV9jcmVhdGVfaGVscGVyLnNldCgnaW1hZ2UnLCBpbWFnZU9iamVjdCk7CiAgICAgICAgICAgICAgICAgICAgZm9ybV9jcmVhdGVfaGVscGVyLmNsb3NlKCdpbWFnZScpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLndhcm5pbmcoJ+ivt+WFiOmAieaLqeWVhuWTgScpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9KSwKICAgICAgICBdKTsKICAgICAgfSwKICAgIH07CgogICAgbGV0IGNoZWNrYm94ID0gewogICAgICB0eXBlOiAnc2VsZWN0aW9uJywKICAgICAgd2lkdGg6IDYwLAogICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICB9OwogICAgbGV0IG1hbnkgPSAnJzsKICAgIGlmICh0aGlzLmlzY2hlY2tib3gpIHsKICAgICAgbWFueSA9ICdtYW55JzsKICAgIH0gZWxzZSB7CiAgICAgIG1hbnkgPSB0aGlzLiRyb3V0ZS5xdWVyeS50eXBlOwogICAgfQogICAgdGhpcy5tYW55ID0gbWFueTsKICAgIGlmIChtYW55ID09PSAnbWFueScpIHsKICAgICAgdGhpcy5jb2x1bW5zNC51bnNoaWZ0KGNoZWNrYm94KTsKICAgICAgdGhpcy5jb2x1bW5zNS51bnNoaWZ0KGNoZWNrYm94KTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuY29sdW1uczQudW5zaGlmdChyYWRpbyk7CiAgICAgIHRoaXMuY29sdW1uczUudW5zaGlmdChyYWRpbyk7CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5nb29kc0NhdGVnb3J5KCk7CiAgICBpZiAodGhpcy5kaXkpIHsKICAgICAgdGhpcy5wcm9kdWN0TGlzdCgpOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBwcm9kdWN0TGlzdCgpIHsKICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgcGFnZTogdGhpcy5mb3JtVmFsaWRhdGUucGFnZSwKICAgICAgICBsaW1pdDogdGhpcy5mb3JtVmFsaWRhdGUubGltaXQsCiAgICAgICAgY2F0ZV9pZDogdGhpcy5mb3JtVmFsaWRhdGUuY2F0ZV9pZCwKICAgICAgICBzdG9yZV9uYW1lOiB0aGlzLmZvcm1WYWxpZGF0ZS5zdG9yZV9uYW1lLAogICAgICAgIHR5cGU6IHRoaXMudHlwZSA/IHRoaXMudHlwZSA6IHRoaXMuZ29vZFR5cGUsCiAgICAgIH07CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIGdldFByb2R1Y3RMaXN0KGRhdGEpCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgbGV0IGRhdGEgPSByZXMuZGF0YTsKICAgICAgICAgIHRoaXMudGFibGVMaXN0ID0gZGF0YS5saXN0OwogICAgICAgICAgdGhpcy50b3RhbCA9IHJlcy5kYXRhLmNvdW50OwogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgIH0pOwogICAgfSwKICAgIGNoYW5nZUNoZWNrYm94KHNlbGVjdGlvbikgewogICAgICBsZXQgaW1hZ2VzID0gW107CiAgICAgIHNlbGVjdGlvbi5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgbGV0IGltYWdlT2JqZWN0ID0gewogICAgICAgICAgaW1hZ2U6IGl0ZW0uaW1hZ2UsCiAgICAgICAgICBwcm9kdWN0X2lkOiBpdGVtLmlkLAogICAgICAgICAgc3RvcmVfbmFtZTogaXRlbS5zdG9yZV9uYW1lLAogICAgICAgICAgdGVtcF9pZDogaXRlbS50ZW1wX2lkLAogICAgICAgIH07CiAgICAgICAgaW1hZ2VzLnB1c2goaW1hZ2VPYmplY3QpOwogICAgICB9KTsKICAgICAgdGhpcy5pbWFnZXMgPSBpbWFnZXM7CiAgICAgIHRoaXMuZGl5VmFsID0gc2VsZWN0aW9uOwogICAgICB0aGlzLiRlbWl0KCdnZXRQcm9kdWN0RGl5Jywgc2VsZWN0aW9uKTsKICAgIH0sCiAgICAvLyDllYblk4HliIbnsbvvvJsKICAgIGdvb2RzQ2F0ZWdvcnkoKSB7CiAgICAgIGNhc2NhZGVyTGlzdEFwaSgxKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMudHJlZVNlbGVjdCA9IHJlcy5kYXRhOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgfSk7CiAgICB9LAogICAgcGFnZUNoYW5nZShpbmRleCkgewogICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5wYWdlID0gaW5kZXg7CiAgICAgIGlmICh0aGlzLmRpeSkgewogICAgICAgIHRoaXMucHJvZHVjdExpc3QoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgfQogICAgfSwKICAgIC8vIOWIl+ihqAogICAgZ2V0TGlzdCgpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgaWYgKCF0aGlzLmxpdmVTdGF0dXMpIHsKICAgICAgICBpZiAodGhpcy5pc0xpdmUpIHsKICAgICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmlzX2xpdmUgPSAxOwogICAgICAgIH0KICAgICAgICBjaGFuZ2VMaXN0QXBpKHRoaXMuZm9ybVZhbGlkYXRlKQogICAgICAgICAgLnRoZW4oYXN5bmMgKHJlcykgPT4gewogICAgICAgICAgICBsZXQgZGF0YSA9IHJlcy5kYXRhOwogICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RJZHMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgbGV0IGFyciA9IFtdOwogICAgICAgICAgICAgIHRoaXMuc2VsZWN0SWRzLm1hcCgoaXRlbSkgPT4gewogICAgICAgICAgICAgICAgZGF0YS5saXN0Lm1hcCgoaSkgPT4gewogICAgICAgICAgICAgICAgICBpZiAoaS5pZCA9PSBpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgaS5fY2hlY2tlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgYXJyLnB1c2goaSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHRoaXMuY2hhbmdlQ2hlY2tib3goYXJyKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLnRhYmxlTGlzdCA9IGRhdGEubGlzdDsKICAgICAgICAgICAgdGhpcy50b3RhbCA9IHJlcy5kYXRhLmNvdW50OwogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGxpdmVHb29kcyh7CiAgICAgICAgICBpc19zaG93OiAnMScsCiAgICAgICAgICBzdGF0dXM6ICcxJywKICAgICAgICAgIGxpdmVfaWQ6IHRoaXMuZGF0YXMuaWQsCiAgICAgICAgICBrZXJ3b3JkOiB0aGlzLmZvcm1WYWxpZGF0ZS5zdG9yZV9uYW1lLAogICAgICAgICAgcGFnZTogdGhpcy5mb3JtVmFsaWRhdGUucGFnZSwKICAgICAgICAgIGxpbWl0OiB0aGlzLmZvcm1WYWxpZGF0ZS5saW1pdCwKICAgICAgICB9KQogICAgICAgICAgLnRoZW4oYXN5bmMgKHJlcykgPT4gewogICAgICAgICAgICBsZXQgZGF0YSA9IHJlcy5kYXRhOwogICAgICAgICAgICBkYXRhLmxpc3QuZm9yRWFjaCgoZWwpID0+IHsKICAgICAgICAgICAgICBlbC5pbWFnZSA9IGVsLmNvdmVyX2ltZzsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdElkcy5sZW5ndGgpIHsKICAgICAgICAgICAgICB0aGlzLnNlbGVjdElkcy5tYXAoKGl0ZW0pID0+IHsKICAgICAgICAgICAgICAgIGRhdGEubGlzdC5tYXAoKGkpID0+IHsKICAgICAgICAgICAgICAgICAgaWYgKGkuaWQgPT0gaXRlbSkgewogICAgICAgICAgICAgICAgICAgIGkuX2NoZWNrZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLiRuZXh0VGljaygoZSkgPT4gewogICAgICAgICAgICAgIHRoaXMudGFibGVMaXN0ID0gZGF0YS5saXN0OwogICAgICAgICAgICAgIHRoaXMudG90YWwgPSByZXMuZGF0YS5jb3VudDsKICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIG9rKCkgewogICAgICBpZiAodGhpcy5pbWFnZXMubGVuZ3RoID4gMCkgewogICAgICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS5mb2RkZXIgPT09ICdpbWFnZScpIHsKICAgICAgICAgIGxldCBpbWFnZVZhbHVlID0gZm9ybV9jcmVhdGVfaGVscGVyLmdldCgnaW1hZ2UnKTsKICAgICAgICAgIGZvcm1fY3JlYXRlX2hlbHBlci5zZXQoJ2ltYWdlJywgaW1hZ2VWYWx1ZS5jb25jYXQodGhpcy5pbWFnZXMpKTsKICAgICAgICAgIGZvcm1fY3JlYXRlX2hlbHBlci5jbG9zZSgnaW1hZ2UnKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKHRoaXMuaXNkaXkpIHsKICAgICAgICAgICAgdGhpcy4kZW1pdCgnZ2V0UHJvZHVjdElkJywgdGhpcy5kaXlWYWwpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kZW1pdCgnZ2V0UHJvZHVjdElkJywgdGhpcy5pbWFnZXMpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRNZXNzYWdlLndhcm5pbmcoJ+ivt+WFiOmAieaLqeWVhuWTgScpOwogICAgICB9CiAgICB9LAogICAgLy8g6KGo5qC85pCc57SiCiAgICB1c2VyU2VhcmNocygpIHsKICAgICAgdGhpcy5jdXJyZW50aWQgPSAwOwogICAgICB0aGlzLnByb2R1Y3RSb3cgPSB7fTsKICAgICAgdGhpcy5mb3JtVmFsaWRhdGUucGFnZSA9IDE7CiAgICAgIGlmICh0aGlzLmRpeSkgewogICAgICAgIHRoaXMucHJvZHVjdExpc3QoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgfQogICAgfSwKICAgIGNsZWFyKCkgewogICAgICB0aGlzLnByb2R1Y3RSb3cuaWQgPSAnJzsKICAgICAgdGhpcy5jdXJyZW50aWQgPSAnJzsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/goodsList","sourcesContent":["<template>\n  <div class=\"goodList\">\n    <Form ref=\"formValidate\" :model=\"formValidate\" :label-width=\"120\" label-position=\"right\" class=\"tabform\">\n      <Row type=\"flex\" :gutter=\"24\">\n        <Col v-bind=\"grid\" v-if=\"!liveStatus\">\n          <FormItem label=\"商品分类：\" label-for=\"pid\">\n            <!-- <Select v-model=\"formValidate.cate_id\" style=\"width: 200px\" clearable @on-change=\"userSearchs\">\n              <Option v-for=\"item in treeSelect\" :value=\"item.id\" :key=\"item.id\"\n                >{{ item.html + item.cate_name }}\n              </Option>\n            </Select> -->\n            <el-cascader\n              v-model=\"formValidate.cate_id\"\n              size=\"small\"\n              :options=\"treeSelect\"\n              :props=\"{ emitPath: false }\"\n              clearable\n            ></el-cascader>\n          </FormItem>\n        </Col>\n        <Col v-bind=\"grid\" v-if=\"!type && diy\">\n          <FormItem label=\"商品类型：\" label-for=\"pid\">\n            <Select v-model=\"goodType\" style=\"width: 200px\" clearable @on-change=\"userSearchs\">\n              <Option v-for=\"item in goodList\" :value=\"item.activeValue\" :key=\"item.activeValue\"\n                >{{ item.title }}\n              </Option>\n            </Select>\n          </FormItem>\n        </Col>\n        <Col v-bind=\"grid\">\n          <FormItem label=\"商品搜索：\" label-for=\"store_name\">\n            <Input\n              search\n              enter-button\n              placeholder=\"请输入商品名称/关键字/编号\"\n              v-model=\"formValidate.store_name\"\n              style=\"width: 250px\"\n              @on-search=\"userSearchs\"\n            />\n          </FormItem>\n        </Col>\n      </Row>\n    </Form>\n    <Table\n      ref=\"table\"\n      no-data-text=\"暂无数据\"\n      @on-selection-change=\"changeCheckbox\"\n      no-filtered-data-text=\"暂无筛选结果\"\n      max-height=\"400\"\n      :columns=\"liveStatus == false ? columns4 : columns5\"\n      :data=\"tableList\"\n      :loading=\"loading\"\n    >\n      <template slot-scope=\"{ row, index }\" slot=\"image\">\n        <div class=\"tabBox_img\" v-viewer>\n          <img v-lazy=\"row.image\" />\n        </div>\n      </template>\n    </Table>\n    <div class=\"acea-row row-right page\">\n      <Page :total=\"total\" show-elevator show-total @on-change=\"pageChange\" :page-size=\"formValidate.limit\" />\n    </div>\n    <div class=\"footer\" slot=\"footer\" v-if=\"many === 'many' && !diy\">\n      <Button type=\"primary\" size=\"large\" :loading=\"modal_loading\" long @click=\"ok\">提交</Button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport { cascaderListApi, changeListApi } from '@/api/product';\nimport { liveGoods } from '@/api/live';\nimport { getProductList } from '@/api/diy';\nexport default {\n  name: 'index',\n  props: {\n    is_new: {\n      type: String,\n      default: '',\n    },\n    type: {\n      type: Number,\n      default: 0,\n    },\n    diy: {\n      type: Boolean,\n      default: false,\n    },\n    ischeckbox: {\n      type: Boolean,\n      default: false,\n    },\n    liveStatus: {\n      type: Boolean,\n      default: false,\n    },\n    isLive: {\n      type: Boolean,\n      default: false,\n    },\n    isdiy: {\n      type: Boolean,\n      default: false,\n    },\n    selectIds: {\n      type: Array,\n      default: () => {\n        return [];\n      },\n    },\n    datas: {\n      type: Object,\n      default: function () {\n        return {};\n      },\n    },\n  },\n  data() {\n    return {\n      modal_loading: false,\n      treeSelect: [],\n      formValidate: {\n        page: 1,\n        limit: 15,\n        cate_id: '',\n        store_name: '',\n        is_new: this.is_new,\n      },\n      total: 0,\n      modals: false,\n      loading: false,\n      grid: {\n        xl: 10,\n        lg: 10,\n        md: 12,\n        sm: 24,\n        xs: 24,\n      },\n      tableList: [],\n      currentid: 0,\n      productRow: {},\n      columns4: [\n        {\n          title: '商品ID',\n          key: 'id',\n        },\n        {\n          title: '图片',\n          slot: 'image',\n        },\n        {\n          title: '商品名称',\n          key: 'store_name',\n          minWidth: 250,\n        },\n        {\n          title: '商品分类',\n          key: 'cate_name',\n          minWidth: 150,\n        },\n      ],\n      columns5: [\n        {\n          title: '商品ID',\n          key: 'id',\n        },\n        {\n          title: '图片',\n          slot: 'image',\n        },\n        {\n          title: '商品名称',\n          key: 'name',\n          minWidth: 250,\n        },\n      ],\n      images: [],\n      many: '',\n      goodType: '',\n      goodList: [\n        {\n          activeValue: 0,\n          title: '商品列表',\n        },\n        {\n          activeValue: '4',\n          title: '热门榜单',\n        },\n        {\n          activeValue: '5',\n          title: '首发新品',\n        },\n        {\n          activeValue: '6',\n          title: '促销单品',\n        },\n        {\n          activeValue: '7',\n          title: '精品推荐',\n        },\n      ],\n    };\n  },\n  computed: {},\n  created() {\n    let radio = {\n      width: 60,\n      align: 'center',\n      render: (h, params) => {\n        let id = params.row.id;\n        let flag = false;\n        if (this.currentid === id) {\n          flag = true;\n        } else {\n          flag = false;\n        }\n        let self = this;\n        return h('div', [\n          h('Radio', {\n            props: {\n              value: flag,\n            },\n            on: {\n              'on-change': () => {\n                self.currentid = id;\n                this.productRow = params.row;\n                this.$emit('getProductId', this.productRow);\n                if (this.productRow.id) {\n                  if (this.$route.query.fodder === 'image') {\n                    /* eslint-disable */\n                    let imageObject = {\n                      image: this.productRow.image,\n                      product_id: this.productRow.id,\n                    };\n                    form_create_helper.set('image', imageObject);\n                    form_create_helper.close('image');\n                  }\n                } else {\n                  this.$Message.warning('请先选择商品');\n                }\n              },\n            },\n          }),\n        ]);\n      },\n    };\n\n    let checkbox = {\n      type: 'selection',\n      width: 60,\n      align: 'center',\n    };\n    let many = '';\n    if (this.ischeckbox) {\n      many = 'many';\n    } else {\n      many = this.$route.query.type;\n    }\n    this.many = many;\n    if (many === 'many') {\n      this.columns4.unshift(checkbox);\n      this.columns5.unshift(checkbox);\n    } else {\n      this.columns4.unshift(radio);\n      this.columns5.unshift(radio);\n    }\n  },\n  mounted() {\n    this.goodsCategory();\n    if (this.diy) {\n      this.productList();\n    } else {\n      this.getList();\n    }\n  },\n  methods: {\n    productList() {\n      let data = {\n        page: this.formValidate.page,\n        limit: this.formValidate.limit,\n        cate_id: this.formValidate.cate_id,\n        store_name: this.formValidate.store_name,\n        type: this.type ? this.type : this.goodType,\n      };\n      this.loading = true;\n      getProductList(data)\n        .then((res) => {\n          let data = res.data;\n          this.tableList = data.list;\n          this.total = res.data.count;\n          this.loading = false;\n        })\n        .catch((res) => {\n          this.loading = false;\n          this.$Message.error(res.msg);\n        });\n    },\n    changeCheckbox(selection) {\n      let images = [];\n      selection.forEach(function (item) {\n        let imageObject = {\n          image: item.image,\n          product_id: item.id,\n          store_name: item.store_name,\n          temp_id: item.temp_id,\n        };\n        images.push(imageObject);\n      });\n      this.images = images;\n      this.diyVal = selection;\n      this.$emit('getProductDiy', selection);\n    },\n    // 商品分类；\n    goodsCategory() {\n      cascaderListApi(1)\n        .then((res) => {\n          this.treeSelect = res.data;\n        })\n        .catch((res) => {\n          this.$Message.error(res.msg);\n        });\n    },\n    pageChange(index) {\n      this.formValidate.page = index;\n      if (this.diy) {\n        this.productList();\n      } else {\n        this.getList();\n      }\n    },\n    // 列表\n    getList() {\n      this.loading = true;\n      if (!this.liveStatus) {\n        if (this.isLive) {\n          this.formValidate.is_live = 1;\n        }\n        changeListApi(this.formValidate)\n          .then(async (res) => {\n            let data = res.data;\n            if (this.selectIds.length) {\n              let arr = [];\n              this.selectIds.map((item) => {\n                data.list.map((i) => {\n                  if (i.id == item) {\n                    i._checked = true;\n                    arr.push(i);\n                  }\n                });\n              });\n              this.changeCheckbox(arr);\n            }\n            this.tableList = data.list;\n            this.total = res.data.count;\n            this.loading = false;\n          })\n          .catch((res) => {\n            this.loading = false;\n            this.$Message.error(res.msg);\n          });\n      } else {\n        liveGoods({\n          is_show: '1',\n          status: '1',\n          live_id: this.datas.id,\n          kerword: this.formValidate.store_name,\n          page: this.formValidate.page,\n          limit: this.formValidate.limit,\n        })\n          .then(async (res) => {\n            let data = res.data;\n            data.list.forEach((el) => {\n              el.image = el.cover_img;\n            });\n            if (this.selectIds.length) {\n              this.selectIds.map((item) => {\n                data.list.map((i) => {\n                  if (i.id == item) {\n                    i._checked = true;\n                  }\n                });\n              });\n            }\n            this.$nextTick((e) => {\n              this.tableList = data.list;\n              this.total = res.data.count;\n              this.loading = false;\n            });\n          })\n          .catch((res) => {\n            this.loading = false;\n            this.$Message.error(res.msg);\n          });\n      }\n    },\n    ok() {\n      if (this.images.length > 0) {\n        if (this.$route.query.fodder === 'image') {\n          let imageValue = form_create_helper.get('image');\n          form_create_helper.set('image', imageValue.concat(this.images));\n          form_create_helper.close('image');\n        } else {\n          if (this.isdiy) {\n            this.$emit('getProductId', this.diyVal);\n          } else {\n            this.$emit('getProductId', this.images);\n          }\n        }\n      } else {\n        this.$Message.warning('请先选择商品');\n      }\n    },\n    // 表格搜索\n    userSearchs() {\n      this.currentid = 0;\n      this.productRow = {};\n      this.formValidate.page = 1;\n      if (this.diy) {\n        this.productList();\n      } else {\n        this.getList();\n      }\n    },\n    clear() {\n      this.productRow.id = '';\n      this.currentid = '';\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"stylus\">\n.footer {\n  margin: 15px 0;\n}\n\n.tabBox_img {\n  width: 36px;\n  height: 36px;\n  border-radius: 4px;\n  cursor: pointer;\n\n  img {\n    width: 100%;\n    height: 100%;\n  }\n}\n\n.tabform {\n  >>> .ivu-form-item {\n    margin-bottom: 16px !important;\n  }\n}\n\n.btn {\n  margin-top: 20px;\n  float: right;\n}\n\n.goodList {\n  >>> table {\n    width: 100% !important;\n  }\n}\n</style>\n"]}]}