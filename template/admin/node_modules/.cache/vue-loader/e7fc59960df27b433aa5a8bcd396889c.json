{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/pages/marketing/lottery/create.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/pages/marketing/lottery/create.vue","mtime":1689324015224},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCBnb29kc0xpc3QgZnJvbSAnQC9jb21wb25lbnRzL2dvb2RzTGlzdC9pbmRleCc7CmltcG9ydCB1cGxvYWRQaWN0dXJlcyBmcm9tICdAL2NvbXBvbmVudHMvdXBsb2FkUGljdHVyZXMnOwppbXBvcnQgdXNlckxhYmVsIGZyb20gJ0AvY29tcG9uZW50cy91c2VyTGFiZWwnOwppbXBvcnQgYWRkR29vZHMgZnJvbSAnLi9hZGRHb29kcyc7CmltcG9ydCB7IGxvdHRlcnlOZXdEZXRhaWxBcGksIGxvdHRlcnlEZXRhaWxBcGksIGxvdHRlcnlDcmVhdGVBcGksIGxvdHRlcnlFZGl0QXBpIH0gZnJvbSAnQC9hcGkvbG90dGVyeSc7IC8v6K+m5oOFIOWIm+W7uiDnvJbovpEKaW1wb3J0IHsgbG90dGVyeUZyb20gfSBmcm9tICcuL2Zvcm1SdWxlL2xvdHRlcnlGcm9tJzsKaW1wb3J0IHsgbGFiZWxMaXN0QXBpIH0gZnJvbSAnQC9hcGkvcHJvZHVjdCc7CmltcG9ydCB7IGxldmVsTGlzdEFwaSB9IGZyb20gJ0AvYXBpL3VzZXInOwppbXBvcnQgV2FuZ0VkaXRvciBmcm9tICdAL2NvbXBvbmVudHMvd2FuZ0VkaXRvci9pbmRleC52dWUnOwoKaW1wb3J0IHsgZm9ybWF0RGF0ZSB9IGZyb20gJ0AvdXRpbHMvdmFsaWRhdGUnOwppbXBvcnQgeyBmb3JtYXRSaWNoVGV4dCB9IGZyb20gJ0AvdXRpbHMvZWRpdG9ySW1nJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnbG90dGVyeUNyZWF0ZScsCiAgY29tcG9uZW50czogewogICAgZ29vZHNMaXN0LAogICAgdXBsb2FkUGljdHVyZXMsCiAgICBhZGRHb29kcywKICAgIFdhbmdFZGl0b3IsCiAgICB1c2VyTGFiZWwsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VsZWN0RGF0YUxhYmVsOiBbXSwKICAgICAgc2VsZWN0TGFiZWxTaG93OiBmYWxzZSwKICAgICAgY29udGVudDogJycsCiAgICAgIHRhYnM6IFsKICAgICAgICB7CiAgICAgICAgICBuYW1lOiAn56ev5YiG5oq95Y+WJywKICAgICAgICAgIHR5cGU6ICcxJywKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIG5hbWU6ICforqLljZXmlK/ku5gnLAogICAgICAgICAgdHlwZTogJzMnLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTogJ+iuouWNleivhOS7tycsCiAgICAgICAgICB0eXBlOiAnNCcsCiAgICAgICAgfSwKICAgICAgXSwKICAgICAgdGl0bGU6ICfmt7vliqDllYblk4EnLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgdXNlckxhYmVsTGlzdDogW10sIC8v55So5oi35qCH562+5YiX6KGoCiAgICAgIHVzZXJMZXZlbExpc3RBcGk6IFtdLCAvL+eUqOaIt+etiee6p+WIl+ihqAogICAgICBzdWJtaXRPcGVuOiBmYWxzZSwKICAgICAgc3BpblNob3c6IGZhbHNlLAogICAgICBhZGRHb29kc01vZGVsOiBmYWxzZSwKICAgICAgZWRpdERhdGE6IHt9LAogICAgICBteUNvbmZpZzogewogICAgICAgIGF1dG9IZWlnaHRFbmFibGVkOiBmYWxzZSwgLy8g57yW6L6R5Zmo5LiN6Ieq5Yqo6KKr5YaF5a655pKR6auYCiAgICAgICAgaW5pdGlhbEZyYW1lSGVpZ2h0OiA1MDAsIC8vIOWIneWni+WuueWZqOmrmOW6pgogICAgICAgIGluaXRpYWxGcmFtZVdpZHRoOiAnMTAwJScsIC8vIOWIneWni+WuueWZqOWuveW6pgogICAgICAgIFVFRElUT1JfSE9NRV9VUkw6ICcvVUVkaXRvci8nLAogICAgICAgIHNlcnZlclVybDogJycsCiAgICAgIH0sCiAgICAgIGlzQ2hvaWNlOiAn5Y2V6YCJJywKICAgICAgY3VycmVudDogMCwKICAgICAgbW9kYWxQaWM6IGZhbHNlLAogICAgICBtb2RhbF9sb2FkaW5nOiBmYWxzZSwKICAgICAgaW1hZ2VzOiBbXSwKICAgICAgdGVtcGxhdGVMaXN0OiBbCiAgICAgICAgeyBpZDogMCwgbmFtZTogJ+mdnuS7mOi0ueS8muWRmCcgfSwKICAgICAgICB7IGlkOiAxLCBuYW1lOiAn5LuY6LS55Lya5ZGYJyB9LAogICAgICBdLAogICAgICBjb2x1bW5zOiBbCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICfluo/lj7cnLAogICAgICAgICAgdHlwZTogJ2luZGV4JywKICAgICAgICAgIHdpZHRoOiA2MCwKICAgICAgICAgIGFsaWduOiAnY2VudGVyJywKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAn5Zu+54mHJywKICAgICAgICAgIHNsb3Q6ICdpbWFnZScsCiAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgICBtaW5XaWR0aDogMTIwLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICflkI3np7AnLAogICAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgICAgbWluV2lkdGg6IDgwLAogICAgICAgICAga2V5OiAnbmFtZScsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ+WlluWTgScsCiAgICAgICAgICBzbG90OiAndHlwZScsCiAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgICBtaW5XaWR0aDogODAsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ+aPkOekuuivrScsCiAgICAgICAgICBrZXk6ICdwcm9tcHQnLAogICAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgICAgbWluV2lkdGg6IDgwLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICfmlbDph48nLAogICAgICAgICAgc2xvdDogJ3RvdGFsJywKICAgICAgICAgIGFsaWduOiAnY2VudGVyJywKICAgICAgICAgIG1pbldpZHRoOiA4MCwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAn5aWW5ZOB5p2D6YeNJywKICAgICAgICAgIHNsb3Q6ICdjaGFuY2UnLAogICAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgICAgbWluV2lkdGg6IDgwLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICflpZblk4HmpoLnjocnLAogICAgICAgICAga2V5OiAncHJvYmFiaWxpdHknLAogICAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgICAgbWluV2lkdGg6IDgwLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICfmk43kvZwnLAogICAgICAgICAgc2xvdDogJ3NldHRpbmcnLAogICAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgICAgbWluV2lkdGg6IDgwLAogICAgICAgIH0sCiAgICAgIF0sCiAgICAgIHNwZWNzRGF0YTogWwogICAgICAgIHsKICAgICAgICAgIHR5cGU6IDEsIC8v57G75Z6LIDHvvJrmnKrkuK3lpZYgMu+8muenr+WIhiAgMzrkvZnpop0gIDTvvJrnuqLljIUgNTrkvJjmg6DliLggNu+8muermeWGheWVhuWTgQogICAgICAgICAgbmFtZTogJycsIC8v5rS75Yqo5ZCN56ewCiAgICAgICAgICBudW06IDEwLCAvL+WlluWTgeaVsOmHjwogICAgICAgICAgaW1hZ2U6ICcnLCAvL+WlluWTgeWbvueJhwogICAgICAgICAgY2hhbmNlOiAwLCAvL+S4reWlluadg+mHjQogICAgICAgICAgdG90YWw6IDAsIC8v5aWW5ZOB5pWw6YePCiAgICAgICAgICBwcm9tcHQ6ICcnLCAvL+aPkOekuuivrQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdHlwZTogMSwgLy/nsbvlnosgMe+8muacquS4reWlljLvvJrnp6/liIYgIDM65L2Z6aKdICA077ya57qi5YyFIDU65LyY5oOg5Yi4IDbvvJrnq5nlhoXllYblk4EKICAgICAgICAgIG5hbWU6ICcnLCAvL+a0u+WKqOWQjeensAogICAgICAgICAgbnVtOiAwLCAvL+WlluWTgeaVsOmHjwogICAgICAgICAgaW1hZ2U6ICcnLCAvL+WlluWTgeWbvueJhwogICAgICAgICAgY2hhbmNlOiAwLCAvL+S4reWlluadg+mHjQogICAgICAgICAgdG90YWw6IDAsIC8v5aWW5ZOB5pWw6YePCiAgICAgICAgICBwcm9tcHQ6ICcnLCAvL+aPkOekuuivrQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdHlwZTogMSwgLy/nsbvlnosgMe+8muacquS4reWlljLvvJrnp6/liIYgIDM65L2Z6aKdICA077ya57qi5YyFIDU65LyY5oOg5Yi4IDbvvJrnq5nlhoXllYblk4EKICAgICAgICAgIG5hbWU6ICcnLCAvL+a0u+WKqOWQjeensAogICAgICAgICAgbnVtOiAwLCAvL+WlluWTgeaVsOmHjwogICAgICAgICAgaW1hZ2U6ICcnLCAvL+WlluWTgeWbvueJhwogICAgICAgICAgY2hhbmNlOiAwLCAvL+S4reWlluadg+mHjQogICAgICAgICAgdG90YWw6IDAsIC8v5aWW5ZOB5pWw6YePCiAgICAgICAgICBwcm9tcHQ6ICcnLCAvL+aPkOekuuivrQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdHlwZTogMSwgLy/nsbvlnosgMe+8muacquS4reWlljLvvJrnp6/liIYgIDM65L2Z6aKdICA077ya57qi5YyFIDU65LyY5oOg5Yi4IDbvvJrnq5nlhoXllYblk4EKICAgICAgICAgIG5hbWU6ICcnLCAvL+a0u+WKqOWQjeensAogICAgICAgICAgbnVtOiAwLCAvL+WlluWTgeaVsOmHjwogICAgICAgICAgaW1hZ2U6ICcnLCAvL+WlluWTgeWbvueJhwogICAgICAgICAgY2hhbmNlOiAwLCAvL+S4reWlluadg+mHjQogICAgICAgICAgdG90YWw6IDAsIC8v5aWW5ZOB5pWw6YePCiAgICAgICAgICBwcm9tcHQ6ICcnLCAvL+aPkOekuuivrQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdHlwZTogMSwgLy/nsbvlnosgMe+8muacquS4reWlljLvvJrnp6/liIYgIDM65L2Z6aKdICA077ya57qi5YyFIDU65LyY5oOg5Yi4IDbvvJrnq5nlhoXllYblk4EKICAgICAgICAgIG5hbWU6ICcnLCAvL+a0u+WKqOWQjeensAogICAgICAgICAgbnVtOiAwLCAvL+WlluWTgeaVsOmHjwogICAgICAgICAgaW1hZ2U6ICcnLCAvL+WlluWTgeWbvueJhwogICAgICAgICAgY2hhbmNlOiAwLCAvL+S4reWlluadg+mHjQogICAgICAgICAgdG90YWw6IDAsIC8v5aWW5ZOB5pWw6YePCiAgICAgICAgICBwcm9tcHQ6ICcnLCAvL+aPkOekuuivrQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdHlwZTogMSwgLy/nsbvlnosgMe+8muacquS4reWlljLvvJrnp6/liIYgIDM65L2Z6aKdICA077ya57qi5YyFIDU65LyY5oOg5Yi4IDbvvJrnq5nlhoXllYblk4EKICAgICAgICAgIG5hbWU6ICcnLCAvL+a0u+WKqOWQjeensAogICAgICAgICAgbnVtOiAwLCAvL+WlluWTgeaVsOmHjwogICAgICAgICAgaW1hZ2U6ICcnLCAvL+WlluWTgeWbvueJhwogICAgICAgICAgY2hhbmNlOiAwLCAvL+S4reWlluadg+mHjQogICAgICAgICAgdG90YWw6IDAsIC8v5aWW5ZOB5pWw6YePCiAgICAgICAgICBwcm9tcHQ6ICcnLCAvL+aPkOekuuivrQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdHlwZTogMSwgLy/nsbvlnosgMe+8muacquS4reWlljLvvJrnp6/liIYgIDM65L2Z6aKdICA077ya57qi5YyFIDU65LyY5oOg5Yi4IDbvvJrnq5nlhoXllYblk4EKICAgICAgICAgIG5hbWU6ICcnLCAvL+a0u+WKqOWQjeensAogICAgICAgICAgbnVtOiAwLCAvL+WlluWTgeaVsOmHjwogICAgICAgICAgaW1hZ2U6ICcnLCAvL+WlluWTgeWbvueJhwogICAgICAgICAgY2hhbmNlOiAwLCAvL+S4reWlluadg+mHjQogICAgICAgICAgdG90YWw6IDAsIC8v5aWW5ZOB5pWw6YePCiAgICAgICAgICBwcm9tcHQ6ICcnLCAvL+aPkOekuuivrQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdHlwZTogMSwgLy/nsbvlnosgMe+8muacquS4reWlljLvvJrnp6/liIYgIDM65L2Z6aKdICA077ya57qi5YyFIDU65LyY5oOg5Yi4IDbvvJrnq5nlhoXllYblk4EKICAgICAgICAgIG5hbWU6ICcnLCAvL+a0u+WKqOWQjeensAogICAgICAgICAgbnVtOiAwLCAvL+WlluWTgeaVsOmHjwogICAgICAgICAgaW1hZ2U6ICcnLCAvL+WlluWTgeWbvueJhwogICAgICAgICAgY2hhbmNlOiAwLCAvL+S4reWlluadg+mHjQogICAgICAgICAgdG90YWw6IDAsIC8v5aWW5ZOB5pWw6YePCiAgICAgICAgICBwcm9tcHQ6ICcnLCAvL+aPkOekuuivrQogICAgICAgIH0sCiAgICAgIF0sCiAgICAgIGZvcm1WYWxpZGF0ZTogewogICAgICAgIGltYWdlczogW10sCiAgICAgICAgbmFtZTogJycsIC8v5rS75Yqo5ZCN56ewCiAgICAgICAgZGVzYzogJycsIC8v5rS75Yqo5o+P6L+wCiAgICAgICAgaW1hZ2U6ICcnLCAvL+a0u+WKqOiDjOaZr+WbvgogICAgICAgIGZhY3RvcjogJzEnLCAvL+aKveWlluexu+Wei++8mjE656ev5YiGIDI65L2Z6aKdIDPvvJrkuIvljZXmlK/ku5jmiJDlip8gNDrorqLljZXor4Tku7cnLDU65YWz5rOoCiAgICAgICAgZmFjdG9yX251bTogMSwgLy/ojrflj5bkuIDmrKHmir3lpZbnmoTmnaHku7bmlbDph48KICAgICAgICBhdHRlbmRzX3VzZXI6IDEsIC8v5Y+C5LiO55So5oi3Me+8muaJgOaciSAgMu+8mumDqOWIhgogICAgICAgIHVzZXJfbGV2ZWw6IFtdLCAvL+WPguS4jueUqOaIt+etiee6pwogICAgICAgIHVzZXJfbGFiZWw6IFtdLCAvL+WPguS4jueUqOaIt+agh+etvgogICAgICAgIGlzX3N2aXA6ICctMScsIC8v5Y+C5LiO55So5oi35piv5ZCm5LuY6LS55Lya5ZGYCiAgICAgICAgcHJpemVfbnVtOiAwLCAvL+WlluWTgeaVsOmHjwogICAgICAgIHBlcmlvZDogW10sIC8v5rS75Yqo5pe26Ze0CiAgICAgICAgcHJpemU6IFtdLCAvL+WlluWTgeaVsOe7hAogICAgICAgIGxvdHRlcnlfbnVtX3Rlcm06IDEsIC8v5oq95aWW5qyh5pWw6ZmQ5Yi277yaMe+8muavj+WkqTLvvJrmr4/kuroKICAgICAgICBsb3R0ZXJ5X251bTogMSwgLy/mir3lpZbmrKHmlbAKICAgICAgICBzcHJlYWRfbnVtOiAxLCAvL+WFs+azqOaOqOW5v+iOt+WPluaKveWlluasoeaVsAogICAgICAgIGlzX2FsbF9yZWNvcmQ6IDAsIC8v5Lit5aWW57qq5b2V5bGV56S6CiAgICAgICAgaXNfcGVyc29uYWxfcmVjb3JkOiAwLCAvL+S4quS6uuS4reWllue6quW9leWxleekugogICAgICAgIGlzX2NvbnRlbnQ6IDAsIC8v5rS75Yqo6KeE5qC85piv5ZCm5bGV56S6CiAgICAgICAgY29udGVudDogJycsIC8v5a+M5paH5pys5YaF5a65CiAgICAgICAgc3RhdHVzOiAwLCAvL+eKtuaAgQogICAgICB9LAogICAgICBydWxlVmFsaWRhdGU6IGxvdHRlcnlGcm9tLAogICAgICBjdXJyZW50aWQ6ICcnLAogICAgICBwaWNUaXQ6ICcnLAogICAgICB0YWJsZUluZGV4OiAwLAogICAgICBjb3B5OiAwLAogICAgICBlZGl0SW5kZXg6IG51bGwsCiAgICAgIGlkOiAnJywKICAgICAgY29weTogMCwKICAgIH07CiAgfSwKICBmaWx0ZXJzOiB7CiAgICB0eXBlTmFtZSh0eXBlKSB7CiAgICAgIGlmICh0eXBlID09IDEpIHsKICAgICAgICByZXR1cm4gJ+acquS4reWllic7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAyKSB7CiAgICAgICAgcmV0dXJuICfnp6/liIYnOwogICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gMykgewogICAgICAgIHJldHVybiAn5L2Z6aKdJzsKICAgICAgfSBlbHNlIGlmICh0eXBlID09IDQpIHsKICAgICAgICByZXR1cm4gJ+e6ouWMhSc7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSA1KSB7CiAgICAgICAgcmV0dXJuICfkvJjmg6DliLgnOwogICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gNikgewogICAgICAgIHJldHVybiAn5ZWG5ZOBJzsKICAgICAgfQogICAgfSwKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBTdGF0ZSgnYWRtaW4vbGF5b3V0JywgWydpc01vYmlsZSddKSwKICAgIGxhYmVsV2lkdGgoKSB7CiAgICAgIHJldHVybiB0aGlzLmlzTW9iaWxlID8gdW5kZWZpbmVkIDogMTM1OwogICAgfSwKICAgIGxhYmVsUG9zaXRpb24oKSB7CiAgICAgIHJldHVybiB0aGlzLmlzTW9iaWxlID8gJ3RvcCcgOiAncmlnaHQnOwogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldEluZm8oKTsKICAgIHRoaXMubGFiZWxMaXN0QXBpKCk7CiAgICB0aGlzLmxldmVsTGlzdEFwaSgpOwogIH0sCiAgbWV0aG9kczogewogICAgY2hhbmdlVXNlcnMoZSkgewogICAgICBpZiAoZSA9PSAxKSB7CiAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUudXNlcl9sZXZlbCA9IFtdOyAvL+WPguS4jueUqOaIt+etiee6pwogICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLnVzZXJfbGFiZWwgPSBbXTsgLy/lj4LkuI7nlKjmiLfmoIfnrb4KICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5pc19zdmlwID0gJy0xJzsgLy/lj4LkuI7nlKjmiLfmmK/lkKbku5jotLnkvJrlkZgKICAgICAgICB0aGlzLnNlbGVjdERhdGFMYWJlbCA9IFtdOyAvL+WPguS4jueUqOaIt+aYr+WQpuS7mOi0ueS8muWRmAogICAgICB9CiAgICB9LAogICAgLy8g5qCH562+5by556qX5YWz6ZetCiAgICBsYWJlbENsb3NlKCkgewogICAgICB0aGlzLnNlbGVjdExhYmVsU2hvdyA9IGZhbHNlOwogICAgfSwKICAgIGFjdGl2ZVNlbGVjdERhdGEoZGF0YSkgewogICAgICB0aGlzLnNlbGVjdExhYmVsU2hvdyA9IGZhbHNlOwogICAgICB0aGlzLnNlbGVjdERhdGFMYWJlbCA9IGRhdGE7CiAgICB9LAogICAgb25DbGlja1RhYihlKSB7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmZhY3RvciA9IGU7CiAgICAgIHRoaXMuZ2V0SW5mbyhlKTsKICAgIH0sCiAgICBnZXRFZGl0b3JDb250ZW50KGRhdGEpIHsKICAgICAgdGhpcy5jb250ZW50ID0gZGF0YTsKICAgIH0sCiAgICAvL+eUqOaIt+agh+etvuWIl+ihqAogICAgbGFiZWxMaXN0QXBpKCkgewogICAgICBsYWJlbExpc3RBcGkoKS50aGVuKChyZXMpID0+IHsKICAgICAgICB0aGlzLnVzZXJMYWJlbExpc3QgPSByZXMuZGF0YS5saXN0OwogICAgICB9KTsKICAgIH0sCiAgICAvL+eUqOaIt+etiee6p+WIl+ihqAogICAgbGV2ZWxMaXN0QXBpKCkgewogICAgICBsZXZlbExpc3RBcGkoKS50aGVuKChyZXMpID0+IHsKICAgICAgICB0aGlzLnVzZXJMZXZlbExpc3RBcGkgPSByZXMuZGF0YS5saXN0OwogICAgICB9KTsKICAgIH0sCiAgICAvLyDlhbfkvZPml6XmnJ8KICAgIG9uY2hhbmdlVGltZShlKSB7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLiRzZXQodGhpcy5mb3JtVmFsaWRhdGUsICdwZXJpb2QnLCBlKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6K+m5oOFCiAgICBnZXRJbmZvKGUpIHsKICAgICAgdGhpcy5zcGluU2hvdyA9IHRydWU7CiAgICAgIGxvdHRlcnlOZXdEZXRhaWxBcGkodGhpcy5mb3JtVmFsaWRhdGUuZmFjdG9yKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09IDIwMCAmJiAhQXJyYXkuaXNBcnJheShyZXMuZGF0YSkpIHsKICAgICAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUgPSByZXMuZGF0YTsKICAgICAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUudXNlcl9sZXZlbCA9IHJlcy5kYXRhLnVzZXJfbGV2ZWwgfHwgW107CiAgICAgICAgICAgIHRoaXMuc2VsZWN0RGF0YUxhYmVsID0gcmVzLmRhdGEudXNlcl9sYWJlbCB8fCBbXTsKICAgICAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuaXNfc3ZpcCA9IHJlcy5kYXRhLmlzX3N2aXA7CiAgICAgICAgICAgIHRoaXMuY29udGVudCA9IHJlcy5kYXRhLmlzX2NvbnRlbnQgPyByZXMuZGF0YS5jb250ZW50IDogJyc7CiAgICAgICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmZhY3RvciA9IHJlcy5kYXRhLmZhY3Rvci50b1N0cmluZygpOwogICAgICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5wZXJpb2QgPSBbCiAgICAgICAgICAgICAgdGhpcy5mb3JtYXREYXRlKHJlcy5kYXRhLnN0YXJ0X3RpbWUpIHx8ICcnLAogICAgICAgICAgICAgIHRoaXMuZm9ybWF0RGF0ZShyZXMuZGF0YS5lbmRfdGltZSkgfHwgJycsCiAgICAgICAgICAgIF07CgogICAgICAgICAgICB0aGlzLnNwZWNzRGF0YSA9IHJlcy5kYXRhLnByaXplOwogICAgICAgICAgICB0aGlzLmdldFByb2JhYmlsaXR5KCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmZvcm1WYWxpZGF0ZSA9IHsKICAgICAgICAgICAgICBpbWFnZXM6IFtdLAogICAgICAgICAgICAgIG5hbWU6ICcnLCAvL+a0u+WKqOWQjeensAogICAgICAgICAgICAgIGRlc2M6ICcnLCAvL+a0u+WKqOaPj+i/sAogICAgICAgICAgICAgIGltYWdlOiAnJywgLy/mtLvliqjog4zmma/lm74KICAgICAgICAgICAgICBmYWN0b3I6IGUudG9TdHJpbmcoKSwgLy/mir3lpZbnsbvlnovvvJoxOuenr+WIhiAyOuS9meminSAz77ya5LiL5Y2V5pSv5LuY5oiQ5YqfIDQ66K6i5Y2V6K+E5Lu3Jyw1OuWFs+azqAogICAgICAgICAgICAgIGZhY3Rvcl9udW06IDEsIC8v6I635Y+W5LiA5qyh5oq95aWW55qE5p2h5Lu25pWw6YePCiAgICAgICAgICAgICAgYXR0ZW5kc191c2VyOiAxLCAvL+WPguS4jueUqOaItzHvvJrmiYDmnIkgIDLvvJrpg6jliIYKICAgICAgICAgICAgICB1c2VyX2xldmVsOiBbXSwgLy/lj4LkuI7nlKjmiLfnrYnnuqcKICAgICAgICAgICAgICB1c2VyX2xhYmVsOiBbXSwgLy/lj4LkuI7nlKjmiLfmoIfnrb4KICAgICAgICAgICAgICBpc19zdmlwOiAnLTEnLCAvL+WPguS4jueUqOaIt+aYr+WQpuS7mOi0ueS8muWRmAogICAgICAgICAgICAgIHByaXplX251bTogMCwgLy/lpZblk4HmlbDph48KICAgICAgICAgICAgICBwZXJpb2Q6IFtdLCAvL+a0u+WKqOaXtumXtAogICAgICAgICAgICAgIHByaXplOiBbXSwgLy/lpZblk4HmlbDnu4QKICAgICAgICAgICAgICBsb3R0ZXJ5X251bV90ZXJtOiAxLCAvL+aKveWlluasoeaVsOmZkOWItu+8mjHvvJrmr4/lpKky77ya5q+P5Lq6CiAgICAgICAgICAgICAgbG90dGVyeV9udW06IDEsIC8v5oq95aWW5qyh5pWwCiAgICAgICAgICAgICAgc3ByZWFkX251bTogMSwgLy/lhbPms6jmjqjlub/ojrflj5bmir3lpZbmrKHmlbAKICAgICAgICAgICAgICBpc19hbGxfcmVjb3JkOiAwLCAvL+S4reWllue6quW9leWxleekugogICAgICAgICAgICAgIGlzX3BlcnNvbmFsX3JlY29yZDogMCwgLy/kuKrkurrkuK3lpZbnuqrlvZXlsZXnpLoKICAgICAgICAgICAgICBpc19jb250ZW50OiAwLCAvL+a0u+WKqOinhOagvOaYr+WQpuWxleekugogICAgICAgICAgICAgIGNvbnRlbnQ6ICcnLCAvL+WvjOaWh+acrOWGheWuuQogICAgICAgICAgICAgIHN0YXR1czogMCwgLy/nirbmgIEKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdGhpcy5zcGVjc0RhdGEgPSBbCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdHlwZTogMSwgLy/nsbvlnosgMe+8muacquS4reWlliAy77ya56ev5YiGICAzOuS9meminSAgNO+8mue6ouWMhSA1OuS8mOaDoOWIuCA277ya56uZ5YaF5ZWG5ZOBCiAgICAgICAgICAgICAgICBuYW1lOiAnJywgLy/mtLvliqjlkI3np7AKICAgICAgICAgICAgICAgIG51bTogMTAsIC8v5aWW5ZOB5pWw6YePCiAgICAgICAgICAgICAgICBpbWFnZTogJycsIC8v5aWW5ZOB5Zu+54mHCiAgICAgICAgICAgICAgICBjaGFuY2U6IDAsIC8v5Lit5aWW5p2D6YeNCiAgICAgICAgICAgICAgICB0b3RhbDogMCwgLy/lpZblk4HmlbDph48KICAgICAgICAgICAgICAgIHByb21wdDogJycsIC8v5o+Q56S66K+tCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0eXBlOiAxLCAvL+exu+WeiyAx77ya5pyq5Lit5aWWMu+8muenr+WIhiAgMzrkvZnpop0gIDTvvJrnuqLljIUgNTrkvJjmg6DliLggNu+8muermeWGheWVhuWTgQogICAgICAgICAgICAgICAgbmFtZTogJycsIC8v5rS75Yqo5ZCN56ewCiAgICAgICAgICAgICAgICBudW06IDAsIC8v5aWW5ZOB5pWw6YePCiAgICAgICAgICAgICAgICBpbWFnZTogJycsIC8v5aWW5ZOB5Zu+54mHCiAgICAgICAgICAgICAgICBjaGFuY2U6IDAsIC8v5Lit5aWW5p2D6YeNCiAgICAgICAgICAgICAgICB0b3RhbDogMCwgLy/lpZblk4HmlbDph48KICAgICAgICAgICAgICAgIHByb21wdDogJycsIC8v5o+Q56S66K+tCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0eXBlOiAxLCAvL+exu+WeiyAx77ya5pyq5Lit5aWWMu+8muenr+WIhiAgMzrkvZnpop0gIDTvvJrnuqLljIUgNTrkvJjmg6DliLggNu+8muermeWGheWVhuWTgQogICAgICAgICAgICAgICAgbmFtZTogJycsIC8v5rS75Yqo5ZCN56ewCiAgICAgICAgICAgICAgICBudW06IDAsIC8v5aWW5ZOB5pWw6YePCiAgICAgICAgICAgICAgICBpbWFnZTogJycsIC8v5aWW5ZOB5Zu+54mHCiAgICAgICAgICAgICAgICBjaGFuY2U6IDAsIC8v5Lit5aWW5p2D6YeNCiAgICAgICAgICAgICAgICB0b3RhbDogMCwgLy/lpZblk4HmlbDph48KICAgICAgICAgICAgICAgIHByb21wdDogJycsIC8v5o+Q56S66K+tCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0eXBlOiAxLCAvL+exu+WeiyAx77ya5pyq5Lit5aWWMu+8muenr+WIhiAgMzrkvZnpop0gIDTvvJrnuqLljIUgNTrkvJjmg6DliLggNu+8muermeWGheWVhuWTgQogICAgICAgICAgICAgICAgbmFtZTogJycsIC8v5rS75Yqo5ZCN56ewCiAgICAgICAgICAgICAgICBudW06IDAsIC8v5aWW5ZOB5pWw6YePCiAgICAgICAgICAgICAgICBpbWFnZTogJycsIC8v5aWW5ZOB5Zu+54mHCiAgICAgICAgICAgICAgICBjaGFuY2U6IDAsIC8v5Lit5aWW5p2D6YeNCiAgICAgICAgICAgICAgICB0b3RhbDogMCwgLy/lpZblk4HmlbDph48KICAgICAgICAgICAgICAgIHByb21wdDogJycsIC8v5o+Q56S66K+tCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0eXBlOiAxLCAvL+exu+WeiyAx77ya5pyq5Lit5aWWMu+8muenr+WIhiAgMzrkvZnpop0gIDTvvJrnuqLljIUgNTrkvJjmg6DliLggNu+8muermeWGheWVhuWTgQogICAgICAgICAgICAgICAgbmFtZTogJycsIC8v5rS75Yqo5ZCN56ewCiAgICAgICAgICAgICAgICBudW06IDAsIC8v5aWW5ZOB5pWw6YePCiAgICAgICAgICAgICAgICBpbWFnZTogJycsIC8v5aWW5ZOB5Zu+54mHCiAgICAgICAgICAgICAgICBjaGFuY2U6IDAsIC8v5Lit5aWW5p2D6YeNCiAgICAgICAgICAgICAgICB0b3RhbDogMCwgLy/lpZblk4HmlbDph48KICAgICAgICAgICAgICAgIHByb21wdDogJycsIC8v5o+Q56S66K+tCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0eXBlOiAxLCAvL+exu+WeiyAx77ya5pyq5Lit5aWWMu+8muenr+WIhiAgMzrkvZnpop0gIDTvvJrnuqLljIUgNTrkvJjmg6DliLggNu+8muermeWGheWVhuWTgQogICAgICAgICAgICAgICAgbmFtZTogJycsIC8v5rS75Yqo5ZCN56ewCiAgICAgICAgICAgICAgICBudW06IDAsIC8v5aWW5ZOB5pWw6YePCiAgICAgICAgICAgICAgICBpbWFnZTogJycsIC8v5aWW5ZOB5Zu+54mHCiAgICAgICAgICAgICAgICBjaGFuY2U6IDAsIC8v5Lit5aWW5p2D6YeNCiAgICAgICAgICAgICAgICB0b3RhbDogMCwgLy/lpZblk4HmlbDph48KICAgICAgICAgICAgICAgIHByb21wdDogJycsIC8v5o+Q56S66K+tCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0eXBlOiAxLCAvL+exu+WeiyAx77ya5pyq5Lit5aWWMu+8muenr+WIhiAgMzrkvZnpop0gIDTvvJrnuqLljIUgNTrkvJjmg6DliLggNu+8muermeWGheWVhuWTgQogICAgICAgICAgICAgICAgbmFtZTogJycsIC8v5rS75Yqo5ZCN56ewCiAgICAgICAgICAgICAgICBudW06IDAsIC8v5aWW5ZOB5pWw6YePCiAgICAgICAgICAgICAgICBpbWFnZTogJycsIC8v5aWW5ZOB5Zu+54mHCiAgICAgICAgICAgICAgICBjaGFuY2U6IDAsIC8v5Lit5aWW5p2D6YeNCiAgICAgICAgICAgICAgICB0b3RhbDogMCwgLy/lpZblk4HmlbDph48KICAgICAgICAgICAgICAgIHByb21wdDogJycsIC8v5o+Q56S66K+tCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0eXBlOiAxLCAvL+exu+WeiyAx77ya5pyq5Lit5aWWMu+8muenr+WIhiAgMzrkvZnpop0gIDTvvJrnuqLljIUgNTrkvJjmg6DliLggNu+8muermeWGheWVhuWTgQogICAgICAgICAgICAgICAgbmFtZTogJycsIC8v5rS75Yqo5ZCN56ewCiAgICAgICAgICAgICAgICBudW06IDAsIC8v5aWW5ZOB5pWw6YePCiAgICAgICAgICAgICAgICBpbWFnZTogJycsIC8v5aWW5ZOB5Zu+54mHCiAgICAgICAgICAgICAgICBjaGFuY2U6IDAsIC8v5Lit5aWW5p2D6YeNCiAgICAgICAgICAgICAgICB0b3RhbDogMCwgLy/lpZblk4HmlbDph48KICAgICAgICAgICAgICAgIHByb21wdDogJycsIC8v5o+Q56S66K+tCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgXTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7fSk7CiAgICAgIHRoaXMuc3BpblNob3cgPSBmYWxzZTsKICAgIH0sCiAgICAvLyDkuIvkuIDmraUKICAgIG5leHQobmFtZSkgewogICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5wcml6ZSA9IHRoaXMuc3BlY3NEYXRhOwogICAgICBpZiAodGhpcy5mb3JtVmFsaWRhdGUuaXNfY29udGVudCkgewogICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmNvbnRlbnQgPSBmb3JtYXRSaWNoVGV4dCh0aGlzLmNvbnRlbnQpOwogICAgICB9CiAgICAgIGlmICh0aGlzLmZvcm1WYWxpZGF0ZS5hdHRlbmRzX3VzZXIgPT0gMikgewogICAgICAgIGlmICh0aGlzLnNlbGVjdERhdGFMYWJlbC5sZW5ndGgpIHsKICAgICAgICAgIGxldCBhY3RpdmVJZHMgPSBbXTsKICAgICAgICAgIHRoaXMuc2VsZWN0RGF0YUxhYmVsLmZvckVhY2goKGl0ZW0pID0+IHsKICAgICAgICAgICAgYWN0aXZlSWRzLnB1c2goaXRlbS5pZCk7CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLnVzZXJfbGFiZWwgPSBhY3RpdmVJZHM7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICh0aGlzLnN1Ym1pdE9wZW4pIHJldHVybiBmYWxzZTsKICAgICAgdGhpcy4kcmVmc1tuYW1lXS52YWxpZGF0ZSgodmFsaWQpID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIHRoaXMuc3VibWl0T3BlbiA9IHRydWU7CiAgICAgICAgICBpZiAodGhpcy5mb3JtVmFsaWRhdGUuaWQgJiYgIXRoaXMuY29weSkgewogICAgICAgICAgICBsb3R0ZXJ5RWRpdEFwaSh0aGlzLmZvcm1WYWxpZGF0ZS5pZCwgdGhpcy5mb3JtVmFsaWRhdGUpCiAgICAgICAgICAgICAgLnRoZW4oYXN5bmMgKHJlcykgPT4gewogICAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgICAgICAgICAgdGhpcy5zdWJtaXRPcGVuID0gZmFsc2U7CiAgICAgICAgICAgICAgICAvLyBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIC8vICAgdGhpcy5zdWJtaXRPcGVuID0gZmFsc2U7CiAgICAgICAgICAgICAgICAvLyAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgIC8vICAgICBwYXRoOiAiL2FkbWluL21hcmtldGluZy9sb3R0ZXJ5L3JlY29yZGluZ19saXN0IiwKICAgICAgICAgICAgICAgIC8vICAgfSk7CiAgICAgICAgICAgICAgICAvLyB9LCA1MDApOwogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuc3VibWl0T3BlbiA9IGZhbHNlOwogICAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGxvdHRlcnlDcmVhdGVBcGkodGhpcy5mb3JtVmFsaWRhdGUpCiAgICAgICAgICAgICAgLnRoZW4oYXN5bmMgKHJlcykgPT4gewogICAgICAgICAgICAgICAgdGhpcy5zdWJtaXRPcGVuID0gZmFsc2U7CiAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICAgICAgICAvLyBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIC8vICAgdGhpcy5zdWJtaXRPcGVuID0gZmFsc2U7CiAgICAgICAgICAgICAgICAvLyAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgIC8vICAgICBwYXRoOiAiL2FkbWluL21hcmtldGluZy9sb3R0ZXJ5L3JlY29yZGluZ19saXN0IiwKICAgICAgICAgICAgICAgIC8vICAgfSk7CiAgICAgICAgICAgICAgICAvLyB9LCA1MDApOwogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgLmNhdGNoKChyZXMpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuc3VibWl0T3BlbiA9IGZhbHNlOwogICAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5LiK5LiA5q2lCiAgICBzdGVwKCkgewogICAgICB0aGlzLmN1cnJlbnQtLTsKICAgIH0sCiAgICAvLyDngrnlh7vllYblk4Hlm74KICAgIG1vZGFsUGljVGFwKHRpdCwgcGljVGl0LCBpbmRleCkgewogICAgICB0aGlzLm1vZGFsUGljID0gdHJ1ZTsKICAgICAgdGhpcy5pc0Nob2ljZSA9IHRpdCA9PT0gJ2RhbicgPyAn5Y2V6YCJJyA6ICflpJrpgIknOwogICAgICB0aGlzLnBpY1RpdCA9IHBpY1RpdCB8fCAnJzsKICAgICAgdGhpcy50YWJsZUluZGV4ID0gaW5kZXg7CiAgICB9LAogICAgLy8g6I635Y+W5Y2V5byg5Zu+54mH5L+h5oGvCiAgICBnZXRQaWMocGMpIHsKICAgICAgc3dpdGNoICh0aGlzLnBpY1RpdCkgewogICAgICAgIGNhc2UgJ2RhbkZyb20nOgogICAgICAgICAgdGhpcy5mb3JtVmFsaWRhdGUuaW1hZ2UgPSBwYy5hdHRfZGlyOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHRoaXMuc3BlY3NEYXRhW3RoaXMudGFibGVJbmRleF0uaW1hZ2UgPSBwYy5hdHRfZGlyOwogICAgICB9CiAgICAgIHRoaXMubW9kYWxQaWMgPSBmYWxzZTsKICAgIH0sCiAgICBoYW5kbGVSZW1vdmUoKSB7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLmltYWdlID0gJyc7CiAgICB9LAogICAgLy8g6KGo5Y2V6aqM6K+BCiAgICB2YWxpZGF0ZShwcm9wLCBzdGF0dXMsIGVycm9yKSB7CiAgICAgIGlmIChzdGF0dXMgPT09IGZhbHNlKSB7CiAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcihlcnJvcik7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICB9LAogICAgLy/mlrDlop7llYblk4EKICAgIGFkZEdvb2RzKCkgewogICAgICB0aGlzLmFkZEdvb2RzTW9kZWwgPSB0cnVlOwogICAgICB0aGlzLnRpdGxlID0gJ+a3u+WKoOWVhuWTgSc7CiAgICAgIHRoaXMuZWRpdERhdGEgPSB7fTsKICAgIH0sCiAgICAvL+e8lui+keWVhuWTgQogICAgZWRpdEdvb2RzKGluZGV4KSB7CiAgICAgIHRoaXMuYWRkR29vZHNNb2RlbCA9IHRydWU7CiAgICAgIHRoaXMudGl0bGUgPSAn5re75Yqg5aWW5ZOBJzsKICAgICAgdGhpcy5lZGl0RGF0YSA9IHRoaXMuc3BlY3NEYXRhW2luZGV4XTsKICAgICAgdGhpcy5lZGl0SW5kZXggPSBpbmRleDsKICAgIH0sCiAgICAvL+WIoOmZpOWVhuWTgQogICAgZGVsZXRlR29vZHMoaW5kZXgpIHsKICAgICAgdGhpcy5zcGVjc0RhdGEuc3BsaWNlKGluZGV4LCAxKTsKICAgIH0sCiAgICAvL+iOt+WPluaVsOe7hOS4reafkOS4quWtl+auteS5i+WSjAogICAgc3VtQXJyKGFyciwgbmFtZSkgewogICAgICBsZXQgYXJyRGF0YSA9IFtdOwogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgewogICAgICAgIGFyckRhdGEucHVzaChhcnJbaV1bbmFtZV0pOwogICAgICB9CiAgICAgIHJldHVybiBldmFsKGFyckRhdGEuam9pbignKycpKTsKICAgIH0sCiAgICBhZGRHb29kc0RhdGEoZGF0YSkgewogICAgICB0aGlzLmVkaXRJbmRleCAhPSBudWxsCiAgICAgICAgPyB0aGlzLiRzZXQodGhpcy5zcGVjc0RhdGEsIFt0aGlzLmVkaXRJbmRleF0sIGRhdGEpCiAgICAgICAgOiB0aGlzLnNwZWNzRGF0YS5sZW5ndGggPCA4CiAgICAgICAgPyB0aGlzLnNwZWNzRGF0YS5wdXNoKGRhdGEpCiAgICAgICAgOiB0aGlzLiRNZXNzYWdlLndhcm5pbmcoJ+acgOWkmua3u+WKoDjkuKrlpZblk4EnKTsKICAgICAgdGhpcy5nZXRQcm9iYWJpbGl0eSgpOwogICAgICB0aGlzLmFkZEdvb2RzTW9kZWwgPSBmYWxzZTsKICAgICAgdGhpcy5lZGl0SW5kZXggPSBudWxsOwogICAgfSwKICAgIGNoYW5nZUNoYW5jZShkYXRhLCBpbmRleCkgewogICAgICB0aGlzLiRzZXQodGhpcy5zcGVjc0RhdGFbaW5kZXhdLCAnY2hhbmNlJywgZGF0YSk7CiAgICAgIHRoaXMuJG5leHRUaWNrKChlKSA9PiB7CiAgICAgICAgdGhpcy5nZXRQcm9iYWJpbGl0eSgpOwogICAgICB9KTsKICAgIH0sCiAgICBjaGFuZ2VUb3RhbChkYXRhLCBpbmRleCkgewogICAgICB0aGlzLiRzZXQodGhpcy5zcGVjc0RhdGFbaW5kZXhdLCAndG90YWwnLCBkYXRhKTsKICAgIH0sCiAgICAvL+iOt+WPluWVhuWTgeS4reWlluamgueOhwogICAgZ2V0UHJvYmFiaWxpdHkoKSB7CiAgICAgIGxldCBzdW0gPSAwOwogICAgICBzdW0gPSB0aGlzLnN1bUFycih0aGlzLnNwZWNzRGF0YSwgJ2NoYW5jZScpOwogICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuc3BlY3NEYXRhLmxlbmd0aDsgaisrKSB7CiAgICAgICAgaWYgKHN1bSA9PSAwKSB7CiAgICAgICAgICB0aGlzLiRzZXQodGhpcy5zcGVjc0RhdGFbal0sICdwcm9iYWJpbGl0eScsICcwJScpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRzZXQodGhpcy5zcGVjc0RhdGFbal0sICdwcm9iYWJpbGl0eScsICgodGhpcy5zcGVjc0RhdGFbal0uY2hhbmNlIC8gc3VtKSAqIDEwMCkudG9GaXhlZCgyKSArICclJyk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLy/kv67mlLnmjpLluo8KICAgIG9uRHJhZ0Ryb3AoYSwgYikgewogICAgICB0aGlzLnNwZWNzRGF0YS5zcGxpY2UoYiwgMSwgLi4udGhpcy5zcGVjc0RhdGEuc3BsaWNlKGEsIDEsIHRoaXMuc3BlY3NEYXRhW2JdKSk7CiAgICB9LAogICAgLy/ml7bpl7TmoLzlvI/ovazmjaIKICAgIGZvcm1hdERhdGUodGltZSkgewogICAgICBpZiAodGltZSkgewogICAgICAgIGxldCBkYXRlID0gbmV3IERhdGUodGltZSAqIDEwMDApOwogICAgICAgIHJldHVybiBmb3JtYXREYXRlKGRhdGUsICd5eXl5LU1NLWRkIGhoOm1tJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["create.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"create.vue","sourceRoot":"src/pages/marketing/lottery","sourcesContent":["<template>\n  <div>\n    <Card :bordered=\"false\" dis-hover class=\"ivu-mt\">\n      <div>\n        <Tabs v-model=\"formValidate.factor\" @on-click=\"onClickTab\">\n          <TabPane v-for=\"(item, index) in tabs\" :label=\"item.name\" :name=\"item.type\" :key=\"index\" />\n        </Tabs>\n      </div>\n      <Row type=\"flex\" class=\"mt10 acea-row row-middle row-center\">\n        <Col span=\"23\">\n          <Form\n            class=\"form mt30\"\n            ref=\"formValidate\"\n            :rules=\"ruleValidate\"\n            :model=\"formValidate\"\n            @on-validate=\"validate\"\n            :label-width=\"labelWidth\"\n            :label-position=\"labelPosition\"\n            @submit.native.prevent\n          >\n            <Row type=\"flex\">\n              <Col span=\"24\">\n                <FormItem label=\"活动名称：\" prop=\"name\" label-for=\"name\">\n                  <Input class=\"perW30\" placeholder=\"请输入活动名称\" element-id=\"name\" v-model=\"formValidate.name\" />\n                </FormItem>\n              </Col>\n              <Col span=\"24\">\n                <FormItem label=\"活动时间：\">\n                  <div class=\"acea-row row-middle\">\n                    <DatePicker\n                      :editable=\"false\"\n                      type=\"datetimerange\"\n                      format=\"yyyy-MM-dd HH:mm\"\n                      placeholder=\"请选择活动时间\"\n                      @on-change=\"onchangeTime\"\n                      class=\"perW30\"\n                      v-model=\"formValidate.period\"\n                    ></DatePicker>\n                  </div>\n                </FormItem>\n              </Col>\n              <Col span=\"24\">\n                <FormItem label=\"参与用户：\" prop=\"attends_user\" label-for=\"attends_user\">\n                  <RadioGroup element-id=\"attends_user\" v-model=\"formValidate.attends_user\" @on-change=\"changeUsers\">\n                    <Radio :label=\"1\" class=\"radio\">全部用户</Radio>\n                    <Radio :label=\"2\">部分用户</Radio>\n                  </RadioGroup>\n                </FormItem>\n              </Col>\n              <Col span=\"24\" v-if=\"formValidate.attends_user == 2\">\n                <FormItem label=\"\" :prop=\"formValidate.attends_user == 2 ? 'user_level' : ''\">\n                  <div class=\"acea-row row-middle\">\n                    <Select multiple v-model=\"formValidate.user_level\" class=\"perW30\" placeholder=\"请选择用户等级\">\n                      <Option v-for=\"item in userLevelListApi\" :value=\"item.id\" :key=\"item.id\">{{ item.name }}</Option>\n                    </Select>\n                  </div>\n                </FormItem>\n              </Col>\n              <Col span=\"24\" v-if=\"formValidate.attends_user == 2\">\n                <FormItem label=\"\" :prop=\"formValidate.attends_user == 2 ? 'is_svip' : ''\">\n                  <div class=\"acea-row row-middle\">\n                    <Select v-model=\"formValidate.is_svip\" class=\"perW30\" clearable placeholder=\"请选择是否是付费会员\">\n                      <Option v-for=\"item in templateList\" :value=\"item.id\" :key=\"item.id\">{{ item.name }}</Option>\n                    </Select>\n                  </div>\n                </FormItem>\n              </Col>\n              <Col span=\"24\" v-if=\"formValidate.attends_user == 2\">\n                <FormItem label=\"\" :prop=\"formValidate.attends_user == 2 ? 'user_label' : ''\">\n                  <div class=\"acea-row row-middle\">\n                    <!-- <Select\n                      multiple\n                      v-model=\"formValidate.user_label\"\n                      class=\"perW30\"\n                      placeholder=\"请选择用户标签\"\n                    >\n                      <Option\n                        v-for=\"item in userLabelList\"\n                        :value=\"String(item.id)\"\n                        :key=\"item.id\"\n                        >{{ item.label_name }}</Option\n                      >\n                    </Select> -->\n                    <div class=\"labelInput acea-row row-between-wrapper\" @click=\"selectLabelShow = true\">\n                      <div class=\"\">\n                        <div v-if=\"selectDataLabel.length\">\n                          <Tag\n                            :closable=\"false\"\n                            v-for=\"(item, index) in selectDataLabel\"\n                            @on-close=\"closeLabel(item)\"\n                            :key=\"index\"\n                            >{{ item.label_name }}</Tag\n                          >\n                        </div>\n                        <span class=\"span\" v-else>选择用户标签</span>\n                      </div>\n                      <div class=\"ivu-icon ivu-icon-ios-arrow-down\"></div>\n                    </div>\n                  </div>\n                  <div class=\"ml100 grey\">三个条件都设置后,必须这些条件都满足的用户才能参加抽奖</div>\n                </FormItem>\n              </Col>\n              <Col span=\"24\" v-if=\"formValidate.factor == 5\">\n                <FormItem\n                  label=\"抽奖次数：\"\n                  :prop=\"formValidate.factor == 5 ? 'lottery_num_term' : ''\"\n                  label-for=\"status\"\n                >\n                  <RadioGroup element-id=\"lottery_num_term\" v-model=\"formValidate.lottery_num_term\">\n                    <Radio :label=\"1\" class=\"radio\">每天N次</Radio>\n                    <Radio :label=\"2\">每人N次</Radio>\n                  </RadioGroup>\n                </FormItem>\n              </Col>\n              <Col span=\"24\" v-if=\"formValidate.factor == 5\">\n                <FormItem\n                  label=\"邀请新用户最多可获得抽奖\"\n                  :prop=\"formValidate.factor == 5 ? 'lottery_num' : ''\"\n                  label-for=\"lottery_num\"\n                >\n                  <div class=\"acea-row row-middle\">\n                    <div class=\"mr10 grey\"></div>\n                    <InputNumber\n                      placeholder=\"\"\n                      element-id=\"lottery_num\"\n                      :min=\"1\"\n                      :precision=\"0\"\n                      v-model=\"formValidate.lottery_num\"\n                      class=\"perW20\"\n                    />\n                    <div class=\"ml10 grey\">次</div>\n                  </div>\n                </FormItem>\n              </Col>\n              <Col span=\"24\" v-if=\"formValidate.factor == 5\">\n                <FormItem\n                  label=\"邀请一位新用户关注公众号可获得抽奖\"\n                  :prop=\"formValidate.factor == 5 ? 'spread_num' : ''\"\n                  label-for=\"spread_num\"\n                >\n                  <div class=\"acea-row row-middle\">\n                    <div class=\"mr10 grey\"></div>\n                    <InputNumber\n                      placeholder=\"\"\n                      element-id=\"spread_num\"\n                      :min=\"1\"\n                      :precision=\"0\"\n                      v-model=\"formValidate.spread_num\"\n                      class=\"perW20\"\n                    />\n                    <div class=\"ml10 grey\">次</div>\n                  </div>\n                </FormItem>\n              </Col>\n              <Col span=\"24\" v-if=\"formValidate.factor == 1 || formValidate.factor == 3 || formValidate.factor == 4\">\n                <FormItem\n                  :label=\"formValidate.factor == 1 ? '抽奖消耗积分：' : '抽奖次数：'\"\n                  :prop=\"\n                    formValidate.factor == 1 || formValidate.factor == 3 || formValidate.factor == 4 ? 'factor_num' : ''\n                  \"\n                  label-for=\"factor_num\"\n                >\n                  <div class=\"acea-row row-middle\">\n                    <div class=\"mr10 grey\"></div>\n                    <InputNumber\n                      placeholder=\"\"\n                      element-id=\"factor_num\"\n                      :min=\"1\"\n                      :precision=\"0\"\n                      v-model=\"formValidate.factor_num\"\n                      class=\"perW20\"\n                    />\n                    <div class=\"ml10 grey\" v-if=\"formValidate.factor !== 1\">次</div>\n                  </div>\n                </FormItem>\n              </Col>\n            </Row>\n            <Row>\n              <Col span=\"24\">\n                <FormItem label=\"规格选择：\" prop=\"prize\">\n                  <Table :data=\"specsData\" :columns=\"columns\" border :draggable=\"true\" @on-drag-drop=\"onDragDrop\">\n                    <template slot-scope=\"{ row, index }\" slot=\"image\">\n                      <div class=\"acea-row row-middle row-center-wrapper\" @click=\"modalPicTap('dan', 'goods', index)\">\n                        <div class=\"pictrue pictrueTab\" v-if=\"row.image\">\n                          <img v-lazy=\"row.image\" />\n                        </div>\n                        <div class=\"upLoad pictrueTab acea-row row-center-wrapper\" v-else>\n                          <Icon type=\"ios-camera-outline\" size=\"21\" class=\"iconfonts\" />\n                        </div>\n                      </div>\n                    </template>\n                    <template slot-scope=\"{ row, index }\" slot=\"total\">\n                      <InputNumber\n                        v-model=\"row.total\"\n                        :max=\"99999\"\n                        :min=\"0\"\n                        :precision=\"0\"\n                        class=\"priceBox\"\n                        @on-change=\"\n                          (data) => {\n                            changeTotal(data, index);\n                          }\n                        \"\n                      ></InputNumber>\n                    </template>\n                    <template slot-scope=\"{ row, index }\" slot=\"chance\">\n                      <InputNumber\n                        v-model=\"row.chance\"\n                        :max=\"100\"\n                        :min=\"0\"\n                        :precision=\"0\"\n                        class=\"priceBox\"\n                        @on-change=\"\n                          (data) => {\n                            changeChance(data, index);\n                          }\n                        \"\n                      ></InputNumber>\n                    </template>\n                    <template slot-scope=\"{ row, index }\" slot=\"type\">\n                      <div>{{ row.type | typeName }}</div>\n                    </template>\n                    <template slot-scope=\"{ row, index }\" slot=\"setting\">\n                      <Button class=\"submission mr15\" @click=\"editGoods(index)\">编辑</Button>\n                      <!-- <Button\n                        v-if=\"row.type !== 1\"\n                        class=\"submission mr15\"\n                        @click=\"deleteGoods(index)\"\n                        >删除</Button\n                      > -->\n                    </template>\n                  </Table>\n                  <Button v-if=\"specsData.length < 8\" type=\"primary\" class=\"submission mr15 mt20\" @click=\"addGoods\"\n                    >添加商品</Button\n                  >\n                </FormItem>\n                <FormItem>\n                  <div class=\"pl60 grey\">\n                    奖品必须设置为8个，列表中拖拽可调整奖品在九宫中的位置\n                    <Poptip placement=\"bottom\" width=\"380\">\n                      <a>查看位置示例图</a>\n                      <div class=\"api\" slot=\"content\">\n                        <img src=\"../../../assets/images/lotteryTest.png\" alt=\"\" />\n                      </div>\n                    </Poptip>\n                  </div>\n                </FormItem>\n              </Col>\n            </Row>\n            <div>\n              <FormItem\n                v-if=\"formValidate.factor != 3 && formValidate.factor != 4\"\n                :prop=\"formValidate.factor != 3 && formValidate.factor != 4 ? 'image' : ''\"\n              >\n                <div class=\"custom-label\" slot=\"label\">\n                  <div>\n                    <div>活动背景图</div>\n                    <div>(750*750)</div>\n                  </div>\n                  <div>：</div>\n                </div>\n                <div class=\"acea-row\">\n                  <div class=\"pictrue\" v-if=\"formValidate.image\">\n                    <img v-lazy=\"formValidate.image\" />\n                    <Button shape=\"circle\" icon=\"md-close\" @click.native=\"handleRemove()\" class=\"btndel\"></Button>\n                  </div>\n                  <div v-else class=\"upLoad acea-row row-center-wrapper\" @click=\"modalPicTap('dan', 'danFrom')\">\n                    <Icon type=\"ios-camera-outline\" size=\"26\" class=\"iconfonts\" />\n                  </div>\n                </div>\n              </FormItem>\n              <FormItem\n                v-if=\"formValidate.factor != 3 && formValidate.factor != 4\"\n                label=\"中奖名单：\"\n                :prop=\"formValidate.factor != 3 && formValidate.factor != 4 ? 'is_all_record' : ''\"\n                label-for=\"is_all_record\"\n              >\n                <RadioGroup element-id=\"is_all_record\" v-model=\"formValidate.is_all_record\">\n                  <Radio :label=\"0\">关闭</Radio>\n                  <Radio :label=\"1\" class=\"radio\">开启</Radio>\n                </RadioGroup>\n              </FormItem>\n              <FormItem\n                v-if=\"formValidate.factor != 3 && formValidate.factor != 4\"\n                label=\"个人中奖记录：\"\n                :prop=\"formValidate.factor != 3 && formValidate.factor != 4 ? 'is_personal_record' : ''\"\n                label-for=\"is_personal_record\"\n              >\n                <RadioGroup element-id=\"is_personal_record\" v-model=\"formValidate.is_personal_record\">\n                  <Radio :label=\"0\">关闭</Radio>\n                  <Radio :label=\"1\" class=\"radio\">开启</Radio>\n                </RadioGroup>\n              </FormItem>\n              <FormItem\n                v-if=\"formValidate.factor != 3 && formValidate.factor != 4\"\n                label=\"活动规则：\"\n                prop=\"is_content\"\n                label-for=\"is_content\"\n              >\n                <RadioGroup element-id=\"is_content\" v-model=\"formValidate.is_content\">\n                  <Radio :label=\"0\">关闭</Radio>\n                  <Radio :label=\"1\" class=\"radio\">开启</Radio>\n                </RadioGroup>\n              </FormItem>\n              <FormItem\n                label=\"\"\n                :prop=\"\n                  formValidate.factor != 3 && formValidate.factor != 4 && formValidate.is_content == 1 ? 'content' : ''\n                \"\n                v-show=\"formValidate.factor != 3 && formValidate.factor != 4 && formValidate.is_content == 1\"\n              >\n                <WangEditor\n                  style=\"width: 90%\"\n                  :content=\"formValidate.content\"\n                  @editorContent=\"getEditorContent\"\n                ></WangEditor>\n              </FormItem>\n              <FormItem label=\"活动状态：\" prop=\"status\" label-for=\"status\">\n                <RadioGroup element-id=\"status\" v-model=\"formValidate.status\">\n                  <Radio :label=\"0\">关闭</Radio>\n                  <Radio :label=\"1\" class=\"radio\">开启</Radio>\n                </RadioGroup>\n              </FormItem>\n            </div>\n            <FormItem>\n              <Button type=\"primary\" class=\"submission\" :loading=\"submitOpen\" @click=\"next('formValidate')\">\n                <div v-if=\"!submitOpen\">提交</div>\n                <div v-else>提交中</div>\n              </Button>\n            </FormItem>\n            <Spin size=\"large\" fix v-if=\"spinShow\"></Spin>\n          </Form>\n        </Col>\n      </Row>\n    </Card>\n\n    <!-- 上传图片-->\n    <Modal\n      v-model=\"modalPic\"\n      width=\"950px\"\n      scrollable\n      footer-hide\n      closable\n      title=\"上传商品图\"\n      :mask-closable=\"false\"\n      :z-index=\"1\"\n    >\n      <uploadPictures :isChoice=\"isChoice\" @getPic=\"getPic\" v-if=\"modalPic\"></uploadPictures>\n    </Modal>\n    <!-- 上传图片-->\n    <Modal\n      v-model=\"addGoodsModel\"\n      width=\"60%\"\n      scrollable\n      footer-hide\n      closable\n      :title=\"title\"\n      :mask-closable=\"false\"\n      :z-index=\"1\"\n    >\n      <addGoods v-if=\"addGoodsModel\" @addGoodsData=\"addGoodsData\" :editData=\"editData\"></addGoods>\n    </Modal>\n    <!-- 用户标签 -->\n    <Modal\n      v-model=\"selectLabelShow\"\n      scrollable\n      title=\"请选择用户标签\"\n      :closable=\"false\"\n      width=\"500\"\n      :footer-hide=\"true\"\n      :mask-closable=\"false\"\n    >\n      <userLabel\n        v-if=\"selectLabelShow\"\n        :uid=\"0\"\n        ref=\"userLabel\"\n        :only_get=\"true\"\n        :selectDataLabel=\"selectDataLabel\"\n        @activeData=\"activeSelectData\"\n        @close=\"labelClose\"\n      ></userLabel>\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport goodsList from '@/components/goodsList/index';\nimport uploadPictures from '@/components/uploadPictures';\nimport userLabel from '@/components/userLabel';\nimport addGoods from './addGoods';\nimport { lotteryNewDetailApi, lotteryDetailApi, lotteryCreateApi, lotteryEditApi } from '@/api/lottery'; //详情 创建 编辑\nimport { lotteryFrom } from './formRule/lotteryFrom';\nimport { labelListApi } from '@/api/product';\nimport { levelListApi } from '@/api/user';\nimport WangEditor from '@/components/wangEditor/index.vue';\n\nimport { formatDate } from '@/utils/validate';\nimport { formatRichText } from '@/utils/editorImg';\n\nexport default {\n  name: 'lotteryCreate',\n  components: {\n    goodsList,\n    uploadPictures,\n    addGoods,\n    WangEditor,\n    userLabel,\n  },\n  data() {\n    return {\n      selectDataLabel: [],\n      selectLabelShow: false,\n      content: '',\n      tabs: [\n        {\n          name: '积分抽取',\n          type: '1',\n        },\n        {\n          name: '订单支付',\n          type: '3',\n        },\n        {\n          name: '订单评价',\n          type: '4',\n        },\n      ],\n      title: '添加商品',\n      loading: false,\n      userLabelList: [], //用户标签列表\n      userLevelListApi: [], //用户等级列表\n      submitOpen: false,\n      spinShow: false,\n      addGoodsModel: false,\n      editData: {},\n      myConfig: {\n        autoHeightEnabled: false, // 编辑器不自动被内容撑高\n        initialFrameHeight: 500, // 初始容器高度\n        initialFrameWidth: '100%', // 初始容器宽度\n        UEDITOR_HOME_URL: '/UEditor/',\n        serverUrl: '',\n      },\n      isChoice: '单选',\n      current: 0,\n      modalPic: false,\n      modal_loading: false,\n      images: [],\n      templateList: [\n        { id: 0, name: '非付费会员' },\n        { id: 1, name: '付费会员' },\n      ],\n      columns: [\n        {\n          title: '序号',\n          type: 'index',\n          width: 60,\n          align: 'center',\n        },\n        {\n          title: '图片',\n          slot: 'image',\n          align: 'center',\n          minWidth: 120,\n        },\n        {\n          title: '名称',\n          align: 'center',\n          minWidth: 80,\n          key: 'name',\n        },\n        {\n          title: '奖品',\n          slot: 'type',\n          align: 'center',\n          minWidth: 80,\n        },\n        {\n          title: '提示语',\n          key: 'prompt',\n          align: 'center',\n          minWidth: 80,\n        },\n        {\n          title: '数量',\n          slot: 'total',\n          align: 'center',\n          minWidth: 80,\n        },\n        {\n          title: '奖品权重',\n          slot: 'chance',\n          align: 'center',\n          minWidth: 80,\n        },\n        {\n          title: '奖品概率',\n          key: 'probability',\n          align: 'center',\n          minWidth: 80,\n        },\n        {\n          title: '操作',\n          slot: 'setting',\n          align: 'center',\n          minWidth: 80,\n        },\n      ],\n      specsData: [\n        {\n          type: 1, //类型 1：未中奖 2：积分  3:余额  4：红包 5:优惠券 6：站内商品\n          name: '', //活动名称\n          num: 10, //奖品数量\n          image: '', //奖品图片\n          chance: 0, //中奖权重\n          total: 0, //奖品数量\n          prompt: '', //提示语\n        },\n        {\n          type: 1, //类型 1：未中奖2：积分  3:余额  4：红包 5:优惠券 6：站内商品\n          name: '', //活动名称\n          num: 0, //奖品数量\n          image: '', //奖品图片\n          chance: 0, //中奖权重\n          total: 0, //奖品数量\n          prompt: '', //提示语\n        },\n        {\n          type: 1, //类型 1：未中奖2：积分  3:余额  4：红包 5:优惠券 6：站内商品\n          name: '', //活动名称\n          num: 0, //奖品数量\n          image: '', //奖品图片\n          chance: 0, //中奖权重\n          total: 0, //奖品数量\n          prompt: '', //提示语\n        },\n        {\n          type: 1, //类型 1：未中奖2：积分  3:余额  4：红包 5:优惠券 6：站内商品\n          name: '', //活动名称\n          num: 0, //奖品数量\n          image: '', //奖品图片\n          chance: 0, //中奖权重\n          total: 0, //奖品数量\n          prompt: '', //提示语\n        },\n        {\n          type: 1, //类型 1：未中奖2：积分  3:余额  4：红包 5:优惠券 6：站内商品\n          name: '', //活动名称\n          num: 0, //奖品数量\n          image: '', //奖品图片\n          chance: 0, //中奖权重\n          total: 0, //奖品数量\n          prompt: '', //提示语\n        },\n        {\n          type: 1, //类型 1：未中奖2：积分  3:余额  4：红包 5:优惠券 6：站内商品\n          name: '', //活动名称\n          num: 0, //奖品数量\n          image: '', //奖品图片\n          chance: 0, //中奖权重\n          total: 0, //奖品数量\n          prompt: '', //提示语\n        },\n        {\n          type: 1, //类型 1：未中奖2：积分  3:余额  4：红包 5:优惠券 6：站内商品\n          name: '', //活动名称\n          num: 0, //奖品数量\n          image: '', //奖品图片\n          chance: 0, //中奖权重\n          total: 0, //奖品数量\n          prompt: '', //提示语\n        },\n        {\n          type: 1, //类型 1：未中奖2：积分  3:余额  4：红包 5:优惠券 6：站内商品\n          name: '', //活动名称\n          num: 0, //奖品数量\n          image: '', //奖品图片\n          chance: 0, //中奖权重\n          total: 0, //奖品数量\n          prompt: '', //提示语\n        },\n      ],\n      formValidate: {\n        images: [],\n        name: '', //活动名称\n        desc: '', //活动描述\n        image: '', //活动背景图\n        factor: '1', //抽奖类型：1:积分 2:余额 3：下单支付成功 4:订单评价',5:关注\n        factor_num: 1, //获取一次抽奖的条件数量\n        attends_user: 1, //参与用户1：所有  2：部分\n        user_level: [], //参与用户等级\n        user_label: [], //参与用户标签\n        is_svip: '-1', //参与用户是否付费会员\n        prize_num: 0, //奖品数量\n        period: [], //活动时间\n        prize: [], //奖品数组\n        lottery_num_term: 1, //抽奖次数限制：1：每天2：每人\n        lottery_num: 1, //抽奖次数\n        spread_num: 1, //关注推广获取抽奖次数\n        is_all_record: 0, //中奖纪录展示\n        is_personal_record: 0, //个人中奖纪录展示\n        is_content: 0, //活动规格是否展示\n        content: '', //富文本内容\n        status: 0, //状态\n      },\n      ruleValidate: lotteryFrom,\n      currentid: '',\n      picTit: '',\n      tableIndex: 0,\n      copy: 0,\n      editIndex: null,\n      id: '',\n      copy: 0,\n    };\n  },\n  filters: {\n    typeName(type) {\n      if (type == 1) {\n        return '未中奖';\n      } else if (type == 2) {\n        return '积分';\n      } else if (type == 3) {\n        return '余额';\n      } else if (type == 4) {\n        return '红包';\n      } else if (type == 5) {\n        return '优惠券';\n      } else if (type == 6) {\n        return '商品';\n      }\n    },\n  },\n  computed: {\n    ...mapState('admin/layout', ['isMobile']),\n    labelWidth() {\n      return this.isMobile ? undefined : 135;\n    },\n    labelPosition() {\n      return this.isMobile ? 'top' : 'right';\n    },\n  },\n  mounted() {\n    this.getInfo();\n    this.labelListApi();\n    this.levelListApi();\n  },\n  methods: {\n    changeUsers(e) {\n      if (e == 1) {\n        this.formValidate.user_level = []; //参与用户等级\n        this.formValidate.user_label = []; //参与用户标签\n        this.formValidate.is_svip = '-1'; //参与用户是否付费会员\n        this.selectDataLabel = []; //参与用户是否付费会员\n      }\n    },\n    // 标签弹窗关闭\n    labelClose() {\n      this.selectLabelShow = false;\n    },\n    activeSelectData(data) {\n      this.selectLabelShow = false;\n      this.selectDataLabel = data;\n    },\n    onClickTab(e) {\n      this.formValidate.factor = e;\n      this.getInfo(e);\n    },\n    getEditorContent(data) {\n      this.content = data;\n    },\n    //用户标签列表\n    labelListApi() {\n      labelListApi().then((res) => {\n        this.userLabelList = res.data.list;\n      });\n    },\n    //用户等级列表\n    levelListApi() {\n      levelListApi().then((res) => {\n        this.userLevelListApi = res.data.list;\n      });\n    },\n    // 具体日期\n    onchangeTime(e) {\n      this.$nextTick(() => {\n        this.$set(this.formValidate, 'period', e);\n      });\n    },\n    // 详情\n    getInfo(e) {\n      this.spinShow = true;\n      lotteryNewDetailApi(this.formValidate.factor)\n        .then((res) => {\n          if (res.status == 200 && !Array.isArray(res.data)) {\n            this.formValidate = res.data;\n            this.formValidate.user_level = res.data.user_level || [];\n            this.selectDataLabel = res.data.user_label || [];\n            this.formValidate.is_svip = res.data.is_svip;\n            this.content = res.data.is_content ? res.data.content : '';\n            this.formValidate.factor = res.data.factor.toString();\n            this.formValidate.period = [\n              this.formatDate(res.data.start_time) || '',\n              this.formatDate(res.data.end_time) || '',\n            ];\n\n            this.specsData = res.data.prize;\n            this.getProbability();\n          } else {\n            this.formValidate = {\n              images: [],\n              name: '', //活动名称\n              desc: '', //活动描述\n              image: '', //活动背景图\n              factor: e.toString(), //抽奖类型：1:积分 2:余额 3：下单支付成功 4:订单评价',5:关注\n              factor_num: 1, //获取一次抽奖的条件数量\n              attends_user: 1, //参与用户1：所有  2：部分\n              user_level: [], //参与用户等级\n              user_label: [], //参与用户标签\n              is_svip: '-1', //参与用户是否付费会员\n              prize_num: 0, //奖品数量\n              period: [], //活动时间\n              prize: [], //奖品数组\n              lottery_num_term: 1, //抽奖次数限制：1：每天2：每人\n              lottery_num: 1, //抽奖次数\n              spread_num: 1, //关注推广获取抽奖次数\n              is_all_record: 0, //中奖纪录展示\n              is_personal_record: 0, //个人中奖纪录展示\n              is_content: 0, //活动规格是否展示\n              content: '', //富文本内容\n              status: 0, //状态\n            };\n            this.specsData = [\n              {\n                type: 1, //类型 1：未中奖 2：积分  3:余额  4：红包 5:优惠券 6：站内商品\n                name: '', //活动名称\n                num: 10, //奖品数量\n                image: '', //奖品图片\n                chance: 0, //中奖权重\n                total: 0, //奖品数量\n                prompt: '', //提示语\n              },\n              {\n                type: 1, //类型 1：未中奖2：积分  3:余额  4：红包 5:优惠券 6：站内商品\n                name: '', //活动名称\n                num: 0, //奖品数量\n                image: '', //奖品图片\n                chance: 0, //中奖权重\n                total: 0, //奖品数量\n                prompt: '', //提示语\n              },\n              {\n                type: 1, //类型 1：未中奖2：积分  3:余额  4：红包 5:优惠券 6：站内商品\n                name: '', //活动名称\n                num: 0, //奖品数量\n                image: '', //奖品图片\n                chance: 0, //中奖权重\n                total: 0, //奖品数量\n                prompt: '', //提示语\n              },\n              {\n                type: 1, //类型 1：未中奖2：积分  3:余额  4：红包 5:优惠券 6：站内商品\n                name: '', //活动名称\n                num: 0, //奖品数量\n                image: '', //奖品图片\n                chance: 0, //中奖权重\n                total: 0, //奖品数量\n                prompt: '', //提示语\n              },\n              {\n                type: 1, //类型 1：未中奖2：积分  3:余额  4：红包 5:优惠券 6：站内商品\n                name: '', //活动名称\n                num: 0, //奖品数量\n                image: '', //奖品图片\n                chance: 0, //中奖权重\n                total: 0, //奖品数量\n                prompt: '', //提示语\n              },\n              {\n                type: 1, //类型 1：未中奖2：积分  3:余额  4：红包 5:优惠券 6：站内商品\n                name: '', //活动名称\n                num: 0, //奖品数量\n                image: '', //奖品图片\n                chance: 0, //中奖权重\n                total: 0, //奖品数量\n                prompt: '', //提示语\n              },\n              {\n                type: 1, //类型 1：未中奖2：积分  3:余额  4：红包 5:优惠券 6：站内商品\n                name: '', //活动名称\n                num: 0, //奖品数量\n                image: '', //奖品图片\n                chance: 0, //中奖权重\n                total: 0, //奖品数量\n                prompt: '', //提示语\n              },\n              {\n                type: 1, //类型 1：未中奖2：积分  3:余额  4：红包 5:优惠券 6：站内商品\n                name: '', //活动名称\n                num: 0, //奖品数量\n                image: '', //奖品图片\n                chance: 0, //中奖权重\n                total: 0, //奖品数量\n                prompt: '', //提示语\n              },\n            ];\n          }\n        })\n        .catch((err) => {});\n      this.spinShow = false;\n    },\n    // 下一步\n    next(name) {\n      this.formValidate.prize = this.specsData;\n      if (this.formValidate.is_content) {\n        this.formValidate.content = formatRichText(this.content);\n      }\n      if (this.formValidate.attends_user == 2) {\n        if (this.selectDataLabel.length) {\n          let activeIds = [];\n          this.selectDataLabel.forEach((item) => {\n            activeIds.push(item.id);\n          });\n          this.formValidate.user_label = activeIds;\n        }\n      }\n      if (this.submitOpen) return false;\n      this.$refs[name].validate((valid) => {\n        if (valid) {\n          this.submitOpen = true;\n          if (this.formValidate.id && !this.copy) {\n            lotteryEditApi(this.formValidate.id, this.formValidate)\n              .then(async (res) => {\n                this.$Message.success(res.msg);\n                this.submitOpen = false;\n                // setTimeout(() => {\n                //   this.submitOpen = false;\n                //   this.$router.push({\n                //     path: \"/admin/marketing/lottery/recording_list\",\n                //   });\n                // }, 500);\n              })\n              .catch((res) => {\n                this.submitOpen = false;\n                this.$Message.error(res.msg);\n              });\n          } else {\n            lotteryCreateApi(this.formValidate)\n              .then(async (res) => {\n                this.submitOpen = false;\n                this.$Message.success(res.msg);\n                // setTimeout(() => {\n                //   this.submitOpen = false;\n                //   this.$router.push({\n                //     path: \"/admin/marketing/lottery/recording_list\",\n                //   });\n                // }, 500);\n              })\n              .catch((res) => {\n                this.submitOpen = false;\n                this.$Message.error(res.msg);\n              });\n          }\n        } else {\n          return false;\n        }\n      });\n    },\n    // 上一步\n    step() {\n      this.current--;\n    },\n    // 点击商品图\n    modalPicTap(tit, picTit, index) {\n      this.modalPic = true;\n      this.isChoice = tit === 'dan' ? '单选' : '多选';\n      this.picTit = picTit || '';\n      this.tableIndex = index;\n    },\n    // 获取单张图片信息\n    getPic(pc) {\n      switch (this.picTit) {\n        case 'danFrom':\n          this.formValidate.image = pc.att_dir;\n          break;\n        default:\n          this.specsData[this.tableIndex].image = pc.att_dir;\n      }\n      this.modalPic = false;\n    },\n    handleRemove() {\n      this.formValidate.image = '';\n    },\n    // 表单验证\n    validate(prop, status, error) {\n      if (status === false) {\n        this.$Message.error(error);\n        return false;\n      } else {\n        return true;\n      }\n    },\n    //新增商品\n    addGoods() {\n      this.addGoodsModel = true;\n      this.title = '添加商品';\n      this.editData = {};\n    },\n    //编辑商品\n    editGoods(index) {\n      this.addGoodsModel = true;\n      this.title = '添加奖品';\n      this.editData = this.specsData[index];\n      this.editIndex = index;\n    },\n    //删除商品\n    deleteGoods(index) {\n      this.specsData.splice(index, 1);\n    },\n    //获取数组中某个字段之和\n    sumArr(arr, name) {\n      let arrData = [];\n      for (let i = 0; i < arr.length; i++) {\n        arrData.push(arr[i][name]);\n      }\n      return eval(arrData.join('+'));\n    },\n    addGoodsData(data) {\n      this.editIndex != null\n        ? this.$set(this.specsData, [this.editIndex], data)\n        : this.specsData.length < 8\n        ? this.specsData.push(data)\n        : this.$Message.warning('最多添加8个奖品');\n      this.getProbability();\n      this.addGoodsModel = false;\n      this.editIndex = null;\n    },\n    changeChance(data, index) {\n      this.$set(this.specsData[index], 'chance', data);\n      this.$nextTick((e) => {\n        this.getProbability();\n      });\n    },\n    changeTotal(data, index) {\n      this.$set(this.specsData[index], 'total', data);\n    },\n    //获取商品中奖概率\n    getProbability() {\n      let sum = 0;\n      sum = this.sumArr(this.specsData, 'chance');\n      for (let j = 0; j < this.specsData.length; j++) {\n        if (sum == 0) {\n          this.$set(this.specsData[j], 'probability', '0%');\n        } else {\n          this.$set(this.specsData[j], 'probability', ((this.specsData[j].chance / sum) * 100).toFixed(2) + '%');\n        }\n      }\n    },\n    //修改排序\n    onDragDrop(a, b) {\n      this.specsData.splice(b, 1, ...this.specsData.splice(a, 1, this.specsData[b]));\n    },\n    //时间格式转换\n    formatDate(time) {\n      if (time) {\n        let date = new Date(time * 1000);\n        return formatDate(date, 'yyyy-MM-dd hh:mm');\n      } else {\n        return '';\n      }\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"stylus\">\n.custom-label {\n  display: inline-flex;\n  line-height: 1.5;\n}\n\n.grey {\n  color: #999;\n}\n\n.maxW /deep/.ivu-select-dropdown {\n  max-width: 600px;\n}\n\n.ivu-table-wrapper {\n  border-left: 1px solid #dcdee2;\n  border-top: 1px solid #dcdee2;\n}\n\n.tabBox_img {\n  width: 50px;\n  height: 50px;\n}\n\n.tabBox_img img {\n  width: 100%;\n  height: 100%;\n}\n\n.priceBox {\n  width: 100%;\n}\n\n.form {\n  .picBox {\n    display: inline-block;\n    cursor: pointer;\n  }\n\n  .pictrue {\n    width: 58px;\n    height: 58px;\n    border: 1px dotted rgba(0, 0, 0, 0.1);\n    margin-right: 0px;\n    display: inline-block;\n    position: relative;\n    cursor: pointer;\n\n    img {\n      width: 100%;\n      height: 100%;\n    }\n\n    .btndel {\n      position: absolute;\n      z-index: 9;\n      width: 20px !important;\n      height: 20px !important;\n      left: 46px;\n      top: -4px;\n    }\n  }\n\n  .upLoad {\n    width: 58px;\n    height: 58px;\n    line-height: 58px;\n    border: 1px dotted rgba(0, 0, 0, 0.1);\n    border-radius: 4px;\n    background: rgba(0, 0, 0, 0.02);\n    cursor: pointer;\n  }\n}\n\n.labelInput {\n  border: 1px solid #dcdee2;\n  padding: 0 6px;\n  width: 30%;\n  border-radius: 5px;\n  min-height: 30px;\n  cursor: pointer;\n\n  .span {\n    color: #c5c8ce;\n  }\n\n  .ivu-icon-ios-arrow-down {\n    font-size: 14px;\n    color: #808695;\n  }\n}\n</style>\n"]}]}