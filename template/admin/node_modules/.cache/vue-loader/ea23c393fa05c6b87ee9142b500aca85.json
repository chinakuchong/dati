{"remainingRequest":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js??ref--0-2!/Volumes/mac/webwork/2023/dati/template/admin/src/pages/finance/commission/handle/commissionDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/mac/webwork/2023/dati/template/admin/src/pages/finance/commission/handle/commissionDetails.vue","mtime":1689324015204},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/mac/webwork/2023/dati/template/admin/node_modules/iview-loader/index.js","mtime":1570440814000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGNvbW1pc3Npb25EZXRhaWxBcGksIGV4dHJhY3RsaXN0QXBpIH0gZnJvbSAnQC9hcGkvZmluYW5jZSc7CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnY29tbWlzc2lvbkRldGFpbHMnLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtb2RhbHM6IGZhbHNlLAogICAgICBzcGluU2hvdzogZmFsc2UsCiAgICAgIGRldGFpbHNEYXRhOiB7fSwKICAgICAgSWRzOiAwLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgZm9ybVZhbGlkYXRlOiB7CiAgICAgICAgbmlja25hbWU6ICcnLAogICAgICAgIHN0YXJ0X3RpbWU6ICcnLAogICAgICAgIGVuZF90aW1lOiAnJywKICAgICAgICBwYWdlOiAxLCAvLyDlvZPliY3pobUKICAgICAgICBsaW1pdDogMjAsIC8vIOavj+mhteaYvuekuuadoeaVsAogICAgICB9LAogICAgICB0b3RhbDogMCwKICAgICAgY29sdW1uczogWwogICAgICAgIC8vIHsKICAgICAgICAvLyAgICAgdGl0bGU6J+aYteensCcsCiAgICAgICAgLy8gICAgIGtleTonbmlja25hbWUnCiAgICAgICAgLy8gfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ+S9o+mHkemHkeminScsCiAgICAgICAgICBrZXk6ICdudW1iZXInLAogICAgICAgICAgbWluV2lkdGg6IDgwLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICfojrflvpfml7bpl7QnLAogICAgICAgICAga2V5OiAnX2FkZF90aW1lJywKICAgICAgICAgIG1pbldpZHRoOiAxNTAsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogJ+Wkh+azqCcsCiAgICAgICAgICBrZXk6ICdtYXJrJywKICAgICAgICAgIG1pbldpZHRoOiAzMzAsCiAgICAgICAgfSwKICAgICAgXSwKICAgICAgdGFiTGlzdDogW10sCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcFN0YXRlKCdtZWRpYScsIFsnaXNNb2JpbGUnXSksCiAgICBsYWJlbFdpZHRoKCkgewogICAgICByZXR1cm4gdGhpcy5pc01vYmlsZSA/IHVuZGVmaW5lZCA6IDEwMDsKICAgIH0sCiAgICBsYWJlbFBvc2l0aW9uKCkgewogICAgICByZXR1cm4gdGhpcy5pc01vYmlsZSA/ICd0b3AnIDogJ2xlZnQnOwogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICBpZiAodGhpcy5JZHMpIHsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDml7bpl7QKICAgIG9uY2hhbmdlVGltZShlKSB7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLnN0YXJ0X3RpbWUgPSBlWzBdOwogICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5lbmRfdGltZSA9IGVbMV07CiAgICB9LAogICAgLy8g6K+m5oOFCiAgICBnZXREZXRhaWxzKGlkKSB7CiAgICAgIHRoaXMuSWRzID0gaWQ7CiAgICAgIHRoaXMuc3BpblNob3cgPSB0cnVlOwogICAgICBjb21taXNzaW9uRGV0YWlsQXBpKGlkKQogICAgICAgIC50aGVuKGFzeW5jIChyZXMpID0+IHsKICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgbGV0IGRhdGEgPSByZXMuZGF0YTsKICAgICAgICAgICAgdGhpcy5kZXRhaWxzRGF0YSA9IGRhdGEudXNlcl9pbmZvOwogICAgICAgICAgICB0aGlzLnNwaW5TaG93ID0gZmFsc2U7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLnNwaW5TaG93ID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKHJlcykgPT4gewogICAgICAgICAgdGhpcy5zcGluU2hvdyA9IGZhbHNlOwogICAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICB9KTsKICAgIH0sCiAgICAvLyDliJfooagKICAgIGdldExpc3QoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIGV4dHJhY3RsaXN0QXBpKHRoaXMuSWRzLCB0aGlzLmZvcm1WYWxpZGF0ZSkKICAgICAgICAudGhlbihhc3luYyAocmVzKSA9PiB7CiAgICAgICAgICBsZXQgZGF0YSA9IHJlcy5kYXRhOwogICAgICAgICAgdGhpcy50YWJMaXN0ID0gZGF0YS5kYXRhOwogICAgICAgICAgdGhpcy50b3RhbCA9IGRhdGEuY291bnQ7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgfSk7CiAgICB9LAogICAgcGFnZUNoYW5nZShpbmRleCkgewogICAgICB0aGlzLmZvcm1WYWxpZGF0ZS5wYWdlID0gaW5kZXg7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIC8vIOaQnOe0ogogICAgdXNlclNlYXJjaHMoKSB7CiAgICAgIHRoaXMuZm9ybVZhbGlkYXRlLnBhZ2UgPSAxOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["commissionDetails.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"commissionDetails.vue","sourceRoot":"src/pages/finance/commission/handle","sourcesContent":["<template>\n  <div style=\"width: 100%\">\n    <Modal v-model=\"modals\" scrollable footer-hide closable title=\"用户详情\" :mask-closable=\"false\" width=\"700\">\n      <Spin size=\"large\" fix v-if=\"spinShow\"></Spin>\n      <div class=\"\">\n        <div class=\"dashboard-workplace-header-tip\">\n          <div class=\"dashboard-workplace-header-tip-desc\">\n            <span class=\"dashboard-workplace-header-tip-desc-sp\">姓名：{{ detailsData.nickname }}</span>\n            <span class=\"dashboard-workplace-header-tip-desc-sp\"\n              >上级推广人：{{ detailsData.spread_name ? detailsData.spread_name : '无' }}</span\n            >\n            <span class=\"dashboard-workplace-header-tip-desc-sp\">佣金总收入：{{ detailsData.number }}</span>\n            <span class=\"dashboard-workplace-header-tip-desc-sp\">用户余额：{{ detailsData.now_money }}</span>\n            <span class=\"dashboard-workplace-header-tip-desc-sp\">创建时间：{{ detailsData.add_time }}</span>\n          </div>\n        </div>\n      </div>\n      <Divider dashed />\n      <Form ref=\"formValidate\" :label-width=\"75\" :label-position=\"labelPosition\" class=\"tabform\" @submit.native.prevent>\n        <Row :gutter=\"24\" type=\"flex\">\n          <!--                    <Col span=\"8\">-->\n          <!--                        <FormItem label=\"订单号/昵称：\">-->\n          <!--                            <Input enter-button placeholder=\"请输入\" element-id=\"name\" v-model=\"formValidate.nickname\"-->\n          <!--                                   clearable/>-->\n          <!--                        </FormItem>-->\n          <!--                    </Col>-->\n          <Col span=\"12\">\n            <FormItem label=\"时间范围：\" class=\"tab_data\">\n              <DatePicker\n                :editable=\"false\"\n                style=\"width: 100%\"\n                @on-change=\"onchangeTime\"\n                format=\"yyyy-MM-dd\"\n                type=\"daterange\"\n                placement=\"bottom-end\"\n                placeholder=\"请选择时间范围\"\n              ></DatePicker>\n            </FormItem>\n          </Col>\n          <Col span=\"4\">\n            <Button type=\"primary\" icon=\"ios-search\" @click=\"userSearchs\">搜索</Button>\n          </Col>\n        </Row>\n      </Form>\n      <Table\n        :columns=\"columns\"\n        :data=\"tabList\"\n        ref=\"table\"\n        :loading=\"loading\"\n        no-userFrom-text=\"暂无数据\"\n        no-filtered-userFrom-text=\"暂无筛选结果\"\n        class=\"table\"\n      ></Table>\n      <div class=\"acea-row row-right page\">\n        <Page\n          :total=\"total\"\n          :current=\"formValidate.page\"\n          show-elevator\n          show-total\n          @on-change=\"pageChange\"\n          :page-size=\"formValidate.limit\"\n        />\n      </div>\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport { commissionDetailApi, extractlistApi } from '@/api/finance';\nimport { mapState } from 'vuex';\nexport default {\n  name: 'commissionDetails',\n  data() {\n    return {\n      modals: false,\n      spinShow: false,\n      detailsData: {},\n      Ids: 0,\n      loading: false,\n      formValidate: {\n        nickname: '',\n        start_time: '',\n        end_time: '',\n        page: 1, // 当前页\n        limit: 20, // 每页显示条数\n      },\n      total: 0,\n      columns: [\n        // {\n        //     title:'昵称',\n        //     key:'nickname'\n        // },\n        {\n          title: '佣金金额',\n          key: 'number',\n          minWidth: 80,\n        },\n        {\n          title: '获得时间',\n          key: '_add_time',\n          minWidth: 150,\n        },\n        {\n          title: '备注',\n          key: 'mark',\n          minWidth: 330,\n        },\n      ],\n      tabList: [],\n    };\n  },\n  computed: {\n    ...mapState('media', ['isMobile']),\n    labelWidth() {\n      return this.isMobile ? undefined : 100;\n    },\n    labelPosition() {\n      return this.isMobile ? 'top' : 'left';\n    },\n  },\n  mounted() {\n    if (this.Ids) {\n      this.getList();\n    }\n  },\n  methods: {\n    // 时间\n    onchangeTime(e) {\n      this.formValidate.start_time = e[0];\n      this.formValidate.end_time = e[1];\n    },\n    // 详情\n    getDetails(id) {\n      this.Ids = id;\n      this.spinShow = true;\n      commissionDetailApi(id)\n        .then(async (res) => {\n          if (res.status === 200) {\n            let data = res.data;\n            this.detailsData = data.user_info;\n            this.spinShow = false;\n          } else {\n            this.spinShow = false;\n            this.$Message.error(res.msg);\n          }\n        })\n        .catch((res) => {\n          this.spinShow = false;\n          this.$Message.error(res.msg);\n        });\n    },\n    // 列表\n    getList() {\n      this.loading = true;\n      extractlistApi(this.Ids, this.formValidate)\n        .then(async (res) => {\n          let data = res.data;\n          this.tabList = data.data;\n          this.total = data.count;\n          this.loading = false;\n        })\n        .catch((res) => {\n          this.loading = false;\n          this.$Message.error(res.msg);\n        });\n    },\n    pageChange(index) {\n      this.formValidate.page = index;\n      this.getList();\n    },\n    // 搜索\n    userSearchs() {\n      this.formValidate.page = 1;\n      this.getList();\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n.table {\n  .ivu-table-default {\n    overflow-y: auto;\n    max-height: 350px;\n  }\n}\n.dashboard-workplace {\n  &-header {\n    &-avatar {\n      width: 64px;\n      height: 64px;\n      border-radius: 50%;\n      margin-right: 16px;\n      font-weight: 600;\n    }\n\n    &-tip {\n      width: 100%;\n      display: inline-block;\n      vertical-align: middle;\n\n      &-title {\n        font-size: 13px;\n        color: #000000;\n        margin-bottom: 12px;\n      }\n\n      &-desc {\n        &-sp {\n          width: 33.33%;\n          color: #17233d;\n          font-size: 12px;\n          display: inline-block;\n          padding-bottom: 10px;\n        }\n      }\n    }\n\n    &-extra {\n      .ivu-col {\n        p {\n          text-align: right;\n        }\n\n        p:first-child {\n          span:first-child {\n            margin-right: 4px;\n          }\n\n          span:last-child {\n            color: #808695;\n          }\n        }\n\n        p:last-child {\n          font-size: 22px;\n        }\n      }\n    }\n  }\n}\n</style>\n"]}]}